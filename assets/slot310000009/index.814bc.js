System.register("chunks:///_virtual/AudioHelper4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts"],(function(t){var u,e,i,s,n;return{setters:[function(t){u=t.createClass},function(t){e=t.cclegacy,i=t.Tween,s=t.tween},function(t){n=t.SubGameData}],execute:function(){e._RF.push({},"10f2dYhsitMkKHsmcSrfMbp","AudioHelper",void 0);var o=function(t){return t[t.PLAYING=0]="PLAYING",t[t.FADING_OUT=1]="FADING_OUT",t[t.FADING_IN=2]="FADING_IN",t}(o||{});t("AudioHelper",function(){function t(){this._audioImpl=null,this._state=o.PLAYING,this._currentBackgroundMusic=null,this._currentMusicVolume=1,this._musicVolumeLoweringRequestsMap=new Map}var e=t.prototype;return e.playBackgroundMusic=function(t,u){var e=this;if(void 0===u&&(u=1),t===this._currentBackgroundMusic){if(this._state===o.PLAYING)return;this._state===o.FADING_OUT&&(this._state=o.FADING_IN)}else this._state===o.FADING_IN&&(this._state=o.FADING_OUT);i.stopAllByTarget(this);var l=s(this),c=u;if(this._state===o.FADING_IN)c=u*(1-this.musicVolume);else{var a=u;this._state===o.FADING_OUT&&(a=u*this.musicVolume),l.to(this._currentBackgroundMusic?a:0,{musicVolume:0},{onStart:function(){return e._state=o.FADING_OUT}})}l.to(t?c:0,{musicVolume:1},{onStart:function(){var u;if(e._state=o.FADING_IN,t){if(t!==e._currentBackgroundMusic){var i;null==(i=e._audioImpl)||i.playMusic(t,n.module,!0)}}else null==(u=e._audioImpl)||u.stopMusic();e._currentBackgroundMusic=t},onComplete:function(){return e._state=o.PLAYING}}).start()},e.playSoundEffect=function(t,u){var e;void 0===u&&(u=!1),null==(e=this._audioImpl)||e.playEffect(t,n.module,u)},e.playOneShotSoundEffect=function(t){var u;null==(u=this._audioImpl)||u.playEffectOneShot(t,n.module)},e.stopEffect=function(t){var u;null==(u=this._audioImpl)||u.stopEffect(t,n.module)},e.stopAllEffects=function(){var t;null==(t=this._audioImpl)||t.stopAllEffects()},e.clearMusicVolumeLoweringRequests=function(){this._musicVolumeLoweringRequestsMap.clear(),this._updateMusicVolume()},e.requestLoweringMusicVolume=function(t,u){this._musicVolumeLoweringRequestsMap.set(u,t),this._updateMusicVolume()},e.revokeLoweringMusicVolume=function(t){this._musicVolumeLoweringRequestsMap.delete(t)&&this._updateMusicVolume()},e._updateMusicVolume=function(){var t=this._currentMusicVolume;this._musicVolumeLoweringRequestsMap.forEach((function(u){return t=Math.min(t,u)})),this._audioImpl&&(this._audioImpl.musicVolume=t)},u(t,[{key:"audioImpl",set:function(t){this._audioImpl=t}},{key:"musicVolume",get:function(){var t,u;return null!=(t=null==(u=this._audioImpl)?void 0:u.musicVolume)?t:1},set:function(t){t!==this._currentMusicVolume&&(this._currentMusicVolume=t,this._updateMusicVolume())}},{key:"effectVolume",get:function(){var t,u;return null!=(t=null==(u=this._audioImpl)?void 0:u.effectVolume)?t:1},set:function(t){this._audioImpl&&(this._audioImpl.effectVolume=t)}},{key:"isEffectOn",get:function(){var t,u;return null==(t=null==(u=this._audioImpl)?void 0:u.isEffectOn)||t},set:function(t){this._audioImpl&&(this._audioImpl.isEffectOn=t)}},{key:"isMusicOn",get:function(){var t,u;return null==(t=null==(u=this._audioImpl)?void 0:u.isMusicOn)||t},set:function(t){this._audioImpl&&(this._audioImpl.isMusicOn=t)}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/AutoFittableBackground4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts"],(function(t){var n,e,o,i,a,s,u,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Node,a=t.sys,s=t.UITransform,u=t.Component},function(t){r=t.SubGameData}],execute:function(){var c;e._RF.push({},"9e4faSMpU9Li5QmA/egC2Ee","AutoFittableBackground",void 0);var h=o.ccclass,l=o.menu;o.property,t("AutoFittableBackground",h("AutoFittableBackground")(c=l(r.module+"/components/AutoFittableBackground")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onLoad=function(){this.node.on(i.EventType.SIZE_CHANGED,this._onSizeChange,this),this.node.active=!a.isMobile},o.onDestroy=function(){this.isValid&&this.node.off(i.EventType.SIZE_CHANGED,this._onSizeChange,this)},o.onEnable=function(){this._onSizeChange()},o._onSizeChange=function(){var t,n=null==(t=this.node.getComponent(s))?void 0:t.contentSize;if(n){var e=2560/n.width;this.node.setScale(e,e,1)}},e}(u))||c)||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts","./AudioHelper4.ts"],(function(n){var t,o,e,u,a,i,s,c;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator},function(n){u=n.default},function(n){a=n.SubGameData},function(n){i=n.common},function(n){s=n.DisplayTaskManager},function(n){c=n.AudioHelper}],execute:function(){var r;o._RF.push({},"d444a+b4+9NS7RCYbKPLNH2","BackgroundLayer",void 0);var l=e.ccclass,p=e.menu;e.property,n("BackgroundLayer",l("BackgroundLayer")(r=p(a.module+"/layers/BackgroundLayer")(r=function(n){function o(){for(var t,o=arguments.length,e=new Array(o),u=0;u<o;u++)e[u]=arguments[u];return(t=n.call.apply(n,[this].concat(e))||this)._timeoutID=null,t}t(o,n);var e=o.prototype;return e.onLoad=function(){n.prototype.onLoad.call(this),s.addHandler(this)},e.onTaskInit=function(n,t){c.instance.clearMusicVolumeLoweringRequests()},e.onTaskRestore=function(n,t){c.instance.clearMusicVolumeLoweringRequests(),t.gameMode===i.EGameMode.BONUS&&c.instance.playBackgroundMusic(a.AUDIO_URLS.BGM_BONUS_GAME)},e.onTaskSpinStart=function(n,t){t.spinType!==i.ESpinType.FREE&&(this._stopCountdown(),c.instance.playBackgroundMusic(a.AUDIO_URLS.BGM_NORMAL_GAME))},e.onTaskSpinEnd=function(n,t){this._startCountdown((function(){return c.instance.playBackgroundMusic(null)}),5)},e.onTaskTransition=function(n,t){"exitBonusGame"===t.type?c.instance.playBackgroundMusic(a.AUDIO_URLS.BGM_NORMAL_GAME):c.instance.playBackgroundMusic(a.AUDIO_URLS.BGM_BONUS_GAME)},e.onTaskShowTotalBonus=function(n,t){c.instance.playBackgroundMusic(null)},e._startCountdown=function(n,t){this._stopCountdown(),this._timeoutID=setTimeout(n,1e3*t)},e._stopCountdown=function(){null!==this._timeoutID&&void 0!==this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},o}(u))||r)||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceLoader.ts","./GameView.ts","./Global.ts","./CommonEvent.ts","./GameService.ts","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts","./AudioHelper4.ts","./LoadingHelper4.ts","./GameSender23.ts","./Protocol24.ts"],(function(e){var t,a,s,n,o,l,i,c,r,d,y,m,h,u,p,b,S,f,_,I;return{setters:[function(e){t=e.inheritsLoose,a=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose,n=e.createClass},function(e){o=e.cclegacy,l=e._decorator,i=e.AudioClip,c=e.math},function(e){r=e.default},function(e){d=e.default},function(e){y=e.Global},function(e){m=e.CommonEvent},function(e){h=e.GameService},function(e){u=e.SubGameData},function(e){p=e.common},function(e){b=e.DisplayTaskManager},function(e){S=e.AudioHelper},function(e){f=e.LoadingHelper},function(e){_=e.GameSender},function(e){I=e.Protocol}],execute:function(){var g;o._RF.push({},"6a0b8yCYN5O1JPjf60eZVmV","BaseView",void 0);var T=l.ccclass,v=l.menu;l.property,e("BaseView",T("BaseView")(g=v(u.module+"/views/BaseView")(g=function(e){function o(){for(var t,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this)._spinResultsCacheList=[],t._spinResultHandler=null,t._cachedSymbolsInfo={unstickyList:[],stickyMap:new Map,revealedFlagsMap:new Map},t._cachedBalances=[],t}t(o,e),o.getPrefabUrl=function(){return"prefabs/views/BaseView"};var l=o.prototype;return l.onLoad=function(){var t;null==(t=e.prototype.onLoad)||t.call(this),this._loadResources(),u.spinRequestor=this},l.onDestroy=function(){this.isValid&&(this.offD(m.GAME_SERVICE_CLOSE),this.offD(m.DISPATCH_PLAYBACK),this._offS(I.BET_SPIN),this._offS(I.FREE_SPIN),this._offS(I.USERINFO),this._offS(I.CHANGE_BET),this._offS(I.LAST_MAP)),f.instance.hide(),e.prototype.onDestroy.call(this)},l.start=function(){dispatch(m.NOTIFY_ENTER_GAME),S.instance.audioImpl=this.audioHelper,y.playback?this._handlePlayBackData(!0):this._handleInitialData(!1)},l.addEvents=function(){e.prototype.addEvents.call(this),this.onD(m.GAME_SERVICE_CLOSE,this._onConnectionClose),this.onD(m.DISPATCH_PLAYBACK,this._onPlayBack),this._onS(I.BET_SPIN,this._onBetSpinRespond),this._onS(I.FREE_SPIN,this._onFreeSpinRespond),this._onS(I.USERINFO,this._onUserInfoRespond),this._onS(I.CHANGE_BET,this._onChangeBetRespond),this._onS(I.LAST_MAP,this._onLastMapRespond)},l.lateUpdate=function(e){b.runNextTask()},l.request=function(e,t){switch(y.playback||f.instance.show(2),e){case p.ESpinRequestType.GM_SPIN:b.addTask("spinStart",{spinType:p.ESpinType.BET}),this._cachedBalances.length=0,this._gameSender.c2sGMBet({bet:u.totalBet,gm_type:t});break;case p.ESpinRequestType.BUY_BONUS_GAME:b.addTask("spinStart",{spinType:p.ESpinType.BOUGHT}),this._cachedBalances.length=0,this._gameSender.c2sBuyBonusGame({bet:u.totalBet,type:t});break;case p.ESpinRequestType.FREE_SPIN:this._gameSender.c2sFreeSpin({times:1});break;default:b.addTask("spinStart",{spinType:p.ESpinType.BET}),this._cachedBalances.length=0,this._gameSender.c2sBetSpin({bet:u.totalBet})}},l._onS=function(e,t,a,s){void 0===s&&(s=!0),this._gameService.addListener(e,a,t,s,this)},l._offS=function(e){this._gameService.removeListeners(this,e)},l._loadResources=function(){var e=new r;e.getLoadResources=function(){var e=[];for(var t in u.AUDIO_URLS)t.startsWith("BGM_")||"SE_ENTER"===t||e.push({url:u.AUDIO_URLS[t],type:i,bundle:u.module});return e},e.loadResources()},l._onBetSpinRespond=function(e){f.instance.hide(),e&&e.message&&(this._spinResultsCacheList.push(e.message),this._spinResultHandler||this._handleNextData())},l._onFreeSpinRespond=function(e){f.instance.hide(),e&&e.message&&this._handleNextData()},l._onUserInfoRespond=function(e){this._cachedBalances.push(e.message.money)},l._onChangeBetRespond=function(e){e&&e.message&&(this._cacheStickySymbols(e.message.map),b.runTask("changeBet",{symbolList:this._mergeSymbolsInfoIntoList(this._cachedSymbolsInfo)}))},l._onLastMapRespond=function(e){f.instance.hide(),e&&e.message&&(u.lastMap=e.message,this._handleInitialData(!0))},l._handleInitialData=function(e){var t,a=u.lastMap;if(u.totalBet=null!=(t=null==a?void 0:a.bet)?t:0,this._cachedSymbolsInfo.unstickyList.length=0,this._cachedSymbolsInfo.stickyMap.clear(),this._cachedSymbolsInfo.revealedFlagsMap.clear(),!a)return b.clearTasks(),b.runTask("init",{entrance:!e,symbolsList:u.INITIAL_SYMBOLS_LIST}),void(e&&b.addTask("spinEnd",null));var s=a.free.length>0?p.EGameMode.BONUS:p.EGameMode.NORMAL,n=this._symbolsDataToList(a.base,this._cachedSymbolsInfo.revealedFlagsMap),o=u.INITIAL_SYMBOLS_LIST;s===p.EGameMode.NORMAL?(this._cacheStickySymbols(a.map),this._cachedSymbolsInfo.stickyMap.size>0?(this._cacheSymbols(n,!1,!0),this._cachedSymbolsInfo.unstickyList.forEach((function(e){return e.multiple=1})),this._cachedSymbolsInfo.stickyMap.forEach((function(e){return e.multiple=1})),o=this._mergeSymbolsInfoIntoList(this._cachedSymbolsInfo)):this._cacheSymbols(u.INITIAL_SYMBOLS_LIST,!1,!0)):(this._cacheSymbols(n,!0,!1),this._cachedSymbolsInfo.unstickyList.some((function(e){return u.getSymbolType(e.symbolID)===p.ESymbolType.BOOST}))&&this._revealCachedSymbols(),o=this._mergeSymbolsInfoIntoList(this._cachedSymbolsInfo));b.clearTasks(),b.runTask("restore",{entrance:!e&&s===p.EGameMode.NORMAL,balance:u.balance,totalBet:u.totalBet,symbolsList:o,gameMode:s,collectionPercent:a.progress,freeTimesRemaining:a.free_remain_times}),this._spinResultHandler=this._generateInitialDataHandler(a),this._handleNextData()},l._handlePlayBackData=function(e){var t;u.balance=y.playbackAllData.startScore*y.SCORE_EXCHANGE,u.totalBet=y.playbackData.bet*(null!=(t=y.playbackData.line_num)?t:1);var a=y.playbackData.pack;b.clearTasks(),b.runTask("restore",{entrance:!1,balance:u.balance,totalBet:u.totalBet,symbolsList:u.INITIAL_SYMBOLS_LIST,gameMode:p.EGameMode.NORMAL,collectionPercent:a.progress,freeTimesRemaining:0}),dispatch(m.NOTIFY_USERINFO_SCORE,u.balance),dispatch(m.NOTIFY_PLAYBACK),u.balance-=y.playbackAllData.bet*y.SCORE_EXCHANGE;var s={base:a.base,free:a.free,add:a.add,type:a.type,progress:a.progress};this._onBetSpinRespond({message:s,type:I.BET_SPIN})},l._handleNextData=function(){if(!this._spinResultHandler||this._spinResultHandler.next().done){this._spinResultHandler=null;var e=this._spinResultsCacheList.shift();null!=e&&(this._spinResultHandler=this._generateSpinResultHandler(e),this._spinResultHandler.next())}},l._generateInitialDataHandler=a().mark((function e(t){var n,o,l,i,c,r,d,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.free.length>0)){e.next=22;break}n=t.free[t.free.length-1],o=n.map.reduce((function(e,t){return e+t.num*t.mul*1e-6}),0),l=s(t.free);case 4:if((i=l()).done){e.next=13;break}if(c=i.value,b.addTask("spinStart",{spinType:p.ESpinType.FREE}),y.playback){e.next=10;break}return void(e.next=10);case 10:this._handleFreePageData(c);case 11:e.next=4;break;case 13:r=0,this._isGrandJackpotWon(this._cachedSymbolsInfo)&&(d=u.JACKPOT_BONUS_RATES_HASH[p.EJackpotType.GRAND],o+=d,r+=d,b.addTask("winGrandJackpot",{score:d*u.totalBet*d})),this._handleRevealing(),this._handlePaying(r),m=o*u.totalBet,b.addTask("showTotalBonus",{totalScore:m}),b.addTask("bigWin",{totalScore:m}),b.addTask("transition",{type:"exitBonusGame",balance:u.balance}),this._handleCachedSymbolsAfterBonusGame();case 22:b.addTask("spinEnd",null),this._spinResultHandler=null;case 24:case"end":return e.stop()}}),e,this)})),l._generateSpinResultHandler=a().mark((function e(t){var n,o,l,i,r,d,m,h,S,f,_,I,g,T,v,E,k,D,R,B,L,M,N;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._cachedSymbolsInfo.revealedFlagsMap.clear(),o=this._symbolsDataToList(t.base,this._cachedSymbolsInfo.revealedFlagsMap),l=this._getMultiplierTriggeredColumnsList(o),i=null!=(n=this._cachedBalances[0])?n:u.balance,r=o,d=[],l.length>0&&b.addTask("addMultipliers",{symbolsList:o,triggeredColumnsList:l}),3===t.type){for(m=[],h=3;h<6;++h)_=null!=(S=this._cachedSymbolsInfo.stickyMap.get(h))?S:this._cachedSymbolsInfo.unstickyList[h],I=o[h],u.getSymbolType(I.symbolID)===p.ESymbolType.NONE||u.isStickySymbolID(null!=(f=null==_?void 0:_.symbolID)?f:0)||m.push(h);if(m.length>0&&(g=c.randomRangeInt(0,100))>=10){for(r=o.map((function(e){return{symbolID:e.symbolID,revealedSymbolID:e.revealedSymbolID,bonusRate:e.bonusRate,multiple:e.multiple}})),T=1,m.length>=3?g>=70?T=3:g>=40&&(T=2):m.length>=2&&g>=55&&(T=2),v=0;v<T;v++)E=c.randomRangeInt(0,m.length),k=m[E],D=r[k],m.splice(E,1),d.push(k),D.symbolID=0,D.revealedSymbolID=void 0,D.bonusRate=0;d.sort((function(e,t){return e-t}))}}if(b.addTask("spinStop",{spinType:p.ESpinType.BET,symbolsList:r,balance:i,accumulation:0,highlightIndex:2===t.type||3===t.type?void 0:this._getHighlightReelIndex(p.EGameMode.NORMAL,o),collectionPercent:3===t.type?void 0:t.progress}),b.addTask("spinComplete",null),b.addTask("roundEnd",{spinType:p.ESpinType.FREE}),this._cacheSymbols(o,!0,!1),!(t.free.length>0)){e.next=36;break}2!==t.type&&3!==t.type||b.addTask("triggerUltraBonusGame",{bought:2===t.type,shouldAddSymbols:d.length>0}),d.forEach((function(e){b.addTask("addSymbol",{reelIndex:e}),b.addTask("showSymbol",{reelIndex:e,symbol:o[e]})})),b.addTask("triggerbonusGame",null),b.addTask("transition",{type:"enterBonusGame",balance:u.balance}),this._handleBoostCollecting(o)&&this._revealCachedSymbols(),R=s(t.free);case 19:if((B=R()).done){e.next=28;break}if(L=B.value,b.addTask("spinStart",{spinType:p.ESpinType.FREE}),y.playback){e.next=25;break}return void(e.next=25);case 25:this._handleFreePageData(L);case 26:e.next=19;break;case 28:M=0,this._isGrandJackpotWon(this._cachedSymbolsInfo)&&(N=u.JACKPOT_BONUS_RATES_HASH[p.EJackpotType.GRAND],M+=N,b.addTask("winGrandJackpot",{score:u.totalBet*N})),this._handleRevealing(),this._handlePaying(M),b.addTask("showTotalBonus",{totalScore:t.add}),b.addTask("bigWin",{totalScore:t.add}),b.addTask("transition",{type:"exitBonusGame",balance:u.balance}),this._handleCachedSymbolsAfterBonusGame();case 36:b.addTask("spinEnd",null),this._spinResultHandler=null;case 38:case"end":return e.stop()}}),e,this)})),l._handleFreePageData=function(e){var t=this._symbolsDataToList(e.map,this._cachedSymbolsInfo.revealedFlagsMap),a=this._getMultiplierTriggeredColumnsList(t);a.length>0&&b.addTask("addMultipliers",{symbolsList:t,triggeredColumnsList:a}),b.addTask("spinStop",{spinType:p.ESpinType.FREE,symbolsList:t,balance:0,accumulation:0,highlightIndex:this._getHighlightReelIndex(p.EGameMode.BONUS,t)}),b.addTask("spinComplete",null);var s=this._mergeSymbolsInfoIntoList(this._cachedSymbolsInfo);this._cacheSymbols(t,!0,!1),this._handleBoostCollecting(t,s)&&this._revealCachedSymbols(),b.addTask("roundEnd",{spinType:p.ESpinType.FREE})},l._handleBoostCollecting=function(e,t){for(var a=new Set,s=[],n=new Map,o=0;o<e.length;++o){var l=e[o];if(u.getSymbolType(l.symbolID)===p.ESymbolType.BOOST){var i,c=null==t||null==(i=t[o])?void 0:i.symbolID;if(l.symbolID!==c){a.add(o);break}}}return!(a.size<=0)&&(e.forEach((function(e,n){var o,l=null!=(o=e.revealedSymbolID)?o:e.symbolID,i=u.getSymbolType(e.symbolID),c=u.getSymbolType(l);if(i!==p.ESymbolType.NONE)if(i===p.ESymbolType.BOOST){var r,d=null==t||null==(r=t[n])?void 0:r.symbolID;e.symbolID!==d&&a.add(n)}else s.push({index:n,collectable:c===p.ESymbolType.BONUS||c===p.ESymbolType.JACKPOT}),c===p.ESymbolType.BOOST&&a.add(n)})),s.length>0&&a.forEach((function(t){b.addTask("activateBoost",{reelIndex:t});var a=0;s.forEach((function(s){var o;if(n.has(s.index)||(n.set(s.index,!0),b.addTask("revealMystery",{reelIndex:s.index})),s.collectable){b.addTask("computeBoostBonus",{reelIndex:s.index});var l=e[s.index],i=u.getJackpotTypeOfSymbol(null!=(o=l.revealedSymbolID)?o:l.symbolID);b.addTask("collectBoostBonus",{fromReelIndex:s.index,toReelIndex:t,jackpotType:i}),a+=l.bonusRate*l.multiple,b.addTask("increaseBoostBonus",{reelIndex:t,bonusRate:a})}})),b.addTask("boostCollectComplete",null)})),!0)},l._handleRevealing=function(){var e=!1;if(this._cachedSymbolsInfo.unstickyList.forEach((function(t,a){null!==t.revealedSymbolID&&void 0!==t.revealedSymbolID&&u.getSymbolType(t.symbolID)===p.ESymbolType.MYSTERY&&(e=!0,b.addTask("revealMystery",{reelIndex:a}))})),e){var t=this._mergeSymbolsInfoIntoList(this._cachedSymbolsInfo);this._revealCachedSymbols();var a=this._mergeSymbolsInfoIntoList(this._cachedSymbolsInfo);this._handleBoostCollecting(a,t)}},l._handlePaying=function(e){var t=this._mergeSymbolsInfoIntoList(this._cachedSymbolsInfo),a=e;t.forEach((function(e,t){var s=u.getSymbolType(e.symbolID);if(s===p.ESymbolType.BONUS||s===p.ESymbolType.JACKPOT||s===p.ESymbolType.BOOST){var n;a+=e.bonusRate*e.multiple,b.addTask("computeWinningBonus",{reelIndex:t});var o=u.getJackpotTypeOfSymbol(null!=(n=e.revealedSymbolID)?n:e.symbolID);b.addTask("collectWinningBonus",{fromReelIndex:t,jackpotType:o}),b.addTask("increaseWinningBonus",{bonus:a*u.totalBet})}}))},l._mergeSymbolsInfoIntoList=function(e){for(var t=[],a=0;a<u.SYMBOLS_NUMBER;++a){var s,n,o=null!=(s=null!=(n=this._cachedSymbolsInfo.stickyMap.get(a))?n:this._cachedSymbolsInfo.unstickyList[a])?s:{symbolID:0,bonusRate:0,multiple:1};t[a]={symbolID:o.symbolID,revealedSymbolID:o.revealedSymbolID,bonusRate:o.bonusRate,multiple:o.multiple}}return t},l._cacheSymbols=function(e,t,a){var s=this;this._cachedSymbolsInfo.unstickyList.length=0,t&&this._cachedSymbolsInfo.stickyMap.clear(),e.forEach((function(e,n){u.isStickySymbolID(e.symbolID)?a?s._cachedSymbolsInfo.unstickyList.push({symbolID:u.changeIntoUnstickySymbolID(e.symbolID),bonusRate:e.bonusRate,multiple:e.multiple}):(t&&s._cachedSymbolsInfo.stickyMap.set(n,{symbolID:e.symbolID,revealedSymbolID:e.revealedSymbolID,bonusRate:e.bonusRate,multiple:e.multiple}),s._cachedSymbolsInfo.unstickyList.push({symbolID:0,bonusRate:0,multiple:e.multiple})):s._cachedSymbolsInfo.unstickyList.push({symbolID:e.symbolID,revealedSymbolID:e.revealedSymbolID,bonusRate:e.bonusRate,multiple:e.multiple})}))},l._cacheStickySymbols=function(e){var t=this;this._cachedSymbolsInfo.stickyMap.clear(),u.SORTED_SERVER_INDEXES_LIST.forEach((function(a,s){var n=e[a];if(n&&u.isStickySymbolID(n.before)){var o=u.transformSymbolDataFromServer(n);t._cachedSymbolsInfo.stickyMap.set(s,o)}}))},l._revealCachedSymbols=function(){var e=this;this._cachedSymbolsInfo.unstickyList.forEach((function(t,a){u.getSymbolType(t.symbolID)===p.ESymbolType.MYSTERY&&null!==t.revealedSymbolID&&void 0!==t.revealedSymbolID&&(t.symbolID=t.revealedSymbolID,t.revealedSymbolID=void 0,u.isStickySymbolID(t.symbolID)&&(e._cachedSymbolsInfo.stickyMap.set(a,{symbolID:t.symbolID,bonusRate:t.bonusRate,multiple:t.multiple}),t.symbolID=0,t.bonusRate=0),e._cachedSymbolsInfo.revealedFlagsMap.set(a,!0))}))},l._handleCachedSymbolsAfterBonusGame=function(){for(var e=0;e<u.SYMBOLS_NUMBER;++e){var t=this._cachedSymbolsInfo.unstickyList[e],a=this._cachedSymbolsInfo.stickyMap.get(e);a?t?(t.symbolID=u.changeIntoUnstickySymbolID(a.symbolID),t.bonusRate=a.bonusRate,t.multiple=1):this._cachedSymbolsInfo.unstickyList[e]={symbolID:u.changeIntoUnstickySymbolID(a.symbolID),bonusRate:a.bonusRate,multiple:1}:t&&(t.multiple=1)}this._cachedSymbolsInfo.stickyMap.clear(),this._cachedSymbolsInfo.revealedFlagsMap.clear()},l._symbolsDataToList=function(e,t){var a=[];return u.SORTED_SERVER_INDEXES_LIST.forEach((function(s,n){var o=e[s];if(o){var l,i=u.transformSymbolDataFromServer(o);if(a.push(i),null!=t&&t.has(n))i.symbolID=null!=(l=i.revealedSymbolID)?l:i.symbolID,i.revealedSymbolID=void 0}else a.push({symbolID:0,bonusRate:0,multiple:1})})),a},l._getMultiplierTriggeredColumnsList=function(e){var t=this,a=new Set;e.forEach((function(e,s){var n,o,l=null!=(n=t._cachedSymbolsInfo.stickyMap.get(s))?n:t._cachedSymbolsInfo.unstickyList[s],i=null!=(o=null==l?void 0:l.multiple)?o:1;if(e.multiple>=2&&e.multiple>i){var c=Math.floor(s%3);a.add(c)}}));var s=Array.from(a);return s.sort((function(e,t){return e-t})),s},l._isGrandJackpotWon=function(e){for(var t=0,a=0;a<u.SYMBOLS_NUMBER;++a){var s,n=null!=(s=e.stickyMap.get(a))?s:e.unstickyList[a];n&&u.getSymbolType(n.symbolID)!==p.ESymbolType.NONE&&++t}return t>=u.SYMBOLS_NUMBER},l._getHighlightReelIndex=function(e,t){var a=this;if(0===c.randomRangeInt(0,10)){var s=void 0,n=void 0,o=0,l=0,i=0,r=void 0;e===p.EGameMode.NORMAL?(l=3,i=6,r=function(e){return!u.isStickySymbolID(e)}):(l=0,i=u.SYMBOLS_NUMBER,r=function(e){return u.getSymbolType(e)===p.ESymbolType.NONE}),t.slice(l,i).forEach((function(e,t){var s,i,c=t+l,d=null!=(s=a._cachedSymbolsInfo.stickyMap.get(c))?s:a._cachedSymbolsInfo.unstickyList[c],y=null!=(i=null==d?void 0:d.symbolID)?i:0;r(y)&&(n=c),u.getSymbolType(e.symbolID)!==p.ESymbolType.NONE&&++o}));var d=i-l;if(o>=d)s=n;else if(o===d-1&&null!=n){var y,m,h=null!=(y=null==(m=t[n])?void 0:m.symbolID)?y:-1;u.getSymbolType(h)===p.ESymbolType.NONE&&(s=n)}return s}},l._onConnectionClose=function(e){Log.d(e.module+" 断开连接!"),b.clearTasks()},l._onPlayBack=function(){this._handlePlayBackData(!1)},n(o,[{key:"_gameService",get:function(){return App.serviceManager.get(h)}},{key:"_gameSender",get:function(){return App.senderManager.get(_)}}]),o}(d))||g)||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinControllerLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigWinLayer8.ts","./SubGameData23.ts","./Display4.ts"],(function(t){var n,i,o,e,a,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){e=t.default},function(t){a=t.SubGameData},function(t){r=t.DisplayTaskManager,s=t.Display}],execute:function(){var l;i._RF.push({},"7400bX/k9JAQ6GeCYxSWI9K","BigWinControllerLayer",void 0);var u=o.ccclass,c=o.menu;o.property,t("BigWinControllerLayer",u("BigWinControllerLayer")(l=c(a.module+"/layers/BigWinControllerLayer")(l=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var o=i.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),r.addHandler(this)},o.onTaskInit=function(t,n){this.stopAllDisplays(),App.uiManager.close(e)},o.onTaskRestore=function(t,n){this.stopAllDisplays(),App.uiManager.close(e)},o.onTaskBigWin=function(t,n){var i=this,o=n.totalScore/a.totalBet;e.isBigWin(o)&&(this.startDisplay(),App.uiManager.open({type:e,bundle:a.module,args:[-1,n.totalScore,function(){i.isValid&&i.endDisplay()},o]}))},i}(s))||l)||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinLayer8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./NumberRoller.ts","./SubGameData23.ts","./AudioHelper4.ts"],(function(i){var e,n,t,a,o,s,c,l,r,_,p,u,f,S,I,E,h,y,d;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized,o=i.createClass},function(i){s=i.cclegacy,c=i._decorator,l=i.Node,r=i.sp,_=i.Animation,p=i.find,u=i.ParticleSystem2D,f=i.tween,S=i.Vec3},function(i){I=i.default},function(i){E=i.inject},function(i){h=i.NumberRoller},function(i){y=i.SubGameData},function(i){d=i.AudioHelper}],execute:function(){var m,U,w,A,g,b,N,T,B,k,D,L,W,G,R,O,C,v,P,M,z,V;s._RF.push({},"d0e89yiPPJA6oWX73jw1Do5","BigWinLayer",void 0);var X=c.ccclass,H=c.menu,F=c.property;i("default",(m=X("BigWinLayer"),U=H(y.module+"/external/BigWinLayer"),w=E("content",l),A=F({displayName:"glow1",type:r.Skeleton}),g=F({displayName:"thecoins",type:l}),b=F({displayName:"coin",type:l}),N=F({displayName:"animation",type:r.Skeleton}),T=F({displayName:"dk",type:r.Skeleton}),B=F({displayName:"winScoreNode",type:l}),k=F({displayName:"winScore",type:h}),D=F({displayName:"animCoin",type:_}),m(L=U((G=e((W=function(i){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=i.call.apply(i,[this].concat(o))||this,t(e,"content",G,a(e)),t(e,"glow1",R,a(e)),t(e,"thecoins",O,a(e)),t(e,"coin",C,a(e)),t(e,"animation",v,a(e)),t(e,"dk",P,a(e)),t(e,"winScoreNode",M,a(e)),t(e,"winScore",z,a(e)),t(e,"animCoin",V,a(e)),e.cinType=[2,5,2,3,6,5,2,3,3,5,2,2,5,3,3],e.winTypeSkin=["default","big","super","epic","mega","ultimate"],e.winTypeSkinAni=["ani_intro","ani_idle_big","ani_idle_super","ani_idle_epic","ani_idle_mega","ani_idle_ultimate"],e.winTypeAnim=["ani_idle","ani_intro","ani_out"],e.winTypeDuration=[0,6.4,6.4,8,8,11.2],e.winType=0,e.winNum=0,e.WinMusicTimes=[0,3,3,4,4,6],e.cb=null,e.tb=1,e.close_type=0,e.scoreTween=null,e.isout=!1,e}n(e,i),e.getPrefabUrl=function(){return"big-win/prefab/BigWinLayer"};var s=e.prototype;return s.onLoad=function(){i.prototype.onLoad.call(this),this.onN(p("mask",this.node),l.EventType.TOUCH_END,this.onQuickClose)},s.addEvents=function(){i.prototype.addEvents.call(this)},e.isBigWin=function(i){return i>=5},s.onShow=function(){if(this.args&&this.args.length>0){if(this.winType=this.args[0],this.winNum=this.args[1],this.cb=this.args[2],this.winType<=0&&this.args.length>3){var e=this.args[3];this.winType=e>=5&&e<10?1:e>=10&&e<15?2:e>=15&&e<30?3:e>=30&&e<50?4:5}this.stopScoreEffect(),this.isout=!1,this.close_type=0,this.coin.active=!1,this.glow1.node.active=!1,this.animCoin.stop(),this.dk.node.active=!1,this.init(this.winType,this.winNum,this.args[2]),this.playBigWinStartSound(this.winTypeSkin[this.winType])}i.prototype.onShow.call(this)},s.onClose=function(){this.unscheduleAllCallbacks(),i.prototype.onClose.call(this)},s.init=function(i,e,n){for(var t=this,a=0;a<this.thecoins.children.length;a++){this.thecoins.children[a].getComponent(u).emissionRate=this.cinType[a]}this.animation.clearTracks(),this.animation.node.active=!0,this.animation.setSkin(this.winTypeSkin[i]),this.playBigWinVocals(this.winTypeSkin[i]),this.animation.setAnimation(0,this.winTypeAnim[1],!1),this.animation.addAnimation(0,this.winTypeAnim[0],!0);var o=0;this.animation.setCompleteListener((function(e){(e.animation?e.animation.name:"")===t.winTypeAnim[0]&&++o===t.WinMusicTimes[i]&&t.stopAnimation()})),this.dk.setAnimation(0,this.winTypeSkinAni[0],!1),this.glow1.node.active=!0,this.glow1.setAnimation(0,"glow_intro",!1),this.dk.node.active=!0,this.scheduleOnce((function(){var e;"ani_idle_out"!=(null==(e=t.dk.getComponent(r.Skeleton))?void 0:e.animation)&&(t.dk.setAnimation(0,t.winTypeSkinAni[i],!1),t.glow1.setAnimation(0,"glow_idle",!0))}),2),this.scheduleOnce((function(){t.coin.active=!0,t.animCoin.play("coin_ani")}),1),this.winScore.startRolling(0,e,this.winTypeDuration[i],(function(){f(t.winScoreNode).to(.2,{scale:new S(1.5,1.5,1.5)}).to(.2,{scale:new S(1,1,1)}).start()}))},s.onQuickClose=function(){this.isout||(0==this.close_type?(this.StopBigWinStartSound(this.winTypeSkin[this.winType]),this.playBigWinFinishSound(this.winTypeSkin[this.winType]),this.stopAnimation()):1==this.close_type&&(this._stopAllEffect(this.winTypeSkin[this.winType]),this.playBigWinlastSound(this.winTypeSkin[this.winType]),this.unscheduleAllCallbacks(),this.stopAndCloseView()))},s.stopAnimation=function(){var i=this;this.close_type=1,this.winScore.stopRollingAndShowNumber(this.winNum),this.animation.setAnimation(0,this.winTypeAnim[2],!1),this.animation.setCompleteListener((function(e){(e.animation?e.animation.name:"")===i.winTypeAnim[2]&&(i.animation.node.active=!1,i.dk.node.active=!1,i.isout=!0,i.glow1.node.active=!1)})),this.dk.setAnimation(0,"ani_idle_out",!1),this.glow1.setAnimation(0,"glow_out",!1),this.scheduleOnce((function(){for(var e=0;e<i.thecoins.children.length;e++){i.thecoins.children[e].getComponent(u).emissionRate=0}}),.01),this.scheduleOnce((function(){for(var e=0;e<i.thecoins.children.length;e++){i.thecoins.children[e].getComponent(u).spriteFrame=null}i.animCoin.stop()}),1.5),this.scheduleOnce((function(){i.stopAndCloseView()}),1.5)},s.playScoreEffect=function(){this.scoreTween=f(this.dk.node).to(.4,{scale:new S(1,1,1)}).to(.4,{scale:new S(.8,.8,.8)}).union().repeatForever().start()},s.stopScoreEffect=function(){this.scoreTween&&this.scoreTween.stop()},s.stopAndCloseView=function(){this.close_type=2,this.stopScoreEffect(),this.cb&&this.cb(),d.instance.revokeLoweringMusicVolume("bigWin"),this.close()},s.playBigWinVocals=function(i){switch(i){case"big":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_SPEECH_BIG);break;case"mega":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_SPEECH_MEGA);break;case"epic":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_SPEECH_EPIC);break;case"super":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_SPEECH_SUPER);break;case"ultimate":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_SPEECH_ULTIMATE)}},s.playBigWinStartSound=function(i){switch(d.instance.requestLoweringMusicVolume(0,"bigWin"),i){case"big":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_BIG);break;case"epic":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_EPIC);break;case"super":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_SUPER);break;case"mega":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_MEGA);break;case"ultimate":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_ULTIMATE)}},s.StopBigWinStartSound=function(i){switch(i){case"big":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_BIG);break;case"epic":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EPIC);break;case"super":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_SUPER);break;case"mega":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_MEGA);break;case"ultimate":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_ULTIMATE)}},s.playBigWinFinishSound=function(i){switch(i){case"big":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_BIG);break;case"epic":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_EPIC);break;case"super":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_SUPER);break;case"mega":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_MEGA);break;case"ultimate":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_ULTIMATE)}},s.playBigWinlastSound=function(i){switch(i){case"big":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_END_BIG);break;case"epic":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_END_EPIC);break;case"super":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_END_SUPER);break;case"mega":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_END_MEGA);break;case"ultimate":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_END_ULTIMATE)}},s._stopAllEffect=function(i){switch(i){case"big":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_BIG),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_BIG),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_END_BIG);break;case"epic":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EPIC),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_EPIC),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_END_EPIC);break;case"super":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_SUPER),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_SUPER),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_END_SUPER);break;case"mega":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_MEGA),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_MEGA),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_END_MEGA);break;case"ultimate":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_ULTIMATE),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_ULTIMATE),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_END_ULTIMATE)}},o(e,[{key:"showAction",get:function(){var i=this;return function(e){App.utils.showView(i.content,e)}}},{key:"closeAction",get:function(){var i=this;return function(e){App.utils.hideView(i.content,e)}}}]),e}(I)).prototype,"content",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(W.prototype,"glow1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(W.prototype,"thecoins",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(W.prototype,"coin",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(W.prototype,"animation",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(W.prototype,"dk",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(W.prototype,"winScoreNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(W.prototype,"winScore",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(W.prototype,"animCoin",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=W))||L)||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/BoostLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts","./Display4.ts","./AudioHelper4.ts"],(function(t){var e,o,i,n,s,a,l,r,c,p,h,u,d,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,l=t.v3,r=t.sp,c=t.Tween,p=t.tween},function(t){h=t.SubGameData},function(t){u=t.DisplayTaskManager,d=t.Display},function(t){y=t.AudioHelper}],execute:function(){var f,_,A,k,S,g;s._RF.push({},"7ee2e6mN6VJGbndFaYKDngD","BoostLayer",void 0);var v=a.ccclass,B=a.menu,D=a.property,L=l(0,250,0);t("BoostLayer",(f=v("BoostLayer"),_=B(h.module+"/layers/BoostLayer"),A=D(r.Skeleton),f(k=_((g=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"skeleton",g,n(e)),e._cachedPosition=l(),e}o(e,t);var s=e.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),u.addHandler(this),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this))},s.onTaskInit=function(t,e){this.stopAllDisplays(),this.node.active=!1,c.stopAllByTarget(this.skeleton.node)},s.onTaskRestore=function(t,e){this.stopAllDisplays(),this.node.active=!1,c.stopAllByTarget(this.skeleton.node)},s.onTaskActivateBoost=function(t,e){this.stopAllDisplays(),this.startDisplay(),this.node.active=!0;var o=this._getPositionByReelIndex(e.reelIndex);this.skeleton.node.setPosition(o),c.stopAllByTarget(this.skeleton.node),p(this.skeleton.node).to(.4,{position:L},{easing:"sineOut"}).delay(.933333).to(.4,{position:o},{easing:"sineOut"}).start(),this.skeleton.setAnimation(0,"ani_activation",!1),y.instance.playSoundEffect(h.AUDIO_URLS.SE_SYMBOL_BOOST_ACTIVATE)},s._getPositionByReelIndex=function(t){var e=2-Math.floor(t/3)-1,o=(t%3-1)*(h.SYMBOL_SIZE.width+h.REEL_SPACING.width)*.9,i=e*(h.SYMBOL_SIZE.height+h.REEL_SPACING.height)*.9-33;return this._cachedPosition.set(o,i,0),this._cachedPosition},s._onSkeletonAnimationComplete=function(t){this.node.active=!1,this.endDisplay()},e}(d)).prototype,"skeleton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=S))||k)||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/BuildingLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts","./AudioHelper4.ts"],(function(t){var e,n,i,a,o,l,s,r,d,h,u,_,c,S,p,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,s=t.sp,r=t.Tween,d=t.tween,h=t.math,u=t.clamp},function(t){_=t.SubGameData},function(t){c=t.common},function(t){S=t.DisplayTaskManager,p=t.Display},function(t){v=t.AudioHelper}],execute:function(){var m,k,I,A,g,y,f,E,T,C;o._RF.push({},"25b36lNwEBJ0auuOV7prF8F","BuildingLayer",void 0);var L=l.ccclass,D=l.menu,B=l.property,b="ani_appear",w="ani_loop",O="ani_activation",R="ani_hit",M="ani_winning",U="ani_lv1_appear",P="ani_free_loop",x=[_.AUDIO_URLS.SE_SPEECH_BONUS_WIN_1,_.AUDIO_URLS.SE_SPEECH_BONUS_WIN_2,_.AUDIO_URLS.SE_SPEECH_BONUS_WIN_3,_.AUDIO_URLS.SE_SPEECH_BONUS_WIN_4];t("BuildingLayer",(m=L("BuildingLayer"),k=D(_.module+"/layers/BuildingLayer"),I=B(s.Skeleton),A=B(s.Skeleton),g=B(s.Skeleton),m(y=k((E=e((f=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,i(e,"treasureBottomSkeleton",E,a(e)),i(e,"avatarSkeleton",T,a(e)),i(e,"treasureTopSkeleton",C,a(e)),e._gameMode=c.EGameMode.NORMAL,e._collectionLevel=1,e._nextCollectionPercent=void 0,e._collecting=!1,e._bonusWinning=!1,e._stickySymbolAppearedInOneSpin=!1,e._highlightReelIndex=void 0,e._upgrading=!1,e._waitForClearingDone=!1,e._avatarIdleIntervalID=void 0,e._treasureIdleIntervalID=void 0,e}n(e,t);var o=e.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),S.addHandler(this),this.treasureBottomSkeleton.setCompleteListener(this._onTreasureBottomSkeletonAnimationComplete.bind(this)),this.avatarSkeleton.setStartListener(this._onAvatarSkeletonAnimationStart.bind(this)),this.avatarSkeleton.setCompleteListener(this._onAvatarSkeletonAnimationComplete.bind(this)),this.treasureBottomSkeleton.setAnimation(0,U,!1),this.treasureBottomSkeleton.updateAnimation(999)},o.onTaskInit=function(t,e){var n=this;this.stopAllDisplays(),this._gameMode=c.EGameMode.NORMAL,this._collecting=!1,this._nextCollectionPercent=void 0,this._highlightReelIndex=void 0,this._bonusWinning=!1,this._stickySymbolAppearedInOneSpin=!1,this._upgrading=!1,this._waitForClearingDone=!1,r.stopAllByTarget(this.treasureBottomSkeleton.node),r.stopAllByTarget(this.avatarSkeleton.node),this._updateCollection(0,0),this.treasureTopSkeleton.setAnimation(0,U,!1),this.treasureTopSkeleton.updateAnimation(999),this._startAvatarIdleCountdown(),this._startTreasureIdleCountdown(),e.entrance?(this.avatarSkeleton.setAnimation(0,b,!1),this.avatarSkeleton.addAnimation(0,w,!0),this.avatarSkeleton.paused=!0,d(this.avatarSkeleton.node).delay(5).call((function(){n.avatarSkeleton.paused=!1})).start()):(this.avatarSkeleton.setAnimation(0,w,!0),this.avatarSkeleton.paused=!1)},o.onTaskRestore=function(t,e){var n=this;this.stopAllDisplays(),this._gameMode=e.gameMode,this._collecting=!1,this._nextCollectionPercent=void 0,this._highlightReelIndex=void 0,this._bonusWinning=!1,this._stickySymbolAppearedInOneSpin=!1,this._upgrading=!1,this._waitForClearingDone=!1,r.stopAllByTarget(this.treasureBottomSkeleton.node),r.stopAllByTarget(this.avatarSkeleton.node),this._updateCollection(e.collectionPercent,0),this._startTreasureIdleCountdown(),this._gameMode===c.EGameMode.BONUS?this.treasureTopSkeleton.setAnimation(0,P,!0):(this.treasureTopSkeleton.setAnimation(0,U,!1),this.treasureTopSkeleton.updateAnimation(999),this._startAvatarIdleCountdown()),e.entrance?(this.avatarSkeleton.setAnimation(0,b,!1),this.avatarSkeleton.addAnimation(0,w,!0),this.avatarSkeleton.paused=!0,d(this.avatarSkeleton.node).delay(5).call((function(){n.avatarSkeleton.paused=!1})).start()):(this.avatarSkeleton.setAnimation(0,w,!0),this.avatarSkeleton.paused=!1)},o.onTaskSpinStart=function(t,e){this._nextCollectionPercent=void 0,this._highlightReelIndex=void 0,this._stickySymbolAppearedInOneSpin=!1,this._collecting=!1,this._stopAvatarIdleCountdown()},o.onTaskAddMultipliers=function(t,e){var n=this;r.stopAllByTarget(this.avatarSkeleton.node),this.avatarSkeleton.clearTracks(),this.avatarSkeleton.paused=!1,e.triggeredColumnsList.forEach((function(t,e){n.avatarSkeleton.addAnimation(0,O,!1)})),this.avatarSkeleton.addAnimation(0,w,!0),e.triggeredColumnsList.length>0&&v.instance.playSoundEffect(_.AUDIO_URLS.SE_SPEECH_MULTIPLIER_ADD)},o.onTaskSpinStop=function(t,e){this._nextCollectionPercent=e.collectionPercent},o.onTaskTriggerUltraBonusGame=function(t,e){e.bought||(this._clearCollection(!e.shouldAddSymbols),this.avatarSkeleton.setAnimation(0,M,!1),this.avatarSkeleton.addAnimation(0,w,!0))},o.onTaskIncreaseWinningBonus=function(t,e){if(!this._bonusWinning){this._bonusWinning=!0;var n=h.randomRangeInt(0,x.length);v.instance.playSoundEffect(x[n])}},o.onTaskSpinEnd=function(t,e){this._startAvatarIdleCountdown()},o.onTaskChangeMode=function(t,e){this._gameMode=e.nextMode,this._bonusWinning=!1,this._gameMode===c.EGameMode.BONUS?this.treasureTopSkeleton.setAnimation(0,P,!0):(this.treasureTopSkeleton.setAnimation(0,U,!1),this.treasureTopSkeleton.updateAnimation(999)),this.avatarSkeleton.setAnimation(0,w,!0)},o.onTaskReelHighlight=function(t,e){this._highlightReelIndex=e.reelIndex,r.stopAllByTarget(this.avatarSkeleton.node),this.avatarSkeleton.setAnimation(0,"ani_fastwinning",!0),this.avatarSkeleton.paused=!1,v.instance.playSoundEffect(_.AUDIO_URLS.SE_SPEECH_REEL_HIGHLIGHT)},o.onTaskReelStop=function(t,e){var n,i,a,o,l=this;e.spinSpeedType===c.ESpinSpeedType.DEFAULT&&e.reelIndex===this._highlightReelIndex?(r.stopAllByTarget(this.avatarSkeleton.node),this.avatarSkeleton.paused=!1,_.getSymbolType(null!=(a=null==(o=e.symbol)?void 0:o.symbolID)?a:-1)!==c.ESymbolType.NONE?(this.avatarSkeleton.setAnimation(0,M,!1),this.avatarSkeleton.addAnimation(0,w,!0)):(this.avatarSkeleton.setAnimation(0,"ani_pity",!1),this.avatarSkeleton.addAnimation(0,w,!0),v.instance.playSoundEffect(_.AUDIO_URLS.SE_SPEECH_LOSE))):this._gameMode===c.EGameMode.NORMAL&&e.reelIndex>2&&e.reelIndex<6&&_.getSymbolType(null!=(n=null==(i=e.symbol)?void 0:i.symbolID)?n:0)!==c.ESymbolType.NONE&&(null!==this._nextCollectionPercent&&void 0!==this._nextCollectionPercent&&(this._updateCollection(this._nextCollectionPercent,.5),this._nextCollectionPercent=void 0),this._collecting||(this._collecting=!0,r.stopAllByTarget(this.avatarSkeleton.node),this.avatarSkeleton.paused=!1,d(this.avatarSkeleton.node).delay(.5).call((function(){l.avatarSkeleton.setAnimation(0,R,!1),l.avatarSkeleton.addAnimation(0,w,!0)})).start()));if(this._gameMode===c.EGameMode.NORMAL&&!this._stickySymbolAppearedInOneSpin){var s,h,u=null!=(s=null==(h=e.symbol)?void 0:h.symbolID)?s:-1;_.isStickySymbolID(u)&&(this._stickySymbolAppearedInOneSpin=!0,v.instance.playSoundEffect(_.AUDIO_URLS.SE_SPEECH_SYMBOL_STICKY_APPEAR))}},o._updateCollection=function(t,e){var n=this;this._upgrading&&this.endDisplay();var i=this._collectionLevel;if(this._collectionLevel=1+Math.floor(u(t,0,100)/20),this._collectionLevel!==i){if(this._collectionLevel<=i||e<=0)return 1===this._collectionLevel?(this.treasureBottomSkeleton.setAnimation(0,U,!1),this.treasureBottomSkeleton.updateAnimation(999)):(this.treasureBottomSkeleton.setAnimation(0,"ani_lv"+(this._collectionLevel-1)+"_to_lv"+this._collectionLevel,!1),this.treasureBottomSkeleton.updateAnimation(999)),void(this.treasureBottomSkeleton.timeScale=1);this.startDisplay(),this._upgrading=!0;var a=h.inverseLerp(1,5,this._collectionLevel-i),o=h.lerp(1,2.5,a);r.stopAllByTarget(this.treasureBottomSkeleton.node),d(this.treasureBottomSkeleton.node).delay(e).call((function(){n.treasureBottomSkeleton.clearAnimation(0);for(var t=i;t<n._collectionLevel;++t)n.treasureBottomSkeleton.addAnimation(0,"ani_lv"+t+"_to_lv"+(t+1),!1);n.treasureBottomSkeleton.timeScale=o,n.treasureTopSkeleton.setAnimation(0,"ani_lv"+(n._collectionLevel-1)+"_to_lv"+n._collectionLevel,!1)})).start(),this._stopTreasureIdleCountdown()}},o._clearCollection=function(t){if(this._collectionLevel<=1)this._waitForClearingDone=!1;else{this._waitForClearingDone=t,this._upgrading&&(r.stopAllByTarget(this.treasureBottomSkeleton.node),this.endDisplay()),this._waitForClearingDone&&this.startDisplay();var e="ani_lv"+this._collectionLevel+"_disappear";this._collectionLevel=1,this.treasureBottomSkeleton.setAnimation(0,e,!1),this.treasureBottomSkeleton.timeScale=1,this.treasureTopSkeleton.setAnimation(0,e,!1),this._stopTreasureIdleCountdown()}},o._startAvatarIdleCountdown=function(){this._stopAvatarIdleCountdown(),this._avatarIdleIntervalID=setInterval((function(){v.instance.playSoundEffect(_.AUDIO_URLS.SE_SPEECH_COME)}),6e4)},o._stopAvatarIdleCountdown=function(){null!==this._avatarIdleIntervalID&&void 0!==this._avatarIdleIntervalID&&(clearInterval(this._avatarIdleIntervalID),this._avatarIdleIntervalID=void 0)},o._startTreasureIdleCountdown=function(){var t=this;this._stopTreasureIdleCountdown(),this._treasureIdleIntervalID=setInterval((function(){var e="ani_loop_lv"+t._collectionLevel;t._collectionLevel>=3&&(t.treasureBottomSkeleton.findAnimation(e)&&t.treasureBottomSkeleton.setAnimation(0,e,!1),t._gameMode===c.EGameMode.NORMAL&&t.treasureTopSkeleton.setAnimation(0,"ani_loop_lv1",!1))}),5e3)},o._stopTreasureIdleCountdown=function(){null!==this._treasureIdleIntervalID&&void 0!==this._treasureIdleIntervalID&&(clearInterval(this._treasureIdleIntervalID),this._treasureIdleIntervalID=void 0)},o._onTreasureBottomSkeletonAnimationComplete=function(t){var e=t.animation.name;e==="ani_lv"+(this._collectionLevel-1)+"_to_lv"+this._collectionLevel?this._upgrading&&(this._upgrading=!1,this._startTreasureIdleCountdown(),this.endDisplay()):e.endsWith("_disappear")&&(this._startTreasureIdleCountdown(),this._waitForClearingDone&&(this._waitForClearingDone=!1,this.endDisplay()))},o._onAvatarSkeletonAnimationStart=function(t){switch(t.animation.name){case R:v.instance.playSoundEffect(_.AUDIO_URLS.SE_ENERGY_COLLECT);break;case O:v.instance.playSoundEffect(_.AUDIO_URLS.SE_MULTIPLIER_ADD)}},o._onAvatarSkeletonAnimationComplete=function(t){switch(t.animation.name){case R:this._collecting=!1}},e}(p)).prototype,"treasureBottomSkeleton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(f.prototype,"avatarSkeleton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(f.prototype,"treasureTopSkeleton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y)||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/BuyLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts"],(function(t){var n,e,o,i,a,s,u,r,l,c,p,h,d,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,u=t._decorator,r=t.sp,l=t.Button,c=t.Color},function(t){p=t.default},function(t){h=t.SubGameData},function(t){d=t.common},function(t){y=t.DisplayTaskManager}],execute:function(){var f,b,k,m,g,_,B,L;s._RF.push({},"65b45styU1OcIqLhZGOMQAa","BuyLayer",void 0);var v=u.ccclass,M=u.menu,T=u.property;t("BuyLayer",(f=v("BuyLayer"),b=M(h.module+"/layers/BuyLayer"),k=T(r.Skeleton),m=T(l),f(g=b((B=n((_=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,o(n,"skeleton",B,i(n)),o(n,"button",L,i(n)),n._spinning=!1,n}e(n,t);var s=n.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),y.addHandler(this)},s.onTaskInit=function(t,n){this.node.active=!0},s.onTaskRestore=function(t,n){this.node.active=n.gameMode===d.EGameMode.NORMAL},s.onTaskSpinStart=function(t,n){this._spinning=!0,this._updateButton()},s.onTaskChangeMode=function(t,n){this.node.active=n.nextMode===d.EGameMode.NORMAL},s.onTaskSpinEnd=function(t,n){this._spinning=!1,this._updateButton()},s.onTaskChangeAutoPlay=function(t,n){this._updateButton()},s.onBuyButtonClick=function(){y.runTask("openSelection",null)},s._updateButton=function(){this._buttonEnabled=!this._spinning&&!h.autoPlaying},a(n,[{key:"_buttonEnabled",set:function(t){t!==this.button.interactable&&(t?(this.skeleton.setAnimation(0,"ani",!0),this.skeleton.paused=!1,this.skeleton.color=c.WHITE):(this.skeleton.setAnimation(0,"ani",!1),this.skeleton.paused=!0,this.skeleton.color=c.GRAY),this.button.interactable=t)}}]),n}(p)).prototype,"skeleton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(_.prototype,"button",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=_))||g)||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/ControllerLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts","./AudioHelper4.ts","./GameSender23.ts","./HelpView14.ts"],(function(e){var n,t,i,o,s,a,l,p,r,_,S,h,T,c,u,d,I;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,l=e.sp,p=e.Tween,r=e.tween},function(e){_=e.CommonEvent},function(e){S=e.SubGameData},function(e){h=e.common},function(e){T=e.DisplayTaskManager,c=e.Display},function(e){u=e.AudioHelper},function(e){d=e.GameSender},function(e){I=e.HelpView}],execute:function(){var f,N,O,E,m,y;s._RF.push({},"d534eCn8Y1JsJCwEHjmbfFf","ControllerLayer",void 0);var A=a.ccclass,C=a.menu,R=a.property;e("ControllerLayer",(f=A("ControllerLayer"),N=C(S.module+"/layer/ControllerLayer"),O=R(l.Skeleton),f(E=N((y=n((m=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,i(n,"flashSkeleton",y,o(n)),n._gameMode=h.EGameMode.NORMAL,n._spinnable=!0,n._freeTimes=0,n}t(n,e);var s=n.prototype;return s.onLoad=function(){var n;null==(n=e.prototype.onLoad)||n.call(this),T.addHandler(this),this.onD(_.DISPATCH_SPIN_START,this._onControllerSpinStart),this.onD(_.DISPATCH_SPIN_STOP,this._onControllerSpinStop),this.onD(_.DISPATCH_TOTAL_BET,this._onTotalBetChange),this.onD(_.DISPATCH_START_AUTOPLAY,this._onAutoPlayStateChange),this.onD(_.DISPATCH_QUICK_SPIN,this._onQuickSpinChange),this.onD(_.DISPATCH_TURBO_SPIN,this._onTurboSpinChange),this.onD(_.DISPATCH_SKIP_SCREENS,this._onSkipScreensChange),this.onD(_.DISPATCH_GAME_PLAY,this._onShowHelp),this.flashSkeleton.setCompleteListener(this._onFlashSkeletonAnimationComplete.bind(this)),dispatch(_.NOTIFY_NO_INTRO)},s.start=function(){var n,t;null==(n=e.prototype.start)||n.call(this),dispatch(_.NOTIFY_GMTOOL_VISIBLE,S.gmEnabled);var i=null!=(t=S.slotInfo.mode)?t:0;1===i?dispatch(_.NOTIFY_QUICK_SPIN,!0):2===i?dispatch(_.NOTIFY_TURBO_SPIN,!0):(dispatch(_.NOTIFY_QUICK_SPIN,!1),dispatch(_.NOTIFY_TURBO_SPIN,!1))},s.onTaskInit=function(e,n){this.stopAllDisplays(),this._gameMode=h.EGameMode.NORMAL,this._spinnable=!0,this._freeTimes=0,p.stopAllByTarget(this.node),p.stopAllByTarget(this),this.flashSkeleton.enabled=!1,dispatch(_.NOTIFY_USERINFO_SCORE,S.balance),dispatch(_.NOTIFY_SLOT_INFO,S.slotInfo)},s.onTaskRestore=function(e,n){this.stopAllDisplays(),this._gameMode=n.gameMode,this._spinnable=!0,this._freeTimes=n.gameMode===h.EGameMode.BONUS?n.freeTimesRemaining:0,dispatch(_.NOTIFY_SLOT_INFO,S.slotInfo),dispatch(_.NOTIFY_USERINFO_SCORE,n.balance),p.stopAllByTarget(this.node),p.stopAllByTarget(this),this.flashSkeleton.enabled=!1,n.gameMode===h.EGameMode.BONUS&&dispatch(_.NOTIFY_FREE_MODE)},s.onTaskSpinStart=function(e,n){this._spinnable=!1,n.spinType===h.ESpinType.FREE?dispatch(_.NOTIFY_SPIN_STOP_NORMAL):n.spinType===h.ESpinType.BOUGHT?dispatch(_.NOTIFY_FREE_MODE):(this.flashSkeleton.enabled=!0,this.flashSkeleton.setAnimation(0,"ani_3Loosen",!1))},s.onTaskSpinStop=function(e,n){n.spinType===h.ESpinType.FREE?this._freeTimes=Math.max(0,this._freeTimes-1):dispatch(_.NOTIFY_BALANCE_SCORE,n.balance)},s.onTaskSpinComplete=function(e,n){dispatch(_.NOTIFY_SPIN_STOP_NORMAL,!1)},s.onTaskRoundEnd=function(e,n){var t=this;this.startDisplay(),p.stopAllByTarget(this.node);var i=0;(S.autoPlaying||n.spinType===h.ESpinType.FREE)&&(i=.366667),r(this.node).delay(i).call((function(){n.spinType===h.ESpinType.FREE&&t._freeTimes>0&&dispatch(_.NOTIFY_SPIN_START_NORMAL),t.endDisplay()})).start()},s.onTaskTransition=function(e,n){"enterBonusGame"===n.type?(dispatch(_.NOTIFY_FREE_MODE),dispatch(_.NOTIFY_SPIN_START_NORMAL)):dispatch(_.NOTIFY_BALANCE_SCORE,n.balance)},s.onTaskWinGrandJackpot=function(e,n){dispatch(_.NOTIFY_WINSCORE_TIPS,n.score)},s.onTaskIncreaseWinningBonus=function(e,n){var t=this;dispatch(_.NOTIFY_WINSCORE_TIPS,n.bonus,!0),u.instance.playSoundEffect(S.AUDIO_URLS.SE_BONUS_WIN),this.startDisplay(),p.stopAllByTarget(this),r(this).delay(S.turboSpin?.25:.5).call((function(){return t.endDisplay()})).start()},s.onTaskSpinEnd=function(e,n){this._spinnable=!0,this._freeTimes=0,dispatch(_.NOTIFY_SPIN_END)},s.onTaskChangeMode=function(e,n){this._gameMode=n.nextMode,this._freeTimes=n.nextMode===h.EGameMode.NORMAL?0:S.MAX_RESPIN_TIMES},s.onTaskReelStop=function(e,n){var t,i;this._gameMode!==h.EGameMode.NORMAL&&S.getSymbolType(null!=(t=null==(i=n.symbol)?void 0:i.symbolID)?t:0)!==h.ESymbolType.NONE&&(this._freeTimes=S.MAX_RESPIN_TIMES)},s._onControllerSpinStart=function(e){var n,t;(void 0===e&&(e=0),this._spinnable)&&(0!==e?null==(n=S.spinRequestor)||n.request(h.ESpinRequestType.GM_SPIN,e):null==(t=S.spinRequestor)||t.request(h.ESpinRequestType.SPIN))},s._onControllerSpinStop=function(){S.turboSpin||S.quickSpin||T.runTask("manualStop",null)},s._onTotalBetChange=function(e){null!=e&&(S.totalBet=e,this._gameMode===h.EGameMode.NORMAL&&this._spinnable&&App.senderManager.get(d).c2sChangeBet({bet:e}))},s._onAutoPlayStateChange=function(e){S.autoPlaying=e,T.runTask("changeAutoPlay",null)},s._onQuickSpinChange=function(e){S.quickSpin=e},s._onTurboSpinChange=function(e){S.turboSpin=e},s._onSkipScreensChange=function(e){S.skipScreens=e},s._onShowHelp=function(){App.uiManager.open({type:I,bundle:S.module})},s._onFlashSkeletonAnimationComplete=function(e){this.flashSkeleton.enabled=!1},n}(c)).prototype,"flashSkeleton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=m))||E)||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/DebugVersion4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Config.ts","./CommonEvent.ts","./SubGameData23.ts"],(function(e){var n,t,i,o,r,a,s,u,c,l,g,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Label,u=e.view},function(e){c=e.default},function(e){l=e.Config},function(e){g=e.CommonEvent},function(e){f=e.SubGameData}],execute:function(){var p,b,h,v,D,d;r._RF.push({},"480cbLtgeVAR6B60PMIJZEo","DebugVersion",void 0);var m=a.ccclass,C=a.menu,L=a.property;e("DebugVersion",(p=m("DebugVersion"),b=C(f.module+"/views/DebugVersion"),h=L(s),p(v=b((d=n((D=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,i(n,"versionLabel",d,o(n)),n}t(n,e);var r=n.prototype;return r.onLoad=function(){this.onD(g.SWITCH_SCREEN,this._onOrientationChange)},r.start=function(){this.versionLabel.string="v1.4.0",this.versionLabel.node.active=l.isDebugLogin,this._onOrientationChange(App.utils.getOrientation())},r._onOrientationChange=function(e){var n=u.getVisibleSize();this.node.setPosition(.5*n.width,.5*n.height,1)},n}(c)).prototype,"versionLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=D))||v)||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Defines4.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"44bbcWFJHNHU6jutbjrAPR2","Defines",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Display4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(t){var n,s,e,a,i;return{setters:[function(t){n=t.createClass,s=t.inheritsLoose,e=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy},function(t){i=t.default}],execute:function(){a._RF.push({},"0f2852p7SJD3Jka/ztMg/BU","Display",void 0);var o=t("DisplayTaskManager",function(){function t(){}return t.clearTasks=function(){this._sTasksQueue.length=0},t.addTask=function(t,n){this._sTasksQueue.push({name:t,data:n})},t.runTask=function(t,n){Log.d("run display task: "+t),this._sHandlersSet.forEach((function(s){var e=s["onTask"+t[0].toUpperCase()+t.substring(1)];null!=e&&e.call(s,t,n)}))},t.runNextTask=function(){if(!(r.displaying||this._sTasksQueue.length<=0)){var t=this._sTasksQueue.shift();null!=t&&this.runTask(t.name,t.data)}},t.clearHandlers=function(){this._sHandlersSet.clear()},t.addHandler=function(t){this._sHandlersSet.add(t)},t.removeHandler=function(t){return this._sHandlersSet.delete(t)},t}());o._sTasksQueue=[],o._sHandlersSet=new Set;var r=t("DisplayPool",function(){function t(){}return t.clear=function(){this._sPoolSet.clear()},t.add=function(t){this._sPoolSet.add(t)},t.remove=function(t){return this._sPoolSet.delete(t)},n(t,null,[{key:"displaying",get:function(){for(var t,n=e(this._sPoolSet);!(t=n()).done;){if(t.value.displaying)return!0}return!1}}]),t}());r._sPoolSet=new Set;t("Display",function(t){function e(){for(var n,s=arguments.length,e=new Array(s),a=0;a<s;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this)._displayCount=0,n}s(e,t);var a=e.prototype;return a.onLoad=function(){r.add(this)},a.onDestroy=function(){r.remove(this)},a.stopAllDisplays=function(){this._displayCount=0},a.startDisplay=function(){++this._displayCount},a.endDisplay=function(){this._displayCount<=0||--this._displayCount},n(e,[{key:"displaying",get:function(){return this._displayCount>0}}]),e}(i));a._RF.pop()}}}));

System.register("chunks:///_virtual/EffectLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts","./FlashPoint.ts","./AudioHelper4.ts"],(function(e){var t,o,n,i,s,a,r,l,d,c,h,u,f,m,p,_,y,I,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,r=e.v3,l=e.Prefab,d=e.math,c=e.Tween,h=e.tween,u=e.bezier,f=e.instantiate},function(e){m=e.SubGameData},function(e){p=e.common},function(e){_=e.DisplayTaskManager,y=e.Display},function(e){I=e.FlashPoint},function(e){g=e.AudioHelper}],execute:function(){var E,P,v,S,L,M;s._RF.push({},"a1de6qNxbFAqZYBZaqEEw05","EffectLayer",void 0);var R=a.ccclass,b=a.menu,B=a.property,x=r(0,475,0),A=r(0,-322,0);e("EffectLayer",(E=R("EffectLayer"),P=b(m.module+"/layers/EffectLayer"),v=B(l),E(S=P((M=t((L=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(t,"itemPrefab",M,i(t)),t._gameMode=p.EGameMode.NORMAL,t._idleItemNodesPool=[],t._cachedPosition1=r(),t._cachedPosition2=r(),t}o(t,e);var s=t.prototype;return s.onLoad=function(){e.prototype.onLoad.call(this),_.addHandler(this),this.node.removeAllChildren()},s.onTaskInit=function(e,t){var o=this;this.stopAllDisplays(),this._gameMode=p.EGameMode.NORMAL,this.node.children.slice().forEach((function(e){return o._addIdleItem(e)}))},s.onTaskRestore=function(e,t){var o=this;this.stopAllDisplays(),this._gameMode=t.gameMode,this.node.children.slice().forEach((function(e){return o._addIdleItem(e)}))},s.onTaskAddSymbol=function(e,t){var o=x,n=this._getPositionByReelIndex(t.reelIndex,!1);this._showEffect(o,n)},s.onTaskCollectBoostBonus=function(e,t){var o=this._getPositionByReelIndex(t.fromReelIndex,!1),n=this._getPositionByReelIndex(t.toReelIndex,!0);this._showEffect(o,n)},s.onTaskCollectWinningBonus=function(e,t){var o=this._getPositionByReelIndex(t.fromReelIndex,!1),n=A;this._showEffect(o,n)},s.onTaskChangeMode=function(e,t){this._gameMode=t.nextMode},s.onTaskReelStop=function(e,t){var o,n;if(this._gameMode===p.EGameMode.NORMAL&&t.reelIndex>2&&t.reelIndex<6&&m.getSymbolType(null!=(o=null==(n=t.symbol)?void 0:n.symbolID)?o:0)!==p.ESymbolType.NONE){var i=this._getPositionByReelIndex(t.reelIndex,!1),s=x;this._showEffect(i,s)}},s._getPositionByReelIndex=function(e,t){var o=2-Math.floor(e/3)-1,n=(e%3-1)*(m.SYMBOL_SIZE.width+m.REEL_SPACING.width),i=o*(m.SYMBOL_SIZE.height+m.REEL_SPACING.height);return t?(this._cachedPosition2.set(n,i,0),this._cachedPosition2):(this._cachedPosition1.set(n,i,0),this._cachedPosition1)},s._showEffect=function(e,t){var o=this;this.startDisplay();var n=this._getIdleItem();n.setPosition(e),n.setParent(this.node);var i=e.x,s=e.y,a=i,r=s-2*m.SYMBOL_SIZE.height,l=i+d.randomRangeInt(-m.SYMBOL_SIZE.width,m.SYMBOL_SIZE.width),f=s,p=t.x,_=t.y;c.stopAllByTarget(n),h(n).to(m.turboSpin?.25:.5,{},{onStart:function(){var e;return null==(e=n.getComponent(I))?void 0:e.start()},onUpdate:function(e,t){if(null!=t){var o=u(i,a,l,p,t),d=u(s,r,f,_,t);n.setPosition(o,d,0)}},onComplete:function(){var e;null==(e=n.getComponent(I))||e.stop(),o.endDisplay()}}).delay(.25).call((function(){return o._addIdleItem(n)})).start(),g.instance.playSoundEffect(m.AUDIO_URLS.SE_BONUS_COLLECT)},s._getIdleItem=function(){var e,t,o=null!=(e=this._idleItemNodesPool.splice(-1,1)[0])?e:f(this.itemPrefab);return c.stopAllByTarget(o),null==(t=o.getComponent(I))||t.stop(),o},s._addIdleItem=function(e){this._idleItemNodesPool.push(e),e.removeFromParent()},t}(y)).prototype,"itemPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=L))||S)||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/ExBannerContentProvider8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BannerContentProvider.ts","./SubGameData23.ts"],(function(n){var r,t,e,o,i;return{setters:[function(n){r=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator},function(n){o=n.BannerContentProvider},function(n){i=n.SubGameData}],execute:function(){var a;t._RF.push({},"74d5fJKr2xG5Igvv8fNE8OJ","ExBannerContentProvider",void 0);var c=e.ccclass,u=(e.property,e.menu);n("ExBannerContentProvider",c("ExBannerContentProvider")(a=u(i.module+"/components/ExBannerContentProvider")(a=function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t.prototype.dataList=function(){return["<img src='wb_01'/>","<img src='wb_02'/>","<img src='wb_03'/>"]},t}(o))||a)||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/FlashPoint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts"],(function(t){var e,i,n,r,o,s,a,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.ParticleSystem2D,c=t.Component},function(t){l=t.SubGameData}],execute:function(){var u,p,f,h,y,m;o._RF.push({},"f5ce7eDelJHepTa27zB/xpQ","FlashPoint",void 0);var P=s.ccclass,d=s.menu,v=s.property;t("FlashPoint",(u=P("FlashPoint"),p=d(l.module+"/elements/FlashPoint"),f=v([a]),u(h=p((m=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"particlesList",m,r(e)),e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.stop()},o.start=function(){this.particlesList.forEach((function(t){return t.resetSystem()}))},o.stop=function(){this.particlesList.forEach((function(t){return t.stopSystem()}))},e}(c)).prototype,"particlesList",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=y))||h)||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameEntry23.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Resource.ts","./Entry.ts","./Decorators.ts","./Global.ts","./GameService.ts","./SubGameData23.ts","./SubGameLanguage23.ts","./GameHandler23.ts","./SymbolNodePool4.ts","./BaseView2.ts","./IntroView4.ts"],(function(){var e,n,o,t,a,r,i,s,u,c,l,d,p,f,g;return{setters:[function(n){e=n.inheritsLoose},function(e){n=e.cclegacy,o=e.AudioClip,t=e.Prefab},function(e){a=e.Resource},function(e){r=e.Entry},function(e){i=e.registerEntry},function(e){s=e.Global},function(e){u=e.GameService},function(e){c=e.SubGameData},function(e){l=e.SubGameLanguage},function(e){d=e.default},function(e){p=e.SymbolNodePool},function(e){f=e.BaseView},function(e){g=e.IntroView}],execute:function(){var m;n._RF.push({},"17ae8+6EOBJAbWfDQiRMDG2","GameEntry",void 0);i("GameEntry",c.module,f)(m=function(n){function r(){for(var e,o=arguments.length,t=new Array(o),a=0;a<o;a++)t[a]=arguments[a];return(e=n.call.apply(n,[this].concat(t))||this).language=new l,e}e(r,n);var i=r.prototype;return i.addNetHandler=function(){App.handlerManager.get(d)},i.removeNetHandler=function(){App.handlerManager.destory(d)},i.loadResources=function(e){var n=this;this.loader.getLoadResources=function(){var e=[];for(var n in["big-win/prefab/BigWinLayer","prefabs/slotgame/Alert","prefabs/slotgame/AutoPlayView","prefabs/slotgame/MenuView","prefabs/slotgame/MobileBetView","prefabs/views/BaseView","prefabs/views/HelpView"].forEach((function(n){return e.push({url:n,type:t,bundle:c.module})})),c.AUDIO_URLS)(n.startsWith("BGM_")||"SE_ENTER"===n)&&e.push({url:c.AUDIO_URLS[n],type:o,bundle:c.module});return e},this.loader.onLoadProgress=function(e,n,o){c.setLoadingTaskProgress("resource",Math.min(e/n,.9999))},this.loader.onLoadComplete=function(e){e===a.LoaderError.SUCCESS&&(c.setLoadingTaskProgress("resource",1),p.instance.preload().then((function(e){e||n.popLoadFailed()})).catch((function(){return n.popLoadFailed()})))},App.uiManager.open({type:g,bundle:c.module,args:{completeCallback:e}}).then((function(){n.loader.loadResources()})).catch((function(){return n.popLoadFailed()}))},i.initData=function(){App.serviceManager.get(u,!0),s.playback?c.setLoadingTaskProgress("network",1):this._connectServer()},i.pauseMessageQueue=function(){},i.resumeMessageQueue=function(){},i.popLoadFailed=function(){App.alert.show({text:App.getLanguage("loadFailed",[""])})},i._connectServer=function(){var e=App.serviceManager.get(u);if(e){if(e.isConnected)return Log.d(e.module+" 断开连接中..."),void e.close();Log.d(e.module+" 连接中..."),e.connect()}else this.popLoadFailed()},r}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameHandler23.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Handler.ts","./Global.ts","./CommonEvent.ts","./GameService.ts","./SubGameData23.ts","./LoadingHelper4.ts","./GameSender23.ts","./Protocol24.ts"],(function(e){var n,t,s,o,a,c,i,r,u,l,g;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){s=e.cclegacy},function(e){o=e.Handler},function(e){a=e.Global},function(e){c=e.CommonEvent},function(e){i=e.GameService},function(e){r=e.SubGameData},function(e){u=e.LoadingHelper},function(e){l=e.GameSender},function(e){g=e.Protocol}],execute:function(){s._RF.push({},"f175efXHfdGEZtw/40/r43l","GameHandler",void 0),e("default",function(e){function s(){return e.apply(this,arguments)||this}n(s,e);var o=s.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),this.onD(c.GAME_SERVICE_CONNECTED,this._onConnectionConnected),this.onS(g.LOGIN,this._s2cLogin),this.onS(g.USERINFO,this._s2cUserInfo),this.onS(g.SLOT_INFO,this._s2cSlotInfo),this.onS(g.BET_SPIN,this._s2cSlotBet),this.onS(g.CHANGE_BET,this._s2cChangeBet),this.onS(g.LAST_MAP,this._s2cLastMap)},o._onConnectionConnected=function(e){var n;Log.d(e.module+" 连接成功!"),null==(n=this.sender)||n.c2sLogin(a.gameId)},o._s2cLogin=function(e){var n,t;r.setLoadingTaskProgress("network",.3),e&&e.message&&1==e.message.issucc&&(a.account=e.message.account,a.currency=e.message.mtype,dispatch(c.SWITCH_CURRENCY),null==(n=this.sender)||n.c2sUserInfo(),null==(t=this.sender)||t.c2sSlotInfo())},o._s2cUserInfo=function(e){Log.d("s2cUserInfo message.money = ",e.message.money),r.setLoadingTaskProgress("network",.7),r.balance=e.message.money},o._s2cSlotInfo=function(e){r.setLoadingTaskProgress("network",1),r.slotInfo=e.message,r.gmEnabled=1===e.message.can_gm},o._s2cSlotBet=function(e){},o._s2cChangeBet=function(e){u.instance.hide()},o._s2cLastMap=function(e){r.lastMap=e.message},t(s,[{key:"gameData",get:function(){return App.dataCenter.get(r)}},{key:"service",get:function(){return App.serviceManager.get(i)}},{key:"sender",get:function(){return App.senderManager.get(l)}}]),s}(o)).module="Game",s._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic23.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logic.ts"],(function(t){var c,e,i;return{setters:[function(t){c=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.Logic}],execute:function(){e._RF.push({},"ab2a8ktN4tDoK8JljO4EYOc","GameLogic",void 0);t("GameLogic",function(t){function e(){return t.apply(this,arguments)||this}return c(e,t),e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/GameSender23.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sender.ts","./Config.ts","./Global.ts","./GameService.ts","./LoadingHelper4.ts","./Protocol24.ts"],(function(e){var n,s,t,i,c,o,a,r,u;return{setters:[function(e){n=e.inheritsLoose,s=e.createClass},function(e){t=e.cclegacy},function(e){i=e.Sender},function(e){c=e.Config},function(e){o=e.Global},function(e){a=e.GameService},function(e){r=e.LoadingHelper},function(e){u=e.Protocol}],execute:function(){t._RF.push({},"32ce7v0CSpPBb+ZKWmWZxbi","GameSender",void 0),e("GameSender",function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.c2sLogin=function(e){c.isDebugLogin?this.c2sDebug_login({uid:o.userId,game_id:e,money:Number(o.money),money_type:o.currency}):this.c2sOfficial_login({token:o.token,gameid:e,direct:o.direct_login})},i.c2sDebug_login=function(e){var n,s={type:u.DEBUG_LOGIN,message:e};null==(n=this.service)||n.sendMessage(u.DEBUG_LOGIN,s)},i.c2sOfficial_login=function(e){var n,s={type:u.LOGIN,message:e};null==(n=this.service)||n.sendMessage(u.LOGIN,s)},i.c2sMark=function(e){var n,s={type:u.MARK,message:e};null==(n=this.service)||n.sendMessage(u.MARK,s)},i.c2sUserInfo=function(){var e,n={type:u.USERINFO,message:{}};null==(e=this.service)||e.sendMessage(u.USERINFO,n)},i.c2sSlotInfo=function(){var e,n={type:u.SLOT_INFO,message:{}};null==(e=this.service)||e.sendMessage(u.SLOT_INFO,n)},i.sendPack=function(e,n){var s;o.playback||null==(s=this.service)||s.sendMessage(e,n)},i.c2sGMBet=function(e){var n={type:u.GM_SPIN,message:e};this.sendPack(u.GM_SPIN,n)},i.c2sBetSpin=function(e){var n={type:u.BET_SPIN,message:e};this.sendPack(u.BET_SPIN,n)},i.c2sBuyBonusGame=function(e){var n={type:u.BUY_BONUS_GAME,message:e};this.sendPack(u.BUY_BONUS_GAME,n)},i.c2sFreeSpin=function(e){var n={type:u.FREE_SPIN,message:e};this.sendPack(u.FREE_SPIN,n)},i.c2sChangeBet=function(e){r.instance.show(2,!0);var n={type:u.CHANGE_BET,message:e};this.sendPack(u.CHANGE_BET,n)},s(t,[{key:"service",get:function(){return App.serviceManager.get(a)}}]),t}(i)).module="Game",t._RF.pop()}}}));

System.register("chunks:///_virtual/HelpView14.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./CommonEvent.ts","./SlotGameDefines.ts","./SubGameData23.ts"],(function(t){var e,n,i,r,o,a,u,c,s,l,p,_,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,u=t.Sprite,c=t.ToggleContainer,s=t.SpriteFrame},function(t){l=t.default},function(t){p=t.CommonEvent},function(t){_=t.SoundName},function(t){h=t.SubGameData}],execute:function(){var f,g,m,C,d,P,b,L,E,S;o._RF.push({},"5e258Ex88pJOpukCwcX4xsb","HelpView",void 0);var F=a.ccclass,N=a.menu,w=a.property;t("HelpView",(f=F("HelpView"),g=N(h.module+"/views/HelpView"),m=w(u),C=w(c),d=w([s]),f(P=g((L=e((b=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"contentSprite",L,r(e)),i(e,"pageIndicatorsToggleContainer",E,r(e)),i(e,"contentSpriteFramesList",S,r(e)),e._currentPageNumber=0,e}n(e,t),e.getPrefabUrl=function(){return"prefabs/views/HelpView"};var o=e.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),this._updateContent()},o.onLeftButtonClick=function(){--this._currentPageNumber,this._updateContent(),dispatch(p.PLAY_EFFECT,_.SOUND_HELP_PLAY_CHANGE)},o.onRightButtonClick=function(){++this._currentPageNumber,this._updateContent(),dispatch(p.PLAY_EFFECT,_.SOUND_HELP_PLAY_CHANGE)},o.onBackButtonClick=function(){dispatch(p.PLAY_EFFECT,_.SOUND_CLOSE_HELP_PAGE),this.close()},o.onMoreButtonClick=function(){dispatch(p.PLAY_EFFECT,_.SOUND_HELP_PLAY_CHANGE),dispatch(p.NOTIFY_GAME_PLAY),this.close()},o._updateContent=function(){var t,e=this.contentSpriteFramesList.length;this._currentPageNumber=e<=0?0:(this._currentPageNumber%e+e)%e,this.contentSprite.spriteFrame=null!=(t=this.contentSpriteFramesList[this._currentPageNumber])?t:null;var n=this.pageIndicatorsToggleContainer.toggleItems[this._currentPageNumber];n&&(n.isChecked=!0)},e}(l)).prototype,"contentSprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(b.prototype,"pageIndicatorsToggleContainer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(b.prototype,"contentSpriteFramesList",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=b))||P)||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/IntroView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./GameLogic23.ts","./SubGameData23.ts"],(function(e){var t,o,r,i,n,s,a,u,c,l,p,h,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,a=e.Node,u=e.ProgressBar,c=e.tween,l=e.v3},function(e){p=e.default},function(e){h=e.inject},function(e){g=e.GameLogic},function(e){d=e.SubGameData}],execute:function(){var _,f,b,y,v,m,w,B,N,k,D,P,T;n._RF.push({},"6f194+qyVBBYLEb6wxlpzhU","IntroView",void 0);var V=s.ccclass,E=s.menu;s.property,e("IntroView",(_=V("IntroView"),f=E(d.module+"/views/IntroView"),b=h({type:g,name:"logic"}),y=h("SpriteBackground",a),v=h("SpriteHint",a),m=h("ProgressBar",u),_(w=f(((T=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,r(t,"logic",N,i(t)),r(t,"_backgroundNode",k,i(t)),r(t,"_hintNode",D,i(t)),r(t,"_progressBar",P,i(t)),t._progress=0,t}o(t,e),t.getPrefabUrl=function(){return"prefabs/views/IntroView"};var n=t.prototype;return n.onLoad=function(){e.prototype.onLoad.call(this),this._progress=0,this._hintNode.active=!1,this._updateProgress(0)},n.onDestroy=function(){var t;this.isValid&&null!=(t=this._backgroundNode)&&t.isValid&&this._backgroundNode.off(a.EventType.TOUCH_END,this._onBackgroundTouchEnd,this),e.prototype.onDestroy.call(this)},n.onShow=function(){e.prototype.onShow.call(this),App.utils.closeDocumentFrameAnimation(),this.schedule(this._updateProgress)},n._updateProgress=function(e){if(this._progress>=1){if(App.utils.closeDocumentLoading(),this.unschedule(this._updateProgress),this._backgroundNode.on(a.EventType.TOUCH_END,this._onBackgroundTouchEnd,this),1==App.utils.PlatformType)return this._hintNode.active=!1,void this._onBackgroundTouchEnd();this._hintNode.active=!0;return c(this._hintNode).to(.28,{scale:l(1.1,1.1,1.1)},{easing:"sineOut"}).to(.28,{scale:l(1,1,1)}).union().repeatForever().start(),void(this._progressBar.node.active=!1)}var t=d.loadingProgress>=1?.8:.2;this._progress=Math.min(this._progress+e*t,d.loadingProgress),this._progressBar.progress=this._progress,App.utils.onDocumentProgress(100*this._progress)},n._onBackgroundTouchEnd=function(){var e;null==(e=this.args)||null==e.completeCallback||e.completeCallback(),this.close()},t}(p)).logicType=g,N=t((B=T).prototype,"logic",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(B.prototype,"_backgroundNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(B.prototype,"_hintNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(B.prototype,"_progressBar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=B))||w)||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/Jackpot2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberCurrency.ts","./SubGameData23.ts","./SubGameDefines23.ts"],(function(e){var t,n,o,i,a,r,c,p,u,s,l,m,d,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,c=e._decorator,p=e.sp,u=e.Label,s=e.Enum,l=e.Component},function(e){m=e.NumberCurrency},function(e){d=e.SubGameData},function(e){y=e.common}],execute:function(){var k,h,b,_,f,g,M,T,A,N,E,G,J;r._RF.push({},"0d256iGyDdA44ArE+S3ChkI","Jackpot",void 0);var w=c.ccclass,L=c.menu,v=c.property,D=((k={})[y.EJackpotType.MINI]="mini",k[y.EJackpotType.MINOR]="minor",k[y.EJackpotType.MAJOR]="major",k[y.EJackpotType.GRAND]="grand",k);e("Jackpot",(h=w("Jackpot"),b=L(d.module+"/elements/Jackpot"),_=v(p.Skeleton),f=v(u),g=v(m),M=v({type:s(y.EJackpotType),visible:!0}),h(T=b((N=t((A=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"skeleton",N,i(t)),o(t,"countdownLabel",E,i(t)),o(t,"scoreNumberCurrency",G,i(t)),o(t,"_jackpotType",J,i(t)),t._gameMode=y.EGameMode.NORMAL,t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.changeGameMode(this._gameMode)},r.updateScore=function(e){this.scoreNumberCurrency.updateNumber(e)},r.updateCountdown=function(e,t){this._gameMode!==y.EGameMode.NORMAL&&this._jackpotType===y.EJackpotType.GRAND?(this.countdownLabel.string=e.toString(),t&&(this.skeleton.setAnimation(0,"ani_grand1_ative",!1),this.skeleton.addAnimation(0,"ani_grand1_loop",!0))):this.countdownLabel.string=""},r.win=function(){var e=D[this._jackpotType];this.skeleton.setAnimation(0,"ani_"+e+"_win",!1),this.skeleton.addAnimation(0,"ani_"+e+"_loop",!0),this.countdownLabel.string=""},r.changeGameMode=function(e){this._gameMode=e;var t=D[this._jackpotType];this._gameMode!==y.EGameMode.NORMAL&&this._jackpotType===y.EJackpotType.GRAND&&(t+="1"),this.skeleton.setAnimation(0,"ani_"+t+"_loop",!0),this.countdownLabel.node.active=this._jackpotType===y.EJackpotType.GRAND&&this._gameMode===y.EGameMode.BONUS},a(t,[{key:"jackpotType",get:function(){return this._jackpotType}}]),t}(l)).prototype,"skeleton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(A.prototype,"countdownLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(A.prototype,"scoreNumberCurrency",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(A.prototype,"_jackpotType",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.EJackpotType.GRAND}}),T=A))||T)||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts","./Jackpot2.ts"],(function(t){var o,n,e,a,s,i,c,u,r,p,h;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,i=t._decorator},function(t){c=t.default},function(t){u=t.SubGameData},function(t){r=t.common},function(t){p=t.DisplayTaskManager},function(t){h=t.Jackpot}],execute:function(){var l,d,y,f,_,m;s._RF.push({},"5ed4d2zKpNAkJqBfnJeRuhA","JackpotLayer",void 0);var k=i.ccclass,L=i.menu,T=i.property;t("JackpotLayer",(l=k("JackpotLayer"),d=L(u.module+"/layers/JackpotLayer"),y=T([h]),l(f=d((m=o((_=function(t){function o(){for(var o,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return o=t.call.apply(t,[this].concat(s))||this,e(o,"jackpotsList",m,a(o)),o._gameMode=r.EGameMode.NORMAL,o._symbolsList=[],o._currentCountdown=0,o}n(o,t);var s=o.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),p.addHandler(this)},s.onTaskInit=function(t,o){var n,e=this;this._gameMode=r.EGameMode.NORMAL,this._symbolsList.length=0,(n=this._symbolsList).push.apply(n,o.symbolsList),this._currentCountdown=0,this.jackpotsList.forEach((function(t){t.changeGameMode(e._gameMode),t.updateScore(u.totalBet*u.JACKPOT_BONUS_RATES_HASH[t.jackpotType])}))},s.onTaskRestore=function(t,o){var n,e=this;this._gameMode=o.gameMode,this._symbolsList.length=0,(n=this._symbolsList).push.apply(n,o.symbolsList),this._currentCountdown=this._calculateCountdown(),this.jackpotsList.forEach((function(t){t.changeGameMode(e._gameMode),t.updateScore(u.totalBet*u.JACKPOT_BONUS_RATES_HASH[t.jackpotType]),t.updateCountdown(e._currentCountdown,!1)}))},s.onTaskSpinStop=function(t,o){var n;this._symbolsList.length=0,(n=this._symbolsList).push.apply(n,o.symbolsList)},s.onTaskShowSymbol=function(t,o){this._symbolsList[o.reelIndex]=o.symbol},s.onTaskCollectBoostBonus=function(t,o){this.jackpotsList.forEach((function(t){t.jackpotType===o.jackpotType&&t.win()}))},s.onTaskCollectWinningBonus=function(t,o){this.jackpotsList.forEach((function(t){t.jackpotType===o.jackpotType&&t.win()}))},s.onTaskWinGrandJackpot=function(t,o){this.jackpotsList.forEach((function(t){t.jackpotType===r.EJackpotType.GRAND&&t.win()}))},s.onTaskChangeMode=function(t,o){var n=this;this._gameMode=o.nextMode,this._currentCountdown=this._calculateCountdown(),this.jackpotsList.forEach((function(t){t.changeGameMode(n._gameMode),t.updateCountdown(n._currentCountdown,!1)}))},s.onTaskChangeBet=function(t,o){this.jackpotsList.forEach((function(t){t.updateScore(u.totalBet*u.JACKPOT_BONUS_RATES_HASH[t.jackpotType])}))},s.onTaskReelStop=function(t,o){var n=this;if(this._gameMode!==r.EGameMode.NORMAL)if(o.spinSpeedType===r.ESpinSpeedType.DEFAULT)o.symbol&&u.getSymbolType(o.symbol.symbolID)!==r.ESymbolType.NONE&&(this._currentCountdown=Math.max(0,this._currentCountdown-1),this.jackpotsList.forEach((function(t){return t.updateCountdown(n._currentCountdown,!0)})));else if(0===o.spinningIndex){var e=this._currentCountdown;this._currentCountdown=this._calculateCountdown(),this._currentCountdown!==e&&this.jackpotsList.forEach((function(t){return t.updateCountdown(n._currentCountdown,!0)}))}},s.onTaskWinJackpot=function(t,o){this.jackpotsList.forEach((function(t){t.jackpotType===o.jackpotType&&t.win()}))},s._calculateCountdown=function(){if(this._gameMode===r.EGameMode.NORMAL)return 0;var t=u.REELS_NUMBER*u.SYMBOLS_NUMBER_IN_REEL;return this._symbolsList.forEach((function(o){u.getSymbolType(o.symbolID)!==r.ESymbolType.NONE&&--t})),t=Math.max(0,t)},o}(c)).prototype,"jackpotsList",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=_))||f)||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingHelper4.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"363edwHkjtEm6yiv6UGfoHg","LoadingHelper",void 0),t("LoadingHelper",function(){function t(){this._blockInputWhenDelay=!1,this._inputBlockerNode=null,this._timeoutID=null}var n=t.prototype;return n.show=function(t,e){void 0===e&&(e=!1),this._blockInputWhenDelay=e,this._stopCountdown();var n=function(){return App.loading.show("loading...")};null!=t?this._timeoutID=setTimeout(n,1e3*t):n(),this._refreshInputBlockerNode()},n.hide=function(){this._blockInputWhenDelay=!1,this._stopCountdown(),App.loading.hide(),this._refreshInputBlockerNode()},n._stopCountdown=function(){null!==this._timeoutID&&void 0!==this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},n._refreshInputBlockerNode=function(){this._inputBlockerNode&&(this._inputBlockerNode.active=this._blockInputWhenDelay)},e(t,[{key:"inputBlockerNode",set:function(t){t!==this._inputBlockerNode&&(this._inputBlockerNode=t,this._refreshInputBlockerNode())}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingInputBlocker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts","./LoadingHelper4.ts"],(function(n){var o,e,t,c,r,u,i;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy,t=n._decorator,c=n.BlockInputEvents,r=n.Component},function(n){u=n.SubGameData},function(n){i=n.LoadingHelper}],execute:function(){var a;e._RF.push({},"567cbMXcfpG0JkxiyUvHkVR","LoadingInputBlocker",void 0);var p=t.ccclass,s=t.menu,l=(t.property,t.requireComponent);n("LoadingInputBlocker",p("LoadingInputBlocker")(a=s(u.module+"/components/LoadingInputBlocker")(a=l(c)(a=function(n){function e(){return n.apply(this,arguments)||this}o(e,n);var t=e.prototype;return t.onLoad=function(){i.instance.inputBlockerNode=this.node},t.onDestroy=function(){i.instance.inputBlockerNode=null},e}(r))||a)||a)||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/MainLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts"],(function(n){var e,t,i,o,a,s,r,l,u,c,m,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,s=n._decorator,r=n.Animation,l=n.sp},function(n){u=n.default},function(n){c=n.SubGameData},function(n){m=n.common},function(n){p=n.DisplayTaskManager}],execute:function(){var h,d,y,f,k,v,b,M;a._RF.push({},"26632/0IvBGwKfPh5twc3rW","MainLayer",void 0);var g=s.ccclass,L=s.menu,A=s.property,_="ani_idle",D="ani_out";n("MainLayer",(h=g("MainLayer"),d=L(c.module+"/layers/MainLayer"),y=A(r),f=A(l.Skeleton),h(k=d((b=e((v=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return e=n.call.apply(n,[this].concat(a))||this,i(e,"animation",b,o(e)),i(e,"skeleton",M,o(e)),e}t(e,n);var a=e.prototype;return a.onLoad=function(){n.prototype.onLoad.call(this),p.addHandler(this),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this))},a.onTaskInit=function(n,e){e.entrance?this.animation.play("quake"):this.animation.play("normal-mode"),this.skeleton.node.active=!1},a.onTaskRestore=function(n,e){e.gameMode===m.EGameMode.NORMAL?(e.entrance?this.animation.play("quake"):this.animation.play("normal-mode"),this.skeleton.node.active=!1):(this.animation.play("bonus-mode"),this.skeleton.node.active=!0,this.skeleton.setAnimation(0,_,!0))},a.onTaskTriggerUltraBonusGame=function(n,e){e.bought||this.animation.play("fever")},a.onTaskChangeMode=function(n,e){e.nextMode===m.EGameMode.NORMAL?(this.animation.play("exit-bonus-mode"),this.skeleton.node.active=!0,this.skeleton.setAnimation(0,D,!1)):(this.animation.play("enter-bonus-mode"),this.skeleton.node.active=!0,this.skeleton.setAnimation(0,"ani_intro",!1),this.skeleton.addAnimation(0,_,!0))},a._onSkeletonAnimationComplete=function(n){n.animation.name===D&&(this.skeleton.node.active=!1)},e}(u)).prototype,"animation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(v.prototype,"skeleton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=v))||k)||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainOverlayLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts"],(function(e){var t,o,a,n,r,i,s,l,c,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,s=e.Node},function(e){l=e.default},function(e){c=e.SubGameData},function(e){u=e.common},function(e){y=e.DisplayTaskManager}],execute:function(){var d,p,f,h,v,M;r._RF.push({},"7783dc78v1NdZyVjBTvO3nc","MainOverlayLayer",void 0);var m=i.ccclass,R=i.menu,L=i.property;e("MainOverlayLayer",(d=m("MainOverlayLayer"),p=R(c.module+"/layers/MainOverlayLayer"),f=L(s),d(h=p((M=t((v=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,a(t,"layersRootNode",M,n(t)),t}o(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),y.addHandler(this)},r.onTaskInit=function(e,t){this.layersRootNode.setScale(1,1,1)},r.onTaskRestore=function(e,t){t.gameMode===u.EGameMode.NORMAL?this.layersRootNode.setScale(1,1,1):this.layersRootNode.setScale(.9,.9,1)},r.onTaskChangeMode=function(e,t){t.nextMode===u.EGameMode.NORMAL?this.layersRootNode.setScale(1,1,1):this.layersRootNode.setScale(.9,.9,1)},t}(l)).prototype,"layersRootNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=v))||h)||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/Multiplier2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts","./AudioHelper4.ts"],(function(t){var i,e,n,a,o,l,r,s,p,u,c,h,m,d,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,r=t._decorator,s=t.Animation,p=t.Sprite,u=t.sp,c=t.Tween,h=t.tween,m=t.Component},function(t){d=t.SubGameData},function(t){f=t.AudioHelper}],execute:function(){var S,y,_,A,g,F,v,b,k,w,L,D;l._RF.push({},"9301egF1cdFOYyDmLWSoRS9","Multiplier",void 0);var E=r.ccclass,I=r.menu,M=r.property,T="ani_beicheng_disappear";t("Multiplier",(S=E("Multiplier"),y=I(d.module+"/elements/Multiplier"),_=M(s),A=M(p),g=M(p),F=M(u.Skeleton),S(v=y((k=i((b=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return i=t.call.apply(t,[this].concat(o))||this,n(i,"animation",k,a(i)),n(i,"shadowSprite",w,a(i)),n(i,"multiplierSprite",L,a(i)),n(i,"skeleton",D,a(i)),i._multiple=1,i}e(i,t);var l=i.prototype;return l.onLoad=function(){this.animation.on(s.EventType.FINISHED,this._onAnimationFinish,this),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this)),this.animation.play("idle"),this.multiplierSprite.changeSpriteFrameFromAtlas(""),this.shadowSprite.changeSpriteFrameFromAtlas(""),this.skeleton.node.active=!1},l.onDestroy=function(){this.isValid&&this.animation.isValid&&this.animation.off(s.EventType.FINISHED,this._onAnimationFinish,this)},l.updateMultiplier=function(t,i,e){var n=this;c.stopAllByTarget(this.node),this.skeleton.node.active=!1;var a=this._multiple;if(this._multiple=t,!i){var o="x"+t;return this.multiplierSprite.changeSpriteFrameFromAtlas(o),this.shadowSprite.changeSpriteFrameFromAtlas(o),void this.animation.play("idle")}h(this.node).delay(null!=e?e:0).call((function(){a<2?n.animation.play("add"):n.animation.play("change")})).start()},l.collect=function(){this._multiple<2||(c.stopAllByTarget(this.node),this.animation.play("collect"),this.skeleton.node.active=!0,this.skeleton.setAnimation(0,T,!1))},l.pay=function(){this._multiple<2||(c.stopAllByTarget(this.node),this.animation.play("pay"),this.skeleton.node.active=!0,this.skeleton.setAnimation(0,T,!1))},l.onMultiplierUpdate=function(){var t="x"+this._multiple;this.multiplierSprite.changeSpriteFrameFromAtlas(t),this.shadowSprite.changeSpriteFrameFromAtlas(t),this.skeleton.node.active=!0,this.skeleton.setAnimation(0,"ani_beicheng_appear",!1),f.instance.playOneShotSoundEffect(d.AUDIO_URLS.SE_MULTIPLIER_UPDATE)},l._onAnimationFinish=function(t,i){switch(i.name){case"collect":case"pay":f.instance.playSoundEffect(d.AUDIO_URLS.SE_MULTIPLIER_MULTIPLE)}},l._onSkeletonAnimationComplete=function(t){this.skeleton.node.active=!1},o(i,[{key:"multiple",get:function(){return this._multiple}}]),i}(m)).prototype,"animation",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(b.prototype,"shadowSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(b.prototype,"multiplierSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(b.prototype,"skeleton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=b))||v)||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/MultiplierLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts","./Multiplier2.ts"],(function(t){var e,i,n,l,r,o,s,a,u,p,c,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.sp},function(t){a=t.SubGameData},function(t){u=t.common},function(t){p=t.DisplayTaskManager,c=t.Display},function(t){d=t.Multiplier}],execute:function(){var f,m,h,g,y,k,L,v;r._RF.push({},"00e0eduJJ5MxpEM4nhg6OOY","MultiplierLayer",void 0);var M=o.ccclass,S=o.menu,b=o.property;t("MultiplierLayer",(f=M("MultiplierLayer"),m=S(a.module+"/layers/MultiplierLayer"),h=b([d]),g=b(s.Skeleton),f(y=m((L=e((k=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"multipliersList",L,l(e)),n(e,"triggerSkeleton",v,l(e)),e}i(e,t);var r=e.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),p.addHandler(this),this.triggerSkeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this)),this.triggerSkeleton.node.active=!1},r.onTaskInit=function(t,e){this.stopAllDisplays(),this.multipliersList.forEach((function(t){return t.updateMultiplier(1,!1)})),this.triggerSkeleton.node.active=!1},r.onTaskRestore=function(t,e){this.stopAllDisplays(),this.multipliersList.forEach((function(t,i){var n,l,r=null!=(n=null==(l=e.symbolsList[i])?void 0:l.multiple)?n:1;t.updateMultiplier(r,!1)})),this.triggerSkeleton.node.active=!1},r.onTaskSpinStart=function(t,e){this.multipliersList.forEach((function(t){return t.updateMultiplier(t.multiple,!1)}))},r.onTaskAddMultipliers=function(t,e){var i=this;this.triggerSkeleton.node.active=!0,this.triggerSkeleton.clearTracks(),e.triggeredColumnsList.forEach((function(t,n){i.startDisplay(),i.triggerSkeleton.addAnimation(0,"ani"+(t+1),!1);for(var l=0;l<3;++l){var r,o=t+3*l,s=i.multipliersList[o],a=null==(r=e.symbolsList[o])?void 0:r.multiple;if(!(!s||!a||a<2||s.multiple>=a)){var u=86/60*n+(54+6*l)/60;s.updateMultiplier(a,!0,u),p.runTask("multiplierUpdate",{reelIndex:o,multiple:a,delay:u})}}}))},r.onTaskChangeMode=function(t,e){e.nextMode===u.EGameMode.NORMAL&&(this.multipliersList.forEach((function(t){return t.updateMultiplier(1,!1)})),this.triggerSkeleton.node.active=!1)},r.onTaskComputeBoostBonus=function(t,e){var i;null==(i=this.multipliersList[e.reelIndex])||i.collect()},r.onTaskComputeWinningBonus=function(t,e){var i;null==(i=this.multipliersList[e.reelIndex])||i.pay()},r._onSkeletonAnimationComplete=function(t){this.endDisplay()},e}(c)).prototype,"multipliersList",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(k.prototype,"triggerSkeleton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=k))||y)||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol24.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"edd926lkbREpana7Vv7h1c/","Protocol",void 0);var e=t("Protocol",(function(){}));e.LOGIN="login",e.LOGOUT="logout",e.USERINFO="userinfo",e.USER_KICK="user_kick",e.ERRORCODE="errorcode",e.MARQUEE="marquee",e.TIPS="tips",e.DEBUG_LOGIN="debug_login",e.MARK="mark",e.SLOT_INFO="slot_info",e.GM_SPIN="gm_slot",e.BUY_BONUS_GAME="buy_free",e.BET_SPIN="slot",e.FREE_SPIN="free_spin",e.CHANGE_BET="slot_bet",e.LAST_MAP="last_map";t("SymbolData",(function(){this.before=0,this.after=0,this.mul=0,this.num=0})),t("FreePageData",(function(){this.map=[],this.remain=0})),t("JackpotBonus",(function(){this.id=0,this.num=0}));o._RF.pop()}}}));

System.register("chunks:///_virtual/ReelBackgroundLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData23.ts","./SubGameDefines23.ts","./SymbolBackground2.ts"],(function(e){var t,n,o,i,r,l,a,u,s,c,d,p,h,b,m,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,a=e._decorator,u=e.Node,s=e.sp,c=e.Prefab,d=e.Tween,p=e.tween,h=e.instantiate},function(e){b=e.default},function(e){m=e.SubGameData},function(e){f=e.common},function(e){g=e.SymbolBackground}],execute:function(){var k,y,S,v,B,R,_,N,A,L,P,M;l._RF.push({},"6a1337tK/xG3aujTe29l9uR","ReelBackgroundLayer",void 0);var w=a.ccclass,E=a.menu,G=a.property;e("ReelBackgroundLayer",(k=w("ReelBackgroundLayer"),y=E(m.module+"/layers/ReelBackgroundLayer"),S=G(u),v=G(s.Skeleton),B=G(c),R=G({visible:!0}),k(_=y((A=t((N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"backgroundsRootNode",A,i(t)),o(t,"multiplierSkeleton",L,i(t)),o(t,"symbolBackgroundPrefab",P,i(t)),o(t,"_index",M,i(t)),t}n(t,e);var l=t.prototype;return l.reset=function(e,t){var n,o,i=this._isBright(t);this.backgroundsRootNode.children.forEach((function(e){var t=e.getComponent(g);t&&(t.bright=i)})),d.stopAllByTarget(this.multiplierSkeleton.node),(null!=(n=null==(o=e[0])?void 0:o.multiple)?n:1)>=2?(this.multiplierSkeleton.enabled=!0,this.multiplierSkeleton.setAnimation(0,"ani_loop",!0)):this.multiplierSkeleton.enabled=!1},l.changeGameMode=function(e){var t=this._isBright(e);this.backgroundsRootNode.children.forEach((function(e){var n=e.getComponent(g);n&&(n.bright=t)})),e===f.EGameMode.NORMAL&&(d.stopAllByTarget(this.multiplierSkeleton.node),this.multiplierSkeleton.enabled=!1)},l.updateMultiplier=function(e,t){var n=this;e<2||this.multiplierSkeleton.enabled||(d.stopAllByTarget(this.multiplierSkeleton.node),p(this.multiplierSkeleton.node).delay(t).call((function(){n.multiplierSkeleton.enabled=!0,n.multiplierSkeleton.setAnimation(0,"ani_appear",!1),n.multiplierSkeleton.addAnimation(0,"ani_loop",!0)})).start())},l.preload=function(e){this.backgroundsRootNode.removeAllChildren();for(var t=0;t<e;++t){var n=h(this.symbolBackgroundPrefab);n.setPosition(0,m.SYMBOL_SIZE.height*(t+.5),0),n.setParent(this.backgroundsRootNode)}},l.updateBackgroundPosition=function(e,t){var n;null==(n=this.backgroundsRootNode.children[e])||n.setPosition(t)},l._isBright=function(e){return e===f.EGameMode.NORMAL&&this._index>2&&this._index<6},r(t,[{key:"blur",set:function(e){this.backgroundsRootNode.children.forEach((function(t){var n=t.getComponent(g);n&&(n.blur=e)}))}}]),t}(b)).prototype,"backgroundsRootNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(N.prototype,"multiplierSkeleton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(N.prototype,"symbolBackgroundPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(N.prototype,"_index",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),_=N))||_)||_));l._RF.pop()}}}));

System.register("chunks:///_virtual/ReelLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts","./Symbol4.ts"],(function(t){var e,i,n,o,s,a,r,l,h,c,u,d,p,_,g,m,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,h=t.Prefab,c=t.instantiate,u=t.easing,d=t.math},function(t){p=t.SubGameData},function(t){_=t.common},function(t){g=t.DisplayTaskManager,m=t.Display},function(t){S=t.Symbol}],execute:function(){var f,N,b,y,E,I,v,T,C,D,O,L;a._RF.push({},"768aaKUpfFMdYG4+7K77yhB","ReelLayer",void 0);var R=r.ccclass,M=r.menu,B=r.property,P=function(t){return t[t.IDLE=0]="IDLE",t[t.ACCELERATING=1]="ACCELERATING",t[t.CONSTANT_SPINNING=2]="CONSTANT_SPINNING",t[t.DECELERATING=3]="DECELERATING",t[t.BOUNCING_OUT=4]="BOUNCING_OUT",t[t.BOUNCING_IN=5]="BOUNCING_IN",t}(P||{}),A=1.8;t("ReelLayer",(f=R("ReelLayer"),N=M(p.module+"/layers/ReelLayer"),b=B(l),y=B(l),E=B(h),I=B({visible:!0}),f(v=N((C=e((T=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"symbolsRootNode",C,o(e)),n(e,"showNode",D,o(e)),n(e,"symbolPrefab",O,o(e)),n(e,"_index",L,o(e)),e._gameMode=_.EGameMode.NORMAL,e._bonusStartTime=0,e._spinningState=P.IDLE,e._spinningIndex=-1,e._spinSpeedType=_.ESpinSpeedType.DEFAULT,e._elapsedTime=0,e._constantSpinningTimeout=0,e._waitingForHighlight=!1,e._spinProcessConfig=p.SPIN_CONFIGURATION.default[0],e._targetSymbolDatas=null,e._manualStopping=!1,e._decelerationAvailableIndex=-999,e._maxPositionYForShow=0,e._minPositionYForShow=0,e._maxPositionYForPlace=0,e._minPositionYForPlace=0,e._backgroundDelegate=void 0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){var e,i=this;t.prototype.onLoad.call(this);var n=p.SYMBOLS_NUMBER_IN_REEL+1;null==(e=this._backgroundDelegate)||e.preload(n),this.symbolsRootNode.removeAllChildren();for(var o=0;o<n;++o){var s=c(this.symbolPrefab);s.setPosition(0,p.SYMBOL_SIZE.height*(o+.5),0),s.setParent(this.symbolsRootNode)}this.symbolsRootNode.children.forEach((function(t){var e=t.getComponent(S);e&&(e.callback=i._onSymbolEvent.bind(i))})),this._maxPositionYForShow=p.SYMBOL_SIZE.height*(p.SYMBOLS_NUMBER_IN_REEL+.5),this._minPositionYForShow=.5*-p.SYMBOL_SIZE.height,this._maxPositionYForPlace=p.SYMBOL_SIZE.height*(n-.5),this._minPositionYForPlace=p.SYMBOL_SIZE.height*(p.SYMBOLS_NUMBER_IN_REEL-n+.5)},a.reset=function(t,e,i){var n=this;this.stopAllDisplays(),this._gameMode=e,this._spinningState=P.IDLE,this._spinSpeedType=_.ESpinSpeedType.DEFAULT,this._elapsedTime=0,this._constantSpinningTimeout=0,this._targetSymbolDatas=null,this._manualStopping=!1,this.showNode.children.slice().forEach((function(t){return t.setParent(n.symbolsRootNode)}));var o=e===_.EGameMode.NORMAL;this.symbolsRootNode.children.forEach((function(e,i){var s;e.setPosition(0,p.SYMBOL_SIZE.height*(i+.5),0),null==(s=n._backgroundDelegate)||s.updateBackgroundPosition(i,e.position);var a,r=e.getComponent(S);r&&(r.idle(),r.symbolData=null!=(a=t[i])?a:{symbolID:0,bonusRate:0,multiple:1},r.stickable=o)})),this._sortSymbolNodes();var s=this.symbolsRootNode.children;if(s.slice(s.length-p.SYMBOLS_NUMBER_IN_REEL,s.length).forEach((function(t){return t.setParent(n.showNode)})),this._gameMode===_.EGameMode.NORMAL)this._bonusStartTime=0,this.showNode.children.forEach((function(t){var e;return null==(e=t.getComponent(S))?void 0:e.idle()}));else{this._bonusStartTime=i;var a=.001*Math.max(0,Date.now()-this._bonusStartTime);this.showNode.children.forEach((function(t){var e=t.getComponent(S);e&&(e.excite(a),e.showBoostBonus())}))}this._backgroundDelegate&&(this._backgroundDelegate.blur=!1)},a.startSpinning=function(t,e){var i,n;if(this._spinningIndex=-1,this._spinningState!==P.IDLE)return!1;var o=null!=(i=null==(n=this.showNode.children[0])||null==(n=n.getComponent(S))?void 0:n.symbolData.symbolID)?i:0;return!(t===_.ESpinType.BET&&p.isStickySymbolID(o)||t===_.ESpinType.FREE&&p.getSymbolType(o)!==_.ESymbolType.NONE)&&(this._spinningIndex=e,this._beforeAccelerating(),!0)},a.stopSpinning=function(t,e,i){var n;if(t.length>0&&this._spinningState===P.IDLE)return null==(n=this.showNode.children[0])||null==(n=n.getComponent(S))||n.updateRevealedData(t[0]),0;if(this._spinningState!==P.ACCELERATING&&this._spinningState!==P.CONSTANT_SPINNING)return 0;if(this.startDisplay(),this._constantSpinningTimeout=e,this._spinningState===P.CONSTANT_SPINNING){var o=this._elapsedTime-this._spinProcessConfig.constant.duration;this._constantSpinningTimeout=Math.max(e,o)}return this._targetSymbolDatas=t,this._waitingForHighlight=!1,this._manualStopping?this._jumpToBouncingOutProcessing():this._spinSpeedType===_.ESpinSpeedType.DEFAULT&&(this._waitingForHighlight=i),this._constantSpinningTimeout},a.manuallyStop=function(){this._manualStopping||this._spinSpeedType!==_.ESpinSpeedType.DEFAULT||this._spinningState===P.IDLE||this._spinningState===P.BOUNCING_OUT||this._spinningState===P.BOUNCING_IN||(this._manualStopping=!0,this._jumpToBouncingOutProcessing())},a.update=function(t){if(this._spinningState!==P.IDLE){var e=this._elapsedTime;switch(this._elapsedTime+=t,this._spinningState){case P.ACCELERATING:var i,n,o=this._spinProcessConfig.acceleration,s=null!=(i=u[null!=(n=o.easing)?n:"linear"])?i:u.linear,a=0===o.duration?0:s(e/o.duration),r=0===o.duration?1:s(d.clamp01(this._elapsedTime/o.duration)),l=d.lerp(0,o.distance,a),h=d.lerp(0,o.distance,r);if(this._moveSymbols(h-l),this._elapsedTime>=o.duration){var c=this._elapsedTime-o.duration;this._afterAccelerating(),this._beforeConstantSpinning(),c>0&&this.update(c)}break;case P.CONSTANT_SPINNING:var p=this._spinProcessConfig.constant,g=0===p.duration?p.distance:p.distance/p.duration;this._moveSymbols(g*t),this._elapsedTime>=p.duration+this._constantSpinningTimeout&&this._targetSymbolDatas&&(this._spinSpeedType!==_.ESpinSpeedType.DEFAULT||!this._waitingForHighlight)&&(this._afterConstantSpinning(),this._beforeDecelerating());break;case P.DECELERATING:var m,S,f=this._spinProcessConfig.deceleration,N=null!=(m=u[null!=(S=f.easing)?S:"linear"])?m:u.linear,b=0===f.duration?0:N(e/f.duration),y=0===f.duration?1:N(d.clamp01(this._elapsedTime/f.duration)),E=f.distance>0?Math.floor:Math.ceil,I=E(d.lerp(0,f.distance,b)),v=E(d.lerp(0,f.distance,y));if(this._moveSymbols(v-I),this._elapsedTime>=f.duration){var T=this._elapsedTime-f.duration;this._afterDecelerating(),this._beforeBouncingOut(),T>0&&this.update(T)}break;case P.BOUNCING_OUT:var C=this._spinProcessConfig.bounce,D=u.sineOut,O=0===C.duration?0:D(e/C.duration),L=0===C.duration?1:D(d.clamp01(this._elapsedTime/C.duration)),R=d.lerp(0,C.distance,O),M=d.lerp(0,C.distance,L);if(this._moveSymbols(M-R),this._elapsedTime>=C.duration){var B=this._elapsedTime-C.duration;this._afterBouncingOut(),this._beforeBouncingIn(),B>0&&this.update(B)}break;case P.BOUNCING_IN:var A=this._spinProcessConfig.bounce,w=u.sineIn,G=0===A.duration?0:w(e/A.duration),x=0===A.duration?1:w(d.clamp01(this._elapsedTime/A.duration)),Y=d.lerp(0,-A.distance,G),k=d.lerp(0,-A.distance,x);this._moveSymbols(k-Y),this._elapsedTime>=A.duration&&this._afterBouncingIn()}}},a.changeGameMode=function(t,e){if(this._gameMode=t,this._gameMode===_.EGameMode.NORMAL)this._bonusStartTime=0,[this.showNode,this.symbolsRootNode].forEach((function(t){t.children.forEach((function(t){var e=t.getComponent(S);e&&(e.removeStickiness(),e.resetBonusAfterPaying(),e.stickable=!0,e.idle())}))}));else{this._bonusStartTime=e;var i=.001*Math.max(0,Date.now()-this._bonusStartTime);this.showNode.children.forEach((function(t){var e;return null==(e=t.getComponent(S))?void 0:e.excite(i)})),[this.showNode,this.symbolsRootNode].forEach((function(t){t.children.forEach((function(t){var e=t.getComponent(S);e&&(e.stickable=!1)}))}))}},a.addSymbol=function(t){var e,i=null==(e=this.showNode.children[0])?void 0:e.getComponent(S);i&&(i.symbolData=t,i.active())},a.changeBet=function(t){var e,i=null==(e=this.showNode.children[0])?void 0:e.getComponent(S),n=.001*Math.max(0,Date.now()-this._bonusStartTime);i&&t&&(i.symbolData=t,this._gameMode===_.EGameMode.NORMAL?i.idle():i.excite(n)),[this.showNode,this.symbolsRootNode].forEach((function(t){t.children.forEach((function(t){var e=t.getComponent(S);e&&e.changeBet()}))}))},a.updateMultiplier=function(t){var e,i=null==(e=this.showNode.children[0])?void 0:e.getComponent(S);this._spinningState===P.IDLE&&i&&(i.multiple=t)},a.activeSymbol=function(){this.showNode.children.forEach((function(t){var e;return null==(e=t.getComponent(S))?void 0:e.active()}))},a.boostCollect=function(t){var e;null==(e=this.showNode.children[0])||null==(e=e.getComponent(S))||e.boostCollect(t)},a.reveal=function(){var t;null==(t=this.showNode.children[0])||null==(t=t.getComponent(S))||t.reveal()},a.collectBonus=function(){var t,e=null==(t=this.showNode.children[0])?void 0:t.getComponent(S);if(e&&e.revealed){var i=e.symbolType;i!==_.ESymbolType.BONUS&&i!==_.ESymbolType.JACKPOT||e.collect()}},a.recoverFromCollecting=function(){if(this._gameMode!==_.EGameMode.NORMAL){var t=.001*Math.max(0,Date.now()-this._bonusStartTime);this.showNode.children.forEach((function(e){var i=e.getComponent(S);i&&(i.resetBonusAfterCollecting(),i.excite(t))}))}},a.payBonus=function(){var t;null==(t=this.showNode.children[0])||null==(t=t.getComponent(S))||t.pay()},a.prepareForHighlight=function(){if(!this._waitingForHighlight)return-1;if(this._waitingForHighlight=!1,this._spinningState===P.ACCELERATING){var t=this._spinProcessConfig.acceleration.duration-this._elapsedTime;if(this._spinProcessConfig.deceleration.duration>=A)return t+this._spinProcessConfig.constant.duration+this._constantSpinningTimeout+this._spinProcessConfig.deceleration.duration-A;var e=A-this._spinProcessConfig.constant.duration-this._constantSpinningTimeout-this._spinProcessConfig.deceleration.duration;return e<=0?t-e:(this._constantSpinningTimeout+=e,t)}if(this._spinningState===P.CONSTANT_SPINNING){var i=this._spinProcessConfig.constant.duration+this._constantSpinningTimeout-this._elapsedTime;if(this._spinProcessConfig.deceleration.duration>=A)return i+this._spinProcessConfig.deceleration.duration-A;var n=A-i-this._spinProcessConfig.deceleration.duration;return n<=0?-n:(this._constantSpinningTimeout+=n,0)}return-1},a._beforeAccelerating=function(){var t,e=this;this.startDisplay(),this._spinningState=P.ACCELERATING,this._spinSpeedType=_.ESpinSpeedType.DEFAULT,this._elapsedTime=0,this._constantSpinningTimeout=0,this._waitingForHighlight=!1,this._targetSymbolDatas=null,this._manualStopping=!1;var i=p.SPIN_CONFIGURATION.default;p.turboSpin?(this._spinSpeedType=_.ESpinSpeedType.TURBO,i=p.SPIN_CONFIGURATION.turbo):p.quickSpin&&(this._spinSpeedType=_.ESpinSpeedType.QUICK,i=p.SPIN_CONFIGURATION.quick),this._spinProcessConfig=null!=(t=i[this._spinningIndex])?t:i[0],this.showNode.children.slice().forEach((function(t){return t.setParent(e.symbolsRootNode)})),this._sortSymbolNodes()},a._afterAccelerating=function(){this.endDisplay()},a._beforeConstantSpinning=function(){this._spinningState=P.CONSTANT_SPINNING,this._elapsedTime=0,this.symbolsRootNode.children.forEach((function(t,e){var i;null==(i=t.getComponent(S))||i.blur()})),this._backgroundDelegate&&(this._backgroundDelegate.blur=!0)},a._afterConstantSpinning=function(){this._constantSpinningTimeout=0},a._beforeDecelerating=function(){var t=this;this._spinningState=P.DECELERATING,this._elapsedTime=0;var e=this.symbolsRootNode.children,i=this._spinProcessConfig.deceleration,n=i.distance%p.SYMBOL_SIZE.height;if(e.forEach((function(i,n){var o;i.setPosition(0,p.SYMBOL_SIZE.height*(e.length-n-.5),0),null==(o=t._backgroundDelegate)||o.updateBackgroundPosition(n,i.position)})),i.distance>0)this._decelerationAvailableIndex=Math.ceil(i.distance/p.SYMBOL_SIZE.height)-2,0!==n&&this._moveSymbols(p.SYMBOL_SIZE.height-n);else if(i.distance<0)this._decelerationAvailableIndex=p.SYMBOLS_NUMBER_IN_REEL-Math.ceil(-i.distance/p.SYMBOL_SIZE.height)+1,0!==n&&this._moveSymbols(-p.SYMBOL_SIZE.height-n);else{var o;this.symbolsRootNode.children.forEach((function(i,n){var o,s,a=i.getComponent(S);a&&(a.symbolData=null!=(o=null==(s=t._targetSymbolDatas)?void 0:s[e.length-n-1])?o:p.generateRandomSymbol())}));var s=null==(o=e[this.symbolsRootNode.children.length-1-p.SYMBOLS_NUMBER_IN_REEL])?void 0:o.getComponent(S);s&&(s.symbolData={symbolID:0,bonusRate:0,multiple:1})}},a._afterDecelerating=function(){var t;this.symbolsRootNode.children.forEach((function(t,e){var i;null==(i=t.getComponent(S))||i.idle()})),this._backgroundDelegate&&(this._backgroundDelegate.blur=!1),g.runTask("reelStop",{spinSpeedType:this._spinSpeedType,manualStopping:this._manualStopping,reelIndex:this._index,spinningIndex:this._spinningIndex,symbol:null==(t=this._targetSymbolDatas)?void 0:t[0]}),this.endDisplay()},a._beforeBouncingOut=function(){this.startDisplay(),this._spinningState=P.BOUNCING_OUT,this._elapsedTime=0},a._afterBouncingOut=function(){},a._beforeBouncingIn=function(){this._spinningState=P.BOUNCING_IN,this._elapsedTime=0},a._afterBouncingIn=function(){var t=this;this._spinningState=P.IDLE,this._elapsedTime=0,this._sortSymbolNodes();for(var e=this.symbolsRootNode.children,i=-999,n=this._maxPositionYForShow-.5*p.SYMBOL_SIZE.height,o=this._minPositionYForShow+.5*p.SYMBOL_SIZE.height,s=0;s<e.length;s++){var a=e[s];if(a.position.y>o&&a.position.y<n){i=s;break}}if(e.slice(i,i+p.SYMBOLS_NUMBER_IN_REEL).forEach((function(e){return e.setParent(t.showNode)})),this._gameMode===_.EGameMode.NORMAL)this.showNode.children.forEach((function(t){var e=t.getComponent(S);e&&(p.isStickySymbolID(e.symbolData.symbolID)?e.stick():e.idle())}));else{var r=.001*Math.max(0,Date.now()-this._bonusStartTime);this.showNode.children.forEach((function(t){var e;return null==(e=t.getComponent(S))?void 0:e.excite(r)}))}this.endDisplay()},a._jumpToBouncingOutProcessing=function(){if(this._targetSymbolDatas){var t=this._targetSymbolDatas;this.symbolsRootNode.children.forEach((function(e,i){var n;e.setPosition(0,p.SYMBOL_SIZE.height*(i+.5),0);var o=e.getComponent(S);o&&(o.symbolData=null!=(n=0===i?t[i]:void 0)?n:{symbolID:0,bonusRate:0,multiple:1})})),this._afterDecelerating(),this._beforeBouncingOut()}},a._moveSymbols=function(t){var e=this;if(!(0===t||this.symbolsRootNode.children.length<=0)){var i,n=this.symbolsRootNode.children;if(t>0){var o=-this._clampInCycle(n[0].position.y-.5*p.SYMBOL_SIZE.height,-p.SYMBOL_SIZE.height,0),s=0===o?Math.floor(t/p.SYMBOL_SIZE.height):Math.floor(1+(t-o)/p.SYMBOL_SIZE.height);if(s>0){if(s>n.length){var a=s%n.length;i=n.slice(a,n.length).concat(n.slice(0,a)),this._spinningState===P.DECELERATING&&(this._decelerationAvailableIndex-=s-n.length)}else i=n.slice(0,s);i.forEach((function(t){var i=e._spinningState===P.DECELERATING?e._decelerationAvailableIndex--:-999,n=t.getComponent(S);if(n){var o,s;if(e._spinningState===P.DECELERATING&&(-1===i||1===i)||e._spinningState===P.BOUNCING_OUT||e._spinningState===P.BOUNCING_IN)n.symbolData={symbolID:0,bonusRate:0,multiple:1};else n.symbolData=null!=(o=null==(s=e._targetSymbolDatas)?void 0:s[i])?o:p.generateRandomSymbol();e._spinningState===P.CONSTANT_SPINNING||e._spinningState===P.DECELERATING?n.blur():n.idle()}}))}}else{var r=-this._clampInCycle(n[0].position.y-.5*p.SYMBOL_SIZE.height,0,p.SYMBOL_SIZE.height),l=0===r?Math.floor(-t/p.SYMBOL_SIZE.height):Math.floor(1+(r-t)/p.SYMBOL_SIZE.height);if(l>0){if(l>n.length){var h=l%n.length;i=n.slice(n.length-h,n.length).concat(n.slice(0,n.length-h)).reverse(),this._spinningState===P.DECELERATING&&(this._decelerationAvailableIndex+=l-n.length)}else i=n.slice(n.length-l,n.length).reverse();i.forEach((function(t){var i=e._spinningState===P.DECELERATING?e._decelerationAvailableIndex++:999,n=t.getComponent(S);if(n){var o,s;if(e._spinningState===P.DECELERATING&&(-1===i||1===i)||e._spinningState===P.BOUNCING_OUT||e._spinningState===P.BOUNCING_IN)n.symbolData={symbolID:0,bonusRate:0,multiple:1};else n.symbolData=null!=(o=null==(s=e._targetSymbolDatas)?void 0:s[i])?o:p.generateRandomSymbol();e._spinningState===P.CONSTANT_SPINNING||e._spinningState===P.DECELERATING?n.blur():n.idle()}}))}}this.symbolsRootNode.children.forEach((function(i,n){var o,s=i.position.y+t;t>0?(s>=e._maxPositionYForShow&&(s=e._clampInCycle(s,e._minPositionYForPlace,e._maxPositionYForShow)),i.setPosition(i.position.x,s,0)):(s<=e._minPositionYForShow&&(s=e._clampInCycle(s,e._maxPositionYForPlace,e._minPositionYForShow)),i.setPosition(i.position.x,s,0)),null==(o=e._backgroundDelegate)||o.updateBackgroundPosition(n,i.position)})),this._sortSymbolNodes()}},a._sortSymbolNodes=function(){this.symbolsRootNode.children.slice().sort((function(t,e){return t.position.y-e.position.y})).forEach((function(t){return t.setSiblingIndex(0)}))},a._clampInCycle=function(t,e,i){if(e===i)return t;var n=e,o=i;e>i&&(n=i,o=e);var s=o-n;return n+((t-n)%s+s)%s},a._onSymbolEvent=function(t,e){if(!(this.showNode.children.indexOf(t.node)<0))switch(e){case"afterSticking":t.idle();break;case"beforeCollecting":t.symbolData.multiple>=2&&this.startDisplay();break;case"beforeRevealing":case"beforeBoostCollecting":case"beforePaying":this.startDisplay();break;case"afterRevealing":if(this.endDisplay(),this._gameMode!==_.EGameMode.NORMAL){var i=.001*Math.max(0,Date.now()-this._bonusStartTime);this.showNode.children.forEach((function(t){var e;return null==(e=t.getComponent(S))?void 0:e.excite(i)}))}break;case"afterBoostCollecting":if(this._gameMode!==_.EGameMode.NORMAL){var n=.001*Math.max(0,Date.now()-this._bonusStartTime);this.showNode.children.forEach((function(t){var e;return null==(e=t.getComponent(S))?void 0:e.excite(n)}))}this.endDisplay();break;case"onCollectWithMultiplier":case"onPay":this.endDisplay()}},s(e,[{key:"index",get:function(){return this._index}},{key:"spinningIndex",get:function(){return this._spinningIndex}},{key:"backgroundDelegate",set:function(t){this._backgroundDelegate=t}}]),e}(m)).prototype,"symbolsRootNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(T.prototype,"showNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(T.prototype,"symbolPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(T.prototype,"_index",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),v=T))||v)||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/RespinLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts"],(function(e){var i,s,t,n,a,o,r,p,c,u,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,s=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,r=e.sp},function(e){p=e.default},function(e){c=e.SubGameData},function(e){u=e.common},function(e){l=e.DisplayTaskManager}],execute:function(){var m,h,T,_,d,f;a._RF.push({},"9ccccrxtDNNdYM+qFmoSL+S","RespinLayer",void 0);var y=o.ccclass,S=o.menu,R=o.property;e("RespinLayer",(m=y("RespinLayer"),h=S(c.module+"/layers/RespinLayer"),T=R(r.Skeleton),m(_=h((f=i((d=function(e){function i(){for(var i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,t(i,"skeleton",f,n(i)),i._respinTimes=0,i}s(i,e);var a=i.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),l.addHandler(this)},a.onTaskInit=function(e,i){this._respinTimes=0,this.node.active=!1},a.onTaskRestore=function(e,i){if(i.gameMode===u.EGameMode.NORMAL)this._respinTimes=0,this.node.active=!1;else switch(this._respinTimes=i.freeTimesRemaining,this.node.active=!0,this._respinTimes){case 0:case 1:case 2:this._updateRespinTimes(this._respinTimes+1,this._respinTimes,!1);break;default:this._updateRespinTimes(0,3,!1)}},a.onTaskSpinStart=function(e,i){i.spinType===u.ESpinType.FREE&&(this._respinTimes=Math.max(0,this._respinTimes-1),this._updateRespinTimes(this._respinTimes+1,this._respinTimes,!0))},a.onTaskChangeMode=function(e,i){i.nextMode===u.EGameMode.BONUS?(this.node.active=!0,this._respinTimes=c.MAX_RESPIN_TIMES,this._updateRespinTimes(0,c.MAX_RESPIN_TIMES,!1)):(this._respinTimes=0,this.node.active=!1)},a.onTaskReelStop=function(e,i){var s,t;!this.node.active||this._respinTimes>=c.MAX_RESPIN_TIMES||c.getSymbolType(null!=(s=null==(t=i.symbol)?void 0:t.symbolID)?s:0)===u.ESymbolType.NONE||(this._updateRespinTimes(this._respinTimes,c.MAX_RESPIN_TIMES,!0),this._respinTimes=c.MAX_RESPIN_TIMES)},a._updateRespinTimes=function(e,i,s){var t="ani"+e+"_"+i+"ge";this.skeleton.findAnimation(t)&&(this.skeleton.paused=!1,this.skeleton.setAnimation(0,t,!1),s||(this.skeleton.updateAnimation(999),this.skeleton.paused=!0))},i}(p)).prototype,"skeleton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=d))||_)||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenHelper2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(e){var r,n,t,i;return{setters:[function(e){r=e.createClass},function(e){n=e.cclegacy,t=e.size},function(e){i=e.Global}],execute:function(){n._RF.push({},"d43b1CgL59MJI20l8q7kBAC","ScreenHelper",void 0),e("ScreenHelper",function(){function e(){}return r(e,null,[{key:"renderSize",get:function(){return"portrait"===App.utils.getOrientation()?this._renderSize.set(Math.min(i.real_screen_width,i.background_height),Math.min(i.real_screen_height,i.background_width)):this._renderSize.set(Math.min(i.real_screen_width,i.background_width),Math.min(i.real_screen_height,i.background_height)),this._renderSize}}]),e}())._renderSize=t(0,0),n._RF.pop()}}}));

System.register("chunks:///_virtual/SelectionLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./NumberCurrency.ts","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts","./AudioHelper4.ts"],(function(e){var n,t,r,i,o,u,a,c,s,l,p,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,u=e._decorator},function(e){a=e.default},function(e){c=e.NumberCurrency},function(e){s=e.SubGameData},function(e){l=e.common},function(e){p=e.DisplayTaskManager},function(e){y=e.AudioHelper}],execute:function(){var S,f,_,d,B,m,E,b;o._RF.push({},"e841erXD99Ky7UICg+yZ/pw","SelectionLayer",void 0);var h=u.ccclass,U=u.menu,N=u.property;e("SelectionLayer",(S=h("SelectionLayer"),f=U(s.module+"/layers/SelectionLayer"),_=N(c),d=N(c),S(B=f((E=n((m=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return n=e.call.apply(e,[this].concat(o))||this,r(n,"bonusPriceNumberCurrency",E,i(n)),r(n,"ultraBonusPriceNumberCurrency",b,i(n)),n}t(n,e);var o=n.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),p.addHandler(this),this.node.active=!1},o.onTaskInit=function(e,n){this.node.active=!1,this._updatePrices()},o.onTaskRestore=function(e,n){this.node.active=!1,this._updatePrices()},o.onTaskChangeBet=function(e,n){this._updatePrices()},o.onTaskOpenSelection=function(e,n){this.node.active=!0,y.instance.playSoundEffect(s.AUDIO_URLS.SE_BUY_OPEN)},o.onCloseButtonClick=function(){this.node.active=!1,y.instance.playSoundEffect(s.AUDIO_URLS.SE_BUY_CLOSE)},o.onBuyButtonClick=function(e,n){var t,r="ultra"===n?l.EBonusGameType.ULTRA_BONUS:l.EBonusGameType.BONUS,i=s.BONUS_GAME_PRICE_RATES_HASH[r];y.instance.playSoundEffect(s.AUDIO_URLS.SE_BUY_CONFIRM),App.utils.notEnoughScore(s.balance,s.totalBet*i)||(null==(t=s.spinRequestor)||t.request(l.ESpinRequestType.BUY_BONUS_GAME,r),this.node.active=!1)},o._updatePrices=function(){this.bonusPriceNumberCurrency.updateNumber(s.totalBet*s.BONUS_GAME_PRICE_RATES_HASH[l.EBonusGameType.BONUS]),this.ultraBonusPriceNumberCurrency.updateNumber(s.totalBet*s.BONUS_GAME_PRICE_RATES_HASH[l.EBonusGameType.ULTRA_BONUS])},n}(a)).prototype,"bonusPriceNumberCurrency",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(m.prototype,"ultraBonusPriceNumberCurrency",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=m))||B)||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/Shrinker4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts"],(function(e){var t,i,r,n,h,a,o,s,c,S,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,h=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.Size,c=e.Node,S=e.UITransform,l=e.Component,u=e.size},function(e){p=e.SubGameData}],execute:function(){var m,z,f,d,x,y,_,g;a._RF.push({},"de76amUqylLQKykb+q6uQm0","Shrinker",void 0);var v=o.ccclass,w=o.executeInEditMode,b=o.menu,D=o.property;e("Shrinker",(m=v("Shrinker"),z=b(p.module+"/components/Shrinker"),f=w(!0),d=D(s),x=D({serializable:!0}),m(y=z(y=f((t((_=function(e){function t(){for(var t,i=arguments.length,h=new Array(i),a=0;a<i;a++)h[a]=arguments[a];return t=e.call.apply(e,[this].concat(h))||this,r(t,"_maxSize",g,n(t)),t}i(t,e);var a=t.prototype;return a.onEnable=function(){this.node.on(c.EventType.SIZE_CHANGED,this._refreshScale,this),this._refreshScale()},a.onDisable=function(){this.node.off(c.EventType.SIZE_CHANGED,this._refreshScale,this)},a._refreshScale=function(){var e=this.getComponent(S);if(e){var t=1;this.maxSize.width>0&&e.contentSize.width>this.maxSize.width&&(t=this.maxSize.width/e.contentSize.width);var i=1;this.maxSize.height>0&&e.contentSize.height>this.maxSize.height&&(i=this.maxSize.height/e.contentSize.height);var r=Math.min(t,i);this.node.setScale(r,r,1)}},h(t,[{key:"maxSize",get:function(){return this._maxSize},set:function(e){e.width===this._maxSize.width&&e.height===this._maxSize.height||(this._maxSize.width=e.width,this._maxSize.height=e.height,this._refreshScale())}}]),t}(l)).prototype,"maxSize",[d],Object.getOwnPropertyDescriptor(_.prototype,"maxSize"),_.prototype),g=t(_.prototype,"_maxSize",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u(0,0)}}),y=_))||y)||y)||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/slot310000009",["./BigWinLayer8.ts","./GameEntry23.ts","./GameLogic23.ts","./AutoFittableBackground4.ts","./DebugVersion4.ts","./ExBannerContentProvider8.ts","./LoadingInputBlocker.ts","./Shrinker4.ts","./Sticker.ts","./SubGameData23.ts","./SubGameDefines23.ts","./SubGameLanguage23.ts","./Defines4.ts","./Display4.ts","./FlashPoint.ts","./Jackpot2.ts","./Multiplier2.ts","./Symbol4.ts","./SymbolBackground2.ts","./AudioHelper4.ts","./LoadingHelper4.ts","./ScreenHelper2.ts","./BackgroundLayer3.ts","./BigWinControllerLayer2.ts","./BoostLayer.ts","./BuildingLayer.ts","./BuyLayer2.ts","./ControllerLayer3.ts","./EffectLayer3.ts","./JackpotLayer3.ts","./MainLayer.ts","./MainOverlayLayer.ts","./MultiplierLayer2.ts","./ReelBackgroundLayer.ts","./ReelLayer2.ts","./RespinLayer.ts","./SelectionLayer2.ts","./SlotLayer3.ts","./ThrowingLayer.ts","./TotalWinLayer.ts","./TransitionLayer2.ts","./GameHandler23.ts","./GameSender23.ts","./Protocol24.ts","./SymbolNodePool4.ts","./BaseView2.ts","./HelpView14.ts","./IntroView4.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SlotLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts","./AudioHelper4.ts","./ReelBackgroundLayer.ts","./ReelLayer2.ts"],(function(e){var t,n,i,o,l,s,a,r,h,d,u,g,c,p,y,S,L,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,a=e._decorator,r=e.Node,h=e.sp,d=e.Tween,u=e.tween},function(e){g=e.CommonEvent},function(e){c=e.SubGameData},function(e){p=e.common},function(e){y=e.DisplayTaskManager,S=e.Display},function(e){L=e.AudioHelper},function(e){f=e.ReelBackgroundLayer},function(e){m=e.ReelLayer}],execute:function(){var k,E,_,v,R,I,T,b,x,M,A,N,D,B,O,C,F,H;s._RF.push({},"146657n+EtCiqXNDSxkjzQl","SlotLayer",void 0);var U=a.ccclass,G=a.menu,w=a.property;e("SlotLayer",(k=U("SlotLayer"),E=G(c.module+"/layers/SlotLayer"),_=w(r),v=w([f]),R=w(r),I=w([m]),T=w(h.Skeleton),b=w(h.Skeleton),x=w(h.Skeleton),k(M=E((N=t((A=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,i(t,"middleFrameNode",N,o(t)),i(t,"reelBackgroundLayersList",D,o(t)),i(t,"reelLayersRootNode",B,o(t)),i(t,"reelLayersList",O,o(t)),i(t,"highlightSkeleton",C,o(t)),i(t,"triggerSkeleton",F,o(t)),i(t,"flashSkeleton",H,o(t)),t._highlightReelIndex=void 0,t._symbolLandedSoundFlagsMap=new Map,t}n(t,e);var s=t.prototype;return s.onLoad=function(){var t=this;e.prototype.onLoad.call(this),y.addHandler(this),this.highlightSkeleton.setCompleteListener(this._onHighlightSkeletonAnimationComplete.bind(this)),this.flashSkeleton.setCompleteListener(this._onFlashSkeletonAnimationComplete.bind(this)),this.reelLayersRootNode.on(r.EventType.TOUCH_END,this._onSlotTouchEnd,this),this.reelLayersList.forEach((function(e,n){return e.backgroundDelegate=t.reelBackgroundLayersList[n]})),this.highlightSkeleton.node.active=!1,this.triggerSkeleton.node.active=!1},s.onDestroy=function(){this.reelLayersRootNode.isValid&&this.reelLayersRootNode.off(r.EventType.TOUCH_END,this._onSlotTouchEnd,this),e.prototype.onDestroy.call(this)},s.onTaskInit=function(e,t){this.stopAllDisplays(),this._highlightReelIndex=void 0,this._symbolLandedSoundFlagsMap.clear(),d.stopAllByTarget(this.node),d.stopAllByTarget(this.highlightSkeleton.node),this.middleFrameNode.active=!0,this.highlightSkeleton.node.active=!1,this.triggerSkeleton.node.active=!1,this.flashSkeleton.node.active=!1,this._sortReelNodes(),this.reelBackgroundLayersList.forEach((function(e,n){return e.reset([t.symbolsList[n]],p.EGameMode.NORMAL)})),this.reelLayersList.forEach((function(e,n){return e.reset([t.symbolsList[n]],p.EGameMode.NORMAL,0)}))},s.onTaskRestore=function(e,t){this.stopAllDisplays(),this._highlightReelIndex=void 0,this._symbolLandedSoundFlagsMap.clear(),d.stopAllByTarget(this.node),d.stopAllByTarget(this.highlightSkeleton.node),this.middleFrameNode.active=t.gameMode===p.EGameMode.NORMAL,this.highlightSkeleton.node.active=!1,this.triggerSkeleton.node.active=!1,this._sortReelNodes();var n=t.gameMode===p.EGameMode.NORMAL?0:Date.now();this.reelBackgroundLayersList.forEach((function(e,n){return e.reset([t.symbolsList[n]],t.gameMode)})),this.reelLayersList.forEach((function(e,i){return e.reset([t.symbolsList[i]],t.gameMode,n)}))},s.onTaskSpinStart=function(e,t){var n,i=this;t.spinType===p.ESpinType.FREE?null==(n=c.spinRequestor)||n.request(p.ESpinRequestType.FREE_SPIN):t.spinType===p.ESpinType.BET&&(this.flashSkeleton.node.active=!0,this.flashSkeleton.setAnimation(0,"ani_3Loosen",!1));this._highlightReelIndex=void 0,this._symbolLandedSoundFlagsMap.clear();var o=0;c.SPINNING_SEQUENCE.forEach((function(e){var n=i.reelLayersList[e];n&&n.startSpinning(t.spinType,o)&&++o}))},s.onTaskMultiplierUpdate=function(e,t){var n,i;null==(n=this.reelBackgroundLayersList[t.reelIndex])||n.updateMultiplier(t.multiple,t.delay),null==(i=this.reelLayersList[t.reelIndex])||i.updateMultiplier(t.multiple)},s.onTaskSpinStop=function(e,t){this._highlightReelIndex=t.highlightIndex;var n=-1,i=0;if(this.reelLayersList.forEach((function(e,o){n=Math.max(n,e.spinningIndex);var l=e.stopSpinning([t.symbolsList[o]],i,o===t.highlightIndex);i=Math.max(i,l)})),null!==this._highlightReelIndex&&void 0!==this._highlightReelIndex&&0===n)for(var o,s=l(this.reelLayersList);!(o=s()).done;){var a=o.value;if(a.index===this._highlightReelIndex&&0===a.spinningIndex){this._startHighlightingReel(a);break}}},s.onTaskShowSymbol=function(e,t){var n,i=this;this.startDisplay(),d.stopAllByTarget(this.node),u(this.node).delay(1).call((function(){return i.endDisplay()})).start(),null==(n=this.reelLayersList[t.reelIndex])||n.addSymbol(t.symbol)},s.onTaskTriggerbonusGame=function(e,t){var n=this;this.startDisplay(),d.stopAllByTarget(this.node),u(this.node).delay(1.5).call((function(){return n.endDisplay()})).start(),this.triggerSkeleton.node.active=!0,this.triggerSkeleton.setAnimation(0,"animation",!0),this.reelLayersList.forEach((function(e,t){return e.activeSymbol()})),L.instance.playSoundEffect(c.AUDIO_URLS.SE_TRIGGER_BONUS_GAME)},s.onTaskRevealMystery=function(e,t){var n;null==(n=this.reelLayersList[t.reelIndex])||n.reveal()},s.onTaskComputeBoostBonus=function(e,t){var n;null==(n=this.reelLayersList[t.reelIndex])||n.collectBonus()},s.onTaskIncreaseBoostBonus=function(e,t){var n;null==(n=this.reelLayersList[t.reelIndex])||n.boostCollect(t.bonusRate)},s.onTaskBoostCollectComplete=function(e,t){this.reelLayersList.forEach((function(e){return e.recoverFromCollecting()}))},s.onTaskComputeWinningBonus=function(e,t){var n;null==(n=this.reelLayersList[t.reelIndex])||n.payBonus()},s.onTaskManualStop=function(e,t){null!==this._highlightReelIndex&&void 0!==this._highlightReelIndex||this.reelLayersList.forEach((function(e,t){return e.manuallyStop()}))},s.onTaskChangeMode=function(e,t){var n=t.nextMode===p.EGameMode.NORMAL?0:Date.now();this.middleFrameNode.active=t.nextMode===p.EGameMode.NORMAL,this.highlightSkeleton.node.active=!1,this.triggerSkeleton.node.active=!1,this.reelBackgroundLayersList.forEach((function(e,n){return e.changeGameMode(t.nextMode)})),this.reelLayersList.forEach((function(e,i){return e.changeGameMode(t.nextMode,n)}))},s.onTaskChangeBet=function(e,t){this.reelLayersList.forEach((function(e,n){return e.changeBet(t.symbolList[n])}))},s.onTaskReelStop=function(e,t){var n,i,o=null!=(n=null==(i=t.symbol)?void 0:i.symbolID)?n:-1,s="";if(this.highlightSkeleton.node.active&&t.reelIndex===this._highlightReelIndex&&(s=c.AUDIO_URLS.SE_REEL_HIGHLIGHT_WIN),c.isStickySymbolID(o)?s=c.AUDIO_URLS.SE_SYMBOL_STICKY_APPEAR:c.getSymbolType(o)!==p.ESymbolType.NONE&&(s=c.AUDIO_URLS.SE_SYMBOL_APPEAR),t.spinSpeedType!==p.ESpinSpeedType.DEFAULT||t.manualStopping?(0===t.spinningIndex&&L.instance.playSoundEffect(c.AUDIO_URLS.SE_REEL_STOP),s&&!this._symbolLandedSoundFlagsMap.has(s)&&(this._symbolLandedSoundFlagsMap.set(s,!0),L.instance.playOneShotSoundEffect(s))):(L.instance.playOneShotSoundEffect(c.AUDIO_URLS.SE_REEL_STOP),s&&L.instance.playOneShotSoundEffect(s)),t.spinSpeedType===p.ESpinSpeedType.DEFAULT&&null!==this._highlightReelIndex&&void 0!==this._highlightReelIndex)for(var a,r=l(this.reelLayersList);!(a=r()).done;){var h=a.value;if(h.index===this._highlightReelIndex&&h.spinningIndex===t.spinningIndex+1){this._startHighlightingReel(h);break}}},s._sortReelNodes=function(){this.reelLayersRootNode.children.sort((function(e,t){var n,i,o,l;return(null!=(n=null==(i=e.getComponent(m))?void 0:i.index)?n:999)-(null!=(o=null==(l=t.getComponent(m))?void 0:l.index)?o:999)}))},s._startHighlightingReel=function(e){var t=this;d.stopAllByTarget(this.highlightSkeleton.node);var n=e.prepareForHighlight();n>=0&&u(this.highlightSkeleton.node).delay(n).call((function(){t.highlightSkeleton.node.active=!0,t.highlightSkeleton.node.setPosition(e.node.position),t.highlightSkeleton.setAnimation(0,"ani",!1),null!==t._highlightReelIndex&&void 0!==t._highlightReelIndex&&y.runTask("reelHighlight",{reelIndex:t._highlightReelIndex}),L.instance.playSoundEffect(c.AUDIO_URLS.SE_REEL_HIGHLIGHT),L.instance.requestLoweringMusicVolume(.4,"reelHighlight")})).start()},s._onHighlightSkeletonAnimationComplete=function(e){"ani"===e.animation.name&&(this.highlightSkeleton.node.active=!1,L.instance.revokeLoweringMusicVolume("reelHighlight"))},s._onFlashSkeletonAnimationComplete=function(e){this.flashSkeleton.node.active=!1},s._onSlotTouchEnd=function(){dispatch(g.NOTIFY_CLICK_SPIN)},t}(S)).prototype,"middleFrameNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(A.prototype,"reelBackgroundLayersList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(A.prototype,"reelLayersRootNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(A.prototype,"reelLayersList",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(A.prototype,"highlightSkeleton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(A.prototype,"triggerSkeleton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(A.prototype,"flashSkeleton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=A))||M)||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/Sticker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Global.ts","./CommonEvent.ts","./SubGameData23.ts","./ScreenHelper2.ts"],(function(i){var t,o,n,e,s,r,a,h,l,c,g,_,P,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,n=i.initializerDefineProperty,e=i.assertThisInitialized,s=i.createClass},function(i){r=i.cclegacy,a=i._decorator,h=i.Enum,l=i.v3},function(i){c=i.default},function(i){g=i.Global},function(i){_=i.CommonEvent},function(i){P=i.SubGameData},function(i){u=i.ScreenHelper}],execute:function(){var d,p,y,f,O,T,z,S;r._RF.push({},"ff920PuinxByo29HDYyXLDU","Sticker",void 0);var b=a.ccclass,k=a.executeInEditMode,m=a.menu,w=a.property,E=function(i){return i[i.TOP=0]="TOP",i[i.RIGHT=1]="RIGHT",i[i.BOTTOM=2]="BOTTOM",i[i.LEFT=3]="LEFT",i}(E||{});i("Sticker",(d=b("Sticker"),p=m(P.module+"/components/Sticker"),y=k(!0),f=w({type:h(E)}),O=w({type:h(E)}),d(T=p(T=y((t((z=function(i){function t(){for(var t,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,n(t,"_location",S,e(t)),t._originalPosition=l(),t}o(t,i);var r=t.prototype;return r.onLoad=function(){i.prototype.onLoad.call(this),this.onD(_.SWITCH_SCREEN,this._onOrientationChange),this._originalPosition.set(this.node.position)},r.onEnable=function(){var t;null==(t=i.prototype.onEnable)||t.call(this),this._onOrientationChange(App.utils.getOrientation())},r.updateOriginalPosition=function(i,t,o){i===this._originalPosition.x&&t===this._originalPosition.y&&o===this._originalPosition.z||(this._originalPosition.set(i,t,o),this._onOrientationChange(App.utils.getOrientation()))},r._onOrientationChange=function(i){if("portrait"===i)switch(this._location){case E.TOP:this.node.setPosition(this._originalPosition.x,this._originalPosition.y-.5*(g.design_width-u.renderSize.height),this._originalPosition.z);break;case E.RIGHT:this.node.setPosition(this._originalPosition.x-.5*(g.design_height-u.renderSize.width),this._originalPosition.y,this._originalPosition.z);break;case E.BOTTOM:this.node.setPosition(this._originalPosition.x,this._originalPosition.y+.5*(g.design_width-u.renderSize.height),this._originalPosition.z);break;case E.LEFT:this.node.setPosition(this._originalPosition.x+.5*(g.design_height-u.renderSize.width),this._originalPosition.y,this._originalPosition.z)}else switch(this._location){case E.TOP:this.node.setPosition(this._originalPosition.x,this._originalPosition.y-.5*(g.design_height-u.renderSize.height),this._originalPosition.z);break;case E.RIGHT:this.node.setPosition(this._originalPosition.x-.5*(g.design_width-u.renderSize.width),this._originalPosition.y,this._originalPosition.z);break;case E.BOTTOM:this.node.setPosition(this._originalPosition.x,this._originalPosition.y+.5*(g.design_height-u.renderSize.height),this._originalPosition.z);break;case E.LEFT:this.node.setPosition(this._originalPosition.x+.5*(g.design_width-u.renderSize.width),this._originalPosition.y,this._originalPosition.z)}},s(t,[{key:"location",get:function(){return this._location},set:function(i){i!==this._location&&(this._location=i,this._onOrientationChange(App.utils.getOrientation()))}}]),t}(c)).prototype,"location",[f],Object.getOwnPropertyDescriptor(z.prototype,"location"),z.prototype),S=t(z.prototype,"_location",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.TOP}}),T=z))||T)||T)||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameData23.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./SubGameDefines23.ts"],(function(n){var a,i,e,t,o,_,d;return{setters:[function(n){a=n.inheritsLoose,i=n.createClass},function(n){e=n.cclegacy,t=n.size,o=n.math},function(n){_=n.GameData},function(n){d=n.common}],execute:function(){var c,s,u,r,E,S;e._RF.push({},"10f6e/RmZNBhY6OQE3NUsgY","SubGameData",void 0);var l=n("SubGameData",function(n){function e(){return n.apply(this,arguments)||this}return a(e,n),e.setLoadingTaskProgress=function(n,a){this._loadingTasks[n]=Math.min(Math.max(0,a),1)},e.transformSymbolDataFromServer=function(n){return{symbolID:n.before,revealedSymbolID:n.before!==n.after?n.after:void 0,bonusRate:1e-6*n.num,multiple:n.mul}},e.getSymbolType=function(n){var a;return null!=(a=this.SYMBOL_ID_TO_TYPE_HASH[n])?a:d.ESymbolType.NONE},e.getJackpotTypeOfSymbol=function(n){return this.SYMBOL_ID_TO_JACKPOT_TYPE_HASH[n]},e.isStickySymbolID=function(n){var a=this.STICKY_TO_UNSTICKY_SYMBOL_ID_HASH[n];return null!=a},e.changeIntoUnstickySymbolID=function(n){var a;return null!=(a=this.STICKY_TO_UNSTICKY_SYMBOL_ID_HASH[n])?a:n},e.generateRandomSymbol=function(){var n,a=this._RANDOM_SYMBOL_IDS[o.randomRangeInt(0,this._RANDOM_SYMBOL_IDS.length)],i=void 0,e=0;switch(this.getSymbolType(a)===d.ESymbolType.MYSTERY&&(i=this._RANDOM_MYSTERIABLE_SYMBOL_IDS[o.randomRangeInt(0,this._RANDOM_MYSTERIABLE_SYMBOL_IDS.length)]),null!=(n=i)?n:a){case 1:e=o.randomRangeInt(1,6);break;case 2:e=o.randomRangeInt(5,10);break;case 5:e=this.JACKPOT_BONUS_RATES_HASH[d.EJackpotType.MINI];break;case 6:e=this.JACKPOT_BONUS_RATES_HASH[d.EJackpotType.MINOR];break;case 7:e=this.JACKPOT_BONUS_RATES_HASH[d.EJackpotType.MAJOR];break;case 8:e=this.JACKPOT_BONUS_RATES_HASH[d.EJackpotType.GRAND]}return{symbolID:a,revealedSymbolID:i,bonusRate:e,multiple:1}},i(e,null,[{key:"loadingProgress",get:function(){var n=0,a=0;for(var i in this._loadingTasks){var e=i;n+=this._loadingTasks[e],++a}return n/a}}]),e}(_));c=l,l.module="slot310000009",l.INITIAL_SYMBOLS_LIST=[{symbolID:6,bonusRate:0,multiple:1},{symbolID:9,bonusRate:0,multiple:1},{symbolID:6,bonusRate:0,multiple:1},{symbolID:6,bonusRate:0,multiple:1},{symbolID:9,bonusRate:0,multiple:1},{symbolID:6,bonusRate:0,multiple:1},{symbolID:7,bonusRate:0,multiple:1},{symbolID:9,bonusRate:0,multiple:1},{symbolID:7,bonusRate:0,multiple:1}],l.BONUS_GAME_PRICE_RATES_HASH=((s={})[d.EBonusGameType.BONUS]=30,s[d.EBonusGameType.ULTRA_BONUS]=75,s),l.MAX_RESPIN_TIMES=3,l.REELS_NUMBER=9,l.REEL_SPACING=t(6,7),l.SYMBOLS_NUMBER_IN_REEL=1,l.SYMBOLS_NUMBER=c.REELS_NUMBER*c.SYMBOLS_NUMBER_IN_REEL,l.SYMBOL_SIZE=t(214,182),l.REEL_HEIGHT=c.SYMBOL_SIZE.height*c.SYMBOLS_NUMBER_IN_REEL,l.SPIN_CONFIGURATION={default:[{acceleration:{duration:.15,distance:-182,easing:"sineIn"},constant:{duration:.4,distance:-910},deceleration:{duration:.45,distance:-910},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.15,distance:-182,easing:"sineIn"},constant:{duration:.56,distance:-1274},deceleration:{duration:.45,distance:-910},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.15,distance:-182,easing:"sineIn"},constant:{duration:.72,distance:-1638},deceleration:{duration:.45,distance:-910},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.15,distance:-182,easing:"sineIn"},constant:{duration:.88,distance:-2002},deceleration:{duration:.45,distance:-910},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.15,distance:-182,easing:"sineIn"},constant:{duration:1.04,distance:-2366},deceleration:{duration:.45,distance:-910},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.15,distance:-182,easing:"sineIn"},constant:{duration:1.2,distance:-2730},deceleration:{duration:.45,distance:-910},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.15,distance:-182,easing:"sineIn"},constant:{duration:1.36,distance:-3094},deceleration:{duration:.45,distance:-910},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.15,distance:-182,easing:"sineIn"},constant:{duration:1.52,distance:-3458},deceleration:{duration:.45,distance:-910},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.15,distance:-182,easing:"sineIn"},constant:{duration:1.68,distance:-3822},deceleration:{duration:.45,distance:-910},bounce:{duration:.15,distance:-30}}],quick:[{acceleration:{duration:.2,distance:-91,easing:"expoIn"},constant:{duration:.5,distance:-1365},deceleration:{duration:.15,distance:-364},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.2,distance:-91,easing:"expoIn"},constant:{duration:.5,distance:-1365},deceleration:{duration:.15,distance:-364},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.2,distance:-91,easing:"expoIn"},constant:{duration:.5,distance:-1365},deceleration:{duration:.15,distance:-364},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.2,distance:-91,easing:"expoIn"},constant:{duration:.5,distance:-1365},deceleration:{duration:.15,distance:-364},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.2,distance:-91,easing:"expoIn"},constant:{duration:.5,distance:-1365},deceleration:{duration:.15,distance:-364},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.2,distance:-91,easing:"expoIn"},constant:{duration:.5,distance:-1365},deceleration:{duration:.15,distance:-364},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.2,distance:-91,easing:"expoIn"},constant:{duration:.5,distance:-1365},deceleration:{duration:.15,distance:-364},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.2,distance:-91,easing:"expoIn"},constant:{duration:.5,distance:-1365},deceleration:{duration:.15,distance:-364},bounce:{duration:.15,distance:-30}},{acceleration:{duration:.2,distance:-91,easing:"expoIn"},constant:{duration:.5,distance:-1365},deceleration:{duration:.15,distance:-364},bounce:{duration:.15,distance:-30}}],turbo:[{acceleration:{duration:.1,distance:-182,easing:"circIn"},constant:{duration:.35,distance:-2002},deceleration:{duration:0,distance:0},bounce:{duration:.033333,distance:-18}},{acceleration:{duration:.1,distance:-182,easing:"circIn"},constant:{duration:.35,distance:-2002},deceleration:{duration:0,distance:0},bounce:{duration:.033333,distance:-18}},{acceleration:{duration:.1,distance:-182,easing:"circIn"},constant:{duration:.35,distance:-2002},deceleration:{duration:0,distance:0},bounce:{duration:.033333,distance:-18}},{acceleration:{duration:.1,distance:-182,easing:"circIn"},constant:{duration:.35,distance:-2002},deceleration:{duration:0,distance:0},bounce:{duration:.033333,distance:-18}},{acceleration:{duration:.1,distance:-182,easing:"circIn"},constant:{duration:.35,distance:-2002},deceleration:{duration:0,distance:0},bounce:{duration:.033333,distance:-18}},{acceleration:{duration:.1,distance:-182,easing:"circIn"},constant:{duration:.35,distance:-2002},deceleration:{duration:0,distance:0},bounce:{duration:.033333,distance:-18}},{acceleration:{duration:.1,distance:-182,easing:"circIn"},constant:{duration:.35,distance:-2002},deceleration:{duration:0,distance:0},bounce:{duration:.033333,distance:-18}},{acceleration:{duration:.1,distance:-182,easing:"circIn"},constant:{duration:.35,distance:-2002},deceleration:{duration:0,distance:0},bounce:{duration:.033333,distance:-18}},{acceleration:{duration:.1,distance:-182,easing:"circIn"},constant:{duration:.35,distance:-2002},deceleration:{duration:0,distance:0},bounce:{duration:.033333,distance:-18}}]},l.SYMBOL_IDS=[1,2,3,4,5,6,7,8,9],l._RANDOM_SYMBOL_IDS=[1,2,3,4,5,6,7,9,0,0,0,0,0,0,0,0,0,0,0,0],l._RANDOM_MYSTERIABLE_SYMBOL_IDS=[1,5,6,7,9],l.SYMBOL_ID_TO_TYPE_HASH=((u={})[1]=d.ESymbolType.BONUS,u[2]=d.ESymbolType.BONUS,u[3]=d.ESymbolType.MYSTERY,u[4]=d.ESymbolType.MYSTERY,u[5]=d.ESymbolType.JACKPOT,u[6]=d.ESymbolType.JACKPOT,u[7]=d.ESymbolType.JACKPOT,u[8]=d.ESymbolType.JACKPOT,u[9]=d.ESymbolType.BOOST,u),l.STICKY_TO_UNSTICKY_SYMBOL_ID_HASH=((r={})[2]=1,r),l.JACKPOT_BONUS_RATES_HASH=((E={})[d.EJackpotType.MINI]=10,E[d.EJackpotType.MINOR]=20,E[d.EJackpotType.MAJOR]=50,E[d.EJackpotType.GRAND]=1e3,E),l.SYMBOL_ID_TO_JACKPOT_TYPE_HASH=((S={})[5]=d.EJackpotType.MINI,S[6]=d.EJackpotType.MINOR,S[7]=d.EJackpotType.MAJOR,S[8]=d.EJackpotType.GRAND,S),l.SORTED_SERVER_INDEXES_LIST=[0,3,6,1,4,7,2,5,8],l.SPINNING_SEQUENCE=[0,1,2,6,7,8,3,4,5],l.AUDIO_URLS={BGM_NORMAL_GAME:"audios/bg_bgm",BGM_BONUS_GAME:"audios/fg_bgm",SE_BIG_WIN_BIG:"big-win/audio/sound_big_win_01",SE_BIG_WIN_SUPER:"big-win/audio/sound_super_win_01",SE_BIG_WIN_EPIC:"big-win/audio/sound_epic_win_01",SE_BIG_WIN_MEGA:"big-win/audio/sound_mega_win_01",SE_BIG_WIN_ULTIMATE:"big-win/audio/sound_ultimate_win_01",SE_BIG_WIN_EXIT_BIG:"big-win/audio/sound_big_win_02",SE_BIG_WIN_EXIT_SUPER:"big-win/audio/sound_super_win_02",SE_BIG_WIN_EXIT_EPIC:"big-win/audio/sound_epic_win_02",SE_BIG_WIN_EXIT_MEGA:"big-win/audio/sound_mega_win_02",SE_BIG_WIN_EXIT_ULTIMATE:"big-win/audio/sound_ultimate_win_02",SE_BIG_WIN_END_BIG:"big-win/audio/sound_big_win_03",SE_BIG_WIN_END_SUPER:"big-win/audio/sound_super_win_03",SE_BIG_WIN_END_EPIC:"big-win/audio/sound_epic_win_03",SE_BIG_WIN_END_MEGA:"big-win/audio/sound_mega_win_03",SE_BIG_WIN_END_ULTIMATE:"big-win/audio/sound_ultimate_win_03",SE_BIG_WIN_SPEECH_BIG:"big-win/audio/big",SE_BIG_WIN_SPEECH_SUPER:"big-win/audio/super",SE_BIG_WIN_SPEECH_EPIC:"big-win/audio/epic",SE_BIG_WIN_SPEECH_MEGA:"big-win/audio/mega",SE_BIG_WIN_SPEECH_ULTIMATE:"big-win/audio/ultimate",SE_ENTER:"audios/sound_welcome",SE_TRANSIT:"audios/sound_transition",SE_TRIGGER_BONUS_GAME:"audios/sound_free_reward",SE_TRIGGER_ULTRA_BONUS:"audios/sound_free_trigger",SE_TREASURE_FALL:"audios/sound_gold_fall",SE_WIN_GRAND_JACKPOT:"audios/sound_free_end",SE_TOTAL_WIN:"audios/sound_free_end",SE_TOTAL_WIN_END:"audios/sound_end_click",SE_REEL_HIGHLIGHT:"audios/sound_anticipate",SE_REEL_HIGHLIGHT_WIN:"audios/sound_anticipate_success",SE_REEL_STOP:"audios/sound_spin",SE_ENERGY_COLLECT:"audios/sound_collect_reward",SE_BONUS_COLLECT:"audios/sound_collect_fly",SE_BONUS_WIN:"audios/sound_collect_win",SE_SYMBOL_APPEAR:"audios/sound_symble",SE_SYMBOL_STICKY_APPEAR:"audios/sound_regular",SE_SYMBOL_MYSTERY_APPEAR:"audios/sound_jackpot_land",SE_SYMBOL_MYSTERY_REVEAL:"audios/sound_change",SE_SYMBOL_BOOST_ACTIVATE:"audios/sound_jackpot_collect_intro",SE_MULTIPLIER_ADD:"audios/sound_fall_reward",SE_MULTIPLIER_UPDATE:"audios/sound_multiple_appear",SE_MULTIPLIER_MULTIPLE:"audios/sound_multiple_win",SE_BUY_OPEN:"audios/sound_free_open",SE_BUY_CLOSE:"audios/sound_free_close",SE_BUY_CONFIRM:"audios/sound_free_confirm",SE_SPEECH_COME:"audios/vo_wait_cn",SE_SPEECH_MULTIPLIER_ADD:"audios/vo_fall_cn",SE_SPEECH_BONUS_WIN_1:"audios/vo_coin_collect_cn01",SE_SPEECH_BONUS_WIN_2:"audios/vo_coin_collect_cn02",SE_SPEECH_BONUS_WIN_3:"audios/vo_coin_collect_cn03",SE_SPEECH_BONUS_WIN_4:"audios/vo_coin_collect_cn04",SE_SPEECH_LOSE:"audios/vo_encourage_cn",SE_SPEECH_REEL_HIGHLIGHT:"audios/vo_wheel_anticipate_cn",SE_SPEECH_SYMBOL_STICKY_APPEAR:"audios/vo_regular_anticipate_cn",SE_SPEECH_TOTAL_WIN_1:"audios/vo_collect_popup_cn01",SE_SPEECH_TOTAL_WIN_2:"audios/vo_collect_popup_cn02",SE_SPEECH_TOTAL_WIN_3:"audios/vo_collect_popup_cn03"},l.spinRequestor=null,l.slotInfo=null,l.lastMap=null,l.balance=0,l.totalBet=0,l.anteBetEnabled=!1,l.autoPlaying=!1,l.quickSpin=!1,l.turboSpin=!1,l.skipScreens=!0,l.gmEnabled=!1,l._loadingTasks={resource:0,network:0,preloadSymbol:0},e._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameDefines23.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){var r;n("common",void 0),e._RF.push({},"e6f2e3NDDlKWY1PWcEKa/oY","SubGameDefines",void 0),function(n){var e=function(n){return n[n.NORMAL=0]="NORMAL",n[n.BONUS=1]="BONUS",n}({});n.EGameMode=e;var r=function(n){return n[n.BONUS=1]="BONUS",n[n.ULTRA_BONUS=2]="ULTRA_BONUS",n}({});n.EBonusGameType=r;var N=function(n){return n[n.GM_SPIN=0]="GM_SPIN",n[n.SPIN=1]="SPIN",n[n.BUY_BONUS_GAME=2]="BUY_BONUS_GAME",n[n.FREE_SPIN=3]="FREE_SPIN",n}({});n.ESpinRequestType=N;var t=function(n){return n[n.BET=0]="BET",n[n.BOUGHT=1]="BOUGHT",n[n.FREE=2]="FREE",n}({});n.ESpinType=t;var O=function(n){return n[n.DEFAULT=0]="DEFAULT",n[n.QUICK=1]="QUICK",n[n.TURBO=2]="TURBO",n}({});n.ESpinSpeedType=O;var S=function(n){return n[n.MINI=1]="MINI",n[n.MINOR=2]="MINOR",n[n.MAJOR=3]="MAJOR",n[n.GRAND=4]="GRAND",n}({});n.EJackpotType=S;var u=function(n){return n[n.NONE=0]="NONE",n[n.BONUS=1]="BONUS",n[n.JACKPOT=2]="JACKPOT",n[n.MYSTERY=3]="MYSTERY",n[n.BOOST=4]="BOOST",n}({});n.ESymbolType=u}(r||(r=n("common",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameLanguage23.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageDelegate.ts","./Enums.ts","./SubGameData23.ts"],(function(a){var e,n,t,u,g,i;return{setters:[function(a){e=a.inheritsLoose},function(a){n=a.cclegacy},function(a){t=a.injectLanguageData,u=a.LanguageDelegate},function(a){g=a.sys_Language},function(a){i=a.SubGameData}],execute:function(){var o;n._RF.push({},"3f28dDPAGtMOadTU0v/I2KV","SubGameLanguage",void 0);var r={language:g.CHINESE,data:{}},c={language:g.ENGLISH,data:{}},l={language:g.Indonesian,data:{}},s={language:g.Malay,data:{}},d={language:g.Portuguese,data:{}},f={language:g.Thai,data:{}},L={language:g.Vietnamese,data:{}};a("SubGameLanguage",t(o=function(a){function n(){for(var e,n=arguments.length,t=new Array(n),u=0;u<n;u++)t[u]=arguments[u];return(e=a.call.apply(a,[this].concat(t))||this).bundle=i.module,e}return e(n,a),n.prototype.init=function(){var a=this;[r,c,l,s,d,f,L].forEach((function(e){return a.add(e)}))},n}(u))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/Symbol4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberRoller.ts","./SubGameData23.ts","./SubGameDefines23.ts","./AudioHelper4.ts"],(function(t){var e,i,l,n,o,a,s,y,r,u,m,c,b,h,p,S,_,k,f,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,l=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,y=t.Animation,r=t.sp,u=t.Node,m=t.Sprite,c=t.UIOpacity,b=t.CCString,h=t.Tween,p=t.tween,S=t.Component},function(t){_=t.NumberRoller},function(t){k=t.SubGameData},function(t){f=t.common},function(t){D=t.AudioHelper}],execute:function(){var d,v,B,A,R,T,g,I,O,C,E,N,w,L,F,z,j,U,V,M,P,Y,W,x,H;a._RF.push({},"6d6daK9O5VMQYHAF7ajL+0v","Symbol",void 0);var K=s.ccclass,J=s.menu,G=s.property,Q=((d={})[1]="-bonus",d[2]="-bonus",d[5]="-jackpot",d[6]="-jackpot",d[7]="-jackpot",d[8]="-jackpot",d[9]="-boost",d);t("Symbol",(v=K("Symbol"),B=J(k.module+"/elements/Symbol"),A=G(y),R=G(r.Skeleton),T=G(u),g=G(r.Skeleton),I=G(r.Skeleton),O=G(m),C=G(c),E=G(_),N=G([r.SkeletonData]),w=G([b]),v(L=B((z=e((F=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,l(e,"animation",z,n(e)),l(e,"mysterySkeleton",j,n(e)),l(e,"symbolNode",U,n(e)),l(e,"stickyBackgroundSkeleton",V,n(e)),l(e,"symbolSkeleton",M,n(e)),l(e,"jackpotSprite",P,n(e)),l(e,"bonusRootUIOpacity",Y,n(e)),l(e,"bonusNumberRoller",W,n(e)),l(e,"symbolSkeletonDatasList",x,n(e)),l(e,"jackpotSpriteFrameNamesList",H,n(e)),e._symbolData={symbolID:-1,bonusRate:-1,multiple:0},e._stickable=!0,e._currentBonusRate=0,e._callback=void 0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.animation.on(y.EventType.FINISHED,this._onSymbolAnimationFinish,this),this.mysterySkeleton.setCompleteListener(this._onMysterySkeletonAnimationComplete.bind(this)),this.symbolSkeleton.setCompleteListener(this._onSymbolSkeletonAnimationComplete.bind(this))},a.onDestroy=function(){this.isValid&&this.animation.isValid&&this.animation.off(y.EventType.FINISHED,this._onSymbolAnimationFinish,this)},a.reset=function(){this.animation.stop(),h.stopAllByTarget(this.mysterySkeleton.node)},a.updateRevealedData=function(t){t.symbolID===this._symbolData.symbolID&&this.symbolType===f.ESymbolType.MYSTERY&&(this._symbolData.revealedSymbolID=t.revealedSymbolID,this._symbolData.bonusRate=t.bonusRate)},a.idle=function(){this.revealed&&this._playClipAnimation("idle"),this._playSkeletonAnimation("ani_tex",!1)},a.blur=function(){this.revealed&&this._playClipAnimation("blur"),this._playSkeletonAnimation("ani_mohu",!1)},a.reveal=function(){var t=this;this.revealed||(h.stopAllByTarget(this.mysterySkeleton.node),p(this.mysterySkeleton.node).delay(.666667).call((function(){var e,i;null!==t._symbolData.revealedSymbolID&&void 0!==t._symbolData.revealedSymbolID&&(t._symbolData.symbolID=t._symbolData.revealedSymbolID,t._symbolData.revealedSymbolID=void 0);var l=t.symbolType;l===f.ESymbolType.BONUS||l===f.ESymbolType.JACKPOT?t._currentBonusRate=t._symbolData.bonusRate:t._currentBonusRate=0,t.symbolNode.active=!0,t._updateStickyBackground(),t.jackpotSprite.changeSpriteFrameFromAtlas(null!=(e=t.jackpotSpriteFrameNamesList[t._symbolData.symbolID-5])?e:""),t._updateBonusValue(t._currentBonusRate,t._currentBonusRate,0),t._playClipAnimation("reveal"),t.symbolSkeleton.skeletonData=null!=(i=t.symbolSkeletonDatasList[t._symbolData.symbolID])?i:null,l===f.ESymbolType.BOOST?t._playSkeletonAnimation("ani_appear",!1):t._playSkeletonAnimation("ani_ative",!1),D.instance.playSoundEffect(k.AUDIO_URLS.SE_SYMBOL_MYSTERY_REVEAL)})).start(),this._playSkeletonAnimation("ani_ative",!1))},a.collect=function(){this._symbolData.multiple>=2?this._playClipAnimation("collect-with-multiplier"):(this._playClipAnimation("collect"),this.symbolType===f.ESymbolType.JACKPOT&&this._playSkeletonAnimation("ani_win",!1))},a.pay=function(){if(this._symbolData.multiple>=2)this._playClipAnimation("pay-with-multiplier");else{this._playClipAnimation("pay");var t=this.symbolType;t===f.ESymbolType.BONUS||t===f.ESymbolType.BOOST?this._playSkeletonAnimation("ani_tex",!1):t===f.ESymbolType.JACKPOT&&this._playSkeletonAnimation("ani_win",!1)}},a.active=function(){this._playClipAnimation("idle");var t=this.symbolType;t===f.ESymbolType.MYSTERY||t===f.ESymbolType.BOOST?this._playSkeletonAnimation("ani_win",!1):this._playSkeletonAnimation("ani_ative",!1)},a.excite=function(t){this._playClipAnimation("idle"),this._playSkeletonAnimation("ani_loop",!0),t>0&&this.symbolSkeleton.updateAnimation(t)},a.stick=function(){this._stickable&&k.isStickySymbolID(this._symbolData.symbolID)&&(this._playClipAnimation("idle"),this._playSkeletonAnimation("ani_zhannian",!1)&&this.stickyBackgroundSkeleton.setAnimation(0,"animation",!1))},a.boostCollect=function(t){return this.symbolType===f.ESymbolType.BOOST&&(this._updateBonusValue(t,t,0),this._playClipAnimation("boost-collect"),this._playSkeletonAnimation("ani_collect",!1),!0)},a.showBoostBonus=function(){this.symbolType===f.ESymbolType.BOOST&&(this.bonusRootUIOpacity.opacity=255,this._updateBonusValue(this._symbolData.bonusRate,this._symbolData.bonusRate,0))},a.resetBonusAfterCollecting=function(){this.symbolType===f.ESymbolType.BONUS&&this._updateBonusValue(this._symbolData.bonusRate,this._symbolData.bonusRate,0)},a.resetBonusAfterPaying=function(){var t=this.symbolType;t===f.ESymbolType.BONUS?this._updateBonusValue(this._symbolData.bonusRate,this._symbolData.bonusRate,0):t===f.ESymbolType.BOOST&&(this._updateBonusValue(0,0,0),this.bonusRootUIOpacity.opacity=0)},a.removeStickiness=function(){this._symbolData.symbolID=k.changeIntoUnstickySymbolID(this._symbolData.symbolID)},a.changeBet=function(){this._updateBonusValue(this._currentBonusRate,this._currentBonusRate,0)},a.onBonusMultiply=function(){this._playSkeletonAnimation("ani_win",!1)},a.onBonusIncrease=function(t){this._updateBonusValue(this._symbolData.bonusRate,this._symbolData.bonusRate*this._symbolData.multiple,t)},a.onBonusCollect=function(){var t;null==(t=this._callback)||t.call(this,this,"onCollectWithMultiplier")},a.onBonusPay=function(){var t;null==(t=this._callback)||t.call(this,this,"onPay")},a._playClipAnimation=function(t){var e=Q[this._symbolData.symbolID];if(!e)return!1;var i,l=""+t+e;if(!this.animation.clips.some((function(t){return(null==t?void 0:t.name)===l})))return!1;if(l.startsWith("collect"))null==(i=this._callback)||i.call(this,this,"beforeCollecting");else if(l.startsWith("pay")){var n;null==(n=this._callback)||n.call(this,this,"beforePaying")}return this.animation.play(l),!0},a._playSkeletonAnimation=function(t,e){var i,l,n=null;if(this.symbolNode.active?n=this.symbolSkeleton:this.mysterySkeleton.node.active&&(n=this.mysterySkeleton),!n||!n.skeletonData||!n.findAnimation(t))return!1;if(n===this.mysterySkeleton)"ani_ative"===t&&(null==(i=this._callback)||i.call(this,this,"beforeRevealing"));else if("ani_collect"===t)null==(l=this._callback)||l.call(this,this,"beforeBoostCollecting");else if("ani_zhannian"===t){var o;null==(o=this._callback)||o.call(this,this,"beforeSticking")}return n.setAnimation(0,t,e),!0},a._updateStickyBackground=function(){this.stickyBackgroundSkeleton.node.active=this._stickable&&k.isStickySymbolID(this._symbolData.symbolID),this.stickyBackgroundSkeleton.node.active&&(this.stickyBackgroundSkeleton.setAnimation(0,"animation",!1),this.stickyBackgroundSkeleton.updateAnimation(999))},a._updateBonusValue=function(t,e,i,l){this._currentBonusRate=e,i<=0?this.bonusNumberRoller.stopRollingAndShowNumber(this._currentBonusRate*k.totalBet):this.bonusNumberRoller.startRolling(t*k.totalBet,e*k.totalBet,i,l)},a._fixBoostBonusOpacity=function(){this.symbolType!==f.ESymbolType.BOOST||this._currentBonusRate<=0||(this.bonusRootUIOpacity.opacity=255)},a._onSymbolAnimationFinish=function(t,e){var i=e.name;if(i.startsWith("idle"))this._fixBoostBonusOpacity();else if(i.startsWith("reveal")){var l;null==(l=this._callback)||l.call(this,this,"afterRevealing")}else if(i.startsWith("collect")){var n;null==(n=this._callback)||n.call(this,this,"afterCollecting")}else if(i.startsWith("pay")){var o;null==(o=this._callback)||o.call(this,this,"afterPaying")}else if(i.startsWith("boost-collect")){var a;null==(a=this._callback)||a.call(this,this,"afterBoostCollecting")}},a._onMysterySkeletonAnimationComplete=function(t){"ani_ative"===t.animation.name&&(this.mysterySkeleton.node.active=!1,this.mysterySkeleton.skeletonData=null)},a._onSymbolSkeletonAnimationComplete=function(t){var e;switch(t.animation.name){case"ani_zhannian":null==(e=this._callback)||e.call(this,this,"afterSticking")}},o(e,[{key:"symbolData",get:function(){return this._symbolData},set:function(t){var e,i,l,n;if((null==t?void 0:t.symbolID)!==this._symbolData.symbolID||(null==t?void 0:t.revealedSymbolID)!==this._symbolData.revealedSymbolID||(null==t?void 0:t.bonusRate)!==this._symbolData.bonusRate){this._symbolData.symbolID=null!=(e=null==t?void 0:t.symbolID)?e:0,this._symbolData.revealedSymbolID=null==t?void 0:t.revealedSymbolID,this._symbolData.bonusRate=null!=(i=null==t?void 0:t.bonusRate)?i:0,this._symbolData.multiple=null!=(l=null==t?void 0:t.multiple)?l:1;var o=this.symbolType;if(o===f.ESymbolType.BONUS||o===f.ESymbolType.JACKPOT?this._currentBonusRate=this._symbolData.bonusRate:this._currentBonusRate=0,this.animation.stop(),h.stopAllByTarget(this.mysterySkeleton.node),o===f.ESymbolType.NONE)this.mysterySkeleton.node.active=!1,this.symbolNode.active=!1,this.mysterySkeleton.skeletonData=null,this.symbolSkeleton.skeletonData=null;else if(o===f.ESymbolType.MYSTERY){var a;this.mysterySkeleton.node.active=!0,this.symbolNode.active=!1,this.mysterySkeleton.skeletonData=null!=(a=this.symbolSkeletonDatasList[this._symbolData.symbolID])?a:null,this.symbolSkeleton.skeletonData=null}else{var s;this.mysterySkeleton.node.active=!1,this.symbolNode.active=!0,this.mysterySkeleton.skeletonData=null,this.symbolSkeleton.skeletonData=null!=(s=this.symbolSkeletonDatasList[this._symbolData.symbolID])?s:null}this._updateStickyBackground(),this.jackpotSprite.changeSpriteFrameFromAtlas(null!=(n=this.jackpotSpriteFrameNamesList[this._symbolData.symbolID-5])?n:""),this._updateBonusValue(this._currentBonusRate,this._currentBonusRate,0)}}},{key:"stickable",get:function(){return this._stickable},set:function(t){t!==this._stickable&&(this._stickable=t,this._updateStickyBackground())}},{key:"callback",set:function(t){this._callback=t}},{key:"multiple",set:function(t){this._symbolData.multiple=t}},{key:"symbolType",get:function(){return k.getSymbolType(this._symbolData.symbolID)}},{key:"revealed",get:function(){return null===this._symbolData.revealedSymbolID||void 0===this._symbolData.revealedSymbolID}}]),e}(S)).prototype,"animation",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(F.prototype,"mysterySkeleton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(F.prototype,"symbolNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(F.prototype,"stickyBackgroundSkeleton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(F.prototype,"symbolSkeleton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(F.prototype,"jackpotSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(F.prototype,"bonusRootUIOpacity",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(F.prototype,"bonusNumberRoller",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(F.prototype,"symbolSkeletonDatasList",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(F.prototype,"jackpotSpriteFrameNamesList",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=F))||L)||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/SymbolBackground2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts"],(function(e){var t,r,i,a,n,u,l,o,p,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.createClass},function(e){u=e.cclegacy,l=e._decorator,o=e.Sprite,p=e.Component},function(e){s=e.SubGameData}],execute:function(){var c,m,b,h,f,g,S,d,y,F;u._RF.push({},"631c67UdQFDaqZVBlpFwT6P","SymbolBackground",void 0);var _=l.ccclass,B=l.menu,N=l.property;e("SymbolBackground",(c=_("SymbolBackground"),m=B(s.module+"/elements/SymbolBackground"),b=N(o),c(h=m((g=t((f=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];return t=e.call.apply(e,[this].concat(n))||this,i(t,"sprite",g,a(t)),i(t,"defaultSpriteFrameName",S,a(t)),i(t,"defaultBlurSpriteFrameName",d,a(t)),i(t,"brightSpriteFrameName",y,a(t)),i(t,"brightBlurSpriteFrameName",F,a(t)),t._bright=!1,t._blur=!1,t}return r(t,e),t.prototype._updateSprite=function(){this._bright?this.sprite.changeSpriteFrameFromAtlas(this._blur?this.brightBlurSpriteFrameName:this.brightSpriteFrameName):this.sprite.changeSpriteFrameFromAtlas(this._blur?this.defaultBlurSpriteFrameName:this.defaultSpriteFrameName)},n(t,[{key:"bright",get:function(){return this._bright},set:function(e){e!==this._bright&&(this._bright=e,this._updateSprite())}},{key:"blur",get:function(){return this._blur},set:function(e){e!==this._blur&&(this._blur=e,this._updateSprite())}}]),t}(p)).prototype,"sprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(f.prototype,"defaultSpriteFrameName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=t(f.prototype,"defaultBlurSpriteFrameName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=t(f.prototype,"brightSpriteFrameName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F=t(f.prototype,"brightBlurSpriteFrameName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=f))||h)||h));u._RF.pop()}}}));

System.register("chunks:///_virtual/SymbolNodePool4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts","./Symbol4.ts"],(function(e){var t,n,a,r,o,i,l,s;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.instantiate,i=e.Prefab},function(e){l=e.SubGameData},function(e){s=e.Symbol}],execute:function(){r._RF.push({},"15df6y0I+1PmY7k9eXtjFw0","SymbolNodePool",void 0),e("SymbolNodePool",function(){function e(){this._prefab=null,this._pool=[],this._availableIndex=0}var r=e.prototype;return r.preload=function(){var e=n(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Log.d("preload symbol prefab"),e.next=4,App.cache.getCacheByAsync("prefabs/elements/Symbol",i,l.module);case 4:(n=e.sent)[0],(r=n[1]).addRef(),null==(t=this._prefab)||t.decRef(),this._prefab=r,l.setLoadingTaskProgress("preloadSymbol",1),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),Log.e("failed to preload symbol prefab: "+(e.t0?e.t0.toString():"unknown reason")),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),r.push=function(e){var t=this._pool.indexOf(e);if(t<0)return!1;if(!e.isValid)return this._pool.splice(t,1),t<=this._availableIndex&&this._availableIndex>0&&--this._availableIndex,!1;e.removeFromParent();var n=e.getComponent(s);return!!n&&(n.reset(),t<this._availableIndex&&(--this._availableIndex,this._pool[t]=this._pool[this._availableIndex],this._pool[this._availableIndex]=e),!0)},r.pop=function(){var e;if(this._pool.length<=0||this._pool.length<=this._availableIndex){if(!this._prefab)return null;this._pool[this._availableIndex]=o(this._prefab)}return null!=(e=this._pool[this._availableIndex++])?e:null},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,r._RF.pop()}}}));

System.register("chunks:///_virtual/ThrowingLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts","./AudioHelper4.ts"],(function(e){var n,t,o,i,l,r,a,s,h,c,u,g,p,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,a=e.sp,s=e.Tween,h=e.tween},function(e){c=e.default},function(e){u=e.SubGameData},function(e){g=e.common},function(e){p=e.DisplayTaskManager},function(e){d=e.AudioHelper}],execute:function(){var S,f,y,T,w,k;l._RF.push({},"9b3c47T1BNOXYyCFL+TlRLf","ThrowingLayer",void 0);var m=r.ccclass,v=r.menu,_=r.property,A="ani_pity",L="ani_winning";e("ThrowingLayer",(S=m("ThrowingLayer"),f=v(u.module+"/layers/ThrowingLayer"),y=_(a.Skeleton),S(T=f((k=n((w=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return n=e.call.apply(e,[this].concat(l))||this,o(n,"throwingSkeleton",k,i(n)),n._highlightReelIndex=void 0,n}t(n,e);var l=n.prototype;return l.onLoad=function(){e.prototype.onLoad.call(this),p.addHandler(this),this.throwingSkeleton.setCompleteListener(this._onThrowingSkeletonAnimationComplete.bind(this))},l.onTaskInit=function(e,n){this.throwingSkeleton.node.active=!1,s.stopAllByTarget(this.throwingSkeleton.node)},l.onTaskRestore=function(e,n){this.throwingSkeleton.node.active=!1,s.stopAllByTarget(this.throwingSkeleton.node)},l.onTaskSpinStart=function(e,n){this._highlightReelIndex=void 0},l.onTaskTriggerUltraBonusGame=function(e,n){n.bought||(this.throwingSkeleton.node.active=!0,this.throwingSkeleton.setAnimation(0,L,!1),this._playTreasureFallingSoundEffect())},l.onTaskChangeMode=function(e,n){this.throwingSkeleton.node.active=!1,s.stopAllByTarget(this.throwingSkeleton.node)},l.onTaskReelStop=function(e,n){var t,o;n.spinSpeedType===g.ESpinSpeedType.DEFAULT&&n.reelIndex===this._highlightReelIndex&&(this.throwingSkeleton.node.active=!0,u.getSymbolType(null!=(t=null==(o=n.symbol)?void 0:o.symbolID)?t:-1)!==g.ESymbolType.NONE?(this.throwingSkeleton.setAnimation(0,L,!1),this._playTreasureFallingSoundEffect()):this.throwingSkeleton.setAnimation(0,A,!1))},l.onTaskReelHighlight=function(e,n){this._highlightReelIndex=n.reelIndex,this.throwingSkeleton.node.active=!1},l._playTreasureFallingSoundEffect=function(){s.stopAllByTarget(this.throwingSkeleton.node),h(this.throwingSkeleton.node).delay(.4).call((function(){return d.instance.playSoundEffect(u.AUDIO_URLS.SE_TREASURE_FALL)})).start()},l._onThrowingSkeletonAnimationComplete=function(e){switch(e.animation.name){case L:case A:this.throwingSkeleton.node.active=!1}},n}(c)).prototype,"throwingSkeleton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=w))||T)||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/TotalWinLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberCurrency.ts","./SubGameData23.ts","./Display4.ts","./AudioHelper4.ts"],(function(t){var e,n,i,o,a,s,r,l,c,u,h,p,d,N,y,_,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.Node,c=t.sp,u=t.Tween,h=t.tween,p=t.math},function(t){d=t.NumberCurrency},function(t){N=t.SubGameData},function(t){y=t.DisplayTaskManager,_=t.Display},function(t){f=t.AudioHelper}],execute:function(){var D,S,T,k,m,I,A,E,L,b,v,H;s._RF.push({},"99821USQ7VHvqp42bBKsyS/","TotalWinLayer",void 0);var O=r.ccclass,W=r.menu,g=r.property,w=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.DELAYING=1]="DELAYING",t[t.SHOWING=2]="SHOWING",t[t.SHOWN=3]="SHOWN",t[t.HIDING=4]="HIDING",t}(w||{}),G="ani_intro",C="ani_idle",U="ani_out",B=[N.AUDIO_URLS.SE_SPEECH_TOTAL_WIN_1,N.AUDIO_URLS.SE_SPEECH_TOTAL_WIN_2,N.AUDIO_URLS.SE_SPEECH_TOTAL_WIN_3];t("TotalWinLayer",(D=O("TotalWinLayer"),S=W(N.module+"/layers/TotalWinLayer"),T=g(l),k=g(l),m=g(c.Skeleton),I=g(d),D(A=S((L=e((E=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"rootNode",L,o(e)),i(e,"inputBlockerNode",b,o(e)),i(e,"skeleton",v,o(e)),i(e,"scoreNumberCurrency",H,o(e)),e}n(e,t);var s=e.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),y.addHandler(this),this.inputBlockerNode.on(l.EventType.TOUCH_END,this._onTouchEnd,this),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this)),this.node.active=!1},s.onDestroy=function(){this.isValid&&this.inputBlockerNode.isValid&&this.inputBlockerNode.off(l.EventType.TOUCH_END,this._onTouchEnd,this),t.prototype.onDestroy.call(this)},s.onTaskInit=function(t,e){this.stopAllDisplays(),this.node.active=!1,u.stopAllByTarget(this.node),this.rootNode.active=!1},s.onTaskRestore=function(t,e){this.stopAllDisplays(),this.node.active=!1,u.stopAllByTarget(this.node),this.rootNode.active=!1},s.onTaskWinGrandJackpot=function(t,e){this._show("grand",e.score,1)},s.onTaskShowTotalBonus=function(t,e){this._show("total",e.totalScore,1)},s._show=function(t,e,n){var i=this;this._state!==w.HIDDEN&&this.endDisplay(),this.startDisplay(),this.node.active=!0,this.rootNode.active=!1,u.stopAllByTarget(this.node),h(this.node).delay(n).call((function(){i.rootNode.active=!0,i.scoreNumberCurrency.updateNumber(e),i.skeleton.setAnimation(0,G,!1),i.skeleton.setSkin(t);var n=p.randomRangeInt(0,B.length);f.instance.playSoundEffect(B[n]),"grand"===t?(f.instance.playSoundEffect(N.AUDIO_URLS.SE_WIN_GRAND_JACKPOT),f.instance.requestLoweringMusicVolume(0,"winGrandJackpot")):f.instance.playSoundEffect(N.AUDIO_URLS.SE_TOTAL_WIN)})).start()},s._onTouchEnd=function(){this._state===w.SHOWING?this.skeleton.setAnimation(0,C,!1):this._state===w.SHOWN&&(this.skeleton.setAnimation(0,U,!1),f.instance.playSoundEffect(N.AUDIO_URLS.SE_TOTAL_WIN_END))},s._onSkeletonAnimationComplete=function(t){switch(t.animation.name){case G:this.skeleton.setAnimation(0,C,!1);break;case C:this.skeleton.setAnimation(0,U,!1);break;case U:this.node.active=!1,this.rootNode.active=!1,this.endDisplay(),f.instance.revokeLoweringMusicVolume("winGrandJackpot")}},a(e,[{key:"_state",get:function(){if(!this.node.active)return w.HIDDEN;if(!this.rootNode.active)return w.DELAYING;switch(this.skeleton.animation){case G:return w.SHOWING;case U:return w.HIDING;default:return w.SHOWN}}}]),e}(_)).prototype,"rootNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(E.prototype,"inputBlockerNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(E.prototype,"skeleton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(E.prototype,"scoreNumberCurrency",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=E))||A)||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/TransitionLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData23.ts","./SubGameDefines23.ts","./Display4.ts","./AudioHelper4.ts"],(function(e){var t,n,i,o,a,s,r,l,c,d,h,p,u,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.sp,l=e.Tween,c=e.tween},function(e){d=e.SubGameData},function(e){h=e.common},function(e){p=e.DisplayTaskManager,u=e.Display},function(e){S=e.AudioHelper}],execute:function(){var k,y,m,f,v,A,T,D;a._RF.push({},"44850B90m9Ko4qG8K8cngXV","TransitionLayer",void 0);var L=s.ccclass,E=s.menu,b=s.property,_="ani",g="animation2";e("TransitionLayer",(k=L("TransitionLayer"),y=E(d.module+"/layers/TransitionLayer"),m=b(r.Skeleton),f=b(r.Skeleton),k(v=y((T=t((A=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"transitionSkeleton",T,o(t)),i(t,"entranceSkeleton",D,o(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),p.addHandler(this),this.transitionSkeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this)),this.entranceSkeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this))},a.onTaskInit=function(e,t){this.stopAllDisplays(),l.stopAllByTarget(this.transitionSkeleton.node),t.entrance?(this.startDisplay(),this.node.active=!0,this.transitionSkeleton.node.active=!1,this.entranceSkeleton.node.active=!0,this.entranceSkeleton.setAnimation(0,_,!1),S.instance.playSoundEffect(d.AUDIO_URLS.SE_ENTER)):(this.node.active=!1,this.transitionSkeleton.node.active=!1,this.entranceSkeleton.node.active=!1)},a.onTaskRestore=function(e,t){this.stopAllDisplays(),l.stopAllByTarget(this.transitionSkeleton.node),t.entrance?(this.startDisplay(),this.node.active=!0,this.transitionSkeleton.node.active=!1,this.entranceSkeleton.node.active=!0,this.entranceSkeleton.setAnimation(0,_,!1),S.instance.playSoundEffect(d.AUDIO_URLS.SE_ENTER)):(this.node.active=!1,this.transitionSkeleton.node.active=!1,this.entranceSkeleton.node.active=!1)},a.onTaskTransition=function(e,t){this.startDisplay(),this.node.active=!0,this.transitionSkeleton.node.active=!0,this.entranceSkeleton.node.active=!1,l.stopAllByTarget(this.transitionSkeleton.node),c(this.transitionSkeleton.node).delay(1).call((function(){p.runTask("changeMode",{previousMode:"enterBonusGame"===t.type?h.EGameMode.NORMAL:h.EGameMode.BONUS,nextMode:"enterBonusGame"===t.type?h.EGameMode.BONUS:h.EGameMode.NORMAL})})).start(),this.transitionSkeleton.setAnimation(0,g,!1),S.instance.playSoundEffect(d.AUDIO_URLS.SE_TRANSIT)},a._onSkeletonAnimationComplete=function(e){switch(e.animation.name){case _:this.node.active=!1,this.entranceSkeleton.node.active=!1,this.endDisplay();break;case g:this.node.active=!1,this.transitionSkeleton.node.active=!1,this.endDisplay()}},t}(u)).prototype,"transitionSkeleton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(A.prototype,"entranceSkeleton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=A))||v)||v));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/slot310000009', 'chunks:///_virtual/slot310000009'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});