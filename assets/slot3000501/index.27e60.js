System.register("chunks:///_virtual/BackgroundView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameConstants.ts","./SubGameDefines.ts"],(function(t){var e,a,r,i,n,o,s;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,r=t._decorator,i=t.find},function(t){n=t.default},function(t){o=t.SubGameConstants},function(t){s=t.EventName}],execute:function(){var c;a._RF.push({},"9b866x3wCVB77ty6+e2KUQ8","BackgroundView",void 0);var l=r.ccclass;r.property,t("default",l(c=function(t){function a(){for(var e,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).landscape_free=null,e.landscape_normal=null,e.portrait_free=null,e.portrait_normal=null,e.b_freeModel=!1,e}e(a,t);var r=a.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),this.landscape_free=i("landscape_free",this.node),this.landscape_normal=i("landscape_normal",this.node),this.portrait_free=i("portrait_free",this.node),this.portrait_normal=i("portrait_normal",this.node),this.landscape_free.active=!1,this.landscape_normal.active=!1,this.portrait_free.active=!1,this.portrait_normal.active=!1,this.switchFreeScene(!1)},r.switchFreeScene=function(t){this.landscape_free.active=!1,this.landscape_normal.active=!1,this.portrait_free.active=!1,this.portrait_normal.active=!1;var e=null;t?(this.b_freeModel=!0,e=o.AudioSource.FREE_BGM,"portrait"===App.utils.getOrientation()?this.portrait_free.active=!0:this.landscape_free.active=!0):(this.b_freeModel=!1,e=o.AudioSource.NORMAL_BGM,"portrait"===App.utils.getOrientation()?this.portrait_normal.active=!0:this.landscape_normal.active=!0),dispatch(s.PLAY_MUSIC,e)},r.onSwitchScreen=function(t){this.landscape_free.active=!1,this.landscape_normal.active=!1,this.portrait_free.active=!1,this.portrait_normal.active=!1,this.b_freeModel?"portrait"===t?this.portrait_free.active=!0:this.landscape_free.active=!0:"portrait"===t?this.portrait_normal.active=!0:this.landscape_normal.active=!0},a}(n))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/BuyFreeSpinsView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./CommonEvent.ts","./SubGameDefines.ts","./NumberCurrency.ts","./SubGameConstants.ts"],(function(t){var e,n,i,o,s,c,r,l,a,u,h,b,p,_,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,c=t._decorator,r=t.Node,l=t.Button,a=t.Vec3,u=t.tween},function(t){h=t.default},function(t){b=t.inject},function(t){p=t.CommonEvent},function(t){_=t.EventName},function(t){d=t.NumberCurrency},function(t){f=t.SubGameConstants}],execute:function(){var E,y,S,g,w,C,m,B,F,v,N;s._RF.push({},"04f23ijmEVPFrPsy58MD0eI","BuyFreeSpinsView",void 0);var R=c.ccclass;c.property,t("default",(E=R("BuyFreeSpinsView"),y=b("content",r),S=b("content/bg/NumberCurrency/label_currency",d),g=b("content/bg/btn_ok",r),w=b("content/bg/btn_close",r),E((B=e((m=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return e=t.call.apply(t,[this].concat(s))||this,i(e,"content",B,o(e)),i(e,"label_score",F,o(e)),i(e,"btn_ok",v,o(e)),i(e,"btn_close",N,o(e)),e.logic=null,e.buy_money=0,e.b_clickable=!1,e}n(e,t),e.getPrefabUrl=function(){return"prefabs/BuyFreeSpinsView"};var s=e.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),this.onN(this.btn_ok,l.EventType.CLICK,this.onClickOK),this.onN(this.btn_close,l.EventType.CLICK,this.onClickClose)},s.addEvents=function(){t.prototype.addEvents.call(this),this.onD(p.SWITCH_SCREEN,this.onSwitchScreen),this.onD(p.DISPATCH_TOTAL_BET,this.onRefreshBetAmount)},s.onClose=function(){t.prototype.onClose.call(this)},s.onDestroy=function(){t.prototype.onDestroy.call(this)},s.onShow=function(){this.args&&this.args.length>0&&(this.logic=this.args[0],this.onSwitchScreen(App.utils.getOrientation()),this.b_clickable=!1,this.onRefreshBetAmount()),dispatch(p.NOTIFY_BUY_FEATURE,!0),dispatch(_.PLAY_SOUND,f.AudioSource.BUY_FREE_SPIN),this.showView()},s.onRefreshBetAmount=function(){var t=this.logic.data.total_bet*this.logic.data.BUYFEATURE_MULTIPLE;this.label_score.updateNumber(t)},s.onSwitchScreen=function(t){"portrait"===t?(this.node.setScale(new a(.85,.85,.85)),this.node.setPosition(0,280,0)):(this.node.setScale(new a(1,1,1)),this.node.setPosition(0,0,0))},s.onClickClose=function(){this.b_clickable&&(dispatch(_.RECOVER_BUY_FREE_BTN),dispatch(_.PLAY_SOUND,f.AudioSource.BUY_FREE_SPIN),dispatch(p.NOTIFY_BUY_FEATURE,!1),this.hideView())},s.onClickOK=function(){if(this.b_clickable){var t=this.logic.data.total_bet*this.logic.data.BUYFEATURE_MULTIPLE;App.utils.notEnoughScore(this.logic.data.money,t)||(this.logic.data.buy_free_spins=!0,this.logic.onSendBuyFreeSpins(),this.logic.onSendBuyFreeSpins(),dispatch(p.NOTIFY_FREE_MODE),dispatch(_.RECOVER_BUY_FREE_BTN),dispatch(_.PLAY_SOUND,f.AudioSource.BOOM),this.hideView())}},s.showView=function(){var t=this;this.b_clickable=!1,this.node.active=!0,this.node&&u(this.node).set({scale:new a(.2,.2,.2)}).to(.5,{scale:new a(1,1,1)},{easing:"sineOut"}).call((function(){t.b_clickable=!0})).start()},s.hideView=function(){var t=this;this.b_clickable=!1,this.node&&u(this.node).set({scale:new a(1,1,1)}).to(.5,{scale:new a(0,0,0)},{easing:"sineIn"}).call((function(){t.node.active=!1,t.onClose()})).start()},e}(h)).prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(m.prototype,"label_score",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(m.prototype,"btn_ok",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(m.prototype,"btn_close",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=m))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/EliminateCellView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameDefines.ts","./SubGameData.ts","./SubGameConstants.ts","./Decorators.ts"],(function(i){var t,e,n,s,a,o,r,l,h,c,u,p,_,m,d,I,f,S,v,L,y,A,C,P,b,g,N,O,w,D,E;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized,a=i.createClass},function(i){o=i.cclegacy,r=i._decorator,l=i.Sprite,h=i.sp,c=i.Vec3,u=i.find,p=i.Label,_=i.tween,m=i.Component},function(i){d=i.CELL_SIZE,I=i.CELL_SIZE_HEIGHT,f=i.CELL_FREEMODEL_ID,S=i.beilv_Multiple,v=i.DELAY_rows,L=i.DELAY_columns,y=i.GRID_PIXEL_HEIGHT,A=i.CELL_ANI_ICON,C=i.EventName,P=i.CELL_ANI_CRUSH,b=i.CELL_ANI_DROP,g=i.CELL_MUL_ANI_BOM,N=i.CELL_MUL_ANI_DROP,O=i.MULTIPLE_SPRITE},function(i){w=i.SubGameData},function(i){D=i.SubGameConstants},function(i){E=i.inject}],execute:function(){var M,T,U,k,R,Y,x,B,G,q;o._RF.push({},"c1ef82J6BxFs51m9D0UIaCj","EliminateCellView",void 0);var F=r.ccclass,z=r.property,H=12e4,j="sineIn";i("default",(M=z(l),T=z(h.Skeleton),U=E("crush",h.Skeleton),k=E("pane",h.Skeleton),F((x=t((Y=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=i.call.apply(i,[this].concat(a))||this,n(t,"m_sprite",x,s(t)),n(t,"m_spine",B,s(t)),n(t,"m_crush",G,s(t)),n(t,"m_pane",q,s(t)),t.m_icon_id=-1,t.m_multiple=0,t.m_columns=0,t.m_rows=0,t.label_multiple=null,t.mul_ani_Index=0,t.isMultiple=!1,t}e(t,i);var o=t.prototype;return o.initWithModel=function(i,t,e){this.node.attr({icon_id:i,i:t,j:e}),this.IconId=i,this.m_columns=e,this.m_rows=t,this.data.soundIndex=0;var n=d*(this.m_columns-.5),s=I*(this.m_rows-.5);if(this.node.setPosition(new c(n,s)),this.m_sprite.node.active=!0,this.m_spine.node.active=!1,this.isCrush(!1),this.isPane(!1),i>f){var a=(i-f)%100,o=u("spine/targetNode/LabelMultiple",this.node).getComponent(p),r=u("sprite/multiple",this.node).getComponent(p);this.m_multiple=S[a-1],o.string=this.m_multiple+"X",r.string=o.string,o.node.active=!0,this.showMultipleType(a),this.isMultiple=!0}},o.dropAndRemove=function(i){var t,e=this,n=[];Log.d("dropAndRemove");var s=v*(this.m_rows-1)+L*(this.m_columns-1);this.data.QUICK_SPIN||this.data.TURBO_SPIN?Log.d("no need delay"):n.push(_().target(this.node).delay(s));var a=this.node.position.clone(),o=Math.sqrt(2*a.y/12e3);n.push(_(this.node).by(o,{position:new c(0,-y,0)},{easing:j}).call((function(){}))),n.push(_().call((function(){e.data.QUICKSTOP?Log.d("dropAndRemove no cb"):i&&i(),e.clearSelf()}))),(t=_(this.node)).sequence.apply(t,n).start()},o.delete_self=function(i){this.clearSelf(),i&&i()},o.play_winning_animation=function(i){var t=this;if(this.data.TURBO_SPIN)this.IconId===f?(this.m_sprite.node.active=!1,this.m_spine.node.active=!0,this.m_spine.clearTracks(),this.isCrush(!1),this.isPane(!1),i&&i()):this.IconId<f&&this.play_bomb_animation(i);else{this.m_sprite.node.active=!1,this.m_spine.node.active=!0,this.isCrush(!1),this.isPane(!0);var e=A[this.IconId];this.m_spine.clearTracks(),this.m_spine.setAnimation(0,e,!1),this.m_spine.setCompleteListener((function(n){(n.animation?n.animation.name:"")===e&&(t.IconId===f?(t.m_spine.node.active=!0,t.m_spine.clearTracks(),t.m_crush.node.active=!1,i&&i()):t.IconId<f&&t.play_bomb_animation(i))})),this.data.soundIndex>=4&&dispatch(C.PLAY_SOUND,D.AudioSource.MERGE_WILD)}},o.play_bomb_animation=function(i){var t=this;this.m_sprite.node.active=!1,this.m_spine.node.active=!1,this.isPane(!1),this.isCrush(!0),this.m_crush.setCompleteListener((function(e){(e.animation?e.animation.name:"")===P&&(i&&i(),t.play_completion())})),this.data.PLAYBOMBSOUND||(this.data.PLAYBOMBSOUND=!0)},o.play_completion=function(){this.m_sprite.node.active=!1,this.m_spine.node.active=!1,this.isPane(!1),this.isCrush(!1),this.data.PLAYBOMBSOUND=!1,dispatch(C.PLAY_SOUND,D.AudioSource.REEL_STOP),this.clearSelf()},o.clearSelf=function(){this.node.removeFromParent(),this.node.destroy()},o.initNewCellAndDrop=function(i){var t,e=this,n=y+50;this.node.setPosition(new c(this.node.getPosition().x,this.node.getPosition().y+n));var s=[],a=v*(this.m_rows-1)+L*(this.m_columns-1);this.data.QUICK_SPIN||this.data.TURBO_SPIN||this.data.QUICKSTOP||s.push(_().target(this.node).delay(a));var o=this.node.position.clone(),r=Math.sqrt(2*o.y/12e3);s.push(_(this.node).by(r,{position:new c(0,-n,0)},{easing:j}).call((function(){}))),s.push(_().call((function(){e.IconId===f&&(e.data.soundIndex++,e.playScatterSound(e.data.soundIndex)),e.play_ani_drop(i),dispatch(C.PLAY_SOUND,D.AudioSource.REEL_STOP)}))),(t=_(this.node)).sequence.apply(t,s).start()},o.play_ani_drop=function(i){this.m_sprite.node.active=!1,this.m_spine.node.active=!0,this.isPane(!1),this.isCrush(!1),this.IconId<=f?(this.m_spine.clearTrack(0),this.m_spine.setAnimation(0,b,!1),this.m_spine.setCompleteListener((function(t){(t.animation?t.animation.name:"")===b&&i&&i()}))):this.play_anim_multiple(this.mul_ani_Index,i)},o.downAction=function(i,t,e){var n,s=this;this.m_columns,this.m_rows;this.m_columns=t,this.m_rows=i;var a=d*(t-.5),o=I*(i-.5),r=v*(i-1),l=[],h=this.node.position.clone(),u=Math.sqrt(2*h.y/H);l.push(_().target(this.node).delay(r)),l.push(_(this.node).to(u,{position:new c(a,o,0)},{easing:j}).call((function(){}))),l.push(_().call((function(){s.play_ani_drop(e)}))),(n=_(this.node)).sequence.apply(n,l).start()},o.downAction2=function(i,t,e,n){var s,a=this;this.m_columns=t,this.m_rows=i;var o=d*(t-.5),r=I*(i-.5);e>0&&(r=e),this.node.setPosition(new c(o,r));var l=d*(t-.5),h=I*(i-.5),u=v*(i-1),p=[],m=this.node.position.clone(),f=Math.sqrt(2*m.y/H);p.push(_().target(this.node).delay(u)),p.push(_(this.node).to(f,{position:new c(l,h,0)},{easing:j}).call((function(){}))),p.push(_().call((function(){a.play_ani_drop(n)}))),(s=_(this.node)).sequence.apply(s,p).start()},o.play_ani_multiple=function(i){this.IconId>f&&this.play_bomb_animation2(i)},o.play_bomb_animation2=function(i){var t=this;this.m_sprite.node.active=!1,this.m_spine.node.active=!0,this.isPane(!1),this.isCrush(!1);var e=u("targetNode/LabelMultiple",this.m_spine.node);this.label_multiple=null==e?void 0:e.getComponent(p);var n=g[this.mul_ani_Index];this.m_spine.clearTrack(0),this.m_spine.setAnimation(0,n,!1),this.m_spine.setCompleteListener((function(e){(e.animation?e.animation.name:"")===n&&(t.label_multiple.node.active=!1,i&&i())})),dispatch(C.PLAY_SOUND,D.AudioSource.TRANSITIONS)},o.play_anim_multiple=function(i,t){this.m_sprite.node.active=!1,this.m_spine.node.active=!0,this.isPane(!1),this.isCrush(!1),this.isMultiple&&(dispatch(C.PLAY_RAIDEN_ANIM,this.m_rows,this.m_columns),this.isMultiple=!1),this.m_spine.clearTracks(),this.m_spine.setAnimation(0,N[i],!1),this.m_spine.setCompleteListener((function(e){(e.animation?e.animation.name:"")===N[i]&&t&&t()}))},o.isCrush=function(i){this.m_crush&&(this.m_crush.node.active=i,i&&this.IconId<f&&(this.m_crush.clearTrack(0),this.m_crush.setAnimation(0,P,!1)))},o.isPane=function(i){this.m_pane&&(this.m_pane.node.active=i,i&&(this.m_pane.clearTrack(0),this.m_pane.setAnimation(0,"zhongjiankuang",!1)))},o.showMultipleType=function(i){this.m_sprite.spriteFrame=null,(i>12||i>8&&i<=12||i>4&&i<=8||i>0&&i<=4)&&(this.mul_ani_Index=Math.ceil(i/4)),this.m_sprite.changeSpriteFrameFromAtlas(O[this.mul_ani_Index-1]),Log.d("type",i,"multipleSprite",O[this.mul_ani_Index-1])},o.playScatterSound=function(i){switch(i){case 1:dispatch(C.PLAY_SOUND,D.AudioSource.ICON_1);break;case 2:dispatch(C.PLAY_SOUND,D.AudioSource.ICON_2);break;case 3:dispatch(C.PLAY_SOUND,D.AudioSource.ICON_3);break;case 4:dispatch(C.PLAY_SOUND,D.AudioSource.ICON_4);break;case 5:dispatch(C.PLAY_SOUND,D.AudioSource.ICON_5)}},a(t,[{key:"data",get:function(){return App.dataCenter.get(w)}},{key:"IconId",get:function(){return this.m_icon_id},set:function(i){this.m_icon_id=i}},{key:"Multiple",get:function(){return this.m_multiple},set:function(i){this.m_multiple=i}}]),t}(m)).prototype,"m_sprite",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(Y.prototype,"m_spine",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(Y.prototype,"m_crush",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(Y.prototype,"m_pane",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=Y))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/FunctionButtonView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameDefines.ts","./Decorators.ts","./NumberCurrency.ts","./SubGameData.ts"],(function(t){var e,i,n,o,r,s,c,l,u,a,h,d,f,p,y,m,b,w,v,B,g,N,C,V,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,c=t._decorator,l=t.Button,u=t.Node,a=t.Label,h=t.ScrollView,d=t.Layout,f=t.UIOpacity,p=t.tween,y=t.Vec3,m=t.UITransform,b=t.find,w=t.Sprite,v=t.instantiate},function(t){B=t.default},function(t){g=t.EventName,N=t.CELL_ICON_URL},function(t){C=t.inject},function(t){V=t.NumberCurrency},function(t){S=t.SubGameData}],execute:function(){var _,P,F,L,O,D,R,T,E,z,I,Y,k,A,G,M,U;s._RF.push({},"15c31U7JyFCErmM/aP+G4dH","FunctionButtonView",void 0);var H=c.ccclass;c.property,t("FunctionButtonView",(_=H("FunctionButtonView"),P=C("buyBtn",l),F=C("buyBtn/NumberCurrency/label_currency",V),L=C("freeNum",u),O=C("freeNum/numLabel",a),D=C("scoreBoard",u),R=C("scoreBoard/Mask/ScrollView/dropNode",u),T=C("scoreBoard/Mask/ScrollView",h),_((I=e((z=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).view=null,n(e,"buyBtn",I,o(e)),n(e,"buyPrice",Y,o(e)),n(e,"freeNum",k,o(e)),n(e,"freeNumLabel",A,o(e)),n(e,"scoreBoard",G,o(e)),n(e,"dropNode",M,o(e)),n(e,"scorllView",U,o(e)),e.buy_not_clickable=!1,e.showCount=5,e.count=0,e.recordDisY=37,e.firstStopY=-75.5,e.firstHeight=190,e.recordStartPosY=100,e.listLength=0,e.times=0,e.isFreeGame=!1,e}i(e,t);var s=e.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),this.onN(this.buyBtn.node,u.EventType.TOUCH_END,this.onClickBuy),this.freeNum.active=!1,this.scorllView.vertical=!1,this.scorllView.content.getComponent(d).verticalDirection=d.VerticalDirection.BOTTOM_TO_TOP},s.addEvents=function(){t.prototype.addEvents.call(this),this.onD(g.RECOVER_BUY_FREE_BTN,this.showView)},s.onSwitchScreen=function(t){if("portrait"===t){if(this.isFreeGame)return this.freeNum.setPosition(-230,-220,0),void this.scoreBoard.setPosition(0,-220,0);this.buyBtn.node.setPosition(-200,-220,0),this.scoreBoard.setPosition(200,-220,0)}else this.buyBtn.node.setPosition(-520,60,0),this.scoreBoard.setPosition(-520,-120,0),this.freeNum.setPosition(-520,60,0)},s.onRefreshBuyPrice=function(t){this.buyPrice.updateNumber(t)},s.onRefreshBuyOpacity=function(t){this.buy_not_clickable=!t,this.buyBtn.node.getComponent(f).opacity=t?255:120},s.enterNormalModel=function(){this.isFreeGame=!1,this.freeNum.active=!1,this.onRefreshBuyOpacity(!0),this.onSwitchScreen(App.utils.getOrientation()),this.data.buy_free_spins=!1},s.switchFreeScene=function(t){this.freeNum.active=!1,this.buyBtn.node.active=!1,this.isFreeGame=t;var e=App.utils.getOrientation();t?(this.freeNum.active=!0,"portrait"===e&&(this.freeNum.setPosition(-230,-220,0),this.scoreBoard.setPosition(0,-220,0))):this.buyBtn.node.active=!0},s.updateFreeAmount=function(t){this.freeNumLabel&&(this.freeNumLabel.string=t+"")},s.destroyAllChildren=function(){var t,e,i=this;this.times=0,this.count=0,this.dropNode.destroyAllChildren();var n=null==(t=this.scorllView.content)?void 0:t.children.length;null==(e=this.scorllView.content)||e.children.map((function(t,e){p(t).to(.1*(e+1),{position:new y(0,t.position.y-(e+1)*i.recordDisY,0)}).call((function(){var t,o,r;e===n-1&&(i.scorllView.content.destroyAllChildren(),null==(t=i.scorllView)||null==(t=t.content)||null==(t=t.getComponent(m))||t.setContentSize(146,i.firstHeight),null==(o=i.scorllView)||o.scrollToTop(.1),null==(r=i.scorllView.content)||r.setPosition(0,95,0))})).start()}))},s.onClickBuy=function(){this.buy_not_clickable||(this.hideView(),this.view.openBuyFreeSpinsView())},s.addItem=function(t){var e=this;this.times,this.times++,this.listLength=t.length,null==t||t.map((function(t,i){10!=t.icon?(e.creatorIconRecord(t,i,e.count),e.count++):e.listLength-=1}))},s.creatorIconRecord=function(t,e,i){var n=this;createPrefab({url:"prefabs/item/IconRecord",view:this.view,complete:function(o){if(o){var r,s,c=o.getChildByName("num").getComponent(a),l=b("NumberCurrency/label_currency",o).getComponent(V),u=null==(r=o.getChildByName("icon"))?void 0:r.getComponent(w),h=N[t.icon];null==u||u.changeSpriteFrameFromAtlas(h),c.string=t.num+"",l.updateNumber(t.add);var d=o;n.dropNode.addChild(d),d.setPosition(new y(0,n.recordStartPosY+i*n.recordDisY,0));var f=v(o);b("NumberCurrency/label_currency",f).getComponent(V).updateNumber(t.add),f.active=!1,null==(s=n.scorllView.content)||s.addChild(f),n.dropStart(d,f,e,i)}}})},s.dropStart=function(t,e,i,n){var o=this,r=this.firstStopY+n*this.recordDisY,s=new y(0,r+10,0),c=new y(0,r,0),l=(100-r)/50*.06;p(t).delay(.05*n).to(Math.abs(l),{position:c}).to(.08,{position:s}).to(.06,{position:c}).call((function(){o.showItem(t,e,i,n)})).start()},s.showItem=function(t,e,i,n){e.active=!0,t.removeFromParent(),t.destroy();var o,r=n>=this.showCount,s=(n+1)*this.recordDisY+10;(this.scorllView.vertical=r,r)&&(null==(o=this.scorllView)||null==(o=o.content)||null==(o=o.getComponent(m))||o.setContentSize(146,s));if(i===this.listLength-1){var c,l=this.times>1&&this.count>5?i:this.showCount+1-i;null==(c=this.scorllView)||c.scrollToTop(.3*l,!1)}},s.showView=function(){var t=this;this.buyBtn.node&&(this.buyBtn.node.active=!0,p(this.buyBtn.node).set({scale:new y(.2,.2,.2)}).to(.5,{scale:new y(1,1,1)},{onStart:function(e){t.onRefreshBuyOpacity(!1)},easing:"sineOut"}).call((function(){t.data.buy_free_spins?t.onRefreshBuyOpacity(!1):t.onRefreshBuyOpacity(!0)})).start())},s.hideView=function(){var t=this;this.buyBtn.node&&p(this.buyBtn.node).set({scale:new y(1,1,1)}).to(.5,{scale:new y(0,0,0)},{onStart:function(e){t.onRefreshBuyOpacity(!1)},easing:"sineIn"}).call((function(){t.buyBtn.node.active=!1})).start()},r(e,[{key:"data",get:function(){return App.dataCenter.get(S)}}]),e}(B)).prototype,"buyBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(z.prototype,"buyPrice",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(z.prototype,"freeNum",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(z.prototype,"freeNumLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(z.prototype,"scoreBoard",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(z.prototype,"dropNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(z.prototype,"scorllView",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=z))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entry.ts","./Decorators.ts","./MainGameView.ts","./GameService.ts","./GameHandler.ts","./SubGameLanguage.ts"],(function(){var e,n,t,a,r,o,u,i;return{setters:[function(n){e=n.inheritsLoose},function(e){n=e.cclegacy},function(e){t=e.Entry},function(e){a=e.registerEntry},function(e){r=e.default},function(e){o=e.GameService},function(e){u=e.default},function(e){i=e.SubGameLanguage}],execute:function(){var c;n._RF.push({},"56fefqjaxZCEZNEK5JWyU07","GameEntry",void 0);a("GameEntry","slot3000501",r)(c=function(n){function t(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))||this).language=new i,e}e(t,n);var a=t.prototype;return a.addNetHandler=function(){App.handlerManager.get(u)},a.removeNetHandler=function(){App.handlerManager.destory(u)},a.loadResources=function(e){e()},a.initData=function(){App.serviceManager.get(o,!0)},a.pauseMessageQueue=function(){},a.resumeMessageQueue=function(){},a.openGameView=function(){n.prototype.openGameView.call(this)},a.onUnloadBundle=function(){n.prototype.onUnloadBundle.call(this),App.serviceManager.destory(o)},t}(t));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Handler.ts","./GameService.ts","./Protocol2.ts","./Global.ts","./CommonEvent.ts","./SubGameData.ts","./SubGameDefines.ts"],(function(e){var t,s,n,a,o,c,i,r,u,m;return{setters:[function(e){t=e.inheritsLoose,s=e.createClass},function(e){n=e.cclegacy},function(e){a=e.Handler},function(e){o=e.GameService},function(e){c=e.Protocol},function(e){i=e.Global},function(e){r=e.CommonEvent},function(e){u=e.SubGameData},function(e){m=e.EventName}],execute:function(){n._RF.push({},"43a0elMbNNKJYP8v/vBgvKc","GameHandler",void 0),e("default",function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var a=n.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),this.onS(c.LOGIN,this.s2cLogin),this.onS(c.USERINFO,this.s2cUserInfo),this.onS(c.SLOTINFO,this._s2cSlotInfo),this.onS(c.SLOTBET,this._s2cSlotBet),this.onS(c.LAST_MAP,this._s2cLastMap)},a.s2cLogin=function(e){e&&e.message&&1==e.message.issucc&&(i.account=e.message.account,i.currency=e.message.mtype,this.c2sUserInfo(),this.c2sSlotInfo(),dispatch(r.OnLoginSuccess,e))},a.c2sUserInfo=function(){var e,t={type:c.USERINFO,message:{}};null==(e=this.service)||e.sendMessage(c.USERINFO,t)},a.c2sSlotInfo=function(){var e,t={type:c.SLOTINFO,message:{}};null==(e=this.service)||e.sendMessage(c.SLOTINFO,t)},a.s2cUserInfo=function(e){Log.d("s2cUserInfo message.money = ",e.message.money),Log.d("s2cUserInfo data.money = ",this.gameData.money),this.gameData.money=e.message.money},a._s2cSlotInfo=function(e){var t=e.message;this.gameData.slotInfo=t,this.gameData.loadDataFinish=!0,dispatch(m.OnLoadDataFinish)},a._s2cSlotBet=function(e){var t=e.message;dispatch(m.OnReceiveSlotBet,t)},a._s2cLastMap=function(e){var t=e.message;this.gameData.lastMapData=t},s(n,[{key:"gameData",get:function(){return App.dataCenter.get(u)}},{key:"service",get:function(){return App.serviceManager.get(o)}}]),n}(a)).module="Game",n._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logic.ts","./CommonEvent.ts","./GameSender.ts","./Global.ts","./GameService.ts","./SubGameData.ts","./SubGameDefines.ts","./ResourceLoader.ts","./Resource.ts"],(function(e){var t,n,o,i,a,u,r,s,l,d,c,h,p,f,m,b,y;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy,i=e.Prefab,a=e.AudioClip,u=e.UIRenderer,r=e.randomRangeInt},function(e){s=e.Logic},function(e){l=e.CommonEvent},function(e){d=e.GameSender},function(e){c=e.Global},function(e){h=e.GameService},function(e){p=e.SubGameData},function(e){f=e.EventName,m=e.CELL_PREFAB_URL},function(e){b=e.default},function(e){y=e.Resource}],execute:function(){o._RF.push({},"208ccUvvFNOc4k/oGA9h5N3","GameLogic",void 0);e("GameLogic",function(e){function o(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this)._view=null,t.loader=new b,t}t(o,e);var s=o.prototype;return s.addEvents=function(){e.prototype.addEvents.call(this),this.onD(l.GAME_SERVICE_CONNECTED,this.onNetConnected),this.onD(l.GAME_SERVICE_CLOSE,this.onNetClose),this.onD(f.OnLoadDataFinish,this.enterMainGameView),this.onD(f.PLAY_SOUND,this.onPlaySound),this.onD(f.PLAY_MUSIC,this.onPlayMusic)},s.onLoad=function(t){e.prototype.onLoad.call(this,t),this.view.init(),this.loadResources(),c.playback?(this.data.loadDataFinish=!0,this.enterMainGameView()):this.onConnect()},s.loadResources=function(){var e=this;this.loader.getLoadResources=function(){for(var t=[],n=1;n<m.length;n++)m[n]&&t.push({url:m[n],type:i,bundle:e.module});return t.push({url:"prefabs/BackgroundView",type:i,bundle:e.module}),t.push({url:"prefabs/IntroductionView",type:i,bundle:e.module}),t.push({url:"prefabs/JackpotView",type:i,bundle:e.module}),t.push({url:"prefabs/GridBgView",type:i,bundle:e.module}),t.push({url:"prefabs/LoadingView",type:i,bundle:e.module}),t.push({url:"prefabs/FunctionButtonView",type:i,bundle:e.module}),t.push({url:"prefabs/BuyFreeSpinsView",type:i,bundle:e.module}),t.push({url:"prefabs/WinScoreCheckoutView",type:i,bundle:e.module}),t.push({url:"prefabs/TransitionFreeModel",type:i,bundle:e.module}),t.push({url:"prefabs/item/LabelMultipiler",type:i,bundle:e.module}),t.push({url:"prefabs/item/LabelScore",type:i,bundle:e.module}),t.push({url:"prefabs/item/IconRecord",type:i,bundle:e.module}),t.push({url:"audio/freeBGM",type:a,bundle:e.module}),t.push({url:"audio/normalBGM",type:a,bundle:e.module}),t.push({url:"audio/transitions",type:a,bundle:e.module}),t.push({url:"audio/multiplier",type:a,bundle:e.module}),t.push({url:"audio/congratulations",type:a,bundle:e.module}),t.push({url:"audio/magicPower",type:a,bundle:e.module}),t},this.loader.onLoadComplete=function(t){y.LoaderError.SUCCESS&&(e.data.loadFinish=!0,e.enterMainGameView())},this.loader.onLoadProgress=function(t,n){var o,i=Math.ceil(t/n*100);null==(o=e.view)||o.updateProgress(i)},this.loader.loadResources()},s.onDestroy=function(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];(t=e.prototype.onDestroy).call.apply(t,[this].concat(o))},s.onConnect=function(){var e=this.gameService;if(e.isConnected)return Log.d(e.module+" 断开连接中..."),void e.close();Log.d(e.module+" 连接中..."),e.connect()},s.onNetConnected=function(e){Log.d(e.module+" 连接成功!");var t=App.senderManager.get(d);t&&t.c2sLogin(c.gameId)},s.onNetClose=function(e){Log.d(e.module+" 断开连接!")},s.enterMainGameView=function(){this.data.loadFinish&&this.data.loadDataFinish&&(dispatch(l.NOTIFY_SLOT_INFO,this.data.slotInfo),dispatch(l.NOTIFY_USERINFO_SCORE,this.data.money),this.view.showMain())},s.onPlaySound=function(e,t){void 0===t&&(t=!1),this.view.audioHelper.playEffect(e,this.module,t)},s.onPlayMusic=function(e){this.view.audioHelper.playMusic(e,this.module)},s.updateChildColor=function(e,t){var n=this;if(e){var o=e.getComponent(u);o&&(o.color=t),e.children.forEach((function(e){return n.updateChildColor(e,t)}))}},s.c2sFreeSpint=function(){var e;null==(e=this._sender)||e.c2sFreeSpint()},s.onSendBet=function(){var e,t;this.data.SWITCH_DOUBLE_FEATURE?(null==(e=this._sender)||e.c2sDoubleSlotBet({bet:this.data.total_bet}),dispatch(l.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet*this.data.DOUBLE_CHANCE_MULTIPLE)):(null==(t=this._sender)||t.c2sSlotBet({bet:this.data.total_bet}),dispatch(l.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet));this._view.showLoadingScreen()},s.onSendBuyFreeSpins=function(){var e;null==(e=this._sender)||e.c2sBuyFreeSpins({type:1,bet:this.data.total_bet}),dispatch(l.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet*this.data.BUYFEATURE_MULTIPLE),this._view.showLoadingScreen(),this._view.onRefreshFuncBtnView(!1)},s.randomLastMap=function(){for(var e=[],t=0;t<30;t++)e[t]=r(1,10);return e},s.delete_last_map=function(){this.view.delete_last_map()},s.transformArray=function(e){for(var t=[],n=4;n<e.length;n+=5)t.push(e[n]);for(var o=3;o<e.length;o+=5)t.push(e[o]);for(var i=2;i<e.length;i+=5)t.push(e[i]);for(var a=1;a<e.length;a+=5)t.push(e[a]);for(var u=0;u<e.length;u+=5)t.push(e[u]);return t},n(o,[{key:"data",get:function(){return App.dataCenter.get(p)}},{key:"gameService",get:function(){return App.serviceManager.get(h)}},{key:"_sender",get:function(){return App.senderManager.get(d)}},{key:"view",get:function(){return this._view}}]),o}(s));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameSender.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sender.ts","./GameService.ts","./Config.ts","./Global.ts","./Protocol2.ts"],(function(e){var n,s,t,i,c,o,r,a;return{setters:[function(e){n=e.inheritsLoose,s=e.createClass},function(e){t=e.cclegacy},function(e){i=e.Sender},function(e){c=e.GameService},function(e){o=e.Config},function(e){r=e.Global},function(e){a=e.Protocol}],execute:function(){t._RF.push({},"c0a4e33JYtGioGdOImt1n69","GameSender",void 0),e("GameSender",function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.c2sLogin=function(e){o.isDebugLogin?this.c2sDebug_login({uid:r.userId,game_id:e,money:Number(r.money),money_type:r.currency}):this.c2sOfficial_login({token:r.token,gameid:e,direct:r.direct_login})},i.c2sDebug_login=function(e){var n,s={type:a.DEBUG_LOGIN,message:e};null==(n=this.service)||n.sendMessage(a.DEBUG_LOGIN,s)},i.c2sOfficial_login=function(e){var n,s={type:a.LOGIN,message:e};null==(n=this.service)||n.sendMessage(a.LOGIN,s)},i.c2sMark=function(e){var n,s={type:a.MARK,message:e};null==(n=this.service)||n.sendMessage(a.MARK,s)},i.sendPack=function(e,n){var s;null==(s=this.service)||s.sendMessage(e,n)},i.c2sSlotBet=function(e){var n={type:a.SLOTBET,message:e};this.sendPack(a.SLOTBET,n)},i.c2sDoubleSlotBet=function(e){var n={type:a.ANTASLOTBET,message:e};this.sendPack(a.SLOTBET,n)},i.c2sFreeSpint=function(){var e={type:a.FREESPIN,message:{}};this.sendPack(a.FREESPIN,e)},i.c2sBuyFreeSpins=function(e){var n={type:a.BUY,message:e};this.sendPack(a.SLOT_TEST,n)},s(t,[{key:"service",get:function(){return App.serviceManager.get(c)}}]),t}(i)).module="Game",t._RF.pop()}}}));

System.register("chunks:///_virtual/GridBgView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameDefines.ts","./Decorators.ts","./NumberRoller.ts","./SubGameConstants.ts","./tipListItem.ts","./SubGameData.ts"],(function(e){var t,i,n,l,o,s,r,a,u,c,p,h,b,_,m,f,d,w,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,r=e._decorator,a=e.Node,u=e.Label,c=e.sp,p=e.tween,h=e.Vec3},function(e){b=e.default},function(e){_=e.EventName},function(e){m=e.inject},function(e){f=e.NumberRoller},function(e){d=e.SubGameConstants},function(e){w=e.tipListItem},function(e){g=e.SubGameData}],execute:function(){var v,S,M,z,L,T,y,N,I,R,P,A,B,E,k,C,F,D,W,U,G,O,x,H,X;s._RF.push({},"6842do3BtFOXoPXujPG2P5X","GridBgView",void 0);var V=r.ccclass,j=(r.property,function(e){return e[e.zhousi1=0]="zhousi1",e[e.zhousi2=1]="zhousi2",e}(j||{}));e("GridBgView",(v=V("GridBgView"),S=m("landscape",a),M=m("portrait",a),z=m("tipBg",a),L=m("tipBg/tumble_win",a),T=m("tipBg/tumble_win/NumberRoller/label_currency",f),y=m("tipBg/tumble_win/label_multiple",u),N=m("tipBg/tipListItem",w),I=m("zeus",a),R=m("zeus/skeleton",c.Skeleton),P=m("freeMultiple",a),A=m("freeMultiple/multipleLabel",u),v((k=t((E=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).view=null,n(t,"bg_landscape",k,l(t)),n(t,"bg_portrait",C,l(t)),n(t,"tipBg",F,l(t)),n(t,"tumble_win",D,l(t)),n(t,"win_label_score",W,l(t)),n(t,"win_label_multiple",U,l(t)),n(t,"tipListItem",G,l(t)),n(t,"zeusNode",O,l(t)),n(t,"zeusSkeleton",x,l(t)),n(t,"freeMultiple",H,l(t)),n(t,"freeMultipleLabel",X,l(t)),t.ld_label_score=null,t.target_number=0,t.total_multiple=0,t.rc_Multiple=0,t}i(t,e);var s=t.prototype;return s.start=function(){this.tumble_win.active=!1,this.win_label_multiple.node.active=!1,this.freeMultiple.active=!1,this.ld_label_score=this.win_label_score.node.getComponent(u),this.showTipsTween(!0),this.onSwitchScreen(App.utils.getOrientation()),this.zeusAnimNormal()},s.addEvents=function(){this.onD(_.REFRESH_TUMBLE_WIN,this.onRefreshTumbleWin),this.onD(_.REFRESH_TUMBLE_WIN_MULTIPLE,this.onRefreshTumbleWinMultiple),this.onD(_.REFRESH_TUMBLE_WIN_FINAL,this.onRefreshTumbleWinFinal),e.prototype.addEvents.call(this)},s.onRefreshTumbleWin=function(e){Log.d("ssssssss onRefreshTumbleWin",e);var t=this.target_number;this.target_number=e,this.showTumbleWin(e),0!==e&&this.update_landscape_win_score(t,e)},s.onRefreshTumbleWinMultiple=function(e){var t=App.utils.formatNumber(this.target_number);0!==e?(this.total_multiple+=e,this.win_label_multiple.node.active=!0,this.ld_label_score.string=t+"X",this.scrollCompleteCallback()):this.total_multiple=e},s.onRefreshTumbleWinFinal=function(){var e=this.target_number*this.total_multiple;this.addScoreTween(this.win_label_multiple.node),this.win_label_score.stopRollingAndShowNumber(e),this.totalScoreTween(this.win_label_score.node),this.rc_Multiple=0},s.enterNormalModel=function(e){this.switchFreeScene(!1),e&&e()},s.enterFreeModel=function(e){this.switchFreeScene(!0),e&&e()},s.switchFreeScene=function(e){this.bg_landscape.active=!1,this.bg_portrait.active=!1,this.freeMultiple.active=!1,this.showTipContent(!0),e?("portrait"===App.utils.getOrientation()?(this.bg_portrait.active=!0,this.freeMultiple.setPosition(220,-220,0)):(this.bg_landscape.active=!0,this.freeMultiple.setPosition(-520,215,0)),this.freeMultiple.active=!0):"portrait"===App.utils.getOrientation()?this.bg_portrait.active=!0:this.bg_landscape.active=!0},s.onSwitchScreen=function(e){this.bg_landscape.active=!1,this.bg_portrait.active=!1,"portrait"===e?(this.bg_portrait.active=!0,this.zeusNode.setPosition(224,310,0),this.zeusNode.setSiblingIndex(0),this.freeMultiple.setPosition(220,-220,0),this.tipBg.setPosition(0,460,0)):(this.bg_landscape.active=!0,this.zeusNode.setPosition(504,-205,0),this.zeusNode.setSiblingIndex(this.node.children.length-1),this.freeMultiple.setPosition(-520,215,0),this.tipBg.setPosition(0,308,0))},s.zeusAnimNormal=function(){this.zeusSkeleton.timeScale=1,this.zeusSkeleton.clearTrack(0),this.zeusSkeleton.setAnimation(0,j[0],!0)},s.zeusAninSkill=function(){var e=this;this.zeusSkeleton.timeScale=1,this.zeusSkeleton.clearTrack(0),this.zeusSkeleton.setAnimation(0,j[1],!1),this.zeusSkeleton.setCompleteListener((function(t){(t.animation?t.animation.name:"")===j[1]&&e.zeusAnimNormal()})),this.scheduleOnce((function(){dispatch(_.PLAY_SOUND,d.AudioSource.LEIDIAN)}),1),dispatch(_.PLAY_SOUND,d.AudioSource.ZHOUSI)},s.creatorRecordMultiple=function(){var e=this;if(!(this.rc_Multiple<2)){createPrefab({url:"prefabs/item/LabelMultipiler",view:this.view,complete:function(t){var i;e.node.addChild(t);var n=t.getComponent(u);n&&(n.string=e.rc_Multiple+"X"),t.setPosition(e.freeMultiple.position.x+2.5,e.freeMultiple.position.y-20);var l=[];l.push(p(t).to(.2,{scale:new h(1.6,1.6,1)}).delay(.2).to(.6,{position:new h(e.tipBg.position.x+40,e.tipBg.position.y,0),scale:new h(1,1,1)},{onStart:function(e){dispatch(_.PLAY_SOUND,d.AudioSource.MULTIPLIER)},easing:"sineOut"}).union()),l.push(p().call((function(){dispatch(_.REFRESH_TUMBLE_WIN_MULTIPLE,e.rc_Multiple),t.removeFromParent(),t.destroy()}))),(i=p(t)).sequence.apply(i,l).start()}})}},s.recordFreeMultiple=function(e){e>0?(this.freeMultipleLabel.string=e+"X",this.rc_Multiple=e):(this.freeMultipleLabel.string="",this.rc_Multiple=0)},s.showTipContent=function(e){this.tumble_win.active=!e,this.tipListItem.node.active=e},s.showTumbleWin=function(e){0===e?(this.tumble_win.active=!1,this.tipListItem.node.active=!0,this.target_number=0,this.total_multiple=0):(this.tumble_win.active=!0,this.tipListItem.node.active=!1)},s.update_landscape_win_score=function(e,t){var i=this;this.win_label_score.startRolling(e,t,.5,(function(){i.scrollCompleteCallback()}))},s.multipleTween=function(e){p(e).delay(.05).to(.1,{scale:new h(1.2,1.2,1.2)}).to(.1,{scale:new h(1,1,1)}).union().start()},s.addScoreTween=function(e){e.active=!0,p(e).to(.1,{position:new h(0,-5,0),scale:new h(1.2,1.2,1)}).to(.05,{scale:new h(.1,.1,1)}).union().call((function(){e.active=!1,e.setPosition(e.position.x,e.position.y,0),e.setScale(1,1,1)})).start()},s.totalScoreTween=function(e){p(e).delay(.1).to(.2,{scale:new h(1.3,1.3,1.3)}).to(.2,{scale:new h(1,1,1)}).union().start()},s.scrollCompleteCallback=function(){this.win_label_multiple.string=this.total_multiple+"",this.multipleTween(this.win_label_multiple.node)},s.showTipsTween=function(e){this.tipListItem.updateInfo(e)},o(t,[{key:"data",get:function(){return App.dataCenter.get(g)}}]),t}(b)).prototype,"bg_landscape",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(E.prototype,"bg_portrait",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(E.prototype,"tipBg",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(E.prototype,"tumble_win",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(E.prototype,"win_label_score",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(E.prototype,"win_label_multiple",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(E.prototype,"tipListItem",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(E.prototype,"zeusNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(E.prototype,"zeusSkeleton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(E.prototype,"freeMultiple",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(E.prototype,"freeMultipleLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=E))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/GridView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameDefines.ts","./EliminateCellView.ts","./SubGameData.ts","./Config.ts","./CommonEvent.ts","./WinScoreCheckoutView.ts","./JackpotView.ts","./NumberCurrency.ts","./SubGameConstants.ts"],(function(e){var t,i,a,s,n,l,o,r,_,h,d,c,p,u,f,m,v,g,E,w,I,L,C,T,b,y,M,R,S,A,F,V,O,N,x,D;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){a=e.cclegacy,s=e._decorator,n=e.UIOpacity,l=e.Vec3,o=e.find,r=e.tween,_=e.Label,h=e.sp,d=e.randomRangeInt},function(e){c=e.default},function(e){p=e.EventName,u=e.GRID_HEIGHT,f=e.GRID_WIDTH,m=e.DEFAULT_FREE_TIMES,v=e.CELL_FREEMODEL_ID,g=e.GRID_LENGTH,E=e.DEFAULT_ADD_FREE_TIMES,w=e.GRID_PIXEL_WIDTH,I=e.GRID_PIXEL_HEIGHT,L=e.CELL_SIZE,C=e.CELL_SIZE_HEIGHT,T=e.CELL_PREFAB_URL,b=e.PREFAB_URL_Scatter,y=e.CELL_Multiple_ID,M=e.PREFAB_URL_Multiplier,R=e.CELL_ICON_URL},function(e){S=e.default},function(e){A=e.SubGameData},function(e){F=e.ViewZOrder},function(e){V=e.CommonEvent},function(e){O=e.WinScoreCheckoutView},function(e){N=e.JackpotView},function(e){x=e.NumberCurrency},function(e){D=e.SubGameConstants}],execute:function(){var P;a._RF.push({},"e3a75dC7y5CjYoZZWy8ovoS","GridView",void 0);var U=s.ccclass;s.property,e("default",U(P=function(e){function a(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).view=null,t.delete_cellViews=null,t.cellViews=null,t._baseMap=void 0,t._freeMap=void 0,t.cards=[],t.card_index=0,t.total_add=0,t.total_score=0,t.multiple=0,t.total_multiple=0,t.win_score=0,t.win=0,t.total_play_count=0,t.total_play_id=0,t.total_fill_up_count=0,t.total_fill_up_id=0,t.base_map_delay=!1,t.total_freemodel_times=0,t.free_times_remaining=0,t.free_array_inidex=0,t.b_multiplier=!1,t.b_jackpot=!1,t.freeModelType=0,t.freeModelType_count=0,t.total_multiple_count=0,t.tumble_win=0,t}t(a,e);var s=a.prototype;return s.onLoad=function(){this.initListener()},s.initListener=function(){this.onD(p.START_FREE_MODEL,this.onRemainingFreeTimes),this.onD(p.COMPLETE_CALLBACK,this.onCompleteCallback),this.onD(p.PLAY_RAIDEN_ANIM,this.creatorRaiden)},s.resetInit=function(){this.cards=[],this.card_index=0,this.total_add=0,this.total_score=0,this.multiple=0,this.total_multiple=0,this.total_play_count=0,this.total_play_id=0,this.total_fill_up_count=0,this.total_fill_up_id=0,this.tumble_win=0},s.reset_free_init=function(){this.total_freemodel_times=0,this.free_array_inidex=0,this.win_score=0,this.win=0},s.test_last_map=function(){var e=this.randomLastMap(),t=this.transformArray(e);this.handle_map(t,!1)},s.delete_drop_map=function(){Log.d("ssssssssssssss delete_drop_map"),this.node.removeAllChildren(),this.delete_cellViews=[],this.cellViews=[],this.data.QUICKSTOP&&(Log.d("data received = ",this.data.DATARECEIVED),this.data.DATARECEIVED?this.process_first_map():this.base_map_delay=!0)},s.delete_last_map=function(){for(var e=this,t=0,i=1;i<=u;i++)for(var a=1;a<=f;a++){var s=this.delete_cellViews[i][a];if(s&&s){var n=s.getComponent(S);n&&n.dropAndRemove((function(){t+=1,e.delete_complete(t)}))}}this.view.onClearScoreBoradItem()},s.delete_complete=function(e){Log.d("ssssss delete_complete index = ",e,this.data.QUICKSTOP),this.data.QUICKSTOP||18===e&&(Log.d("data received = ",this.data.DATARECEIVED),this.data.DATARECEIVED?this.process_first_map():this.base_map_delay=!0)},s.handleReceiveSlotBet=function(e){this.resetInit(),this.reset_free_init(),this._baseMap=e.base,this._freeMap=e.free,this._freeMap.length>0&&(this.free_times_remaining=m,this.view.updateFreeTimes(this.free_times_remaining)),this.total_freemodel_times=e.free_times,Log.d("ssss handleReceiveSlotBet base = ",this._baseMap),this._baseMap&&this._baseMap.length>0&&(this.init_base_map(this._baseMap),this.data.DATARECEIVED=!0),this.base_map_delay&&(this.base_map_delay=!1,this.process_first_map()),this.view.onGridMaskEnable(!0)},s.handleReceiveLastMap=function(e){if(this.resetInit(),this.reset_free_init(),this._baseMap=e.base||{},this._freeMap=e.free||{},this.free_times_remaining=e.free_remain_times||0,this.total_freemodel_times=e.free_times||0,this.data.total_bet=e.bet||0,this.win_score+=e.win||0,this.win=e.win||0,dispatch(V.NOTIFY_DEFAULT_BET,e.bet),e.base&&e.base.length>0){this.init_base_map(this._baseMap);var t=this.cards.length-1;if(this.card_index=t,this.handle_last_map_icons(this.cards[this.card_index]),this.view.updateFreeTimes(this.free_times_remaining),this._freeMap.length>0&&dispatch(V.NOTIFY_FREE_MODE),this._freeMap.length===e.free_times)this.data.INITNEWCELL=!0,this.data.SWITCH_DOUBLE_FEATURE=!1,this.view.onRefreshFuncBtnView(!1);else if(this._freeMap.length>0){this.view.switchFreeScene(!0);var i=App.getLanguage("90047",[this.free_times_remaining]);dispatch(V.NOTIFY_RICH_TEXT_TIPS,i)}else this.data.SWITCH_FREE_MODE=!1;this.view.onGridMaskEnable(!1);var a=this.cards[this.card_index].map,s=this.transformArray(a);this.handle_map(s,!1),this.view.updateFreeMultiple(e.free_multi),this.total_multiple=e.free_multi}else{var n=this.randomLastMap(),l=this.transformArray(n);this.handle_map(l,!1)}},s.handle_last_map_icons=function(e){var t=e.icons;if(t&&t.length>0){var i=t[0],a=i.icon,s=i.num;a===v&&s>=3||(this.cards[this.card_index].icons=[])}this.cards[this.card_index].multiple=0},s.delete_free_drop_map=function(){dispatch(p.RESET_TIP_SCORE),this.node.removeAllChildren(),this.delete_cellViews=[],this.cellViews=[],this.process_free_map()},s.delete_free_map=function(){var e=this;this.view.onGridMaskEnable(!0);for(var t=0,i=1;i<=u;i++)for(var a=1;a<=f;a++){var s=this.delete_cellViews[i][a];if(s){var n=s.getComponent(S);n&&n.dropAndRemove((function(){t+=1,e.delete_free_complete(t)}))}}this.tumble_win=0,dispatch(p.REFRESH_TUMBLE_WIN,this.tumble_win)},s.delete_free_complete=function(e){this.data.QUICKSTOP||18===e&&(dispatch(p.RESET_TIP_SCORE),this.process_free_map())},s.process_free_map=function(){if(this.free_times_remaining>0){this.handle_free_map(this.free_array_inidex),this.free_times_remaining-=1,this.free_array_inidex+=1,this.view.updateFreeTimes(this.free_times_remaining);var e=App.getLanguage("90047",[this.free_times_remaining]);dispatch(V.NOTIFY_RICH_TEXT_TIPS,e)}else Log.d("免费模式结束"),this.resetInit(),this.reset_free_init();this.view.onClearScoreBoradItem()},s.handle_free_map=function(e){if(Log.d("ssssssss handle_free_map index = ",e),e>=this._freeMap.length)Log.d("handle_free_map finish !!!");else if(this._freeMap&&this._freeMap.length>0){var t=this._freeMap[e].one;Log.d("handle_free_map base = ",t),t&&t.length>0&&(this._baseMap=t,this.init_base_map(this._baseMap),this.process_first_map())}},s.init_base_map=function(e){this.resetInit(),this.cards=[];for(var t=[],i=0;i<e.length;i++){var a=e[i],s=a.map,n=a.icons;t=[];for(var l=0;l<n.length;l++){var o=n[l];t.push({add:o.add,icon:o.icon,num:o.num})}this.cards.push({add:a.add,icons:t,map:s,multiple:a.multiple,score:a.score})}},s.process_first_map=function(){Log.d("process_first_map ssssssssss !!!",this.cards,this.card_index);var e=this.cards[this.card_index],t=null==e?void 0:e.map;if(t){var i=this.transformArray(t);this.handle_map(i,!0),this.data.INITNEWCELL=!0}},s.init_complete=function(e){if(e===g)if(this.delete_cellViews=this.cellViews,this.card_index>=this.cards.length)Log.d("init_complete this.cards finish !!!");else{var t=this.cards[this.card_index];this.handleOneCard(t)}},s.drop_complete=function(e){if(e===g)if(Log.d("ssss drop_complete = ",this.cards),this.delete_cellViews=this.cellViews,this.view.onGridMaskEnable(!1),this.card_index>=this.cards.length)Log.d("drop_complete this.cards finish !!!",this.card_index,this.cards.length);else{var t=this.cards[this.card_index];this.handleOneCard(t)}},s.play_complete=function(){if(Log.d("play_complete index = ",this.total_play_id,this.total_play_count),this.total_play_id===this.total_play_count)if(this.total_play_count=0,this.total_play_id=0,Log.d("play_complete remain cards = ",this.card_index,this.cards.length),this.card_index>=this.cards.length)Log.d("play_complete this.cards finish !!!",this.total_add);else{var e=this.cards[this.card_index].map;if(e){this.view.onGridMaskEnable(!0);var t=this.transformArray(e);this.fill_up_map(t)}}},s.fill_up_complete=function(){if(this.total_fill_up_id===this.total_fill_up_count)if(this.total_fill_up_count=0,this.total_fill_up_id=0,Log.d("ssssssss fill_up_complete",this.cellViews),this.view.onGridMaskEnable(!1),this.card_index>=this.cards.length)Log.d("fill_up_complete this.cards finish !!!");else if(this.cards.length>0){this.view.onGridMaskEnable(!0);var e=this.cards[this.card_index];this.handleOneCard(e)}},s.handleOneCard=function(e){this.card_index+=1,this.view.c2sFreeSpint();var t=e.add,i=e.score,a=e.map,s=e.icons,n=e.multiple;Log.d("handleOneCard",s),this.multiple=n,this.total_add+=t,this.total_score+=i;var l=i;if(l&&(this.win_score+=l,this.win_score>0&&(Log.d("YOU WIN = ",App.utils.formatNumber(this.win_score)),dispatch(V.NOTIFY_WINSCORE_TIPS,this.win_score))),this.tumble_win+=i,Log.d("TUMBLE WIN = ",App.utils.formatNumber(this.win_score)),dispatch(p.REFRESH_TUMBLE_WIN,this.tumble_win),this.b_multiplier=!1,this.b_jackpot=!1,this.freeModelType=0,this.freeModelType_count=0,this.freeModelType=this.getFreeModelType(a),Log.d("handleOneCard freeModelType = ",this.freeModelType,this.freeModelType_count),this.multiple>1&&this.card_index===this.cards.length&&(this.total_multiple_count=this.getMultipleCount(a),this.total_multiple+=this.multiple,this.b_multiplier=!0),0===i)this.handleLastCard();else if(Log.d("handleOneCard total_play_count = ",this.total_play_count),s&&s.length>0){for(var o=0;o<s.length;o++){var r=s[o];this.total_play_count+=r.num}Log.d("handleOneCard total_play_count = ",this.total_play_count),this.handle_icons(s)}else Log.e("后端数据有误")},s.handleLastCard=function(){var e=this.total_add-this.total_score;Log.d("Each card add score2 = ",App.utils.formatNumber(e)),this.win_score+=e,Log.d("Each card YOU WIN = ",App.utils.formatNumber(this.win_score)),Log.d("Each card add score = ",App.utils.formatNumber(this.total_add)),this.b_jackpot=this.data.getJackpot(this.total_add),this.b_multiplier?(this.view.freeRecordMultipleTween(),this.handle_multiplier_symbols(),this.data.SWITCH_FREE_MODE||dispatch(p.REFRESH_TUMBLE_WIN_MULTIPLE,0),this.b_multiplier=!1):this.onShowJackpot()},s.handle_multiplier_symbols=function(){for(var e=[],t=0,i=1;i<=f;i++)for(var a=1;a<=u;a++){var s=this.cellViews[a][i];if(s){var n=s.getComponent(S);n&&n.IconId>v&&(t+=1,e.push(s))}}var l=0,o=this;e.reduce((function(e,i){return e.then((function(){return function(e){return new Promise((function(i,a){if(e){var s=e.getComponent(S);s&&s.IconId>v&&(o.view.onGridMaskEnable(!1),s.play_ani_multiple((function(){i(),l+=1;var e=s.m_rows,a=s.m_columns;Log.d("handle_multiplier_symbols complete = ",l,t,o.total_score,o.total_add,o.win_score),o.initLabelMultipiler(e,a,s.Multiple),l===t&&(o.scheduleOnce((function(){dispatch(p.REFRESH_TUMBLE_WIN_FINAL),o.view.updateFreeMultiple(o.total_multiple)}),1.5),o.scheduleOnce((function(){o.onShowJackpot()}),2))})))}}))}(i)}))}),Promise.resolve())},s.onShowMultiple=function(){for(var e=this,t=0,i=function(i){for(var a=function(a){var s=e.cellViews[a][i];if(s){var n=s.getComponent(S);n&&n.IconId>v&&n.play_ani_multiple((function(){t+=1,e.scheduleOnce((function(){e.initLabelMultipiler(a,i,n.Multiple),e.play_multiple_complete(t)}),1*(t-1))}))}},s=1;s<=u;s++)a(s)},a=1;a<=f;a++)i(a)},s.play_multiple_complete=function(e){var t=this;Log.d("play_multiple_complete index = ",e,this.total_multiple_count),e===this.total_multiple_count&&(this.total_multiple_count=0,this.scheduleOnce((function(){dispatch(p.REFRESH_TUMBLE_WIN_FINAL)}),1.5),this.scheduleOnce((function(){t.onShowJackpot()}),2))},s.onShowJackpot=function(){this.win_score>0&&dispatch(V.NOTIFY_WINSCORE_TIPS,this.win_score),this.b_jackpot?(this.b_jackpot=!1,App.uiManager.open({type:N,bundle:this.data.module,zIndex:F.UI,args:[this.data.getJackpotType(this.total_add),this.total_add]})):this.onCompleteCallback()},s.onCompleteCallback=function(){0===this.freeModelType?this.onRemainingFreeTimes():this.handle_scatter_icon()},s.handle_scatter_icon=function(){for(var e=this,t=0,i=1;i<=u;i++)for(var a=1;a<=f;a++){var s=this.cellViews[i][a];if(s){var n=s.getComponent(S);n&&n.IconId===v&&n.play_winning_animation((function(){t+=1,e.play_scatter_complete(t)}))}}},s.play_scatter_complete=function(e){Log.d("play_scatter_complete index = ",e,this.freeModelType_count),e===this.freeModelType_count&&(this.freeModelType_count=0,this.handle_freeModel_type())},s.play_no_scatter_complete=function(e){Log.d("play_no_scatter_complete index = ",e,this.freeModelType_count),e===this.freeModelType_count&&this.handleLastCard()},s.handle_freeModel_type=function(){if(1===this.freeModelType)this.data.add_freeGame_times=!1,this.view.enterFreeModel();else if(2===this.freeModelType){this.free_times_remaining+=E;var e=App.getLanguage("90047",[this.free_times_remaining]);this.data.add_freeGame_times=!0,App.uiManager.open({type:O,bundle:this.data.module,zIndex:F.UI,args:[1,E]}),dispatch(V.NOTIFY_RICH_TEXT_TIPS,e)}else this.onRemainingFreeTimes()},s.handle_special_icon=function(){for(var e=1;e<=u;e++)for(var t=1;t<=f;t++){var i=this.cellViews[e][t];if(i){var a=i.getComponent(S);a&&a.IconId>=v&&a.IconId===v&&a.node.setSiblingIndex(g+2)}}},s.onRemainingFreeTimes=function(){if(Log.d("剩余免费次数",this.free_times_remaining),this.free_times_remaining>0)this.data.QUICKSTOP=!1,this.data.INITNEWCELL=!1,this.data.DATARECEIVED=!1,this.delete_free_map();else if(this.data.SWITCH_FREE_MODE){Log.d("免费模式结束",this.win_score,this.win);var e=this.win_score-this.win;App.uiManager.open({type:O,bundle:this.data.module,zIndex:F.UI,args:[2,this.total_freemodel_times,e,this.data.getJackpotType(e)]})}else Log.d("非免费模式所有表现完结状态重置"),this.data.QUICKSTOP=!1,this.data.INITNEWCELL=!1,this.data.DATARECEIVED=!1,this.data.add_freeGame_times=!1,this.reset_free_init(),this.view.onSpinEnd(),this.view.updateFreeMultiple(this.total_multiple)},s.handle_map=function(e,t){var i=this;this.cellViews=[];for(var a=this,s=0,n=function(n){i.cellViews[n]=[];for(var l=function(l){var o=e[l-1+(n-1)*f],r=i.getCellPrefabUrl(o);r&&createPrefab({url:r,view:i.view,complete:function(e){if(e){a.node.addChild(e);var r=e.getComponent(S);null==r||r.initWithModel(o,n,l),a.cellViews[n][l]=e,i.handle_special_icon(),t?null==r||r.initNewCellAndDrop((function(){s+=1,i.drop_complete(s)})):(s+=1,i.init_complete(s))}}})},o=1;o<=f;o++)l(o)},l=1;l<=u;l++)n(l)},s.handle_icons=function(e){for(var t=0;t<e.length;t++){var i=e[t];this.handle_target_icon(i.add,i.icon,i.num)}if(1===e.length){var a=e[0].icon,s=this.getCellIconUrl(a);if(Log.d("sssssssss richText url = ",s,e[0].add),s){var n=App.getLanguage("90045",[e[0].num,s,"{score:"+e[0].add+"}"]);dispatch(V.NOTIFY_RICH_TEXT_TIPS,n)}}else if(e.length>1){var l=App.getLanguage("90046");dispatch(V.NOTIFY_RICH_TEXT_TIPS,l)}this.view.onAddScoreBoradItem(e)},s.handle_target_icon=function(e,t,i){for(var a=this,s=0,n=0,l=function(l){for(var o=function(o){var r=a.cellViews[l][o];if(r){var _=r.getComponent(S);_&&_.IconId===t&&(t===v?(n+=1,a.play_no_scatter_complete(n)):(_.play_winning_animation((function(){a.total_play_id+=1,a.cellViews[l][o]=null,a.play_complete()})),s+=1,Log.d("sssssss handle_target_icon = ",s,t,e,i,l,o),s===Math.floor(i/2)&&a.initWinningScore(l,o,e)))}},r=1;r<=f;r++)o(r)},o=1;o<=u;o++)l(o)},s.initWinningScore=function(e,t,i){var a=this,s=L*(t-.5),_=C*(e-.9);createPrefab({url:"prefabs/item/LabelScore",view:this.view,complete:function(e){if(e){var t,h;a.node.addChild(e);var d=e.getComponent(n);e.setPosition(new l(s,_)),e.setSiblingIndex(g+2);var c=null==(t=o("NumberCurrency/label_currency",e))?void 0:t.getComponent(x);c&&c.updateNumber(i);var p=[],u=r(e).set({scale:new l(1.2,1.2,1.2)}).to(1.5,{scale:new l(.9,.9,.9),position:new l(s,_+60,0)}),f=r(d).delay(.4).to(.8,{opacity:.1},{easing:"quintIn"}).call((function(){})).start();p.push(u),p.push(f),p.push(r().call((function(){e.removeFromParent(),e.destroy()}))),(h=r(e)).sequence.apply(h,p).start()}}})},s.initLabelMultipiler=function(e,t,i){var a=this,s=L*(t-.5),n=C*(e-.5);createPrefab({url:"prefabs/item/LabelMultipiler",view:this.view,complete:function(e){if(e){var t,o=e.getComponent(_);o&&(o.string=i+"X"),a.node.addChild(e),e.setPosition(new l(s,n)),e.setSiblingIndex(g+2);var h=[];h.push(r(e).to(.2,{scale:new l(1.6,1.6,1)}).delay(.2).to(.5,{position:new l(w/2+70,I+60,0),scale:new l(1,1,1)},{onStart:function(e){dispatch(p.PLAY_SOUND,D.AudioSource.MULTIPLIER)},easing:"sineOut"}).union()),h.push(r().call((function(){dispatch(p.REFRESH_TUMBLE_WIN_MULTIPLE,i),e.removeFromParent(),e.destroy()}))),(t=r(e)).sequence.apply(t,h).start()}}})},s.creatorRaiden=function(e,t){var i=this,a=o("GridViews",this.view.node),s=o("GridViews/GridViewMask",this.view.node).getScale(),n=L*(t-3.5)*s.x,r=C*(e-2.8)*s.y;createPrefab({url:"prefabs/item/raiden",view:this.view,complete:function(e){if(e){e.setPosition(new l(n,r)),null==a||a.addChild(e);var t=o("beilvfuhao_chuxian/beilvfuhao_chuxian",e),s=null==t?void 0:t.getComponent(h.Skeleton);i.view.playZeusAnimSkill(),s.clearTrack(0),s.setAnimation(0,"beilvfuhao_chuxian",!1),s.setCompleteListener((function(t){"beilvfuhao_chuxian"===(t.animation?t.animation.name:"")&&e.removeFromParent()}))}}})},s.fill_up_map=function(e){var t=this;this.view.onGridMaskEnable(!0);for(var i=1;i<=f;i++)for(var a=1;a<=u;a++)if(null===this.cellViews[a][i])for(var s=a+1;s<=u;s++)if(null!==this.cellViews[s][i]){this.cellViews[a][i]=this.cellViews[s][i],this.cellViews[s][i]=null;var n=this.cellViews[a][i];if(n){var l=n.getComponent(S);l&&(this.cellViews[a][i]=n,this.total_fill_up_count+=1,l.downAction(a,i,(function(){t.total_fill_up_id+=1,t.fill_up_complete()})))}break}for(var o=1;o<=f;o++)for(var r=0,_=1;_<=u;_++)if(null===this.cellViews[_][o]){var h=I+C*(r+=1),d=this.getIconIndex(_,o);this.createNewCell(e[d],_,o,h)}},s.getIconIndex=function(e,t){return t-1+(e-1)*f},s.createNewCell=function(e,t,i,a){var s=this,n=this,l=this.getCellPrefabUrl(e);l&&createPrefab({url:l,view:this.view,complete:function(l){if(l){n.node.addChild(l);var o=l.getComponent(S);null==o||o.initWithModel(e,t,i),n.cellViews[t][i]=l,s.handle_special_icon();var r=l.getComponent(S);r&&(s.total_fill_up_count+=1,r.downAction2(t,i,a,(function(){s.total_fill_up_id+=1,s.fill_up_complete()})))}}})},s.getCellPrefabUrl=function(e){var t=null;return e>=1&&e<=9?t=T[e]:e===v?t=b:(e>v||e>=y||e>=y)&&(t=M),t},s.getCellIconUrl=function(e){var t=null;return e>=1&&e<=9&&(t=R[e]),t},s.getMultipleCount=function(e){var t=0;return e.forEach((function(e){e>v&&t++})),t},s.getFreeModelType=function(e){var t=0;return e.forEach((function(e){e===v&&t++})),this.freeModelType_count=t,t>=4&&!this.data.SWITCH_FREE_MODE?1:t>=3&&this.data.SWITCH_FREE_MODE?2:0},s.transformArray=function(e){for(var t=[],i=4;i<e.length;i+=5)t.push(e[i]);for(var a=3;a<e.length;a+=5)t.push(e[a]);for(var s=2;s<e.length;s+=5)t.push(e[s]);for(var n=1;n<e.length;n+=5)t.push(e[n]);for(var l=0;l<e.length;l+=5)t.push(e[l]);return t},s.randomLastMap=function(){for(var e=[],t=0;t<30;t++)e[t]=d(1,9);return e},i(a,[{key:"data",get:function(){return App.dataCenter.get(A)}}]),a}(c))||P);a._RF.pop()}}}));

System.register("chunks:///_virtual/IntroductionView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./GlobalConfig.ts","./Decorators.ts"],(function(t){var e,o,n,i,l,r,s,a,c,u,p,b,g,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,s=t.Node,a=t.find,c=t.Toggle,u=t.Button,p=t.tween,b=t.Vec3},function(t){g=t.default},function(t){h=t.GlobalConfig},function(t){d=t.inject}],execute:function(){var f,C,v,_,w,m,y,k,S,N,I;l._RF.push({},"02897fDUmJMN45tCFq/eo+I","IntroductionView",void 0);var L=r.ccclass;r.property,t("IntroductionView",(f=L("IntroductionView"),C=d("mask",s),v=d("btnComps",s),_=d("bg_landscape",s),w=d("bg_portrait",s),f((k=e((y=function(t){function e(){for(var e,o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))||this).view=null,n(e,"maskNode",k,i(e)),n(e,"btnCompsNode",S,i(e)),n(e,"bg_landscape",N,i(e)),n(e,"bg_portrait",I,i(e)),e.toggle=null,e.btn_close=null,e}o(e,t);var l=e.prototype;return l.onLoad=function(){var e,o,n=this;(t.prototype.onLoad.call(this),this.toggle=null==(e=a("notShow/Toggle",this.btnCompsNode))?void 0:e.getComponent(c),this.btn_close=a("btn_close",this.btnCompsNode),this.btn_close)&&(null==(o=this.btn_close)||o.on(u.EventType.CLICK,(function(){return n.onClose()})));this.toggle.node.on(c.EventType.TOGGLE,this.ctlCheckMark,this)},l.start=function(){this.tweenBtnClose()},l.onSwitchScreen=function(t){"portrait"===t?(this.bg_portrait.active=!0,this.bg_landscape.active=!1,this.btnCompsNode.setPosition(0,-290,0)):(this.bg_landscape.active=!0,this.bg_portrait.active=!1,this.btnCompsNode.setPosition(454,76,0))},l.onClose=function(){App.utils.saveSkipIntro(this.toggle.isChecked),this.view.onCloseIntroductionView(),App.globalAudio.playGlobalEffect(h.audioPath.button)},l.ctlCheckMark=function(t){t.isChecked?console.log("SSS被选中"):console.log("SSS被取消选中"),Log.d("ctlCheckMark = ",this.toggle.isChecked)},l.tweenBtnClose=function(){p(this.btn_close).tag(1001).to(.28,{scale:new b(1.1,1.1,1.1)},{easing:"sineOut"}).to(.28,{scale:new b(1,1,1)}).union().repeatForever().start()},e}(g)).prototype,"maskNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(y.prototype,"btnCompsNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(y.prototype,"bg_landscape",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(y.prototype,"bg_portrait",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./CommonEvent.ts","./SubGameData.ts","./SubGameDefines.ts","./Decorators.ts","./NumberRoller.ts","./SubGameConstants.ts"],(function(e){var t,i,n,o,c,a,r,s,l,u,p,h,m,S,b,f,k,d,N,_,A,y,g,P,T,w,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,c=e.createClass},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,l=e.sp,u=e.ParticleSystem2D,p=e.find,h=e.input,m=e.Input,S=e.sys,b=e.KeyCode,f=e.Vec2,k=e.Tween,d=e.tween,N=e.Vec3},function(e){_=e.default},function(e){A=e.CommonEvent},function(e){y=e.SubGameData},function(e){g=e.EventName,P=e.JackpotType},function(e){T=e.inject},function(e){w=e.NumberRoller},function(e){I=e.SubGameConstants}],execute:function(){var v,C,R,E,U,W,G,L,j,D,B,z,F,O,M,V,J,Y,K,H,x;a._RF.push({},"09c323wR4RBXqOk5yxmy+l6","JackpotView",void 0);var q=r.ccclass,X=function(e){return e[e.default=0]="default",e[e.BIGWIN=1]="BIGWIN",e[e.MEGAWIN=2]="MEGAWIN",e[e.SUPERWIN=3]="SUPERWIN",e[e.ULTRABIGWIN=4]="ULTRABIGWIN",e[e.ULTRAMEGAWIN=5]="ULTRAMEGAWIN",e}(X||{});e("JackpotView",(v=q("JackpotView"),C=T("content",s),R=T("content/jackpotSk",l.Skeleton),E=T("content/frameSk",l.Skeleton),U=T("content/frameSk/targetNode/NumberRoller",s),W=T("content/frameSk/targetNode/NumberRoller/label_currency",w),G=T("content/coinsNode",s),L=T("content/coinsNode/coinFr",u),j=T("content/coinsNode/coinSc",u),D=T("content/coinsNode/coinTi",u),v((F=t((z=function(e){function t(){for(var t,i=arguments.length,c=new Array(i),a=0;a<i;a++)c[a]=arguments[a];return t=e.call.apply(e,[this].concat(c))||this,n(t,"content",F,o(t)),n(t,"jackpotSkeleton",O,o(t)),n(t,"frameSkeleton",M,o(t)),n(t,"numberRollerNode",V,o(t)),n(t,"label_score",J,o(t)),n(t,"coinsNode",Y,o(t)),n(t,"coinFrPt",K,o(t)),n(t,"coinScPt",H,o(t)),n(t,"coinTiPt",x,o(t)),t.jackpot_type=0,t.win_score=0,t.loopingTimer=null,t.b_looping=!1,t.b_clickable=!1,t.stopNum=!1,t}i(t,e),t.getPrefabUrl=function(){return"prefabs/JackpotView"};var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),this.onN(p("mask",this.node),s.EventType.TOUCH_END,this.onClickClose),h.on(m.EventType.KEY_UP,this.onSpaceKeyUp,this),this.coinFrPt.node.active=!1,this.coinScPt.node.active=!1,this.coinTiPt.node.active=!1,this.frameSkeleton.node.active=!1,this.jackpotSkeleton.node.active=!1},a.addEvents=function(){e.prototype.addEvents.call(this),this.onD(A.SWITCH_SCREEN,this.onSwitchScreen)},a.onClose=function(){e.prototype.onClose.call(this)},a.onDestroy=function(){e.prototype.onDestroy.call(this),this.clearTimer()},a.onSpaceKeyUp=function(e){this.node.active&&(S.isMobile||e.keyCode===b.SPACE&&this.onClickClose())},a.onSwitchScreen=function(e){"portrait"===e?(this.content.setScale(.8,.8),this.coinsNode.setPosition(0,-720),this.coinFrPt.gravity=new f(0,-4800),this.coinTiPt.gravity=new f(0,-4800)):(this.content.setScale(1,1),this.coinsNode.setPosition(0,-400),this.coinFrPt.gravity=new f(0,-7500),this.coinTiPt.gravity=new f(0,-7500))},a.onClickClose=function(){this.b_clickable&&(this.b_looping||this.stopNum||(this.stopNum=!1,this.b_looping=!0,this.label_score.stopRollingAndShowNumber(this.win_score),this.scrollCompleteCallback()))},a.onShow=function(){var t=this;if(this.args&&this.args.length>0){this.b_looping=!1,this.b_clickable=!1,this.stopNum=!1,this.onSwitchScreen(App.utils.getOrientation()),this.jackpot_type=this.args[0],this.win_score=this.args[1];var i=X[this.args[0]];Log.d("JackpotView onShow = ",this.args[0],i,this.win_score),this.bigPrizeSound(this.args[0]),this.coinFrPt.resetSystem(),this.coinScPt.resetSystem(),this.coinFrPt.node.active=!0,this.coinScPt.node.active=!0,this.scheduleOnce((function(){t.coinTiPt.resetSystem(),t.coinTiPt.node.active=!0,t.update_win_score()}),1),this.coinParticleType(this.jackpot_type),this.scheduleOnce((function(){t.jackpotSkeleton.node.active=!0,t.frameSkeleton.node.active=!0,t.jackpotSkeleton.clearTracks(),t.frameSkeleton.clearTracks(),t.jackpotSkeleton.setSkin(i),t.jackpotSkeleton.setAnimation(0,"ani_appear",!1),t.frameSkeleton.setAnimation(0,"ani_appear",!1),t.jackpotSkeleton.setCompleteListener((function(e){var i=e.animation?e.animation.name:"";"ani_appear"===i?(t.jackpotSkeleton.setAnimation(0,"ani_loop",!0),t.b_clickable=!0):"ani_disappear"===i&&(t.frameSkeleton.setAnimation(0,"ain_disappear",!1),t.audioHelper.stopAllEffects(),t.coinFrPt.node.active=!1,t.coinScPt.node.active=!1,t.coinTiPt.node.active=!1,k.stopAllByTarget(t.numberRollerNode),dispatch(g.COMPLETE_CALLBACK),t.clearTimer(),t.close())}))}),.5)}e.prototype.onShow.call(this)},a.update_win_score=function(){var e=this;this.data.TURBO_SPIN?(this.label_score.stopRollingAndShowNumber(this.win_score),this.scrollCompleteCallback()):this.label_score.startRolling(0,this.win_score,3*this.jackpot_type,(function(){e.scrollCompleteCallback()}))},a.scrollCompleteCallback=function(){var e=this;Log.d("Number scrolling complete"),this.clearTimer(),this.loopingTimer=setTimeout((function(){e.jackpotSkeleton.clearTracks(),e.jackpotSkeleton.setAnimation(0,"ani_disappear",!1),e.frameSkeleton.clearTracks(),e.frameSkeleton.setAnimation(0,"ani_disappear",!1)}),4e3),this.stopNum=!0,this.scoreTween()},a.clearTimer=function(){this.loopingTimer&&clearTimeout(this.loopingTimer)},a.scoreTween=function(){d(this.numberRollerNode).set({scale:new N(.8,.8,.8)}).to(.25,{scale:new N(1.2,1.2,1.2)},{easing:"sineOut"}).to(.25,{scale:new N(.8,.8,.8)}).union().repeatForever().start()},a.coinParticleType=function(e){switch(e){case P.BIGWIN:this.setCoinsAmount(12,0,10);break;case P.MEGAWIN:this.setCoinsAmount(20,0,15);break;case P.SUPERWIN:this.setCoinsAmount(40,0,24);break;case P.ULTRABIGWIN:this.setCoinsAmount(45,45,35);break;case P.ULTRAMEGAWIN:this.setCoinsAmount(50,100,50)}},a.setCoinsAmount=function(e,t,i){this.coinFrPt.emissionRate=e,this.coinScPt.emissionRate=t,this.coinTiPt.emissionRate=i},a.bigPrizeSound=function(e){switch(e){case P.BIGWIN:dispatch(g.PLAY_SOUND,I.AudioSource.BIG_WIN,!0);break;case P.MEGAWIN:dispatch(g.PLAY_SOUND,I.AudioSource.MEGA_WIN,!0);break;case P.SUPERWIN:dispatch(g.PLAY_SOUND,I.AudioSource.SPUER_WIN,!0);break;case P.ULTRABIGWIN:dispatch(g.PLAY_SOUND,I.AudioSource.ULTAR_BIG_WIN,!0);break;case P.ULTRABIGWIN:dispatch(g.PLAY_SOUND,I.AudioSource.ULTRA_MEGA_WIN,!0)}},c(t,[{key:"data",get:function(){return App.dataCenter.get(y)}}]),t}(_)).prototype,"content",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(z.prototype,"jackpotSkeleton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(z.prototype,"frameSkeleton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(z.prototype,"numberRollerNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(z.prototype,"label_score",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(z.prototype,"coinsNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(z.prototype,"coinFrPt",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(z.prototype,"coinScPt",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(z.prototype,"coinTiPt",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=z))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(t){var r,e,s,i,o,n,a;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,i=t.find,o=t.ProgressBar,n=t.Label},function(t){a=t.default}],execute:function(){var c;e._RF.push({},"46b67sHkHBFspOnxGQdt2Sq","LoadingView",void 0);var l=s.ccclass;s.property,t("LoadingView",l("LoadingView")(c=function(t){function e(){for(var r,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return(r=t.call.apply(t,[this].concat(s))||this).bg_portrai=null,r.bg_landscape=null,r.progressBar=null,r.lab_describe=null,r}r(e,t);var s=e.prototype;return s.onLoad=function(){var r,e;t.prototype.onLoad.call(this),this.bg_portrai=i("bg_portrait",this.node),this.bg_landscape=i("bg_landscape",this.node),this.progressBar=null==(r=i("ProgressBar",this.node))?void 0:r.getComponent(o),this.lab_describe=null==(e=i("ProgressBar/lab_describe",this.node))?void 0:e.getComponent(n),this.bg_portrai.active=!1,this.bg_landscape.active=!1},s.updateProgress=function(t){var r=t+"%";this.lab_describe.string=r,this.progressBar.progress=t/100},s.onSwitchScreen=function(t){this.bg_portrai.active=!1,this.bg_landscape.active=!1,"portrait"===t?(this.bg_portrai.active=!0,this.progressBar.node.setPosition(0,-300)):(this.bg_landscape.active=!0,this.progressBar.node.setPosition(0,-240))},e}(a))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/MainGameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameView.ts","./SubGameDefines.ts","./GameLogic.ts","./Decorators.ts","./CommonEvent.ts","./Config.ts","./GridView.ts","./LoadingView.ts","./GridBgView.ts","./IntroductionView.ts","./BackgroundView.ts","./WinScoreCheckoutView.ts","./FunctionButtonView.ts","./BuyFreeSpinsView.ts","./SubGameConstants.ts","./Global.ts"],(function(i){var t,e,n,o,a,s,c,r,d,l,h,u,p,g,w,f,S,V,_,T,m,E,B,I,C,v,A,b,y;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,s=i._decorator,c=i.find,r=i.Mask,d=i.Vec3,l=i.UITransform,h=i.size,u=i.sp},function(i){p=i.default},function(i){g=i.EventName,w=i.DEFAULT_FREE_TIMES},function(i){f=i.GameLogic},function(i){S=i.inject},function(i){V=i.CommonEvent},function(i){_=i.ViewZOrder},function(i){T=i.default},function(i){m=i.LoadingView},function(i){E=i.GridBgView},function(i){B=i.IntroductionView},function(i){I=i.default},function(i){C=i.WinScoreCheckoutView},function(i){v=i.FunctionButtonView},function(i){A=i.default},function(i){b=i.SubGameConstants},function(i){y=i.Global}],execute:function(){var R,k,D,M,P;a._RF.push({},"afae2cxbJ5Cf5aaAH7Kpzvh","MainGameView",void 0);var F=s.ccclass;s.property,i("default",(R=S({type:f,name:"logic"}),F(((P=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return t=i.call.apply(i,[this].concat(a))||this,n(t,"logic",M,o(t)),t.loadingView=null,t.introductionView=null,t.gridBgView=null,t.gridViewMask=null,t.gridView=null,t.backgroundView=null,t.functionButtonView=null,t.loadingTimer=null,t}e(t,i),t.getPrefabUrl=function(){return"prefabs/MainGameView"};var a=t.prototype;return a.addEvents=function(){i.prototype.addEvents.call(this),this.onD(V.SWITCH_SCREEN,this.onSwitchScreen),this.onD(V.DISPATCH_SPIN_START,this.onSpinStart),this.onD(V.DISPATCH_SPIN_STOP,this.onSpinStop),this.onD(V.DISPATCH_TOTAL_BET,this.onRefreshTotalBet),this.onD(V.DISPATCH_QUICK_SPIN,this.onQuickSpin),this.onD(V.DISPATCH_TURBO_SPIN,this.onTurboSpin),this.onD(V.DISPATCH_SKIP_SCREENS,this.onSkipScreens),this.onD(V.DISPATCH_START_AUTOPLAY,this.onAutoPlay),this.onD(V.DISPATCH_PLAYBACK,this.onPlayback),this.onD(g.OnReceiveLastMap,this.onReceiveLastMap),this.onD(g.OnReceiveSlotBet,this.onReceiveSlotBet),this.onD(g.ENTER_NORMAL_MODEL,this.enterNormalModel),this.onD(g.TRANS_FREEMODEL_ANIM,this.trans_FreeModel_Animation)},a.init=function(){var i,t=c("LoadingView",this.node);if(t){var e=t.addComponent(m);this.loadingView=e,this.loadingView.node.active=!0}var n=c("IntroductionView",this.node);if(n){var o=n.addComponent(B);o.view=this,this.introductionView=o,y.playback?this.introductionView.node.active=!1:this.introductionView.node.active=!0}var a=c("GridBgView",this.node);if(a){var s=a.addComponent(E);s.view=this,this.gridBgView=s}this.gridViewMask=null==(i=c("GridViews/GridViewMask",this.node))?void 0:i.getComponent(r);var d=c("GridViews/GridViewMask/GridView",this.node);if(d){var l=d.addComponent(T);l.view=this,this.gridView=l}var h=c("BackgroundView",this.node);if(h){var u=h.addComponent(I);this.backgroundView=u}var p=c("FunctionButtonView",this.node);if(p){var g=p.addComponent(v);g.view=this,this.functionButtonView=g}this.onSwitchScreen(App.utils.getOrientation())},a.onSwitchScreen=function(i){var t,e;"portrait"===i?(this.gridViewMask.node.setScale(new d(.82,.82,1)),null==(t=this.gridViewMask.node.parent)||t.setPosition(new d(0,200,0))):(this.gridViewMask.node.setScale(new d(1,1,1)),null==(e=this.gridViewMask.node.parent)||e.setPosition(new d(0,0,0)));this.introductionView.node.active&&this.introductionView.onSwitchScreen(i),this.loadingView.onSwitchScreen(i),this.backgroundView.onSwitchScreen(i),this.gridBgView.onSwitchScreen(i),this.functionButtonView.onSwitchScreen(i)},a.onCloseIntroductionView=function(){this.introductionView.node.active=!1,dispatch(g.OnReceiveLastMap,this.logic.data.lastMapData)},a.showMain=function(){this.loadingView.node.active=!1,y.playback?this.introductionView.node.active=!1:App.utils.getSkipIntro()?this.onCloseIntroductionView():this.introductionView.node.active=!0,dispatch(V.NOTIFY_ENTER_GAME),y.playback&&this.handlePlayBack()},a.handlePlayBack=function(){Log.dump("onPlayback ",y.playbackAllData),Log.dump("onPlayback ",y.playbackData);var i={base:{},free:{}};this.onReceiveLastMap(i),this.onPlayback()},a.onPlayback=function(){var i=this;y.playback&&(this.logic.data.money=y.playbackAllData.startScore*y.SCORE_EXCHANGE,this.logic.data.total_bet=y.playbackData.bet*y.playbackData.line_num,dispatch(V.NOTIFY_DEFAULT_BET,this.logic.data.total_bet),dispatch(V.NOTIFY_BALANCE_SCORE,this.logic.data.money),this.scheduleOnce((function(){dispatch(V.NOTIFY_PLAYBACK);var t={};t.base=y.playbackData.base,t.free=y.playbackData.free,t.free_times=y.playbackData.free_times,t.reward=y.playbackData.reward,i.onReceiveSlotBet(t)}),.1))},a.updateProgress=function(i){this.loadingView.updateProgress(i)},a.onGridMaskEnable=function(i){var t,e=480;e=i?480:680,null==(t=this.gridViewMask.getComponent(l))||t.setContentSize(h(840,e))},a.enterNormalModel=function(){this.functionButtonView.enterNormalModel(),this.backgroundView&&this.backgroundView.switchFreeScene(!1),this.gridBgView&&this.gridBgView.enterNormalModel((function(){})),this.logic.data.SWITCH_FREE_MODE=!1,this.logic.data.QUICKSTOP=!1,this.logic.data.INITNEWCELL=!1,this.logic.data.DATARECEIVED=!1,this.updateFreeMultiple(0),this.onSpinEnd(),dispatch(V.NOTIFY_BALANCE_SCORE,this.logic.data.money);var i=App.getLanguage("90049");dispatch(V.NOTIFY_RICH_TEXT_TIPS,i)},a.enterFreeModel=function(){this.onRefreshFuncBtnView(!1),App.uiManager.open({type:C,bundle:this.bundle,zIndex:_.UI,args:[1,w]})},a.switchFreeScene=function(i){this.functionButtonView&&i&&(this.onRefreshFuncBtnView(!1),this.functionButtonView.switchFreeScene(!0)),this.backgroundView&&i&&this.backgroundView.switchFreeScene(!0),this.gridBgView&&i&&(this.gridBgView.switchFreeScene(!0),this.gridBgView.onSwitchScreen(App.utils.getOrientation())),i&&(this.logic.data.SWITCH_FREE_MODE=!0)},a.c2sFreeSpint=function(){this.logic.c2sFreeSpint()},a.delete_last_map=function(){this.gridView.delete_last_map(),dispatch(g.RESET_TIP_SCORE)},a.onAddScoreBoradItem=function(i){this.functionButtonView.addItem(i)},a.onClearScoreBoradItem=function(){this.functionButtonView.destroyAllChildren()},a.updateFreeTimes=function(i){this.functionButtonView.updateFreeAmount(i)},a.updateFreeMultiple=function(i){this.gridBgView.recordFreeMultiple(i)},a.freeRecordMultipleTween=function(){this.logic.data.SWITCH_FREE_MODE&&this.gridBgView.creatorRecordMultiple()},a.playZeusAnimSkill=function(){this.gridBgView.zeusAninSkill()},a.onReceiveLastMap=function(i){Log.d("sssssss onReceiveLastMap",i),this.gridView.handleReceiveLastMap(i)},a.onReceiveSlotBet=function(i){Log.d("onReceiveSlotBet",i),App.loading.hide(),this.clearTimer(),this.gridView.handleReceiveSlotBet(i),this.logic.data.buy_free_spins&&this.delete_last_map()},a.onRefreshTotalBet=function(i){this.logic.data.total_bet=i,this.onRefreshBuyMoney()},a.onSpinStart=function(){this.onRefreshFuncBtnView(!1),this.logic.data.DATARECEIVED=!1,this.logic.onSendBet(),this.delete_last_map(),this.onGridMaskEnable(!0),this.gridBgView.showTipContent(!0)},a.onSpinStop=function(){this.logic.data.QUICK_SPIN||this.logic.data.TURBO_SPIN||this.logic.data.INITNEWCELL||this.logic.data.QUICKSTOP||(this.logic.data.QUICKSTOP=!0,this.logic.data.SWITCH_FREE_MODE?this.gridView.delete_free_drop_map():this.gridView.delete_drop_map())},a.onQuickSpin=function(i){Log.d("ssss onQuickSpin ssss b_quickSpin = ",i),this.logic.data.QUICK_SPIN=i},a.onTurboSpin=function(i){Log.d("ssss onTurboSpin ssss b_turboSpin = ",i),this.logic.data.TURBO_SPIN=i},a.onSkipScreens=function(i){this.logic.data.SKIP_SCREENS=i},a.onAutoPlay=function(i){this.logic.data.AUTOPLAY=i},a.trans_FreeModel_Animation=function(i,t){var e=this;if(!this.logic.data.add_freeGame_times){createPrefab({url:"prefabs/TransitionFreeModel",view:this,complete:function(n){if(n){var o;e.node.addChild(n);var a=null==(o=c("Transition/zhuanchang",n))?void 0:o.getComponent(u.Skeleton);a&&(a.clearTracks(),a.setAnimation(0,"zhuanchang",!1),a.setCompleteListener((function(i){"zhuanchang"===(i.animation?i.animation.name:"")&&(t&&t(),n.removeFromParent(),n.destroy())})),e.functionButtonView.switchFreeScene(i),e.switchFreeScene(i),dispatch(g.PLAY_SOUND,b.AudioSource.ZHUANCHANG))}}})}},a.onSpinEnd=function(){this.onRefreshFuncBtnView(!0),dispatch(V.NOTIFY_BALANCE_SCORE,this.logic.data.money),dispatch(V.NOTIFY_SPIN_END)},a.showLoadingScreen=function(){this.clearTimer(),this.loadingTimer=setTimeout((function(){App.loading.show("loading...")}),2e3)},a.onRefreshBuyMoney=function(){var i=this.logic.data.total_bet*this.logic.data.BUYFEATURE_MULTIPLE;this.functionButtonView.onRefreshBuyPrice(i)},a.openBuyFreeSpinsView=function(){App.uiManager.open({type:A,bundle:this.bundle,zIndex:_.UI,args:[this.logic]})},a.onRefreshFuncBtnView=function(i){!this.logic.data.SWITCH_DOUBLE_FEATURE&&i?this.functionButtonView.onRefreshBuyOpacity(!0):this.functionButtonView.onRefreshBuyOpacity(!1)},a.clearTimer=function(){this.loadingTimer&&clearTimeout(this.loadingTimer)},a.onShow=function(){i.prototype.onShow.call(this)},a.onDestroy=function(){i.prototype.onDestroy.call(this),this.clearTimer()},t}(p)).logicType=f,M=t((D=P).prototype,"logic",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=D))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol2.ts",["cc"],(function(o){var e;return{setters:[function(o){e=o.cclegacy}],execute:function(){e._RF.push({},"387e6e+DDNC/rXppGG94rBV","Protocol",void 0);var t=o("Protocol",(function(){}));t.LOGIN="login",t.LOGOUT="logout",t.USERINFO="userinfo",t.USER_KICK="user_kick",t.ERRORCODE="errorcode",t.MARQUEE="marquee",t.TIPS="tips",t.DEBUG_LOGIN="debug_login",t.MARK="mark",t.SLOTINFO="slot_info",t.SLOTBET="slot",t.ANTASLOTBET="anta_slot",t.LAST_MAP="last_map",t.SLOT_TEST="test",t.BUY="buy_free",t.FREESPIN="free_spin",e._RF.pop()}}}));

System.register("chunks:///_virtual/slot3000501",["./GameEntry.ts","./tipListItem.ts","./SubGameConstants.ts","./SubGameData.ts","./SubGameDefines.ts","./SubGameLanguage.ts","./GameLogic.ts","./GameHandler.ts","./GameSender.ts","./Protocol2.ts","./BackgroundView.ts","./BuyFreeSpinsView.ts","./EliminateCellView.ts","./FunctionButtonView.ts","./GridBgView.ts","./GridView.ts","./IntroductionView.ts","./JackpotView.ts","./LoadingView.ts","./MainGameView.ts","./WinScoreCheckoutView.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SubGameConstants.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){o._RF.push({},"a0e8cR72tdDwZaXvW1YUxHt","SubGameConstants",void 0);var u=function(i){return i.FREE_BGM="audio/freeBGM",i.NORMAL_BGM="audio/normalBGM",i.BUY_FREE_SPIN="audio/buy_free_spin",i.BOOM="audio/boom",i.CONGRATULATIONS="audio/congratulations",i.MAGIC_POWER="audio/magicPower",i.MULTIPLIER="audio/multiplier",i.MERGE_WILD="audio/mergeWild",i.REEL_STOP="audio/reelStop",i.TRANSITIONS="audio/transitions",i.LEIDIAN="audio/leidian",i.ZHOUSI="audio/zhousi",i.ZHUANCHANG="audio/zhuanchang",i.BIG_WIN="audio/big_win",i.MEGA_WIN="audio/mega_win",i.SPUER_WIN="audio/super_win",i.ULTAR_BIG_WIN="audio/ultra_big_win",i.ULTRA_MEGA_WIN="audio/ultra_mega_win",i.ICON_1="audio/icon_1",i.ICON_2="audio/icon_2",i.ICON_3="audio/icon_3",i.ICON_4="audio/icon_4",i.ICON_5="audio/icon_5",i}(u||{}),a=i("SubGameConstants",(function(){}));a.AudioSource=u,a.Multiple=[2,3,4,5,6,8,10,12,15,20,25,50,100,250,500],o._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./SubGameDefines.ts"],(function(t){var e,n,a,o,s;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){a=t.cclegacy},function(t){o=t.GameData},function(t){s=t.JackpotType}],execute:function(){a._RF.push({},"44177d5JENNm5kkQAummMjC","SubGameData",void 0),t("SubGameData",function(t){function a(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).DATARECEIVED=!1,e.SWITCH_FREE_MODE=!1,e.QUICKSTOP=!1,e.INITNEWCELL=!1,e.QUICK_SPIN=!1,e.TURBO_SPIN=!1,e.SKIP_SCREENS=!0,e.AUTOPLAY=!1,e.PLAYBOMBSOUND=!1,e.BUYFEATURE_MULTIPLE=100,e.DOUBLE_CHANCE_MULTIPLE=1.25,e.SWITCH_DOUBLE_FEATURE=!1,e.soundIndex=0,e.buy_free_spins=!1,e.add_freeGame_times=!1,e.m_money=0,e.m_total_bet=0,e.m_buyFreeSpins=15,e.m_slotInfo=null,e.m_lastMapData=null,e.loadDataFinish=!1,e.loadFinish=!1,e}e(a,t);var o=a.prototype;return o.getJackpotType=function(t){var e=t/this.total_bet;return Log.d("getJackpotType = ",t,this.total_bet,e),e>200?s.ULTRAMEGAWIN:e>=100?s.ULTRABIGWIN:e>=50?s.SUPERWIN:e>=30?s.MEGAWIN:e>=15?s.BIGWIN:s.NONE},o.getJackpot=function(t){return this.getJackpotType(t)>s.NONE},n(a,[{key:"money",get:function(){return this.m_money},set:function(t){this.m_money=t}},{key:"total_bet",get:function(){return this.m_total_bet},set:function(t){this.m_total_bet=t}},{key:"buyFreeSpins",get:function(){return this.m_buyFreeSpins},set:function(t){this.m_buyFreeSpins=t}},{key:"slotInfo",get:function(){return this.m_slotInfo},set:function(t){this.m_slotInfo=t}},{key:"lastMapData",get:function(){return this.m_lastMapData},set:function(t){this.m_lastMapData=t}}]),a}(o)).module="slot3000501",a._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameDefines.ts",["cc"],(function(_){var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){E._RF.push({},"1e147WtuUtE0o67PH5yBN5Y","SubGameDefines",void 0);_("CELL_ICON_URL",[null,"eff_icon_1","eff_icon_2","eff_icon_3","eff_icon_4","eff_icon_5","eff_icon_6","eff_icon_7","eff_icon_8","eff_icon_9"]),_("CELL_PREFAB_URL",[null,"prefabs/symbols/symbol01","prefabs/symbols/symbol02","prefabs/symbols/symbol03","prefabs/symbols/symbol04","prefabs/symbols/symbol05","prefabs/symbols/symbol06","prefabs/symbols/symbol07","prefabs/symbols/symbol08","prefabs/symbols/symbol09"]),_("CELL_ANI_ICON",[null,"zj_huangguan","zj_shalou","zj_jiezhi","zj_jiangbei","zj_hongbaoshi","zj_zibaoshi","zj_chengbaoshi","zj_lvbaoshi","zj_lanbaoshi","zj_zhousi"]),_("CELL_MUL_ANI_DROP",[null,"mul_lv_drop","mul_lan_drop","mul_zi_drop","mul_hong_drop"]),_("CELL_MUL_ANI_BOM",[null,"mul_lv_bom","mul_lan_bom","mul_zi_bom","mul_hong_bom"]),_("MULTIPLE_SPRITE",["blf_1","blf_2","blf_3","blf_4"]),_("PREFAB_URL_Multiplier","prefabs/symbols/symbol_Multiplier"),_("PREFAB_URL_Scatter","prefabs/symbols/symbol_Scatter"),_("CELL_ANI_DROP","drop"),_("CELL_ANI_CRUSH","zhongjiangbaozha"),_("CELL_MUL_ANI_CRUSH","beilvfuhao_chuxian"),_("CELL_FREEMODEL_ID",10),_("CELL_Multiple_ID",11),_("DEFAULT_FREE_TIMES",15),_("DEFAULT_ADD_FREE_TIMES",5);var L=_("GRID_WIDTH",6),e=_("GRID_HEIGHT",5),o=(_("GRID_LENGTH",30),_("CELL_SIZE",117)),l=_("CELL_SIZE_HEIGHT",96);_("GRID_PIXEL_WIDTH",L*o),_("GRID_PIXEL_HEIGHT",e*l),_("DELAY_columns",1/30*2),_("DELAY_rows",1/30*2),_("CELL_DROP_TIME",1/30*10),_("CELL_DROP_TIME2",1/30*2),_("MIN_JACK_POT",15),_("STOP_CD_TIME",3),_("STOP_CD_TIME_2",3e3),_("GRID_MOVE_TIME",1/30*10),_("EventName",function(_){return _.OnReceiveSlotBet="OnReceiveSlotBet",_.OnReceiveLastMap="OnReceiveLastMap",_.OnLoadDataFinish="OnLoadDataFinish",_.PLAY_SOUND="PLAY_SOUND",_.PLAY_MUSIC="PLAY_MUSIC",_.RESET_TIP_SCORE="RESET_TIP_SCORE",_.ENTER_NORMAL_MODEL="ENTER_NORMAL_MODEL",_.START_FREE_MODEL="START_FREE_MODEL",_.COMPLETE_CALLBACK="COMPLETE_CALLBACK",_.REFRESH_TUMBLE_WIN="REFRESH_TUMBLE_WIN",_.REFRESH_TUMBLE_WIN_MULTIPLE="REFRESH_TUMBLE_WIN_MULTIPLE",_.REFRESH_TUMBLE_WIN_FINAL="REFRESH_TUMBLE_WIN_FINAL",_.RECOVER_BUY_FREE_BTN="RECOVER_BUY_FREE_BTN",_.TRANS_FREEMODEL_ANIM="trans_FreeModel_Animation",_.PLAY_RAIDEN_ANIM="play_raiden_anim",_}({})),_("JackpotType",function(_){return _[_.NONE=0]="NONE",_[_.BIGWIN=1]="BIGWIN",_[_.MEGAWIN=2]="MEGAWIN",_[_.SUPERWIN=3]="SUPERWIN",_[_.ULTRABIGWIN=4]="ULTRABIGWIN",_[_.ULTRAMEGAWIN=5]="ULTRAMEGAWIN",_}({})),_("beilv_Multiple",[2,3,4,5,6,8,10,12,15,20,25,50,100,250,500]);E._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameLanguage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageDelegate.ts","./SubGameData.ts","./Enums.ts"],(function(e){var t,u,n,a,_,i;return{setters:[function(e){t=e.inheritsLoose},function(e){u=e.cclegacy},function(e){n=e.injectLanguageData,a=e.LanguageDelegate},function(e){_=e.SubGameData},function(e){i=e.sys_Language}],execute:function(){var r;u._RF.push({},"a6740TaBdRNCJ3JtMBY0TQC","SubGameLanguage",void 0);var g={language:i.CHINESE,data:{buy_feature_1:"texture/ui/language/buy_feature_zh",buy_feature_2:"texture/ui/language/buy_feature_zh",bet:"texture/ui/language/bet_zh",double_1:"texture/ui/language/double_1_zh",double_2:"texture/ui/language/double_2_zh",on:"texture/ui/language/on_zh",off:"texture/ui/language/off_zh",congratualations:"texture/ui/language/congratulations_zh",free_spins:"texture/ui/language/free_spins_zh",in_spins:"texture/ui/language/in_spins_zh",press_continue:"texture/ui/language/press_continue_zh",buy_free:"texture/ui/language/buy_free_zh",you_won:"/texture/ui/language/you_won_zh",intro_bet_1:"texture/ui/language/intro_bet_zh",intro_bet_2:"texture/ui/language/intro_bet_zh",win_over_1:"texture/ui/language/intro_win_zh",win_over_2:"texture/ui/language/intro_win_zh",intro_time:"texture/ui/language/intro_time_zh",intro_volatLity:"texture/ui/language/intro_volatLity_zh"}},o={language:i.ENGLISH,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},l={language:i.Indonesian,data:{buy_feature_1:"texture/ui/language/buy_feature_id",buy_feature_2:"texture/ui/language/buy_feature_id",bet:"texture/ui/language/bet_id",double_1:"texture/ui/language/double_1_id",double_2:"texture/ui/language/double_2_id",on:"texture/ui/language/on_id",off:"texture/ui/language/off_id",congratualations:"texture/ui/language/congratulations_id",free_spins:"texture/ui/language/free_spins_id",in_spins:"texture/ui/language/in_spins_id",press_continue:"texture/ui/language/press_continue_id",buy_free:"texture/ui/language/buy_free_id",you_won:"/texture/ui/language/you_won_id",intro_bet_1:"texture/ui/language/intro_bet_id",intro_bet_2:"texture/ui/language/intro_bet_id",win_over_1:"texture/ui/language/intro_win_id",win_over_2:"texture/ui/language/intro_win_id",intro_time:"texture/ui/language/intro_time_id",intro_volatLity:"texture/ui/language/intro_volatLity_id"}},s={language:i.Malay,data:{buy_feature_1:"texture/ui/language/buy_feature_ms",buy_feature_2:"texture/ui/language/buy_feature_ms",bet:"texture/ui/language/bet_ms",double_1:"texture/ui/language/double_1_ms",double_2:"texture/ui/language/double_2_ms",on:"texture/ui/language/on_ms",off:"texture/ui/language/off_ms",congratualations:"texture/ui/language/congratulations_ms",free_spins:"texture/ui/language/free_spins_ms",in_spins:"texture/ui/language/in_spins_ms",press_continue:"texture/ui/language/press_continue_ms",buy_free:"texture/ui/language/buy_free_ms",you_won:"/texture/ui/language/you_won_ms",intro_bet_1:"texture/ui/language/intro_bet_ms",intro_bet_2:"texture/ui/language/intro_bet_ms",win_over_1:"texture/ui/language/intro_win_ms",win_over_2:"texture/ui/language/intro_win_ms",intro_time:"texture/ui/language/intro_time_ms",intro_volatLity:"texture/ui/language/intro_volatLity_ms"}},x={language:i.Portuguese,data:{buy_feature_1:"texture/ui/language/buy_feature_pt",buy_feature_2:"texture/ui/language/buy_feature_pt",bet:"texture/ui/language/bet_pt",double_1:"texture/ui/language/double_1_pt",double_2:"texture/ui/language/double_2_pt",on:"texture/ui/language/on_pt",off:"texture/ui/language/off_pt",congratualations:"texture/ui/language/congratulations_pt",free_spins:"texture/ui/language/free_spins_pt",in_spins:"texture/ui/language/in_spins_pt",press_continue:"texture/ui/language/press_continue_pt",buy_free:"texture/ui/language/buy_free_pt",you_won:"/texture/ui/language/you_won_pt",intro_bet_1:"texture/ui/language/intro_bet_1_pt",intro_bet_2:"texture/ui/language/intro_bet_2_pt",win_over_1:"texture/ui/language/intro_win_1_pt",win_over_2:"texture/ui/language/intro_win_2_pt",intro_time:"texture/ui/language/intro_time_pt",intro_volatLity:"texture/ui/language/intro_volatLity_pt"}},b={language:i.Thai,data:{buy_feature_1:"texture/ui/language/buy_feature_1_th",buy_feature_2:"texture/ui/language/buy_feature_2_th",bet:"texture/ui/language/bet_th",double_1:"texture/ui/language/double_1_th",double_2:"texture/ui/language/double_2_th",on:"texture/ui/language/on_th",off:"texture/ui/language/off_th",congratualations:"texture/ui/language/congratulations_th",free_spins:"texture/ui/language/free_spins_th",in_spins:"texture/ui/language/in_spins_th",press_continue:"texture/ui/language/press_continue_th",buy_free:"texture/ui/language/buy_free_th",you_won:"/texture/ui/language/you_won_th",intro_bet_1:"texture/ui/language/intro_bet_th",intro_bet_2:"texture/ui/language/intro_bet_th",win_over_1:"texture/ui/language/intro_win_th",win_over_2:"texture/ui/language/intro_win_th",intro_time:"texture/ui/language/intro_time_th",intro_volatLity:"texture/ui/language/intro_volatLity_th"}},f={language:i.Vietnamese,data:{buy_feature_1:"texture/ui/language/buy_feature_vi",buy_feature_2:"texture/ui/language/buy_feature_vi",bet:"texture/ui/language/bet_vi",double_1:"texture/ui/language/double_1_vi",double_2:"texture/ui/language/double_2_vi",on:"texture/ui/language/on_vi",off:"texture/ui/language/off_vi",congratualations:"texture/ui/language/congratulations_vi",free_spins:"texture/ui/language/free_spins_vi",in_spins:"texture/ui/language/in_spins_vi",press_continue:"texture/ui/language/press_continue_vi",buy_free:"texture/ui/language/buy_free_vi",you_won:"/texture/ui/language/you_won_vi",intro_bet_1:"texture/ui/language/intro_bet_vi",intro_bet_2:"texture/ui/language/intro_bet_vi",win_over_1:"texture/ui/language/intro_win_vi",win_over_2:"texture/ui/language/intro_win_vi",intro_time:"texture/ui/language/intro_time_vi",intro_volatLity:"texture/ui/language/intro_volatLity_vi"}};e("slot3000501_Lan",o),e("SubGameLanguage",n(r=function(e){function u(){for(var t,u=arguments.length,n=new Array(u),a=0;a<u;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).bundle=_.module,t}return t(u,e),u.prototype.init=function(){this.add(g),this.add(o),this.add(l),this.add(s),this.add(x),this.add(b),this.add(f)},u}(a))||r);u._RF.pop()}}}));

System.register("chunks:///_virtual/tipListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,c,p,s,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,p=t.Sprite,s=t.SpriteFrame,a=t.Component}],execute:function(){var u,l,f,d,h,y,m;o._RF.push({},"7d641HWvlVD0ri8REZJkggN","tipListItem",void 0);var L=c.ccclass,g=c.property;t("tipListItem",(u=L("tipListItem"),l=g({type:p}),f=g({type:s}),u((y=e((h=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,n(e,"iconSp",y,r(e)),n(e,"iconList",m,r(e)),e.index=0,e}return i(e,t),e.prototype.updateInfo=function(t){var e=this;this.schedule((function i(){t?(e.index>e.iconList.length-1&&(e.index=0),e.iconSp.spriteFrame=e.iconList[e.index],e.index++):e.unschedule(i)}),1.5)},e}(a)).prototype,"iconSp",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(h.prototype,"iconList",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=h))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/WinScoreCheckoutView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./SubGameDefines.ts","./CommonEvent.ts","./Decorators.ts","./SubGameData.ts","./NumberRoller.ts","./SubGameConstants.ts","./Global.ts"],(function(e){var t,i,n,o,s,r,l,a,c,u,h,p,m,k,b,f,d,_,S,w,N,g,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,l=e._decorator,a=e.Node,c=e.sp,u=e.Label,h=e.find,p=e.input,m=e.Input,k=e.sys,b=e.KeyCode},function(e){f=e.default},function(e){d=e.EventName},function(e){_=e.CommonEvent},function(e){S=e.inject},function(e){w=e.SubGameData},function(e){N=e.NumberRoller},function(e){g=e.SubGameConstants},function(e){C=e.Global}],execute:function(){var v,y,T,A,E,R,D,L,O,W,P,z,F,I,U,M,Y,G,V,K,j,B,H,q,x;r._RF.push({},"2fa42IKq/FHBbfBVoodgWik","WinScoreCheckoutView",void 0);var J=l.ccclass,Q=function(e){return e[e.default=0]="default",e[e.lanmu_short=1]="lanmu_short",e[e.lanmu_long=2]="lanmu_long",e}(Q||{});e("WinScoreCheckoutView",(v=J("WinScoreCheckoutView"),y=S("content",a),T=S("content/skeleton",c.Skeleton),A=S("content/skeleton/winscoreNode",a),E=S("content/skeleton/winscoreNode/NumberRoller/label_currency",N),R=S("content/skeleton/wintimesNode",a),D=S("content/skeleton/wintimesNode/wintimes",u),L=S("content/skeleton/freetimesNode",a),O=S("content/skeleton/freetimesNode/freetimes",u),W=S("content/skeleton/skFreeSpins",a),P=S("content/skeleton/skYouWon",a),z=S("content/skeleton/skContinue",a),v((U=t((I=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"content",U,o(t)),n(t,"skeleton",M,o(t)),n(t,"winscoreNode",Y,o(t)),n(t,"label_winscore",G,o(t)),n(t,"wintimesNode",V,o(t)),n(t,"label_wintimes",K,o(t)),n(t,"freetimesNode",j,o(t)),n(t,"label_freetimes",B,o(t)),n(t,"skFreeSpinsNode",H,o(t)),n(t,"skYouWonNode",q,o(t)),n(t,"skContinueNode",x,o(t)),t.jackpot_type=0,t.anim_type=0,t.win_score=0,t.win_times=0,t.free_times=0,t.loopingTimer=null,t.skip_loopingTimer=null,t.b_looping=!1,t.b_clickable=!1,t}i(t,e),t.getPrefabUrl=function(){return"prefabs/WinScoreCheckoutView"};var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),this.onN(h("mask",this.node),a.EventType.TOUCH_END,this.onClickClose),p.on(m.EventType.KEY_UP,this.onSpaceKeyUp,this),this.winscoreNode.active=!1,this.freetimesNode.active=!1,this.wintimesNode.active=!1,this.skFreeSpinsNode.active=!1,this.skYouWonNode.active=!1,this.skContinueNode.active=!1},r.addEvents=function(){e.prototype.addEvents.call(this),this.onD(_.SWITCH_SCREEN,this.onSwitchScreen)},r.onClose=function(){e.prototype.onClose.call(this)},r.onDestroy=function(){e.prototype.onDestroy.call(this),this.clearTimer()},r.onSpaceKeyUp=function(e){this.node.active&&(k.isMobile||e.keyCode===b.SPACE&&this.onClickClose())},r.onSwitchScreen=function(e){"portrait"===e?(this.content.setScale(.6,.6),this.content.setPosition(0,100,0)):(this.content.setScale(1,1),this.content.setPosition(0,0,0))},r.onClickClose=function(){var e=this;this.b_clickable&&(this.b_clickable=!1,this.b_looping||(this.b_looping=!0,this.clearTimer(),1===this.anim_type?this.scrollCompleteCallback():(this.label_winscore.stopRollingAndShowNumber(this.win_score),this.getSkipScreens()?(this.clearTimer(),this.skip_loopingTimer=setTimeout((function(){e.scrollCompleteCallback()}),1e3)):(this.clearTimer(),this.skip_loopingTimer=setTimeout((function(){e.scrollCompleteCallback()}),500))),dispatch(d.PLAY_SOUND,g.AudioSource.MAGIC_POWER)))},r.onShow=function(){var t=this;if(this.args&&this.args.length>0){this.b_looping=!1,this.b_clickable=!1,this.onSwitchScreen(App.utils.getOrientation()),this.anim_type=this.args[0];var i=Q[this.args[0]];this.winscoreNode.active=!1,this.freetimesNode.active=!1,this.wintimesNode.active=!1,this.skFreeSpinsNode.active=!1,this.skYouWonNode.active=!0,this.skContinueNode.active=!0,dispatch(d.PLAY_SOUND,g.AudioSource.CONGRATULATIONS),1===this.args[0]?(this.wintimesNode.active=!0,this.skFreeSpinsNode.active=!0,this.win_times=this.args[1],this.label_wintimes.string=this.args[1]+""):(this.winscoreNode.active=!0,this.freetimesNode.active=!0,this.free_times=this.args[1],this.label_freetimes.string=this.args[1]+"",this.win_score=this.args[2],this.jackpot_type=this.args[3],this.data.TURBO_SPIN&&this.label_winscore.stopRollingAndShowNumber(this.win_score)),Log.d("WinScoreCheckoutView onShow = ",this.args[0],i),this.skeleton.clearTracks(),this.skeleton.setSkin(i),this.skeleton.setAnimation(0,"Appear",!1),this.skeleton.setCompleteListener((function(e){var i=e.animation?e.animation.name:"";"Appear"===i?(t.skeleton.setAnimation(0,"Loop",!0),t.b_clickable=!0,1===t.anim_type?t.onShowSkipScreens():t.update_win_score()):"Disappear"===i&&(1===t.anim_type?(dispatch(d.START_FREE_MODEL),dispatch(d.TRANS_FREEMODEL_ANIM,!0)):(dispatch(d.TRANS_FREEMODEL_ANIM,!1),dispatch(d.ENTER_NORMAL_MODEL)),t.clearTimer(),t.close())}))}e.prototype.onShow.call(this)},r.onShowSkipScreens=function(){var e=this;this.getSkipScreens()&&(this.clearTimer(),this.skip_loopingTimer=setTimeout((function(){e.onClickClose()}),1e3))},r.update_win_score=function(){var e=this;this.data.TURBO_SPIN?(this.label_winscore.stopRollingAndShowNumber(this.win_score),this.getSkipScreens()&&this.onClickClose()):this.label_winscore.startRolling(0,this.win_score,3*this.jackpot_type,(function(){e.getSkipScreens()&&e.onClickClose()}))},r.scrollCompleteCallback=function(){this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"Disappear",!1),this.winscoreNode.active=!1,this.freetimesNode.active=!1,this.wintimesNode.active=!1,this.skYouWonNode.active=!1,this.skFreeSpinsNode.active=!1,this.skContinueNode.active=!1,this.win_score=0},r.getSkipScreens=function(){return!!(this.data.AUTOPLAY&&this.data.SKIP_SCREENS||C.playback)},r.clearTimer=function(){this.loopingTimer&&clearTimeout(this.loopingTimer),this.skip_loopingTimer&&clearTimeout(this.skip_loopingTimer)},s(t,[{key:"data",get:function(){return App.dataCenter.get(w)}}]),t}(f)).prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(I.prototype,"skeleton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(I.prototype,"winscoreNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(I.prototype,"label_winscore",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(I.prototype,"wintimesNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(I.prototype,"label_wintimes",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(I.prototype,"freetimesNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(I.prototype,"label_freetimes",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(I.prototype,"skFreeSpinsNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(I.prototype,"skYouWonNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(I.prototype,"skContinueNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=I))||F));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/slot3000501', 'chunks:///_virtual/slot3000501'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});