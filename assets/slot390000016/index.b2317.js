System.register("chunks:///_virtual/AutoScaleNode2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(t){var e,n,o,i,a,r,c,s,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.NodeEventType,s=t.UITransform,l=t.Vec3},function(t){u=t.default}],execute:function(){var d,h,p;a._RF.push({},"b1333fS5gtJ5ayb++9gPW34","AutoScaleNode",void 0);var f=r.ccclass,v=r.property;t("AutoScaleNode",f("AutoScaleNode")((p=e((h=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"maxWidth",p,i(e)),e}n(e,t);var a=e.prototype;return a.start=function(){},a.addEvents=function(){t.prototype.addEvents.call(this),this.onN(this.node,c.SIZE_CHANGED,this.autoScaleSelf,this)},a.autoScaleSelf=function(){var t,e=null==(t=this.node)||null==(t=t.getComponent(s))?void 0:t.contentSize;if(e){var n=1,o=new l(n,n,n),i=this.node.scale;e.width>this.maxWidth?(n=this.maxWidth/e.width,this.node.setScale(new l(n,n,n))):i.x!==o.x&&this.node.setScale(o)}},e}(u)).prototype,"maxWidth",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),d=h))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/BGLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData21.ts","./SubGameDefines21.ts","./Global.ts"],(function(t){var e,i,n,a,l,r,s,o,u,c,h,m,p,b,d,f,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,l=t.createClass},function(t){r=t.cclegacy,s=t._decorator,o=t.SpriteFrame,u=t.Sprite,c=t.sp,h=t.Button,m=t.UIRenderer,p=t.Color,b=t.UIOpacity,d=t.Component},function(t){f=t.SubGameData},function(t){y=t.EventName},function(t){g=t.Global}],execute:function(){var L,v,_,N,F,C,j,x,T,S,w,I,A,B,k;r._RF.push({},"3e7b5FKnOBNzpx5RSBQtDqZ","BGLayer",void 0);var z=s.ccclass,E=s.property;t("BGLayer",(L=z("BGLayer"),v=E({displayName:"defaultFrame",type:[o]}),_=E({displayName:"frame",type:u}),N=E({displayName:"jpwinsxFrame",type:[o]}),F=E({displayName:"multiName",type:u}),C=E({displayName:"ballList",type:[c.Skeleton]}),j=E({displayName:"btn",type:[h]}),L((S=e((T=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))||this).gameLayer=null,n(e,"defaultFrame",S,a(e)),n(e,"frame",w,a(e)),n(e,"jpwinsxFrame",I,a(e)),n(e,"multiName",A,a(e)),n(e,"ballList",B,a(e)),n(e,"btn",k,a(e)),e.bonus_item_list=[],e.selectNum=0,e.mp=["default","grand","maxi","major","minor","mini"],e.mp2=["default","grand","maxi","magor","minor","mini"],e.resultIndex=0,e.hadSelected=[],e.ballType=[],e.b_jpWin=!1,e.typeNum={1:0,2:0,3:0,4:0,5:0},e}i(e,t);var r=e.prototype;return r.onLoad=function(){var t=this;this.btn.forEach((function(e,i){e.node.on(h.EventType.CLICK,(function(){t.onButtonClick(i)}),t)}))},r.init=function(t,e){var i=this;t<2&&(Log.e("bonus game init multi error"),t=2),this.node.active=!0,this.bonus_item_list=e,this.selectNum=this.bonus_item_list.length;var n=t-2;this.frame.spriteFrame=this.defaultFrame[n],this.multiName.spriteFrame=this.jpwinsxFrame[n];for(var a=0;a<15;a++){this.ballList[a].node.active=!0,this.ballList[a].clearTracks();var l="daiji"+(Math.floor(3*Math.random())+1);this.ballList[a].setAnimation(0,l,!0);var r=this.ballList[a].node.getComponent(m);r&&(r.color=new p(255,255,255)),this.btn[a].interactable=!0,this.btn[a].node.active=!0,this.btn[a].node.getComponent(b).opacity=0}if(this.resultIndex=0,this.hadSelected=[],this.ballType=[],this.typeNum={1:0,2:0,3:0,4:0,5:0},this.b_jpWin=!1,g.playback){for(var s=Array.from({length:15},(function(t,e){return e})),o=s.length-1;o>0;o--){var u=Math.floor(Math.random()*(o+1)),c=[s[u],s[o]];s[o]=c[0],s[u]=c[1]}for(var h=function(t){i.scheduleOnce((function(){i.onButtonClick(s[t])}),1*(t+1))},d=0;d<this.bonus_item_list.length;d++)h(d)}},r.onButtonClick=function(t){var e=this;if(console.log("Button "+(t+1)+" clicked!"),!this.b_jpWin)if(this.selectNum=this.selectNum-1,this.selectNum>0){dispatch(y.PLAY_EFFECT,"audio/bg_choose"),this.btn[t].interactable=!1,this.btn[t].node.active=!1;var i=this.bonus_item_list[this.resultIndex],n="dianji_"+this.mp[i],a="daiji_"+this.mp[i];this.ballList[t].node.active=!0,this.ballList[t].clearTracks(),this.ballList[t].setAnimation(0,n,!1),this.ballList[t].addAnimation(0,a,!0),this.resultIndex=this.resultIndex+1,this.hadSelected[t]=!0,this.ballType[t]=i,this.typeNum[i]+=1}else{dispatch(y.STOP_MUSIC),dispatch(y.PLAY_EFFECT,"audio/bg_choose");for(var l=0;l<15;l++)this.btn[l].interactable=!1,this.btn[l].node.active=!1;var r=this.bonus_item_list[this.resultIndex],s="dianji_"+this.mp[r];this.ballList[t].node.active=!0,this.ballList[t].clearTracks(),this.ballList[t].setAnimation(0,s,!1),this.resultIndex=this.resultIndex+1,this.hadSelected[t]=!0,this.ballType[t]=r,this.typeNum[r]+=1,this.scheduleOnce((function(){dispatch(y.PLAY_EFFECT,"audio/bg_allopen")}),.5),this.scheduleOnce((function(){for(var t=0;t<15;t++){if(e.ballType[t]===r)Log.d("outcome = ",r),e.ballList[t].setAnimation(0,"doudong_"+e.mp[r],!0);else if(e.ballType[t]>0){e.ballList[t].setAnimation(0,"jingzhi_"+e.mp2[e.ballType[t]],!0);var i=e.ballList[t].node.getComponent(m);i&&(i.color=new p(128,128,128))}if(!e.hadSelected[t]){var n=e.ballList[t].node.getComponent(m);n&&(n.color=new p(128,128,128))}}e.scheduleOnce((function(){e.b_jpWin=!0,e.gameLayer.jpWin()}),1)}),1)}},l(e,[{key:"data",get:function(){return App.dataCenter.get(f)}}]),e}(d)).prototype,"defaultFrame",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=e(T.prototype,"frame",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(T.prototype,"jpwinsxFrame",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(T.prototype,"multiName",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(T.prototype,"ballList",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=e(T.prototype,"btn",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=T))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinDefines4.ts",["cc"],(function(o){var i;return{setters:[function(o){i=o.cclegacy}],execute:function(){i._RF.push({},"1f388ds98dO/JjQs+aJVLiM","BigWinDefines",void 0);o("SoundName",function(o){return o.sound_big="commonmodule/bigwin/audio/big",o.sound_mega="commonmodule/bigwin/audio/mega",o.sound_epic="commonmodule/bigwin/audio/epic",o.sound_super="commonmodule/bigwin/audio/super",o.sound_ultimate="commonmodule/bigwin/audio/ultimate",o.sound_big_win_01="commonmodule/bigwin/audio/sound_big_win_01",o.sound_epic_win_01="commonmodule/bigwin/audio/sound_epic_win_01",o.sound_super_win_01="commonmodule/bigwin/audio/sound_super_win_01",o.sound_mega_win_01="commonmodule/bigwin/audio/sound_mega_win_01",o.sound_ultimate_win_01="commonmodule/bigwin/audio/sound_ultimate_win_01",o.sound_big_win_02="commonmodule/bigwin/audio/sound_big_win_02",o.sound_epic_win_02="commonmodule/bigwin/audio/sound_epic_win_02",o.sound_super_win_02="commonmodule/bigwin/audio/sound_super_win_02",o.sound_mega_win_02="commonmodule/bigwin/audio/sound_mega_win_02",o.sound_ultimate_win_02="commonmodule/bigwin/audio/sound_ultimate_win_02",o.sound_big_win_03="commonmodule/bigwin/audio/sound_big_win_03",o.sound_epic_win_03="commonmodule/bigwin/audio/sound_epic_win_03",o.sound_super_win_03="commonmodule/bigwin/audio/sound_super_win_03",o.sound_mega_win_03="commonmodule/bigwin/audio/sound_mega_win_03",o.sound_ultimate_win_03="commonmodule/bigwin/audio/sound_ultimate_win_03",o}({})),o("preloadAudio_bigwin",["commonmodule/bigwin/audio/big","commonmodule/bigwin/audio/epic","commonmodule/bigwin/audio/mega","commonmodule/bigwin/audio/super","commonmodule/bigwin/audio/ultimate","commonmodule/bigwin/audio/sound_big_win_01","commonmodule/bigwin/audio/sound_big_win_02","commonmodule/bigwin/audio/sound_big_win_03","commonmodule/bigwin/audio/sound_epic_win_01","commonmodule/bigwin/audio/sound_epic_win_02","commonmodule/bigwin/audio/sound_epic_win_03","commonmodule/bigwin/audio/sound_mega_win_01","commonmodule/bigwin/audio/sound_mega_win_02","commonmodule/bigwin/audio/sound_mega_win_03","commonmodule/bigwin/audio/sound_super_win_01","commonmodule/bigwin/audio/sound_super_win_02","commonmodule/bigwin/audio/sound_super_win_03","commonmodule/bigwin/audio/sound_ultimate_win_01","commonmodule/bigwin/audio/sound_ultimate_win_02","commonmodule/bigwin/audio/sound_ultimate_win_03"]);i._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinLayer10.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./NumberRoller.ts","./SubGameDefines21.ts","./BigWinDefines4.ts"],(function(i){var n,e,t,s,a,o,c,r,u,l,p,_,h,d,w,m,T,E,g;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,s=i.assertThisInitialized,a=i.createClass},function(i){o=i.cclegacy,c=i._decorator,r=i.Node,u=i.sp,l=i.Animation,p=i.find,_=i.ParticleSystem2D,h=i.tween,d=i.Vec3},function(i){w=i.default},function(i){m=i.inject},function(i){T=i.NumberRoller},function(i){E=i.EventName},function(i){g=i.SoundName}],execute:function(){var y,F,f,b,S,C,k,A,P,L,v,O,N,Y,W,B,V,z,D,M,U;o._RF.push({},"5e76cLliadP2pvjnIO2Hty7","BigWinLayer",void 0);var R=c.ccclass,I=c.property;i("default",(y=R("BigWinLayer"),F=m("content",r),f=I({displayName:"glow1",type:u.Skeleton}),b=I({displayName:"thecoins",type:r}),S=I({displayName:"coin",type:r}),C=I({displayName:"animation",type:u.Skeleton}),k=I({displayName:"dk",type:u.Skeleton}),A=I({displayName:"winScoreNode",type:r}),P=I({displayName:"winScore",type:T}),L=I({displayName:"animCoin",type:l}),y((N=n((O=function(i){function n(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return n=i.call.apply(i,[this].concat(a))||this,t(n,"content",N,s(n)),t(n,"glow1",Y,s(n)),t(n,"thecoins",W,s(n)),t(n,"coin",B,s(n)),t(n,"animation",V,s(n)),t(n,"dk",z,s(n)),t(n,"winScoreNode",D,s(n)),t(n,"winScore",M,s(n)),t(n,"animCoin",U,s(n)),n.cinType=[2,5,2,3,6,5,2,3,3,5,2,2,5,3,3],n.winTypeSkin=["default","big","super","epic","mega","ultimate"],n.winTypeSkinAni=["ani_intro","ani_idle_big","ani_idle_super","ani_idle_epic","ani_idle_mega","ani_idle_ultimate"],n.winTypeAnim=["ani_idle","ani_intro","ani_out"],n.winTypeDuration=[0,6.4,6.4,8,8,11.2],n.winType=0,n.winNum=0,n.WinMusicTimes=[0,3,3,4,4,6],n.cb=null,n.tb=1,n.close_type=0,n.scoreTween=null,n.isout=!1,n}e(n,i),n.getPrefabUrl=function(){return"commonmodule/bigwin/prefabs/BigWinLayer"};var o=n.prototype;return o.onLoad=function(){i.prototype.onLoad.call(this),this.onN(p("mask",this.node),r.EventType.TOUCH_END,this.onQuickClose)},o.addEvents=function(){i.prototype.addEvents.call(this)},n.isBigWin=function(i){return i>=5},o.onShow=function(){if(this.args&&this.args.length>0){if(this.winType=this.args[0],this.winNum=this.args[1],this.cb=this.args[2],this.winType<=0&&this.args.length>3){var n=this.args[3];this.winType=n>=5&&n<10?1:n>=10&&n<15?2:n>=15&&n<30?3:n>=30&&n<50?4:5}this.stopScoreEffect(),this.isout=!1,this.close_type=0,this.coin.active=!1,this.glow1.node.active=!1,this.animCoin.stop(),this.dk.node.active=!1,this.init(this.winType,this.winNum,this.args[2]),this.playBigWinStartSound(this.winTypeSkin[this.winType])}i.prototype.onShow.call(this)},o.onClose=function(){this.unscheduleAllCallbacks(),i.prototype.onClose.call(this)},o.init=function(i,n,e){for(var t=this,s=0;s<this.thecoins.children.length;s++){this.thecoins.children[s].getComponent(_).emissionRate=this.cinType[s]}this.animation.clearTracks(),this.animation.node.active=!0,this.animation.setSkin(this.winTypeSkin[i]),this.playBigWinVocals(this.winTypeSkin[i]),this.animation.setAnimation(0,this.winTypeAnim[1],!1),this.animation.addAnimation(0,this.winTypeAnim[0],!0);var a=0;this.animation.setCompleteListener((function(n){(n.animation?n.animation.name:"")===t.winTypeAnim[0]&&++a===t.WinMusicTimes[i]&&t.stopAnimation()})),this.dk.setAnimation(0,this.winTypeSkinAni[0],!1),this.glow1.node.active=!0,this.glow1.setAnimation(0,"glow_intro",!1),this.dk.node.active=!0,this.scheduleOnce((function(){var n;"ani_idle_out"!=(null==(n=t.dk.getComponent(u.Skeleton))?void 0:n.animation)&&(t.dk.setAnimation(0,t.winTypeSkinAni[i],!1),t.glow1.setAnimation(0,"glow_idle",!0))}),2),this.scheduleOnce((function(){t.coin.active=!0,t.animCoin.play("coin_ani")}),1),this.winScore.startRolling(0,n,this.winTypeDuration[i],(function(){h(t.winScoreNode).to(.2,{scale:new d(1.5,1.5,1.5)}).to(.2,{scale:new d(1,1,1)}).start()}))},o.onQuickClose=function(){this.isout||(0==this.close_type?(this.StopBigWinStartSound(this.winTypeSkin[this.winType]),this.playBigWinFinishSound(this.winTypeSkin[this.winType]),this.stopAnimation()):1==this.close_type&&(dispatch(E.STOP_ALL_EFFECTS),this._stopAllEffect(this.winTypeSkin[this.winType]),this.playBigWinlastSound(this.winTypeSkin[this.winType]),this.unscheduleAllCallbacks(),this.stopAndCloseView()))},o.stopAnimation=function(){var i=this;this.close_type=1,this.winScore.stopRollingAndShowNumber(this.winNum),this.animation.setAnimation(0,this.winTypeAnim[2],!1),this.animation.setCompleteListener((function(n){(n.animation?n.animation.name:"")===i.winTypeAnim[2]&&(i.animation.node.active=!1,i.dk.node.active=!1,i.isout=!0,i.glow1.node.active=!1)})),this.dk.setAnimation(0,"ani_idle_out",!1),this.glow1.setAnimation(0,"glow_out",!1),this.scheduleOnce((function(){for(var n=0;n<i.thecoins.children.length;n++){i.thecoins.children[n].getComponent(_).emissionRate=0}}),.01),this.scheduleOnce((function(){for(var n=0;n<i.thecoins.children.length;n++){i.thecoins.children[n].getComponent(_).spriteFrame=null}i.animCoin.stop()}),1.5),this.scheduleOnce((function(){i.stopAndCloseView()}),1.5)},o.playScoreEffect=function(){this.scoreTween=h(this.dk.node).to(.4,{scale:new d(1,1,1)}).to(.4,{scale:new d(.8,.8,.8)}).union().repeatForever().start()},o.stopScoreEffect=function(){this.scoreTween&&this.scoreTween.stop()},o.stopAndCloseView=function(){this.close_type=2,this.stopScoreEffect(),this.cb&&this.cb(),dispatch(E.STOP_ALL_EFFECTS),dispatch(E.SET_MUSIC_VOLUME,1),this.close()},o.playBigWinVocals=function(i){switch(i){case"big":dispatch(E.PLAY_EFFECT,g.sound_big);break;case"mega":dispatch(E.PLAY_EFFECT,g.sound_mega);break;case"epic":dispatch(E.PLAY_EFFECT,g.sound_epic);break;case"super":dispatch(E.PLAY_EFFECT,g.sound_super);break;case"ultimate":dispatch(E.PLAY_EFFECT,g.sound_ultimate)}},o.playBigWinStartSound=function(i){switch(dispatch(E.SET_MUSIC_VOLUME,0),i){case"big":dispatch(E.PLAY_EFFECT,g.sound_big_win_01);break;case"epic":dispatch(E.PLAY_EFFECT,g.sound_epic_win_01);break;case"super":dispatch(E.PLAY_EFFECT,g.sound_super_win_01);break;case"mega":dispatch(E.PLAY_EFFECT,g.sound_mega_win_01);break;case"ultimate":dispatch(E.PLAY_EFFECT,g.sound_ultimate_win_01)}},o.StopBigWinStartSound=function(i){switch(dispatch(E.SET_MUSIC_VOLUME,0),i){case"big":dispatch(E.STOP_EFFECT,g.sound_big_win_01);break;case"epic":dispatch(E.STOP_EFFECT,g.sound_epic_win_01);break;case"super":dispatch(E.STOP_EFFECT,g.sound_super_win_01);break;case"mega":dispatch(E.STOP_EFFECT,g.sound_mega_win_01);break;case"ultimate":dispatch(E.STOP_EFFECT,g.sound_ultimate_win_01)}},o.playBigWinFinishSound=function(i){switch(i){case"big":dispatch(E.PLAY_EFFECT,g.sound_big_win_02);break;case"epic":dispatch(E.PLAY_EFFECT,g.sound_epic_win_02);break;case"super":dispatch(E.PLAY_EFFECT,g.sound_super_win_02);break;case"mega":dispatch(E.PLAY_EFFECT,g.sound_mega_win_02);break;case"ultimate":dispatch(E.PLAY_EFFECT,g.sound_ultimate_win_02)}},o.playBigWinlastSound=function(i){switch(i){case"big":dispatch(E.PLAY_EFFECT,g.sound_big_win_03);break;case"epic":dispatch(E.PLAY_EFFECT,g.sound_epic_win_03);break;case"super":dispatch(E.PLAY_EFFECT,g.sound_super_win_03);break;case"mega":dispatch(E.PLAY_EFFECT,g.sound_mega_win_03);break;case"ultimate":dispatch(E.PLAY_EFFECT,g.sound_ultimate_win_03)}},o._stopAllEffect=function(i){switch(i){case"big":dispatch(E.STOP_EFFECT,g.sound_big_win_03),dispatch(E.STOP_EFFECT,g.sound_big_win_03),dispatch(E.STOP_EFFECT,g.sound_big_win_03);break;case"epic":dispatch(E.STOP_EFFECT,g.sound_epic_win_01),dispatch(E.STOP_EFFECT,g.sound_epic_win_02),dispatch(E.STOP_EFFECT,g.sound_epic_win_03);break;case"super":dispatch(E.STOP_EFFECT,g.sound_super_win_01),dispatch(E.STOP_EFFECT,g.sound_super_win_02),dispatch(E.STOP_EFFECT,g.sound_super_win_03);break;case"mega":dispatch(E.STOP_EFFECT,g.sound_mega_win_01),dispatch(E.STOP_EFFECT,g.sound_mega_win_02),dispatch(E.STOP_EFFECT,g.sound_mega_win_03);break;case"ultimate":dispatch(E.STOP_EFFECT,g.sound_ultimate_win_01),dispatch(E.STOP_EFFECT,g.sound_ultimate_win_02),dispatch(E.STOP_EFFECT,g.sound_ultimate_win_03)}},a(n,[{key:"showAction",get:function(){var i=this;return function(n){App.utils.showView(i.content,n)}}},{key:"closeAction",get:function(){var i=this;return function(n){App.utils.hideView(i.content,n)}}}]),n}(w)).prototype,"content",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(O.prototype,"glow1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(O.prototype,"thecoins",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(O.prototype,"coin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(O.prototype,"animation",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(O.prototype,"dk",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(O.prototype,"winScoreNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(O.prototype,"winScore",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(O.prototype,"animCoin",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=O))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/EffectLayer5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData21.ts","./LineAnimator4.ts","./SubGameConstants18.ts","./SubGameDefines21.ts","./Config.ts","./BigWinLayer10.ts"],(function(i){var t,e,n,s,a,h,o,r,p,l,c,d,m,S,u,f,w;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized,a=i.createClass},function(i){h=i.cclegacy,o=i._decorator,r=i.Node,p=i.Tween,l=i.Component},function(i){c=i.SubGameData},function(i){d=i.ThemeHotChiliLineAnimator},function(i){m=i.ThemeHotChili},function(i){S=i.THEME_GAME_TYPE,u=i.EventName},function(i){f=i.ViewZOrder},function(i){w=i.default}],execute:function(){var g,W,L,_,A;h._RF.push({},"9bd555cdfVDdINacbZl9HsQ","EffectLayer",void 0);var y=o.ccclass,T=o.property;i("EffectLayer",(g=y("EffectLayer"),W=T({displayName:"bgmControlNode",type:r}),g((A=t((_=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),h=0;h<e;h++)a[h]=arguments[h];return(t=i.call.apply(i,[this].concat(a))||this).spinLayer=null,n(t,"bgmControlNode",A,s(t)),t.lineAnimator=null,t.spinResult=null,t.eachLineShowIndex=0,t.totalWinToAdd=0,t.state=m.WinShowState.Idle,t.performList=[],t.showInAdvancePos=[],t.scatterHitPos=[],t.chipHitPos=[],t.wildHitPos=[],t.allLineHitPos=[],t.fgWin=!1,t.mapWin=!1,t.linesWin=!1,t.bigWin=!1,t.bgWin=!1,t.bgInTemp=0,t.ChipWinTemp=0,t.ReSpinTemp=0,t.scatter_win=0,t.winning_type=0,t.eachLineAnimationInterval=2,t}e(t,i);var h=t.prototype;return h.start=function(){this.stopSymbolLineAnimation=this.stopSymbolLineAnimation.bind(this),this.lineAnimator=new d,this.lineAnimator&&(this.lineAnimator.spinLayer=this.spinLayer)},h.perform=function(i){this.state==m.WinShowState.Idle&&(this.spinResult=i,this.clearPerformList(),this.totalWinToAdd=this.spinResult.add,this.assemblePerformList(),this.lineAnimator.sync(),this.stateChangeTo(m.WinShowState.Checking))},h.assemblePerformList=function(){if(this.fgWin=!1,this.mapWin=!1,this.linesWin=!1,this.bigWin=!1,this.bgWin=!1,this.winning_type=0,S.MAIN==this.data.GameType)for(var i=0;i<m.CellNum;i++)this.allLineHitPos[i]=0,this.showInAdvancePos[i]=0,this.wildHitPos[i]=0,this.scatterHitPos[i]=0,this.chipHitPos[i]=0;else if(S.FREE==this.data.GameType)for(var t=0;t<5*this.spinLayer.gameLayer.fgType;t++)this.allLineHitPos[t]=0,this.showInAdvancePos[t]=0,this.wildHitPos[t]=0,this.scatterHitPos[t]=0,this.chipHitPos[t]=0;var e=0;if(S.FREE==this.data.GameType&&this.spinResult.sc_line.length>0&&this.spinResult.sc_line[0].hit_pos.forEach((function(i){1==i&&e++})),(this.spinResult.free_game_trig&&1==this.spinResult.free_game_trig||e>=3)&&(this.scatterHitPos=this.spinResult.sc_line[0].hit_pos,this.scatter_win=this.spinResult.sc_line[0].win,this.fgWin=!0,this.performList[m.WinShowState.ScatterAnimation]=1,S.MAIN==this.data.GameType?this.performList[m.WinShowState.StandbyBeforeFreeGameEnter]=1:S.FREE==this.data.GameType&&(this.performList[m.WinShowState.FreeGameTrigger]=1)),0!=this.spinResult.add||this.fgWin||this.mapWin?this.performList[m.WinShowState.WinDelay]=1:this.performList[m.WinShowState.NoWinDelay]=1,this.spinResult.win_lines&&this.spinResult.win_lines.length>0){this.linesWin=!0;for(var n=0;n<this.spinResult.win_lines.length;n++)for(var s=this.spinResult.win_lines[n].hit_pos,a=0;a<s.length;a++)0!=s[a]&&(this.wildHitPos[a]=1);this.performList[m.WinShowState.SymbolLineAnimation]=1,this.spinResult.win_lines.length>1?this.winning_type=2:this.winning_type=1}this.spinResult&&this.spinResult.winType>0?(this.linesWin=!0,this.bigWin=!0,this.performList[m.WinShowState.SymbolLineAnimation]=0,this.performList[m.WinShowState.BigWinAnimation]=1):this.totalWinToAdd==this.spinResult.credit_win&&(this.totalWinToAdd=0);for(var h=0;h<this.spinResult.item_list[2].length;h++)this.spinResult.item_list[2][h]>=12&&this.spinResult.item_list[2][h]<=15&&(this.performList[m.WinShowState.MultiFly]=1);if(S.FREE==this.data.GameType)for(var o=0;o<this.spinResult.item_list[2].length;o++)this.spinResult.item_list[2][o]>=12&&this.spinResult.item_list[2][o]<=15&&(this.performList[m.WinShowState.MultiFly]=1);this.spinResult.credit_win&&this.spinResult.credit_win>0&&(this.chipHitPos=this.spinResult.jb_line[0].hit_pos,this.performList[m.WinShowState.ChipWin]=1,this.winning_type>0&&(1==this.winning_type?this.winning_type=3:this.winning_type=4)),this.spinResult.bonus_game_trig&&1==this.spinResult.bonus_game_trig&&(this.bgWin=!0,this.performList[m.WinShowState.StandbyBeforeBonusGameEnter]=1),S.FREE==this.data.GameType&&this.data.reSpin&&(this.performList[m.WinShowState.ReSpin]=1);for(var r=this.spinResult.win_lines,p=0;p<r.length;p++)for(var l=r[p].hit_pos,c=0;c<l.length;c++)0!=l[c]&&(this.allLineHitPos[c]=1,this.showInAdvancePos[c]=1);for(var d=0;d<this.scatterHitPos.length;d++)1==this.scatterHitPos[d]&&(this.showInAdvancePos[d]=1);for(var u=0;u<this.chipHitPos.length;u++)1==this.chipHitPos[u]&&(this.showInAdvancePos[u]=1)},h.clearPerformList=function(){for(var i=0;i<m.WinShowStateList.length;i++)this.performList[i]=0},h.checkPerformList=function(){for(var i=-1,t=0;t<m.WinShowStateList.length;t++)if(1==this.performList[t]){i=t;break}if(-1==i)return this.stateChangeTo(m.WinShowState.Idle),void(this.data.GameType===S.MAIN&&this.spinLayer.gameLayer.enableSpin());this.performList[i]=0,Log.d("checkPerformList toPerformIndex = ",i),m.WinShowState.NoWinDelay==i?this.performNoWinDelay():m.WinShowState.FreeGameTrigger==i?this.performFreeGameTrigger():m.WinShowState.ScatterAnimation==i?this.performScatterAnimation():m.WinShowState.BigWinAnimation==i?this.performBigWinAnimation():m.WinShowState.SymbolLineAnimation==i?this.performSymbolLineAnimation():m.WinShowState.StandbyBeforeBonusGameEnter==i?(this.bgInTemp=0,this.performStandbyBeforeBonusGameEnter()):m.WinShowState.BonusGameEnter==i?this.performBonusGameEnter():m.WinShowState.StandbyBeforeFreeGameEnter==i?this.performStandbyBeforeFreeGameEnter():m.WinShowState.WinDelay==i?this.performWinDelay():m.WinShowState.MultiFly==i?this.performMultiFly():m.WinShowState.ChipWin==i?(this.ChipWinTemp=0,this.performChipWin()):m.WinShowState.ReSpin==i&&(this.ReSpinTemp=0,this.performReSpin())},h.stopPerformUnit=function(){this.stateChangeTo(m.WinShowState.Checking)},h.stopSymbolLineAnimation=function(){this.unschedule(this.stopSymbolLineAnimation),this.data.GameType,S.MAIN,this.spinResult&&this.spinResult.winType<=0&&(1==this.winning_type?dispatch(u.PLAY_EFFECT,"audio/win_a_end"):this.winning_type>1&&dispatch(u.PLAY_EFFECT,"audio/win_b_end"))},h.performReSpin=function(){var i=this;0==this.ReSpinTemp?(this.stateChangeTo(m.WinShowState.ReSpin),this.disableSpinAndOtherBtns(),this.spinLayer.spinTable.performReSpin()):this.scheduleOnce((function(){i.stateChangeTo(m.WinShowState.Checking)}),.1)},h.performChipWin=function(){var i=this;S.MAIN==this.data.GameType?this.data.QUICK_STOP?(this.data.QUICK_STOP=!1,this.data.ChipWinTemp=!1,this.stateChangeTo(m.WinShowState.ChipWin),this.disableSpinAndOtherBtns(),this.spinLayer.spinTable.performChipWinAfterQuickStop()):(this.data.QUICK_STOP=!1,0==this.ChipWinTemp?(this.data.ChipWinTemp=!0,this.stateChangeTo(m.WinShowState.ChipWin),this.disableSpinAndOtherBtns(),this.spinLayer.spinTable.performChipWin(this.spinResult)):(this.data.ChipWinTemp=!1,this.scheduleOnce((function(){i.stateChangeTo(m.WinShowState.Checking)}),.1))):0==this.ChipWinTemp?(this.data.ChipWinTemp=!0,this.stateChangeTo(m.WinShowState.ChipWin),this.disableSpinAndOtherBtns(),this.spinLayer.spinTable.performChipWin(this.spinResult)):(this.data.ChipWinTemp=!1,this.scheduleOnce((function(){i.stateChangeTo(m.WinShowState.Checking)}),.1))},h.performMultiFly=function(){var i=this;this.stateChangeTo(m.WinShowState.MultiFly),this.spinLayer.spinTable.performMultiFly(),this.disableSpinAndOtherBtns();var t=.1;this.spinResult.bonus_game_trig&&1==this.spinResult.bonus_game_trig&&(t=1.67),this.spinResult.free_game_trig&&1==this.spinResult.free_game_trig&&(t=1.67,this.data.bow_state2>this.data.bow_state1&&(t=3.2)),this.scheduleOnce((function(){i.stateChangeTo(m.WinShowState.Checking)}),t)},h.performNoWinDelay=function(){var i=this;this.stateChangeTo(m.WinShowState.NoWinDelay),S.FREE==this.data.GameType?this.scheduleOnce((function(){i.stateChangeTo(m.WinShowState.Checking)}),.1):S.MAIN==this.data.GameType&&this.stateChangeTo(m.WinShowState.Checking)},h.performWinDelay=function(){this.stateChangeTo(m.WinShowState.WinDelay),this.stateChangeTo(m.WinShowState.Checking)},h.performFreeGameTrigger=function(){var i=this;this.disableSpinAndOtherBtns(),this.stateChangeTo(m.WinShowState.FreeGameTrigger),this.scheduleOnce((function(){i.spinLayer.gameLayer.performFreeGameRetrigger()}),.5)},h.performScatterAnimation=function(){var i=this;this.disableSpinAndOtherBtns(),this.stateChangeTo(m.WinShowState.ScatterAnimation);var t=3;this.scheduleOnce((function(){dispatch(u.PLAY_EFFECT,"audio/triggering"),i.lineAnimator.performAnimation(i.scatterHitPos)}),.5),this.spinResult&&this.spinResult.winType>0||this.spinResult.win_lines&&this.spinResult.win_lines.length>0?Log.d("æœ‰ bigwin or win_lines > 0"):(this.winning_type>0&&(t=1==this.winning_type?4:5),this.scheduleOnce((function(){1==i.winning_type?(dispatch(u.PLAY_EFFECT,"audio/win_a"),i.scheduleOnce((function(){dispatch(u.PLAY_EFFECT,"audio/win_a_end")}),1)):i.winning_type>1&&(dispatch(u.PLAY_EFFECT,"audio/win_b"),i.scheduleOnce((function(){dispatch(u.PLAY_EFFECT,"audio/win_b_end")}),2)),dispatch(u.SET_MUSIC_VOLUME,.2),dispatch(u.ROLLING_WIN_SCORE,i.scatter_win),i.totalWinToAdd-=i.scatter_win}),3),this.schedule((function(){dispatch(u.SET_MUSIC_VOLUME,1)}),5.5)),this.scheduleOnce((function(){i.stateChangeTo(m.WinShowState.Checking)}),t)},h.performBigWinAnimation=function(){var i=this;this.disableSpinAndOtherBtns(),this.stateChangeTo(m.WinShowState.BigWinAnimation),this.lineAnimator.sync();var t=function(){i.spinResult.credit_win&&i.spinResult.credit_win>0||dispatch(u.ROLLING_WIN_SCORE,i.totalWinToAdd),i.totalWinToAdd=0,i.data.GameType!==S.MAIN||i.data.getAutoStatus()||(i.resetForEachLineAnimation(),i.performEachLineAnimation(),i.schedule(i.performEachLineAnimation,i.eachLineAnimationInterval)),i.stopSymbolLineAnimation(),(i.data.GameType===S.MAIN||i.data.GameType===S.FREE||i.data.GameType===S.MAPFREE)&&i.stopPerformUnit()};this.showAllLines(),this.spinResult.credit_win&&this.spinResult.credit_win>0&&dispatch(u.ROLLING_WIN_SCORE,this.totalWinToAdd-this.spinResult.credit_win),this.scheduleOnce((function(){var e=i.spinResult.add,n=i.spinResult.winType;n>0&&App.uiManager.open({type:w,bundle:i.data.module,zIndex:f.UI,args:[n,e,t]})}),.3)},h.performSymbolLineAnimation=function(){var i=this;this.stateChangeTo(m.WinShowState.SymbolLineAnimation);this.winning_type>0&&(1==this.winning_type?dispatch(u.PLAY_EFFECT,"audio/win_a"):dispatch(u.PLAY_EFFECT,"audio/win_b")),this.winning_type>2&&(3==this.winning_type||dispatch(u.PLAY_EFFECT,"audio/win4")),this.showAllLines(),this.data.GameType===S.MAIN?(this.spinResult.credit_win&&this.spinResult.credit_win>0?this.data.QUICK_STOP?dispatch(u.ROLLING_WIN_SCORE,this.totalWinToAdd):dispatch(u.ROLLING_WIN_SCORE,this.totalWinToAdd-this.spinResult.credit_win):dispatch(u.ROLLING_WIN_SCORE,this.totalWinToAdd),this.totalWinToAdd=0,this.scheduleOnce(this.stopSymbolLineAnimation,1),this.data.getAutoStatus()?this.scheduleOnce((function(){i.stateChangeTo(m.WinShowState.Checking)}),1):this.stateChangeTo(m.WinShowState.Checking),this.scheduleOnce((function(){i.resetForEachLineAnimation(),i.performEachLineAnimation(),i.schedule(i.performEachLineAnimation,i.eachLineAnimationInterval)}),1)):(this.spinResult.credit_win&&this.spinResult.credit_win>0?dispatch(u.ROLLING_WIN_SCORE,this.totalWinToAdd-this.spinResult.credit_win):dispatch(u.ROLLING_WIN_SCORE,this.totalWinToAdd),this.totalWinToAdd=0,this.scheduleOnce(this.stopSymbolLineAnimation,1),this.scheduleOnce((function(){i.stateChangeTo(m.WinShowState.Checking)}),.1))},h.showAllLines=function(){this.lineAnimator.performAllLine(this.allLineHitPos,this.wildHitPos)},h.stopAllLines=function(){this.lineAnimator.stopLineAnimation()},h.resetForEachLineAnimation=function(){this.eachLineShowIndex=0},h.performEachLineAnimation=function(){if(this.lineAnimator.stopAnimation(this.showInAdvancePos),this.lineAnimator.stopLineAnimation(),this.spinResult&&this.spinResult.win_lines.length>0&&this.spinResult.win_lines[this.eachLineShowIndex]&&this.spinResult.win_lines[this.eachLineShowIndex].hit_pos){var i=this.spinResult.win_lines[this.eachLineShowIndex].hit_pos;this.lineAnimator.performLineAnimation(i,this.showInAdvancePos);this.spinResult.win_lines[this.eachLineShowIndex].win;this.eachLineShowIndex=this.eachLineShowIndex+1,this.eachLineShowIndex=this.eachLineShowIndex%this.spinResult.win_lines.length}},h.performStandbyBeforeBonusGameEnter=function(){var i=this;0==this.bgInTemp?(this.stopAllPerforms(),this.disableSpinAndOtherBtns(),this.stateChangeTo(m.WinShowState.StandbyBeforeBonusGameEnter),this.scheduleOnce((function(){p.stopAllByTarget(i.spinLayer.spinTable.multiFlyNode),i.spinLayer.ng_Chili.node.active=!0,i.spinLayer.ng_Chili.clearTracks(),i.spinLayer.ng_Chili.addAnimation(0,"daiji",!0),i.spinLayer.collectPot.node.active=!0,i.spinLayer.collectPot.clearTracks(),i.spinLayer.collectPot.setAnimation(0,"waiting",!0),i.scheduleOnce((function(){return i.spinLayer.gameLayer.bgIn(),!0}),.1)}),1.8)):this.stateChangeTo(m.WinShowState.Checking)},h.performBonusGameEnter=function(){this.disableSpinAndOtherBtns(),this.unschedule(this.performEachLineAnimation),this.spinLayer.gameLayer.performBonusGame(),this.stateChangeTo(m.WinShowState.Idle)},h.performStandbyBeforeFreeGameEnter=function(){var i=this;this.disableSpinAndOtherBtns(),this.stateChangeTo(m.WinShowState.StandbyBeforeFreeGameEnter),this.scheduleOnce((function(){i.spinLayer.gameLayer.fgSelect()}),.01)},h.performFreeGameEnter=function(){this.spinLayer.gameLayer.performFreeGame(),this.stateChangeTo(m.WinShowState.Idle)},h.stopShow=function(){var i=!1;return(i=this.state==m.WinShowState.Idle||this.stepCurrentState())&&(this.stopAllPerforms(),this.stateChangeTo(m.WinShowState.Idle)),i},h.forceStopShow=function(){this.stopAllPerforms()},h.stepCurrentState=function(){return this.state!=m.WinShowState.FreeGameTrigger&&(this.state!=m.WinShowState.ScatterAnimation&&(this.state==m.WinShowState.SymbolLineAnimation&&(this.fgWin||this.bigWin||this.bgWin)?(this.stopSymbolLineAnimation(),this.stopPerformUnit(),!1):this.state==m.WinShowState.SymbolLineAnimation?(this.stopSymbolLineAnimation(),!0):this.state==m.WinShowState.BigWinAnimation||this.state==m.WinShowState.StandbyBeforeBonusGameEnter?(this.stopPerformUnit(),!1):this.state!=m.WinShowState.BonusGameEnter&&(this.state!=m.WinShowState.StandbyBeforeFreeGameEnter&&(this.state!=m.WinShowState.Checking&&(this.state!=m.WinShowState.MultiFly&&(this.state!=m.WinShowState.ChipWin&&this.state!=m.WinShowState.ReSpin))))))},h.stopAllPerforms=function(){this.spinResult=null,this.unscheduleAllCallbacks(),this.unschedule(this.performEachLineAnimation),this.stopAllWinMusicAndEffects(),this.stopAllLines(),this.stopSymbolLineAnimation(),this.lineAnimator.stopAnimation(),this.totalWinToAdd>0&&(dispatch(u.ROLLING_WIN_SCORE,this.totalWinToAdd),this.totalWinToAdd=0)},h.stateChangeTo=function(i){this.state=i,m.WinShowState.Checking==this.state?this.checkPerformList():m.WinShowState.Idle==this.state&&this.spinLayer.effectLayerChangeToIdle()},h.playWinMusic=function(i,t){},h.playWinEffect=function(i,t){},h.stopAllWinMusicAndEffects=function(){dispatch(u.STOP_EFFECT,"audio/win_a"),dispatch(u.STOP_EFFECT,"audio/win_a_end"),dispatch(u.STOP_EFFECT,"audio/win_b"),dispatch(u.STOP_EFFECT,"audio/win_b_end"),dispatch(u.STOP_EFFECT,"audio/win4")},h.isWinLineCanChangeTip=function(){},h.disableSpinAndOtherBtns=function(){this.spinLayer.gameLayer.disableSpinAndOtherBtns()},a(t,[{key:"data",get:function(){return App.dataCenter.get(c)}}]),t}(l)).prototype,"bgmControlNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=_))||L));h._RF.pop()}}}));

System.register("chunks:///_virtual/ExBannerContentProvider6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BannerContentProvider.ts","./SubGameData21.ts"],(function(n){var e,t,r,o,i;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,r=n._decorator},function(n){o=n.BannerContentProvider},function(n){i=n.SubGameData}],execute:function(){var c;t._RF.push({},"f5f74NBqpJAzZXXs2GxyyZT","ExBannerContentProvider",void 0);var a=r.ccclass,u=(r.property,r.menu);n("ExBannerContentProvider",a(i.module+"_component_ExBannerContentProvider")(c=u(i.module+"/component/ExBannerContentProvider")(c=function(n){function t(){return n.apply(this,arguments)||this}return e(t,n),t.prototype.dataList=function(){return["<img src='1'/>","<img src='2'/>","<img src='3'/>","<img src='4'/>"]},t}(o))||c)||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/FGSelectLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./SubGameDefines21.ts","./Global.ts","./SubGameData21.ts","./CommonEvent.ts"],(function(e){var t,n,i,o,a,l,c,s,r,u,h,p,f,d,g,b,y,m,v,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,c=e._decorator,s=e.Node,r=e.Label,u=e.Button,h=e.sp,p=e.Vec3,f=e.Color,d=e.tween},function(e){g=e.default},function(e){b=e.inject},function(e){y=e.EventName},function(e){m=e.Global},function(e){v=e.SubGameData},function(e){w=e.CommonEvent}],execute:function(){var N,S,C,B,L,k,A,F,E,_,I,G,z,O,T,D,P,R,Y;l._RF.push({},"b72bdRbsuNOO7vMnXYWUosp","FGSelectLayer",void 0);var M=c.ccclass,U=c.property;e("default",(N=M("FGSelectLayer"),S=b("content",s),C=U({displayName:"selectNode",type:[s]}),B=U({displayName:"fgStartNum",type:[r]}),L=U({displayName:"selectBtn",type:[u]}),k=U({displayName:"blingIdle",type:[h.Skeleton]}),A=U({displayName:"chooseBling",type:[h.Skeleton]}),F=U({displayName:"chipNode",type:s}),E=U({displayName:"higherClipNode",type:s}),N((G=t((I=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"content",G,o(t)),t.gameLayer=null,i(t,"selectNode",z,o(t)),i(t,"fgStartNum",O,o(t)),i(t,"selectBtn",T,o(t)),i(t,"blingIdle",D,o(t)),i(t,"chooseBling",P,o(t)),i(t,"chipNode",R,o(t)),i(t,"higherClipNode",Y,o(t)),t.tweens=new Map,t.fgStartNumList=[[4,6,8,10],[8,12,16,20],[12,18,24,30]],t.isSpin=!1,t}n(t,e),t.getPrefabUrl=function(){return"prefabs/view/FGSelectLayer"};var l=t.prototype;return l.onLoad=function(){var t=this;e.prototype.onLoad.call(this),this.selectBtn.forEach((function(e,n){e.node.on(u.EventType.CLICK,(function(){t.onButtonClick(n)}),t)}))},l.addEvents=function(){e.prototype.addEvents.call(this)},l.onShow=function(){if(this.args&&this.args.length>0){this.gameLayer=this.args[0];var t=this.args[1];this.init(t)}e.prototype.onShow.call(this)},l.onClose=function(){this.clearGroup(),e.prototype.onClose.call(this)},l.clearGroup=function(){this.unscheduleAllCallbacks()},l.init=function(e){var t=this;(e<3||null==e||null==e)&&(e=3);for(var n=function(n){var i=t.selectNode[n];App.utils.setColorRecursive(i,new f(255,255,255)),t.checkFather(i,t.chipNode),t.blingIdle[n].node.active=!1,t.chooseBling[n].node.active=!1,t.selectBtn[n].interactable=!1,t.fgStartNum[n].string=t.fgStartNumList[e-3][n].toString(),d(i).delay(.5+.2*n).call((function(){dispatch(y.PLAY_EFFECT,"audio/fg_select")})).to(.2,{scale:new p(1.1,1.1,1)}).to(.1,{scale:new p(1,1,1)}).start(),t.scheduleOnce((function(){var e=d(i).repeatForever(d().call((function(){t.blingIdle[n].node.active=!0,t.blingIdle[n].setAnimation(0,"animation",!1)})).to(.58,{scale:new p(1.05,1.05,1)}).to(.58,{scale:new p(1,1,1)}).delay(3.4)).start();t.tweens.set(i,e)}),1.4+.58*n),t.scheduleOnce((function(){t.selectBtn[n].interactable=!0}),1.4)},i=0;i<4;i++)n(i);this.scheduleOnce((function(){dispatch(y.PLAY_MUSIC,"audio/fgch_bgm")}),.5),this.scheduleOnce((function(){dispatch(y.PLAY_EFFECT,"audio/fgchoose")}),1.4),this.scheduleOnce((function(){t.isSpin=!0,m.playback&&t.onButtonClick(t.data.playBack_fg_select-1)}),2.4)},l.onButtonClick=function(e){var t=this;if(dispatch(w.NOTIFY_FREE_MODE),this.isSpin){this.isSpin=!1,console.log("Button "+(e+1)+" clicked!"),this.selectBtn[e].interactable=!1,dispatch(y.PLAY_EFFECT,"audio/fg_choose"),this.stopAllTweens();for(var n=0;n<4;n++)this.selectNode[n].scale=new p(1,1,1);var i=e+1;this.gameLayer.onSend_fgSelect(i);for(var o=0;o<4;o++)e!=o&&(Log.d("select i = ",e),App.utils.setColorRecursive(this.selectNode[o],new f(125,125,125))),this.blingIdle[e].node.active=!1,this.chooseBling[e].node.active=!0,this.chooseBling[e].clearTracks(),this.chooseBling[e].setAnimation(0,"animation",!1),this.chooseBling[e].setCompleteListener((function(e){"animation"===(e.animation?e.animation.name:"")&&t.close()})),this.checkFather(this.selectNode[e],this.higherClipNode),d(this.selectNode[e]).to(.17,{scale:new p(.9,.9,1)}).to(.33,{scale:new p(1.2,1.2,1)}).start()}},l.stopAllTweens=function(){this.tweens.forEach((function(e,t){e.stop()})),this.tweens.clear(),this.unscheduleAllCallbacks()},l.checkFather=function(e,t){e.setParent(t)},a(t,[{key:"data",get:function(){return App.dataCenter.get(v)}},{key:"showAction",get:function(){var e=this;return function(t){App.utils.showView(e.content,t)}}},{key:"closeAction",get:function(){var e=this;return function(t){App.utils.hideView(e.content,t)}}}]),t}(g)).prototype,"content",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(I.prototype,"selectNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(I.prototype,"fgStartNum",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(I.prototype,"selectBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(I.prototype,"blingIdle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(I.prototype,"chooseBling",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(I.prototype,"chipNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(I.prototype,"higherClipNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=I))||_));l._RF.pop()}}}));

System.register("chunks:///_virtual/GameEntry21.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entry.ts","./Decorators.ts","./MainGameView18.ts","./GameService.ts","./GameHandler21.ts","./SubGameLanguage21.ts","./Config.ts","./LoadingBar4.ts"],(function(){var e,n,t,a,o,r,i,u,c,s;return{setters:[function(n){e=n.inheritsLoose},function(e){n=e.cclegacy},function(e){t=e.Entry},function(e){a=e.registerEntry},function(e){o=e.default},function(e){r=e.GameService},function(e){i=e.default},function(e){u=e.SubGameLanguage},function(e){c=e.ViewZOrder},function(e){s=e.LoadingBar}],execute:function(){var l;n._RF.push({},"b9237pwQexOXpvZ0/tCQNql","GameEntry",void 0);a("GameEntry","slot390000016",o)(l=function(n){function t(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))||this).language=new u,e}e(t,n);var a=t.prototype;return a.addNetHandler=function(){App.handlerManager.get(i)},a.removeNetHandler=function(){App.handlerManager.destory(i)},a.loadResources=function(e){App.uiManager.open({type:s,bundle:this.bundle,zIndex:c.UI}).then((function(){App.utils.closeDocumentFrameAnimation(),e()}))},a.initData=function(){App.serviceManager.get(r,!0)},a.pauseMessageQueue=function(){},a.resumeMessageQueue=function(){},a.openGameView=function(){n.prototype.openGameView.call(this)},a.onUnloadBundle=function(){n.prototype.onUnloadBundle.call(this),App.serviceManager.destory(r)},t}(t));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameHandler21.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Handler.ts","./GameService.ts","./Protocol22.ts","./Global.ts","./CommonEvent.ts","./SubGameData21.ts","./SubGameDefines21.ts"],(function(e){var s,t,n,a,o,c,i,r,u,h;return{setters:[function(e){s=e.inheritsLoose,t=e.createClass},function(e){n=e.cclegacy},function(e){a=e.Handler},function(e){o=e.GameService},function(e){c=e.Protocol},function(e){i=e.Global},function(e){r=e.CommonEvent},function(e){u=e.SubGameData},function(e){h=e.EventName}],execute:function(){n._RF.push({},"43ba5fBbWlP4o3s4wjBhzkN","GameHandler",void 0),e("default",function(e){function n(){return e.apply(this,arguments)||this}s(n,e);var a=n.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),this.onS(c.LOGIN,this.s2cLogin),this.onS(c.USERINFO,this.s2cUserInfo),this.onS(c.SLOTINFO,this.s2cSlotInfo),this.onS(c.SLOTBET,this.s2cSlotBet),this.onS(c.LASTMAP,this.s2cLastMap),this.onS(c.FREESPIN,this.s2cFreeSpin),this.onS(c.SELECTSLOT,this.s2cSlotSelect),this.onS(c.JpCmd,this.s2cJpCmd),this.onS(c.JPREWARDREFRESH,this.s2cJpReward)},a.s2cLogin=function(e){e&&e.message&&1==e.message.issucc&&(i.account=e.message.account,i.currency=e.message.mtype,this.c2sUserInfo(),this.c2sSlotInfo(),dispatch(r.OnLoginSuccess,e),dispatch(r.SWITCH_CURRENCY))},a.c2sUserInfo=function(){var e,s={type:c.USERINFO,message:{}};null==(e=this.service)||e.sendMessage(c.USERINFO,s)},a.c2sSlotInfo=function(){var e,s={type:c.SLOTINFO,message:{}};null==(e=this.service)||e.sendMessage(c.SLOTINFO,s)},a.s2cUserInfo=function(e){Log.d("s2cUserInfo message.money = ",e.message.money),Log.d("s2cUserInfo data.money = ",this.data.money),this.data.money=e.message.money},a.s2cSlotInfo=function(e){var s=e.message;this.data.slotInfo=s,this.data.loadDataFinish=!0,dispatch(h.LoadDataFinish);var t=!1;1==s.can_gm&&(t=!0),dispatch(r.NOTIFY_GMTOOL_VISIBLE,t)},a.s2cSlotBet=function(e){var s=e.message;dispatch(h.OnReceiveSlotBet,s)},a.s2cLastMap=function(e){var s=e.message;this.data.lastMapData=s},a.s2cFreeSpin=function(e){var s=e.message;dispatch(h.OnReceiveFGSpin,s)},a.s2cSlotSelect=function(e){var s=e.message;dispatch(h.OnReceiveFGSelect,s)},a.s2cJpCmd=function(e){var s=e.message;dispatch(h.RECEIVE_JACKPOT,s)},a.s2cJpReward=function(e){var s=e.message;dispatch(h.GET_JP_REWARD,s)},t(n,[{key:"data",get:function(){return App.dataCenter.get(u)}},{key:"service",get:function(){return App.serviceManager.get(o)}}]),n}(a)).module="Game",n._RF.pop()}}}));

System.register("chunks:///_virtual/GameLayer4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpinLayer4.ts","./SubGameData21.ts","./SubGameDefines21.ts","./EventComponent.ts","./BGLayer2.ts","./Config.ts","./SubGameConstants18.ts","./PopOut4.ts","./FGSelectLayer2.ts","./CommonEvent.ts","./Global.ts","./BigWinLayer10.ts","./ScrollNumber.ts"],(function(e){var t,i,n,a,s,o,r,c,l,p,u,h,d,g,_,f,m,y,v,w,b,L,S,N,T,R,F,E,A,M,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,r=e._decorator,c=e.Sprite,l=e.Node,p=e.sp,u=e.Label,h=e.Button,d=e.UIOpacity,g=e.tween,_=e.Vec3,f=e.Tween},function(e){m=e.SpinLayer},function(e){y=e.SubGameData},function(e){v=e.EventName,w=e.THEME_GAME_TYPE,b=e.SpinLayerState},function(e){L=e.default},function(e){S=e.BGLayer},function(e){N=e.ViewZOrder},function(e){T=e.ThemeHotChili},function(e){R=e.default},function(e){F=e.default},function(e){E=e.CommonEvent},function(e){A=e.Global},function(e){M=e.default},function(e){C=e.default}],execute:function(){var I,G,k,O,P,x,j,B,Y,z,U,D,W,K,X,V,J,H,Q,Z,q,$,ee,te,ie,ne,ae,se,oe,re,ce,le,pe,ue,he,de,ge,_e,fe;o._RF.push({},"44528/HXfVAvZnte0sBl9sN","GameLayer",void 0);var me=r.ccclass,ye=r.property;e("GameLayer",(I=me("GameLayer"),G=ye({displayName:"background",type:c}),k=ye({displayName:"flagNode",type:l}),O=ye({displayName:"bgLayer",type:S}),P=ye({displayName:"spinLayer",type:m}),x=ye({displayName:"awardLayerColor",type:l}),j=ye({displayName:"awardNotice",type:l}),B=ye({displayName:"awardNotice11",type:p.Skeleton}),Y=ye({displayName:"awardNotice12",type:p.Skeleton}),z=ye({displayName:"awardNotice13",type:p.Skeleton}),U=ye({displayName:"awardNotice2",type:l}),D=ye({displayName:"awardNotice21",type:p.Skeleton}),W=ye({displayName:"awardNotice22",type:p.Skeleton}),K=ye({displayName:"awardNotice23",type:p.Skeleton}),X=ye({displayName:"fgCountBoard",type:l}),V=ye({displayName:"fgCountNum",type:u}),J=ye({displayName:"btn_test",type:h}),H=ye({displayName:"guochang_skeletonData",type:[p.SkeletonData]}),Q=ye({displayName:"jackpotNum",type:C}),I(($=t((q=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).view=null,n(t,"background",$,a(t)),n(t,"flagNode",ee,a(t)),n(t,"bgLayer",te,a(t)),n(t,"spinLayer",ie,a(t)),n(t,"awardLayerColor",ne,a(t)),n(t,"awardNotice",ae,a(t)),n(t,"awardNotice11",se,a(t)),n(t,"awardNotice12",oe,a(t)),n(t,"awardNotice13",re,a(t)),n(t,"awardNotice2",ce,a(t)),n(t,"awardNotice21",le,a(t)),n(t,"awardNotice22",pe,a(t)),n(t,"awardNotice23",ue,a(t)),n(t,"fgCountBoard",he,a(t)),n(t,"fgCountNum",de,a(t)),n(t,"btn_test",ge,a(t)),n(t,"guochang_skeletonData",_e,a(t)),n(t,"jackpotNum",fe,a(t)),t.isExpecting=!1,t.fgType=0,t.awardNoticePosX=[],t.centerX=0,t.centerY=0,t.m_awardNotice=[],t.m_awardNotice2=[],t.freeGameLeaving=!1,t.freeSpinIndex=0,t.freeSpinNum=0,t.fg_select=0,t.bonusGameLeaving=!1,t.bonusSpinIndex=0,t.bonusSpinNum=0,t.turboFlag=!1,t.bg_totalWin=0,t.fg_totalWin=0,t.fg_idx=0,t.fg_total_round=0,t.isFgReconnect=!1,t.savedTable=[],t.spinResult=null,t.fgResult=null,t.last_fgResult=null,t.reSpinInfo=[],t.restore_spinResult=[],t.restore_upper_reel=[],t.restore_down_reel=[],t.scIntervalTime=performance.now(),t.bgScIntervalTime=performance.now(),t}i(t,e);var o=t.prototype;return o.judgeScInterval=function(e){var t=performance.now();t-this.scIntervalTime<100?this.scIntervalTime=t:(this.scIntervalTime=t,dispatch(v.PLAY_EFFECT,"audio/reelsc"+(e+1)))},o.judgeBgScInterval=function(){var e=performance.now();e-this.bgScIntervalTime<100?this.bgScIntervalTime=e:(this.bgScIntervalTime=e,dispatch(v.PLAY_EFFECT,"audio/reelbgsc"))},o.onLoad=function(){this.flagNode.active=!0,this.spinLayer&&(this.spinLayer.gameLayer=this),this.bgLayer&&(this.bgLayer.gameLayer=this,this.bgLayer.node.active=!1),this.m_awardNotice[0]=this.awardNotice11,this.m_awardNotice[1]=this.awardNotice12,this.m_awardNotice[2]=this.awardNotice13,this.m_awardNotice2[0]=this.awardNotice21,this.m_awardNotice2[1]=this.awardNotice22,this.m_awardNotice2[2]=this.awardNotice23,this.awardLayerColor.active=!1,this.awardNotice.active=!1,this.awardNotice2.active=!1;for(var e=0;e<3;e++)this.m_awardNotice[e].node.active=!1,this.m_awardNotice2[e].node.active=!1;this.view.guochang_Mask.active=!1,this.view.guochang.node.active=!1},o.clearGroup=function(){this.spinLayer.clearGroup(),this.unscheduleAllCallbacks()},o.addEvents=function(){e.prototype.addEvents.call(this)},o.canSpin=function(){if(w.MAIN==this.data.GameType){if(this.spinLayer.state==b.Idle||this.spinLayer.state==b.Show)return this.spinLayer.stopShow();if(this.spinLayer.state==b.Rolling)return!1}else if(w.FREE==this.data.GameType){if(this.spinLayer.state==b.Idle||this.spinLayer.state==b.Show)return this.spinLayer.stopShow();if(this.spinLayer.state==b.Rolling)return!1}return!1},o.canStop=function(){return this.data.GameType==w.MAIN?!this.data.extendSpin&&(!this.data.ChipWinTemp&&(this.spinLayer.spinTable.shouldExpecting?(this.spinLayer.spinTable.stopAllExpect(),this.spinLayer.stopSpinTable()):this.spinLayer.stopSpinTable(),!0)):!this.data.extendSpin&&(!this.data.ChipWinTemp&&(this.spinLayer.spinTable.shouldExpecting?!this.isExpecting&&(this.spinLayer.spinTable.stopAllExpect(),this.spinLayer.stopSpinTable(),!0):(this.spinLayer.stopSpinTable(),!0)))},o.enableSpin=function(){this.data.GameType==w.MAIN&&(this.view.onSpinEnd(),this.data.getAutoStatus()||dispatch(v.UNLOCK_JACKPOT,!0))},o.disableSpinAndOtherBtns=function(){dispatch(E.NOTIFY_SPIN_START_NORMAL,!1),this.scheduleOnce((function(){dispatch(E.NOTIFY_SPIN_STOP_NORMAL,!1)}),.1)},o.onSend_fgSelect=function(e){this.view.onSelectFG(e)},o.fgSelectReconnect=function(e){App.uiManager.open({type:F,bundle:this.data.module,zIndex:N.UI,args:[this,e]})},o.fgSelect=function(){var e=this;this.view.guochang_Mask.getComponent(d).opacity=200,this.view.guochang_Mask.active=!0,dispatch(v.PLAY_EFFECT,"audio/fg_transition");var t=0;if(this.spinResult.sc_line&&this.spinResult.sc_line.length>0){var i=this.spinResult.sc_line[0].hit_pos;t=this.getScatterNum(i)}this.view.guochang.node.active=!0,this.view.guochang.skeletonData=this.guochang_skeletonData[0],this.view.guochang.setAnimation(0,"guochang",!1),this.scheduleOnce((function(){var i=e.view.guochang_Mask.getComponent(d);i&&g(i).to(.3,{opacity:0},{easing:"fade"}).call((function(){e.view.guochang_Mask.active=!1})).start(),App.uiManager.open({type:F,bundle:e.data.module,zIndex:N.UI,args:[e,t]})}),2.5)},o.FgnumResoult=function(e){for(var t=this.assembleFGResult(this.spinResult,e),i=0,n=t.fg_idx;n<t.fg_total_round-t.fg_idx;n++)if(this.fgResult.item_list_new[n][0].sc_lines&&this.fgResult.item_list_new[n][0].sc_lines.length>0){var a=this.fgResult.item_list_new[n][0].sc_lines[0].hit_pos;this.getScatterNum(a)>=3&&(i+=(this.getScatterNum(a)-2)*(2+2*this.fg_select))}return i},o.freeGameReconnect=function(e){var t=this.assembleFGResult(this.spinResult,e);this.fgResult=t,this.freeSpinNum=t.fg_total_round,this.freeSpinIndex=t.fg_idx,this.fg_idx=t.fg_idx,this.fg_total_round=t.fg_total_round,this.isFgReconnect=!0,this.fgType=6-t.fg_select+1,this.fg_select=t.fg_select,this.freeSpinNum=this.fg_total_round-this.FgnumResoult(e),this.performGotFreeGameTip(!0),dispatch(E.NOTIFY_FREE_MODE),this.disableSpinAndOtherBtns()},o.processFreeGameResult=function(e){var t=this,i=this.assembleFGResult(this.spinResult,e);this.fg_totalWin+=this.spinResult.add,this.fgResult=i,this.fg_total_round=i.fg_total_round,this.freeSpinIndex=0,this.fg_idx=0,this.fgType=6-i.fg_select+1,this.fg_select=i.fg_select,this.freeSpinNum=this.fg_total_round-this.FgnumResoult(e),this.scheduleOnce((function(){t.performGotFreeGameTip(!1)}),1.5)},o.processBonusGameResult=function(){},o.performGotFreeGameTip=function(e){var t=this;this.fgCountNum.string=this.freeSpinIndex+"/"+this.freeSpinNum,this.fgCountBoard.active=!1,e?(this.fgCountBoard.active=!0,this.spinLayer.initFgTable(this.fgType,this.fgResult,!0),e&&this.fgResult.fg_idx<this.fgResult.fg_total_round&&this.fgResult.fg_idx>0&&this.processNextRoundFreeGame(),this.spinLayer.effectLayer.lineAnimator.sync(),6==this.fgType&&dispatch(v.JACKPOT_MOVE),dispatch(v.PLAY_MUSIC,"audio/fgbgm"),this.freeGameLeaving=!0,this.spinLayer.effectLayer.performFreeGameEnter()):(this.spinLayer.effectLayer.stopAllPerforms(),this.spinLayer.effectLayer.performEachLineAnimation(),this.fgCountBoard.active=!0,this.spinLayer.initFgTable(this.fgType,this.fgResult),this.spinLayer.effectLayer.lineAnimator.sync(),6==this.fgType&&dispatch(v.JACKPOT_MOVE),this.flagNode.active=!0,this.scheduleOnce((function(){dispatch(v.PLAY_MUSIC,"audio/fgbgm"),t.freeGameLeaving=!0,t.spinLayer.effectLayer.performFreeGameEnter()}),.3))},o.stopFreeGameTip=function(){var e=this;this.view.guochang_Mask.getComponent(d).opacity=200,this.view.guochang_Mask.active=!0;var t=this.view.guochang_Mask.getComponent(d);t&&g(t).to(.3,{opacity:0},{easing:"fade"}).call((function(){e.view.guochang_Mask.active=!1})).start(),this.scheduleOnce((function(){dispatch(v.PLAY_EFFECT,"audio/fgTransition");e.view.guochang.node.active=!0,e.view.guochang.skeletonData=e.guochang_skeletonData[0],e.view.guochang.setAnimation(0,"FG_guochang",!1),e.scheduleOnce((function(){e.fgCountBoard.active=!0,e.scheduleOnce((function(){dispatch(v.PLAY_MUSIC,"audio/fgbgm"),e.spinLayer.effectLayer.performFreeGameEnter()}),2.17)}),1.7)}),.3)},o.getMulti=function(e){var t=0;if(w.MAIN==this.data.GameType)for(var i=0;i<e.item_list[2].length;i++){var n=e.item_list[2][i];n>=12&&n<=15&&(t=n-10)}else w.FREE,this.data.GameType;return t},o.getScatterNum=function(e){for(var t=0,i=0;i<e.length;i++)1==e[i]&&(t+=1);return t},o.bgIn=function(){var e=this;dispatch(v.STOP_JACKPOT);var t=this.spinResult,i=this.getMulti(t);dispatch(v.REFRESH_JACKPOT,t.jp_value_1),this.spinLayer.ng_Chili.node.active=!1,this.view.guochang_Mask.getComponent(d).opacity=200,this.view.guochang_Mask.active=!0,dispatch(v.PLAY_EFFECT,"audio/bg_transition");this.view.guochang.node.active=!0,this.view.guochang.skeletonData=this.guochang_skeletonData[1],this.view.guochang.setAnimation(0,"guochang",!1),dispatch(v.SET_MUSIC_VOLUME,0),this.scheduleOnce((function(){e.data.GameType==w.FREE&&(e.fgCountBoard.active=!1);var n=e.view.guochang_Mask.getComponent(d);n&&g(n).to(.3,{opacity:0},{easing:"fade"}).call((function(){e.view.guochang_Mask.active=!1})).start(),e.spinLayer.node.active=!1,e.bgLayer.node.active=!0,e.bgLayer.init(i,t.bonus_item_list),dispatch(v.PLAY_EFFECT,"audio/pick"),e.scheduleOnce((function(){dispatch(v.SET_MUSIC_VOLUME,1),dispatch(v.PLAY_MUSIC,"audio/bgbgm"),e.spinLayer.collectPot.node.active=!0,e.spinLayer.collectPot.clearTracks(),e.spinLayer.collectPot.setAnimation(0,"idle1",!0),e.spinLayer.ng_Chili.node.active=!1}),2.67)}),2.67)},o.jpWin=function(){var e=this.spinResult,t=e.win_jp;if(!(t<=0)){var i=e.jp_value[t-1],n=e.jp_value_1[t-1],a=this.getMulti(e);this.bg_totalWin=i+n*(a-1);var s="audio/jp"+t;dispatch(v.PLAY_EFFECT,"audio/bg_end"),dispatch(v.PLAY_EFFECT,s),this.view.guochang_Mask.getComponent(d).opacity=200,this.view.guochang_Mask.active=!0,App.uiManager.open({type:R,bundle:this.data.module,zIndex:N.UI,args:[this,T.PopupType.JpPopOut,t,i,n,a]});this.scheduleOnce(this.jpEnd,30)}},o.jpEnd=function(){var e=this;Log.d("sssssssss jpEnd sssssssssss"),this.unschedule(this.jpEnd);var t=this.bg_totalWin;this.view.guochang_Mask.getComponent(d).opacity=200,this.view.guochang_Mask.active=!0,App.uiManager.close(R),this.scheduleOnce((function(){dispatch(v.PLAY_EFFECT,"audio/bg_transition"),e.view.guochang.node.active=!0,e.view.guochang.skeletonData=e.guochang_skeletonData[1],e.view.guochang.setAnimation(0,"guochang",!1),e.scheduleOnce((function(){e.returnToMainFromBonusGame(t),dispatch(v.ROLLING_WIN_SCORE,t),dispatch(v.REQUEST_JACKPOT)}),2.67)}),.3)},o.returnToMainFromBonusGame=function(e){var t=this;this.spinLayer.node.active=!0,this.bgLayer.node.active=!1;var i=this.view.guochang_Mask.getComponent(d);i&&g(i).to(.3,{opacity:0},{easing:"fade"}).call((function(){t.view.guochang_Mask.active=!1})).start(),this.scheduleOnce((function(){w.MAIN==t.data.GameType||w.FREE==t.data.GameType&&(t.fgCountBoard.active=!0);var i=function(){w.MAIN==t.data.GameType?dispatch(v.PLAY_MUSIC,"audio/ngbgm"):w.FREE==t.data.GameType&&(dispatch(v.PLAY_MUSIC,"audio/fgbgm"),t.spinLayer.effectLayer.forceStopShow()),t.spinLayer.effectLayer.bgInTemp=1,t.spinLayer.effectLayer.performStandbyBeforeBonusGameEnter()},n=e,a=t.data.getBigWinType(n);a>0?t.scheduleOnce((function(){App.uiManager.open({type:M,bundle:t.data.module,zIndex:N.UI,args:[a,n,i]})}),.1):i()}),1)},o.performFreeGameRetrigger=function(){dispatch(v.STOP_MUSIC),dispatch(v.PLAY_EFFECT,"audio/extra"),this.view.guochang_Mask.getComponent(d).opacity=200,this.view.guochang_Mask.active=!0;var e=this.data.free_spins;this.freeSpinNum+=e,App.uiManager.open({type:R,bundle:this.data.module,zIndex:N.UI,args:[this,T.PopupType.FreeGamePopAdd,e]}),this.scheduleOnce(this.stopFreeGameAdd,5)},o.stopFreeGameAdd=function(){var e=this;this.unschedule(this.stopFreeGameAdd),App.uiManager.close(R),this.scheduleOnce((function(){e.view.guochang_Mask.active=!1,e.spinLayer.effectLayer.stopPerformUnit(),dispatch(v.PLAY_MUSIC,"audio/fgbgm")}),.3)},o.performFreeGame=function(){this.setGameType(w.FREE)},o.performBonusGame=function(){this.setGameType(w.BONUS)},o.fgReconnectWithoutExit=function(){},o.processNextRoundFreeGame=function(){var e=this;return this.freeSpinIndex=this.freeSpinIndex+1,this.fg_idx<this.fg_total_round?(this.data.TURBO_SPIN||this.data.QUICK_SPIN||dispatch(E.NOTIFY_SPIN_START_NORMAL),this.fgCountNum.string=this.freeSpinIndex+"/"+this.freeSpinNum,this.spinLayer.effectLayer.forceStopShow(),this.spinLayer.autoAvailableTmp=!1,this.fakeSpin(),this.view.requestFreeGameSpin(),!0):(this.scheduleOnce((function(){e.view.guochang_Mask.getComponent(d).opacity=200,e.view.guochang_Mask.active=!0,dispatch(v.PLAY_EFFECT,"audio/fgEnd1"),dispatch(v.PLAY_EFFECT,"audio/fg_end");var t=e.fg_totalWin;if(t>0){App.uiManager.open({type:R,bundle:e.data.module,zIndex:N.UI,args:[e,T.PopupType.FreeGamePopOut,t]});e.scheduleOnce(e.stopFreeGameOut,30)}else e.scheduleOnce(e.stopFreeGameOut,.1)}),1),!1)},o.stopFreeGameOut=function(){var e=this;this.unschedule(this.stopFreeGameOut),this.view.guochang_Mask.getComponent(d).opacity=200,this.view.guochang_Mask.active=!0,App.uiManager.close(R),this.scheduleOnce((function(){dispatch(v.PLAY_EFFECT,"audio/fg_transition"),e.view.guochang.node.active=!0,e.view.guochang.skeletonData=e.guochang_skeletonData[0],e.view.guochang.setAnimation(0,"guochang",!1),e.scheduleOnce((function(){e.returnToMainFromFreeGame(!0,!1)}),2.4)}),.3)},o.returnToMainFromFreeGame=function(e,t){var i=this;void 0===e&&(e=!1),void 0===t&&(t=!1),this.view.guochang_Mask.active=!1,this.fgCountBoard.active=!1,this.spinLayer.collectDark.node.setPosition(this.spinLayer.centerX,this.spinLayer.centerY-62),this.spinLayer.collectPot.node.setPosition(this.spinLayer.centerX-4.5,this.spinLayer.centerY+149),this.spinLayer.collectPot.node.setScale(new _(1,1)),this.spinLayer.ng_Chili.node.setPosition(this.spinLayer.centerX,this.spinLayer.centerY),this.spinLayer.ng_Chili.node.setScale(new _(1,1)),dispatch(v.JACKPOT_BACK),this.spinLayer.effectLayer.forceStopShow(),this.spinLayer.resetNgTable(e),this.scheduleOnce((function(){i.spinLayer.effectLayer.lineAnimator.sync()}),.1),this.fg_select=0,this.freeSpinIndex=-1,this.freeSpinNum=-1,this.fgType=-1,this.fg_idx=-1,this.fg_total_round=-1,this.fg_totalWin=0,this.scheduleOnce((function(){var e=function(){i.freeGameLeaving=!1,i.setGameType(w.MAIN),dispatch(v.PLAY_MUSIC,"audio/ngbgm"),t&&A.playback||i.enableSpin()},n=i.view.getTotalWin(),a=i.data.getBigWinType(n);a>0?i.scheduleOnce((function(){App.uiManager.open({type:M,bundle:i.data.module,zIndex:N.UI,args:[a,n,e]})}),.1):e()}),.1)},o.processNextRoundBonusGame=function(){return this.bonusSpinIndex=this.bonusSpinIndex+1,this.bonusSpinIndex<=this.bonusSpinNum?(this.spinLayer.effectLayer.forceStopShow(),this.spinLayer.autoAvailableTmp=!1,this.fakeSpin(),!0):0==this.bonusGameLeaving?(this.bonusGameLeaving=!0,this.view.guochang_Mask.getComponent(d).opacity=200,this.view.guochang_Mask.active=!0,!1):void 0},o.stopBonusGameOut=function(){},o.setGameType=function(e){this.data.GameType=e,this.spinLayer.spinTable.rearrangeTable()},o.fakeSpin=function(){this.spinLayer.effectLayer.forceStopShow(),this.spinLayer.effectLayer.stopSymbolLineAnimation(),this.spinLayer.spinTable.fakeSpin()},o.showAwardNotice=function(){var e=this;dispatch(v.PLAY_EFFECT,"audio/bigprize"),this.data.extendSpin=!0,this.awardNoticePosX=[this.centerX-256,this.centerX,this.centerX+256],this.awardLayerColor.active=!0,this.awardNotice.active=!0,this.awardNotice2.active=!0;for(var t=0;t<3;t++)this.m_awardNotice[t].node.active=!1,this.m_awardNotice2[t].node.active=!1;for(var i=function(t){e.scheduleOnce((function(){e.m_awardNotice[t].node.active=!0,e.m_awardNotice[t].clearTracks(),e.m_awardNotice[t].setAnimation(0,"glow",!1),e.m_awardNotice2[t].node.active=!0,e.m_awardNotice2[t].clearTracks(),e.m_awardNotice2[t].setAnimation(0,"huo",!1)}),.26*t)},n=0;n<3;n++)i(n);this.scheduleOnce((function(){for(var t=0;t<3;t++)e.awardNotice.active=!1,e.awardNotice2.active=!1,e.awardLayerColor.active=!1;for(var i=0;i<5;i++)f.stopAllByTarget(e.spinLayer.spinTable.cellList[i].speedPosNode),g(e.spinLayer.spinTable.cellList[i].speedPosNode).to(.1,{position:new _(0,2800,0)},{easing:"sineInOut"}).start();dispatch(v.PLAY_EFFECT,"audio/dajiangyugao"),dispatch(v.SET_MUSIC_VOLUME,.2),e.shakeScreen(2)}),1.8),this.scheduleOnce((function(){dispatch(v.PLAY_EFFECT,"audio/bigprize_end"),e.data.extendSpin=!1,e.spinLayer.spinTable.stopAllExpect(),e.spinLayer.stopSpinTable()}),3.8),this.scheduleOnce((function(){dispatch(v.SET_MUSIC_VOLUME,1)}),4)},o.shakeScreen=function(e,t){var i=this,n=.05,a=2;t&&(a*=t);var s=e,o=Math.floor(s/5/n);g(this.spinLayer.spinTable).repeat(o,g().call((function(){return i.spinLayer.spinTable.node.setPosition(a,2*a*2)})).delay(n).call((function(){return i.spinLayer.spinTable.node.setPosition(-2*a,2*a)})).delay(n).call((function(){return i.spinLayer.spinTable.node.setPosition(2*a,2*a)})).delay(n).call((function(){return i.spinLayer.spinTable.node.setPosition(-a,2*a*2)})).delay(n).call((function(){return i.spinLayer.spinTable.node.setPosition(0,0)})).delay(n)).start()},o.expectStart=function(){this.isExpecting=!0},o.expectEnd=function(){this.isExpecting=!1},o.createGameFeverPop=function(){},o.destructGameFeverPop=function(){},o.resetReconnect=function(){this.clearGroup(),this.spinLayer.effectLayer.forceStopShow(),this.spinLayer.effectLayer.stateChangeTo(T.WinShowState.Idle),this.spinLayer.state=b.Idle,this.spinLayer.node.active=!0,this.bgLayer.node.active=!1,this.view.guochang.node.active=!1,this.view.guochang_Mask.active=!1,App.uiManager.close(R),App.uiManager.close(M)},o.processLastSpinResult=function(e){this.spinResult=e?this.assembleLastSpinResult(e):this.customizedSpinResult(),this.spinLayer&&(this.resetReconnect(),this.spinLayer.processLastSpinResult(this.spinResult))},o.processSpinResult=function(e){void 0===e&&(e=null),this.data.isDebug?this.spinResult=this.simulationSpinResult():this.spinResult=this.assembleSpinResult(e),this.spinLayer&&this.spinLayer.processSpinResult(this.spinResult)},o.processFGSpinResult=function(){console.log("processFGSpinResult freeSpinIndex = ",this.freeSpinIndex,this.fg_idx,this.fg_select),this.data.reSpin=!1,this.reSpinInfo=[],this.fg_idx+=1;for(var e=this.freeSpinIndex-1,t=this.fgResult.item_list_new[e],i=0;i<t.length;i++){var n=this.assembleSpinResult(t[i]),a={respin_info_list:n,respin_info_tag:[0,0,0,0,0]};this.reSpinInfo[i]=a,this.fg_totalWin+=n.add}for(var s=1;s<this.reSpinInfo.length;s++){var o=this.reSpinInfo[s-1].respin_info_list.item_list,r=this.reSpinInfo[s].respin_info_list.item_list,c=this.getDifferenceFlags(o,r);this.reSpinInfo[s].respin_info_tag=c}if(this.spinLayer)if(t.length>1){this.data.reSpin=!0;var l=t.length-1;this.spinResult=this.reSpinInfo[l].respin_info_list,this.spinLayer.processSpinResult(this.spinResult,this.reSpinInfo[0].respin_info_list)}else this.spinResult=this.reSpinInfo[0].respin_info_list,this.spinLayer.processSpinResult(this.spinResult)},o.assembleFGResult=function(e,t){var i=e.item_list,n=e.upper_reel,a=e.down_reel,s=t.fg_select,o=[6,5,4,3][s-1];if(o>3){var r=this.data.generateRandomArray(5,o-3,1,10);i=r.map((function(e,t){return e.concat(i[t])}))}for(var c=t.fg_idx,l=t.fg_total_round,p=[],u=0;u<t.item_list_new.length;u++){var h=t.item_list_new[u].one;p[u]=[];for(var d=0;d<h.length;d++)p[u][d]=h[d]}console.log("sssssss item_list_new = ",p);var g={item_list:i,upper_reel:n,down_reel:a,fg_select:s,fg_idx:c,fg_total_round:l,item_list_new:p};return console.log("fg_result =",g),g},o.assembleSpinResult=function(e){for(var t=[],i=0;i<e.item_list.length;i++){for(var n=[],a=e.item_list[i].icon,s=0;s<a.length;s++){var o=a[s];n.push(o)}t.push(n)}for(var r=e.upper_reel,c=e.down_reel,l=[],p=0;p<e.win_lines.length;p++){var u=e.win_lines[p].hit_pos,h=e.win_lines[p].win;l.push({hit_pos:u,win:h})}for(var d=[],g=0;g<e.sc_lines.length;g++){var _=e.sc_lines[g].hit_pos,f=e.sc_lines[g].win;d.push({hit_pos:_,win:f})}for(var m=0,y=[],v=0;v<e.jb_lines.length;v++){for(var w=[],b=e.jb_lines[v].win,L=0;L<e.jb_lines[v].hit_pos.length;L++)w[L]=e.jb_lines[v].hit_pos[L];y.push({hit_pos:w,win:b}),m=b}var S=e.award_notice||0,N=e.bow_state||[];N[0]>=this.data.bow_state2?this.data.bow_state1=N[0]:this.data.bow_state1=this.data.bow_state2,N[1]>=this.data.bow_state2&&(this.data.bow_state2=N[1]);var T=e.win_jp||0,R=e.jp_value||[],F=e.jp_value_1||[],E=e.fg_select||0,A=e.free_game_trig||0;1==A&&(this.restore_spinResult=t,this.restore_upper_reel=r,this.restore_down_reel=c);var M=e.bonus_game_trig||0,C=e.bonus_item_list||[],I=e.add||0,G={item_list:t,upper_reel:r,down_reel:c,win_lines:l,sc_line:d,jb_line:y,award_notice:S,bow_state:N,win_jp:T,jp_value:R,jp_value_1:F,fg_select:E,free_game_trig:A,bonus_game_trig:M,bonus_item_list:C,credit_win:m,add:I,winType:this.data.getBigWinType(I)};return console.log("spinResult =",G),G},o.assembleLastSpinResult=function(e){for(var t=[],i=0;i<e.item_list.length;i++){for(var n=[],a=e.item_list[i].icon,s=0;s<a.length;s++){var o=a[s];n.push(o)}t.push(n)}for(var r=e.upper_reel,c=e.down_reel,l=[],p=0;p<e.win_lines.length;p++){var u=e.win_lines[p].hit_pos,h=e.win_lines[p].win;l.push({hit_pos:u,win:h})}for(var d=[],g=0;g<e.sc_lines.length;g++){var _=e.sc_lines[g].hit_pos,f=e.sc_lines[g].win;d.push({hit_pos:_,win:f})}for(var m=0,y=[],v=0;v<e.jb_lines.length;v++){for(var w=[],b=e.jb_lines[v].win,L=0;L<e.jb_lines[v].hit_pos.length;L++)w[L]=e.jb_lines[v].hit_pos[L];y.push({hit_pos:w,win:b}),m=b}var S=e.award_notice,N=e.bow_state;N[0]>=this.data.bow_state2?this.data.bow_state1=N[0]:this.data.bow_state1=this.data.bow_state2,N[1]>=this.data.bow_state2&&(this.data.bow_state2=N[1]);var T=e.win_jp,R=e.jp_value,F=e.jp_value_1,E=e.fg_select||0,A=e.free_game_trig;1==A&&(this.restore_spinResult=t,this.restore_upper_reel=r,this.restore_down_reel=c);var M=e.fg_idx,C=e.fg_total_round,I=e.item_list_new,G=e.bonus_game_trig,k=e.bonus_item_list,O=e.add,P={item_list:t,upper_reel:r,down_reel:c,win_lines:l,sc_line:d,jb_line:y,award_notice:S,bow_state:N,win_jp:T,jp_value:R,jp_value_1:F,fg_select:E,free_game_trig:A,fg_idx:M,fg_total_round:C,item_list_new:I,bonus_game_trig:G,bonus_item_list:k,credit_win:m,add:O,winType:this.data.getBigWinType(O)};return console.log("LastSpinResult=",P),P},o.customizedSpinResult=function(){return{item_list:[[1,10,1],[1,12e6,1],[12e6,11,12e6],[1,12e6,1],[1,10,1]],upper_reel:[1,1,1,1,1],down_reel:[1,1,1,1,1],win_lines:[],sc_line:[],jb_line:[],award_notice:0,bow_state:[1,1],win_jp:0,jp_value:[],jp_value_1:[],fg_select:0,free_game_trig:0,bonus_game_trig:0,bonus_item_list:[],credit_win:0,add:0,winType:0}},o.simulationSpinResult=function(){for(var e=this.data.generateRandomArray(5,3,1,10),t=[],i=0;i<5;i++){var n=Math.floor(15*Math.random())+1;t.push(n)}for(var a=[],s=0;s<5;s++){var o=Math.floor(15*Math.random())+1;a.push(o)}for(var r=[],c=0;c<1;c++){r.push({hit_pos:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],win:0})}var l=[];l.push({hit_pos:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],win:0});var p=[];p.push({hit_pos:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],win:0});var u=p[0].win||0,h=[];h[0]=5,h[1]=5;var d=1e12,g={item_list:e,upper_reel:t,down_reel:a,win_lines:r,sc_line:l,jb_line:p,award_notice:0,bow_state:h,win_jp:0,jp_value:[0,0,0,0,0],jp_value_1:[0,0,0,0,0],fg_select:0,free_game_trig:0,bonus_game_trig:0,bonus_item_list:[1,2,3,4,5,5,5],credit_win:u,add:d,winType:this.data.getBigWinType(d)};return console.log("simulationSpinResult = ",g),g},o.simulationFGSpinResult=function(){for(var e=this.data.generateRandomArray(5,6,1,10),t=[],i=0;i<5;i++){var n=Math.floor(15*Math.random())+1;t.push(n)}for(var a=[],s=0;s<5;s++){var o=Math.floor(15*Math.random())+1;a.push(o)}return{item_list:e,upper_reel:t,down_reel:a,fg_select:1,fg_idx:4,fg_total_round:4,item_list_new:[]}},o.getDifferenceFlags=function(e,t){for(var i=[],n=0;n<e.length;n++){for(var a=!1,s=0;s<e[n].length;s++)if(e[n][s]!==t[n][s]){a=!0;break}i.push(a?1:0)}return i},s(t,[{key:"data",get:function(){return App.dataCenter.get(y)}}]),t}(L)).prototype,"background",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(q.prototype,"flagNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(q.prototype,"bgLayer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(q.prototype,"spinLayer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(q.prototype,"awardLayerColor",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(q.prototype,"awardNotice",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(q.prototype,"awardNotice11",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(q.prototype,"awardNotice12",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(q.prototype,"awardNotice13",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(q.prototype,"awardNotice2",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(q.prototype,"awardNotice21",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(q.prototype,"awardNotice22",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(q.prototype,"awardNotice23",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(q.prototype,"fgCountBoard",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(q.prototype,"fgCountNum",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(q.prototype,"btn_test",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(q.prototype,"guochang_skeletonData",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=t(q.prototype,"jackpotNum",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=q))||Z));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic21.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logic.ts","./CommonEvent.ts","./GameSender21.ts","./Global.ts","./GameService.ts","./SubGameData21.ts","./SubGameDefines21.ts","./ResourceLoader.ts","./Resource.ts","./LoadingBar4.ts","./Macros.ts","./BigWinDefines4.ts"],(function(e){var t,o,n,a,s,i,l,r,u,d,c,p,_,f,h,m,b,v,g,w;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose,n=e.createClass},function(e){a=e.cclegacy,s=e.AudioClip,i=e.Prefab},function(e){l=e.Logic},function(e){r=e.CommonEvent},function(e){u=e.GameSender},function(e){d=e.Global},function(e){c=e.GameService},function(e){p=e.SubGameData},function(e){_=e.EventName,f=e.preloadAudio_common,h=e.preloadAudio},function(e){m=e.default},function(e){b=e.Resource},function(e){v=e.LoadingBar},function(e){g=e.Macro},function(e){w=e.preloadAudio_bigwin}],execute:function(){a._RF.push({},"67942Cqtc1KoaTkzVQDer6R","GameLogic",void 0);e("GameLogic",function(e){function a(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this)._view=null,t.loader=new m,t}t(a,e);var l=a.prototype;return l.addEvents=function(){e.prototype.addEvents.call(this),this.onD(r.GAME_SERVICE_CONNECTED,this.onNetConnected),this.onD(r.GAME_SERVICE_CLOSE,this.onNetClose),this.onD(_.LoadDataFinish,this.enterMainGameView),this.onD(_.ROLLING_WIN_SCORE,this.onRollingWinScore),this.onD(_.RESET_WIN_SCORE,this.onResetWinScore),this.onD(_.PLAY_EFFECT,this.onPlayEffect),this.onD(_.PLAY_MUSIC,this.onPlayMusic),this.onD(_.STOP_ALL_EFFECTS,this.onStopAllEffects),this.onD(_.STOP_EFFECT,this.onStopEffect),this.onD(_.STOP_MUSIC,this.onStopMusic),this.onD(_.SET_MUSIC_VOLUME,this.setMusicVolume),this.onD(_.SET_EFFECT_VOLUME,this.setEffectVolume),this.onD(_.REQUEST_JACKPOT,this.onSendJpCmd)},l.onLoad=function(t){e.prototype.onLoad.call(this,t),App.uiManager.close(v),this.view.init(),this.loadResources(),d.playback?(this.data.loadDataFinish=!0,this.enterMainGameView()):this.onConnect()},l.loadResources=function(){var e=this;this.loader=new m,this.loader.getLoadResources=function(){for(var t,n=[],a=o(f.values());!(t=a()).done;){var l=t.value;n.push({url:l,type:s,bundle:g.BUNDLE_HALL})}n.push({url:"prefabs/slotgame/Alert",type:i,bundle:e.module}),n.push({url:"prefabs/slotgame/AutoPlayView",type:i,bundle:e.module}),n.push({url:"prefabs/slotgame/MenuView",type:i,bundle:e.module}),n.push({url:"commonmodule/jackpot/prefabs/JackpotLayer",type:i,bundle:e.module}),n.push({url:"commonmodule/gameplay/prefabs/GamePlay",type:i,bundle:e.module}),n.push({url:"commonmodule/bigwin/prefabs/BigWinLayer",type:i,bundle:e.module}),n.push({url:"prefabs/MainGameView",type:i,bundle:e.module}),n.push({url:"prefabs/view/IntroductionPage",type:i,bundle:e.module}),n.push({url:"prefabs/view/LoadingBar",type:i,bundle:e.module}),n.push({url:"prefabs/view/SpinLayer",type:i,bundle:e.module}),n.push({url:"prefabs/view/SpinTable",type:i,bundle:e.module}),n.push({url:"prefabs/view/SpinReel",type:i,bundle:e.module}),n.push({url:"prefabs/view/SpinElement",type:i,bundle:e.module}),n.push({url:"prefabs/view/GameLayer",type:i,bundle:e.module}),n.push({url:"prefabs/view/PopOut",type:i,bundle:e.module}),n.push({url:"prefabs/view/FGSelectLayer",type:i,bundle:e.module});for(var r,u=o(h.values());!(r=u()).done;){var d=r.value;n.push({url:d,type:s,bundle:e.module})}for(var c,p=o(w.values());!(c=p()).done;){var _=c.value;n.push({url:_,type:s,bundle:e.module})}return n},this.loader.onLoadComplete=function(t){b.LoaderError.SUCCESS&&(e.data.loadFinish=!0,e.view.updateProgress(100),e.enterMainGameView())},this.loader.onLoadProgress=function(t,o){var n=Math.ceil(t/o*100);e.view.updateProgress(n),App.utils.onDocumentProgress(n)},this.loader.loadResources(),App.utils.clearHtmlTimer()},l.onDestroy=function(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];(t=e.prototype.onDestroy).call.apply(t,[this].concat(n))},l.onConnect=function(){var e=this.gameService;if(e.isConnected)return Log.d(e.module+" æ–­å¼€è¿žæŽ¥ä¸­..."),void e.close();Log.d(e.module+" è¿žæŽ¥ä¸­..."),e.connect()},l.onNetConnected=function(e){Log.d(e.module+" è¿žæŽ¥æˆåŠŸ!");var t=App.senderManager.get(u);t&&t.c2sLogin(d.gameId)},l.onNetClose=function(e){Log.d(e.module+" æ–­å¼€è¿žæŽ¥!")},l.enterMainGameView=function(){this.data.loadFinish&&this.data.loadDataFinish&&(this.view.showMain(),this.data.bHasLoadedRes||(this.data.bHasLoadedRes=!0))},l.onAfterGameLoadResources=function(){var e=this;this.loader=new m,this.loader.getLoadResources=function(){for(var t,n=[],a=o(h.values());!(t=a()).done;){var i=t.value;n.push({url:i,type:s,bundle:e.module})}for(var l,r=o(w.values());!(l=r()).done;){var u=l.value;n.push({url:u,type:s,bundle:e.module})}return n},this.loader.onLoadComplete=function(e){b.LoaderError.SUCCESS&&console.log("onAfterGameLoadResources SUCCESS ")},this.loader.onLoadProgress=function(e,t){var o=Math.ceil(e/t*100);console.log("onAfterGameLoadResources progress = ",o)},this.loader.loadResources()},l.onPlayEffect=function(e,t){void 0===t&&(t=!1),this.view.audioHelper.playEffect(e,this.module,t)},l.onPlayMusic=function(e){this.view.audioHelper.playMusic(e,this.module)},l.onStopAllEffects=function(){this.view.audioHelper.stopAllEffects()},l.onStopEffect=function(e){this.view.audioHelper.stopEffect(e,this.module)},l.onStopMusic=function(){this.view.audioHelper.stopMusic()},l.setMusicVolume=function(e){this.view.audioHelper.musicVolume=e},l.setEffectVolume=function(e){this.view.audioHelper.effectVolume=e},l.onRollingWinScore=function(e){Log.d("onRollingWinScore total_win1 =",this.data.total_win,e),this.data.total_win+=e,dispatch(r.NOTIFY_WINSCORE_TIPS,this.data.total_win),Log.d("onRollingWinScore total_win2 =",this.data.total_win)},l.savePlayBackData=function(e){if(this.data.playBack_fg_select=e.fg_select||0,e&&e.jackpot_reward&&e.jackpot_reward.length>0&&e.lock_list&&e.lock_list.length>0){for(var t=[],o=[],n=0;n<e.jackpot_reward.length;n++)t[n]=e.jackpot_reward[n],o[n]=e.lock_list[n];var a={jackpot_reward:t,lock_list:o};this.data.playBack_jp_data=a}},l.assemblePlayBack=function(e){var t={};return t.bet=e.bet*e.line_num,t.add=e.base[0].add,t.award_notice=e.base[0].award_notice,t.bonus_game_trig=0,t.bonus_item_list=[],t.bow_state=e.base[0].bow_state,t.down_reel=e.base[0].down_reel,t.item_list=e.base[0].item_list,t.jb_lines=e.base[0].jb_lines,t.jp_value=e.base[0].jp_value,t.jp_value_1=e.base[0].jp_value_1,t.sc_lines=e.base[0].sc_lines,t.upper_reel=e.base[0].upper_reel,t.win_jp=e.base[0].win_jp,t.win_lines=e.base[0].win_lines,t.fg_idx=0,t.fg_select=0,t.fg_total_round=e.free.length,t.free_game_trig=e.is_free,t.item_list_new=e.free,t},l.assemblePlayBackSlot=function(e){var t={};return t.add=e.base[0].add,t.award_notice=e.base[0].award_notice,t.bonus_game_trig=e.bonus_game_trig||0,t.bonus_item_list=e.bonus_item_list||[],t.bow_state=e.base[0].bow_state,t.down_reel=e.base[0].down_reel,t.item_list=e.base[0].item_list,t.jb_lines=e.base[0].jb_lines,t.jp_value=e.base[0].jp_value,t.jp_value_1=e.base[0].jp_value_1,t.sc_lines=e.base[0].sc_lines,t.upper_reel=e.base[0].upper_reel,t.win_jp=e.base[0].win_jp,t.win_lines=e.base[0].win_lines,t.fg_select=0,t.free_game_trig=e.is_free,t},l.assemblePlayBackSelect=function(e){var t={};return t.down_reel=e.base[0].down_reel,t.fg_idx=0,t.fg_select=e.fg_select||1,t.fg_total_round=e.free.length,t.item_list=e.base[0].item_list,t.item_list_new=e.free,t.upper_reel=e.base[0].upper_reel,t},l.onResetWinScore=function(){this.data.total_win=0,dispatch(r.NOTIFY_WINSCORE_TIPS,this.data.total_win)},l.c2sFreeSpin=function(){var e;null==(e=this._sender)||e.c2sFreeSpin()},l.onSendBet=function(){var e;null==(e=this._sender)||e.c2sSlotBet({bet:this.data.total_bet}),dispatch(r.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet)},l.onSendGM=function(e){var t;null==(t=this._sender)||t.c2sGMSlot({bet:this.data.total_bet,gm_type:e}),dispatch(r.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet)},l.onSendSelect=function(e){var t;null==(t=this._sender)||t.c2sSelectSlot({select_type:e})},l.onSendJpCmd=function(){var e;null==(e=this._sender)||e.c2sJpCmd({bet:this.data.slotInfo.default_bet})},n(a,[{key:"data",get:function(){return App.dataCenter.get(p)}},{key:"gameService",get:function(){return App.serviceManager.get(c)}},{key:"_sender",get:function(){return App.senderManager.get(u)}},{key:"view",get:function(){return this._view}}]),a}(l));a._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./CommonEvent.ts","./SlotGameDefines.ts"],(function(t){var n,e,o,i,c,r,a,s,l,u,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,c=t.createClass},function(t){r=t.cclegacy,a=t._decorator,s=t.Node},function(t){l=t.default},function(t){u=t.inject},function(t){p=t.CommonEvent},function(t){f=t.SoundName}],execute:function(){var d,h,y,m,P;r._RF.push({},"d99f3rkdLdLkZeCP5u5Am4G","GamePlay",void 0);var E=a.ccclass;a.property,t("default",(d=E("GamePlay"),h=u("content",s),d((P=n((m=function(t){function n(){for(var n,e=arguments.length,c=new Array(e),r=0;r<e;r++)c[r]=arguments[r];return n=t.call.apply(t,[this].concat(c))||this,o(n,"content",P,i(n)),n}e(n,t),n.getPrefabUrl=function(){return"commonmodule/gameplay/prefabs/GamePlay"};var r=n.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this)},r.addEvents=function(){t.prototype.addEvents.call(this)},r.onShow=function(){t.prototype.onShow.call(this)},r.onClose=function(){t.prototype.onClose.call(this)},r.onBackToGame=function(){dispatch(p.PLAY_EFFECT,f.SOUND_CLOSE_HELP_PAGE),this.close()},r.onMoreLanguage=function(){dispatch(p.PLAY_EFFECT,f.SOUND_HELP_PLAY_CHANGE),dispatch(p.NOTIFY_GAME_PLAY),this.close()},c(n,[{key:"showAction",get:function(){var t=this;return function(n){App.utils.showView(t.content,n)}}},{key:"closeAction",get:function(){var t=this;return function(n){App.utils.hideView(t.content,n)}}}]),n}(l)).prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameSender21.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sender.ts","./GameService.ts","./Config.ts","./Global.ts","./Protocol22.ts"],(function(e){var s,n,t,i,c,o,a,r;return{setters:[function(e){s=e.inheritsLoose,n=e.createClass},function(e){t=e.cclegacy},function(e){i=e.Sender},function(e){c=e.GameService},function(e){o=e.Config},function(e){a=e.Global},function(e){r=e.Protocol}],execute:function(){t._RF.push({},"5a861hhv0NH3oO3lSWRLxZu","GameSender",void 0),e("GameSender",function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var i=t.prototype;return i.c2sLogin=function(e){o.isDebugLogin?this.c2sDebug_login({uid:a.userId,game_id:e,money:Number(a.money),money_type:a.currency}):this.c2sOfficial_login({token:a.token,gameid:e,direct:a.direct_login})},i.c2sDebug_login=function(e){var s,n={type:r.DEBUG_LOGIN,message:e};null==(s=this.service)||s.sendMessage(r.DEBUG_LOGIN,n)},i.c2sOfficial_login=function(e){var s,n={type:r.LOGIN,message:e};null==(s=this.service)||s.sendMessage(r.LOGIN,n)},i.c2sMark=function(e){var s,n={type:r.MARK,message:e};null==(s=this.service)||s.sendMessage(r.MARK,n)},i.sendPack=function(e,s){var n;null==(n=this.service)||n.sendMessage(e,s)},i.c2sSlotBet=function(e){var s={type:r.SLOTBET,message:e};this.sendPack(r.SLOTBET,s)},i.c2sDoubleSlotBet=function(e){var s={type:r.ANTASLOTBET,message:e};this.sendPack(r.SLOTBET,s)},i.c2sFreeSpin=function(){var e={type:r.FREESPIN,message:{}};this.sendPack(r.FREESPIN,e)},i.c2sBuyFreeSpins=function(e){var s={type:r.BUY,message:e};this.sendPack(r.SLOT_TEST,s)},i.c2sGMSlot=function(e){var s={type:r.GMSLOT,message:e};this.sendPack(r.GMSLOT,s)},i.c2sSelectSlot=function(e){var s={type:r.SELECTSLOT,message:e};this.sendPack(r.SELECTSLOT,s)},i.c2sJpCmd=function(e){var s={type:r.JpCmd,message:e};this.sendPack(r.JpCmd,s)},n(t,[{key:"service",get:function(){return App.serviceManager.get(c)}}]),t}(i)).module="Game",t._RF.pop()}}}));

System.register("chunks:///_virtual/IntroductionPage4.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,a,s,c,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,c=t.tween,l=t.Vec3,p=t.Component}],execute:function(){var u,f,h,y,d,m,g;r._RF.push({},"4cfa9Gf/S5Cza75WEKrNJJS","IntroductionPage",void 0);var v=a.ccclass,w=a.property;t("IntroductionPage",(u=v("IntroductionPage"),f=w({displayName:"mask",type:s}),h=w({displayName:"sp_tap",type:s}),u((m=e((d=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).view=null,i(e,"mask",m,o(e)),i(e,"sp_tap",g,o(e)),e}n(e,t);var r=e.prototype;return r.start=function(){this.mask&&this.mask.on(s.EventType.TOUCH_END,this.onClickClose,this),this.showAnimation()},r.onClickClose=function(){this.view.onCloseIntroducPage(),this.node.active=!1},r.showAnimation=function(){if(this.sp_tap){c(this.sp_tap).to(.28,{scale:new l(1.1,1.1,1.1)},{easing:"sineOut"}).to(.28,{scale:new l(1,1,1)}).union().repeatForever().start()}},e}(p)).prototype,"mask",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(d.prototype,"sp_tap",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=d))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotLayer6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./SubGameDefines21.ts","./ScrollNumber.ts","./EventComponent.ts","./CommonEvent.ts","./NumberCurrency.ts","./ShowJackpot.ts","./SubGameData21.ts"],(function(t){var e,o,i,s,a,n,c,l,h,r,p,u,k,d,N,m,v,f,j,w,L,J,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.createClass},function(t){n=t.cclegacy,c=t._decorator,l=t.Node,h=t.Button,r=t.sp,p=t.Prefab,u=t.tween,k=t.Vec3,d=t.Tween,N=t.instantiate},function(t){m=t.Global},function(t){v=t.EventName},function(t){f=t.default},function(t){j=t.default},function(t){w=t.CommonEvent},function(t){L=t.NumberCurrency},function(t){J=t.ShowJackpot},function(t){b=t.SubGameData}],execute:function(){var y,T,_,P,U,g,B,D,I,C,S,R,A,F,x,E,M,V,Y,O,z,X,G,K,H,Q,W,q,Z,$,tt;n._RF.push({},"0f4d7tI2ixHr6K0urim77+4","JackpotLayer",void 0);var et=c.ccclass,ot=c.property;t("JackpotLayer",(y=et("JackpotLayer"),T=ot({displayName:"jpNode",type:[l]}),_=ot({displayName:"jackpotNum",type:[f]}),P=ot({displayName:"jackpotNumReal",type:[L]}),U=ot({displayName:"jackpotNumDark",type:[L]}),g=ot({displayName:"jpNameDark",type:[l]}),B=ot({displayName:"jpClickBtn",type:[h]}),D=ot({displayName:"lock1",type:r.Skeleton}),I=ot({displayName:"lock2",type:r.Skeleton}),C=ot({displayName:"lock3",type:r.Skeleton}),S=ot({displayName:"lockNodeTemp",type:[l]}),R=ot({displayName:"lockNode",type:[l]}),A=ot({displayName:"unLockNode",type:[l]}),F=ot({displayName:"clippingNode",type:l}),x=ot({displayName:"showJackpotPrefab",type:p}),y((V=e((M=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,i(e,"jpNode",V,s(e)),i(e,"jackpotNum",Y,s(e)),i(e,"jackpotNumReal",O,s(e)),i(e,"jackpotNumDark",z,s(e)),i(e,"jpNameDark",X,s(e)),i(e,"jpClickBtn",G,s(e)),i(e,"lock1",K,s(e)),i(e,"lock2",H,s(e)),i(e,"lock3",Q,s(e)),i(e,"lockNodeTemp",W,s(e)),i(e,"lockNode",q,s(e)),i(e,"unLockNode",Z,s(e)),i(e,"clippingNode",$,s(e)),i(e,"showJackpotPrefab",tt,s(e)),e.UnlockFunc=!0,e.JPNum=5,e.JPMulti=[500,100,50,7,3],e.JPMaxMulti=[630,160,75,9,4],e.JPRate=[.015,.05,.1,.3,.5],e.JPSpeed=.9,e.JPInterval=.9,e.JPQuestInterval=1,e.unlockGrandIndex=0,e.unlockMaxiIndex=0,e.unlockMajorIndex=0,e.unlockMinorIndex=0,e.unlockMiniIndex=0,e.centerX=0,e.centerY=0,e.jpBoardPosXList=[],e.jpBoardPosYList=[],e.jackpotCurrentList=[],e.jackpotLastList=[],e.jackpotTargetList=[],e.jackpotLastTargetList=[],e.lockTemp1=!1,e.lockTemp2=!1,e.lockTemp3=!1,e.total_time=[],e.default_bet=0,e.oldJpValues=[],e.newJpValues=[],e.slot_bet=[],e.enable_unlock=!1,e.isStrat=!1,e.jpLockIntervalTime=performance.now(),e.jpUnLockIntervalTime=performance.now(),e}o(e,t);var n=e.prototype;return n.addEvents=function(){t.prototype.addEvents.call(this),this.onD(w.DISPATCH_TOTAL_BET,this.onRefreshTotalBet),this.onD(v.SLOT_BET_JACKPOT,this.onRefreshSlotBet),this.onD(v.RECEIVE_JACKPOT,this.onReceiveJackpot),this.onD(v.START_JACKPOT,this.startUpdateJp),this.onD(v.STOP_JACKPOT,this.stopUpdateJp),this.onD(v.REFRESH_JACKPOT,this.refreshJp),this.onD(v.UNLOCK_JACKPOT,this.onUnlockJackpot),this.onD(v.JACKPOT_MOVE,this.jpMove),this.onD(v.JACKPOT_BACK,this.jpBack),this.onD(v.GET_JP_REWARD,this.onGetJackpotReward),this.onD(v.UNLOCK_FUNC,this.onUnlockFunc)},n.onRefreshSlotBet=function(t){this.slot_bet=t;var e=Math.floor(this.slot_bet.length/this.JPNum);this.unlockGrandIndex=4*e,this.unlockMaxiIndex=3*e,this.unlockMajorIndex=2*e},n.onRefreshTotalBet=function(t){var e,o;this.default_bet=t;for(var i=0;i<3;i++){var s=this.default_bet*this.JPMulti[i];this.oldJpValues[i]=s,this.newJpValues[i]=s}if(this.updateJackpotNumDark(),0==(null!=(e=null==(o=this.data.slotInfo)?void 0:o.is_increase_jp)?e:0))for(var a=3;a<this.JPNum;a++){var n=this.default_bet*this.JPMulti[a];this.jackpotNum[a].node.active=!1,this.jackpotNumReal[a].node.active=!0,this.jackpotNumReal[a].updateNumber(n)}var c=this.slot_bet.indexOf(t);this.checkTip(c)},n.checkTip=function(t){t<0||this.UnlockFunc&&(t>=this.unlockGrandIndex?(this.showUnlock3(!0),this.showUnlock2(!0),this.showUnlock1(!0)):t>=this.unlockMaxiIndex?(this.showLock1(!0),this.showUnlock3(!0),this.showUnlock2(!0)):t>=this.unlockMajorIndex?(this.showLock1(!0),this.showLock2(!0),this.showUnlock3(!0)):(this.showLock1(!0),this.showLock2(!0),this.showLock3(!0)))},n.judgeJpLockInterval=function(){var t=performance.now();t-this.jpLockIntervalTime<100?this.jpLockIntervalTime=t:(this.jpLockIntervalTime=t,dispatch(v.PLAY_EFFECT,"commonmodule/jackpot/audio/jp_lock"))},n.judgeJpUnLockInterval=function(){var t=performance.now();t-this.jpUnLockIntervalTime<100?this.jpUnLockIntervalTime=t:(this.jpUnLockIntervalTime=t,dispatch(v.PLAY_EFFECT,"commonmodule/jackpot/audio/jp_unlock"))},n.onRequestJackpot=function(){m.playback||dispatch(v.REQUEST_JACKPOT)},n.onReceivePlaybackJackpot=function(t){for(var e=0;e<this.JPNum;e++)this.oldJpValues[e]=0,this.newJpValues[e]=0,this.total_time[e]=0;if(t&&t.lock_list&&t.lock_list.length>0){for(var o=0,i=0;i<3;i++)if(0==t.lock_list[i]){o++;break}Log.d("playback index = ",o),1==o?(this.showUnlock3(!0),this.showUnlock2(!0),this.showUnlock1(!0)):2==o?(this.showLock1(!0),this.showUnlock3(!0),this.showUnlock2(!0)):3==o?(this.showLock1(!0),this.showLock2(!0),this.showUnlock3(!0)):(this.showLock1(!0),this.showLock2(!0),this.showLock3(!0))}else this.showUnlock3(!0),this.showUnlock2(!0),this.showUnlock1(!0)},n.onReceiveJackpot=function(t){if(m.playback)this.onReceivePlaybackJackpot(t);else if(t&&t.jackpot_reward&&t.jackpot_reward.length>0)for(var e=0;e<this.JPNum;e++){this.oldJpValues[e]=0,this.newJpValues[e]=0,this.total_time[e]=0;var o=t.jackpot_reward[e];this.jackpotNum[e].show(o,o)}this.startUpdateJp()},n.refreshJp=function(t){if(t&&t.length>0)for(var e=0;e<this.JPNum;e++){var o=t[e];this.oldJpValues[e]=0,this.newJpValues[e]=0,this.jackpotNum[e].node.active=!1,this.jackpotNumReal[e].node.active=!0,this.jackpotNumReal[e].updateNumber(o)}},n.start=function(){this.centerX=0,this.centerY=0,this.jpBoardPosXList=[this.centerX+1,this.centerX-189.5,this.centerX+191.5,this.centerX-220,this.centerX+223],this.jpBoardPosYList=[this.centerY+539,this.centerY+446.5,this.centerY+446.5,this.centerY+367.5,this.centerY+367];for(var t=0;t<this.JPNum;t++)this.jackpotCurrentList[t]=0,this.jackpotLastList[t]=0,this.jackpotTargetList[t]=0,this.jackpotLastTargetList[t]=0,this.oldJpValues[t]=0,this.newJpValues[t]=0,this.total_time[t]=0;for(var e=0;e<3;e++)this.lockNode[e].active=!1,this.unLockNode[e].active=!1,this.jpClickBtn[e].interactable=!1,this.jackpotNumDark[e].node.active=!1,this.jackpotNumReal[e].node.active=!1;this.enable_unlock=!0,this.updateJp(0),this.schedule(this.updateJp,this.JPInterval)},n.resetTimer=function(t){this.unschedule(this.updateJp),this.schedule(this.updateJp,t),console.log("å®šæ—¶å™¨é—´éš”æ—¶é—´å·²æ›´æ–°ä¸ºï¼š"+t+"ç§’")},n.onDestroy=function(){this.unschedule(this.updateJp)},n.startUpdateJp=function(){for(var t=0;t<this.JPNum;t++)this.jackpotNum[t].node.active=!0,this.jackpotNumReal[t].node.active=!1;this.isStrat=!0},n.stopUpdateJp=function(){for(var t=0;t<this.JPNum;t++)this.total_time[t]=0;this.isStrat=!1},n.updateJp=function(t){var e,o;if(0!=(null!=(e=null==(o=this.data.slotInfo)?void 0:o.is_increase_jp)?e:0))for(var i=0;i<this.JPNum;i++){this.total_time[i]+=t;var s=this.default_bet*this.JPMulti[i],a=this.default_bet*this.JPMaxMulti[i],n=s+this.default_bet*this.JPMulti[i]*this.JPRate[i]/100*this.total_time[i];n>a&&(this.total_time[i]=0,n=a),s>this.oldJpValues[i]&&(this.oldJpValues[i]=s),this.oldJpValues[i]>n&&(this.oldJpValues[i]=s),this.isStrat&&(this.jackpotNum[i].show(this.oldJpValues[i],n,this.JPSpeed),this.oldJpValues[i]=n)}},n.updateJackpotNumDark=function(){for(var t=0;t<3;t++){var e=this.default_bet*this.JPMulti[t];this.jackpotNumDark[t].updateNumber(e)}},n.onUnlockFunc=function(t){this.UnlockFunc=t},n.onUnlockJackpot=function(t){this.enable_unlock=t},n.onUnlock1=function(){if(this.UnlockFunc&&this.enable_unlock){var t=this.slot_bet[this.unlockGrandIndex];dispatch(w.NOTIFY_DEFAULT_BET,t),this.jpClickBtn[0].interactable=!1}},n.onUnlock2=function(){if(this.UnlockFunc&&this.enable_unlock){var t=this.slot_bet[this.unlockMaxiIndex];dispatch(w.NOTIFY_DEFAULT_BET,t),this.jpClickBtn[1].interactable=!1}},n.onUnlock3=function(){if(this.UnlockFunc&&this.enable_unlock){var t=this.slot_bet[this.unlockMajorIndex];dispatch(w.NOTIFY_DEFAULT_BET,t),this.jpClickBtn[2].interactable=!1}},n.showLock1=function(t){var e=this;this.UnlockFunc&&(this.lockTemp1||(t||this.judgeJpLockInterval(),this.lockTemp1=!0,this.jpClickBtn[0].interactable=!0,this.lock1.node.active=!0,this.lock1.setAnimation(0,"da_shangsuo",!1),u(this.lockNodeTemp[0]).call((function(){e.jpNameDark[0].active=!0,e.jackpotNumDark[0].node.active=!0})).start(),u(this.unLockNode[0]).stop(),this.unLockNode[0].active=!1,this.lockNode[0].setScale(new k(0,0,0)),this.lockNode[0].active=!0,u(this.lockNode[0]).to(.33,{scale:new k(1.15,1.15,1)}).to(.17,{scale:new k(1,1,1)}).delay(2).to(.33,{scale:new k(1.15,1.15,1)}).to(.17,{scale:new k(0,0,0)}).call((function(){e.lockNode[0].active=!1})).start()))},n.showLock2=function(t){var e=this;this.UnlockFunc&&(this.lockTemp2||(t||this.judgeJpLockInterval(),this.lockTemp2=!0,this.jpClickBtn[1].interactable=!0,this.lock2.node.active=!0,this.lock2.setAnimation(0,"xiao_shangsuo",!1),u(this.lockNodeTemp[1]).call((function(){e.jpNameDark[1].active=!0,e.jackpotNumDark[1].node.active=!0})).start(),u(this.unLockNode[0]).stop(),this.unLockNode[0].active=!1,u(this.lockNode[0]).stop(),this.lockNode[0].active=!1,u(this.unLockNode[1]).stop(),this.unLockNode[1].active=!1,this.lockNode[1].setScale(new k(0,0,0)),this.lockNode[1].active=!0,u(this.lockNode[1]).to(.33,{scale:new k(1.15,1.15,1)}).to(.17,{scale:new k(1,1,1)}).delay(2).to(.33,{scale:new k(1.15,1.15,1)}).to(.17,{scale:new k(0,0,0)}).call((function(){e.lockNode[1].active=!1})).start()))},n.showLock3=function(t){var e=this;this.UnlockFunc&&(this.lockTemp3||(t||this.judgeJpLockInterval(),this.lockTemp3=!0,this.jpClickBtn[2].interactable=!0,this.lock3.node.active=!0,this.lock3.setAnimation(0,"xiao_shangsuo",!1),u(this.lockNodeTemp[2]).call((function(){e.jpNameDark[2].active=!0,e.jackpotNumDark[2].node.active=!0})).start(),u(this.unLockNode[0]).stop(),this.unLockNode[0].active=!1,u(this.lockNode[0]).stop(),this.lockNode[0].active=!1,u(this.unLockNode[1]).stop(),this.unLockNode[1].active=!1,u(this.lockNode[1]).stop(),this.lockNode[1].active=!1,u(this.unLockNode[2]).stop(),this.unLockNode[2].active=!1,this.lockNode[2].setScale(new k(0,0,0)),this.lockNode[2].active=!0,u(this.lockNode[2]).to(.33,{scale:new k(1.15,1.15,1)}).to(.17,{scale:new k(1,1,1)}).delay(2).to(.33,{scale:new k(1.15,1.15,1)}).to(.17,{scale:new k(0,0,0)}).call((function(){e.lockNode[2].active=!1})).start()))},n.showUnlock1=function(t){var e=this;this.UnlockFunc&&this.lockTemp1&&(t||this.judgeJpUnLockInterval(),this.lockTemp1=!1,this.jpClickBtn[0].interactable=!1,this.lock1.node.active=!0,this.lock1.setAnimation(0,"da_jiesuo",!1),u(this.lockNodeTemp[0]).stop(),this.jpNameDark[0].active=!1,this.jackpotNumDark[0].node.active=!1,u(this.lockNode[2]).stop(),this.lockNode[2].active=!1,u(this.unLockNode[2]).stop(),this.unLockNode[2].active=!1,u(this.lockNode[1]).stop(),this.lockNode[1].active=!1,u(this.unLockNode[1]).stop(),this.unLockNode[1].active=!1,u(this.lockNode[0]).stop(),this.lockNode[0].active=!1,this.unLockNode[0].setScale(new k(0,0,0)),this.unLockNode[0].active=!0,u(this.unLockNode[0]).to(.33,{scale:new k(1.15,1.15,1)}).to(.17,{scale:new k(1,1,1)}).delay(2).to(.33,{scale:new k(1.15,1.15,1)}).to(.17,{scale:new k(0,0,0)}).call((function(){e.unLockNode[0].active=!1})).start())},n.showUnlock2=function(t){var e=this;this.UnlockFunc&&this.lockTemp2&&(t||this.judgeJpUnLockInterval(),this.lockTemp2=!1,this.jpClickBtn[1].interactable=!1,this.lock2.node.active=!0,this.lock2.setAnimation(0,"xiao_jiezuo",!1),u(this.lockNodeTemp[1]).stop(),this.jpNameDark[1].active=!1,this.jackpotNumDark[1].node.active=!1,u(this.lockNode[2]).stop(),this.lockNode[2].active=!1,u(this.unLockNode[2]).stop(),this.unLockNode[2].active=!1,u(this.lockNode[1]).stop(),this.lockNode[1].active=!1,this.unLockNode[1].setScale(new k(0,0,0)),this.unLockNode[1].active=!0,u(this.unLockNode[1]).to(.33,{scale:new k(1.15,1.15,1)}).to(.17,{scale:new k(1,1,1)}).delay(2).to(.33,{scale:new k(1.15,1.15,1)}).to(.17,{scale:new k(0,0,0)}).call((function(){e.unLockNode[1].active=!1})).start())},n.showUnlock3=function(t){var e=this;this.UnlockFunc&&this.lockTemp3&&(t||this.judgeJpUnLockInterval(),this.lockTemp3=!1,this.jpClickBtn[2].interactable=!1,this.lock3.node.active=!0,this.lock3.setAnimation(0,"xiao_jiezuo",!1),u(this.lockNodeTemp[2]).stop(),this.jpNameDark[2].active=!1,this.jackpotNumDark[2].node.active=!1,u(this.lockNode[2]).stop(),this.lockNode[2].active=!1,this.unLockNode[2].setScale(new k(0,0,0)),this.unLockNode[2].active=!0,u(this.unLockNode[2]).to(.33,{scale:new k(1.15,1.15,1)}).to(.17,{scale:new k(1,1,1)}).delay(2).to(.33,{scale:new k(1.15,1.15,1)}).to(.17,{scale:new k(0,0,0)}).call((function(){e.unLockNode[2].active=!1})).start())},n.jpMove=function(){this.jpNameDark[1].active?(this.jpNode[3].setPosition(this.jpBoardPosXList[1],this.jpBoardPosYList[1]),this.jpNode[3].setScale(1,1),this.jpNode[1].active=!1):(this.jpNode[3].setPosition(this.jpBoardPosXList[1],this.jpBoardPosYList[1]),this.jpNode[3].setScale(0,0),u(this.jpNode[1]).repeatForever(u().delay(3).to(.5,{scale:new k(0,0,1)}).delay(3).to(.5,{scale:new k(1,1,1)})).start(),u(this.jpNode[3]).repeatForever(u().delay(3).to(.5,{scale:new k(1,1,1)}).delay(3).to(.5,{scale:new k(0,0,1)})).start()),this.jpNameDark[2].active?(this.jpNode[4].setPosition(this.jpBoardPosXList[2],this.jpBoardPosYList[2]),this.jpNode[4].setScale(1,1),this.jpNode[2].active=!1):(this.jpNode[4].setPosition(this.jpBoardPosXList[2],this.jpBoardPosYList[2]),this.jpNode[4].setScale(0,0),u(this.jpNode[2]).repeatForever(u().delay(3).to(.5,{scale:new k(0,0,1)}).delay(3).to(.5,{scale:new k(1,1,1)})).start(),u(this.jpNode[4]).repeatForever(u().delay(3).to(.5,{scale:new k(1,1,1)}).delay(3).to(.5,{scale:new k(0,0,1)})).start())},n.jpBack=function(){this.jpNode[3].setPosition(this.jpBoardPosXList[3],this.jpBoardPosYList[3]),this.jpNode[4].setPosition(this.jpBoardPosXList[4],this.jpBoardPosYList[4]),this.jpNode[1].active=!0,this.jpNode[2].active=!0,d.stopAllByTarget(this.jpNode[1]),d.stopAllByTarget(this.jpNode[2]),d.stopAllByTarget(this.jpNode[3]),d.stopAllByTarget(this.jpNode[4]),this.jpNode[1].setScale(1,1),this.jpNode[2].setScale(1,1),this.jpNode[3].setScale(1,1),this.jpNode[4].setScale(1,1)},n.onGetJackpotReward=function(t){Log.d("ssss onGetJackpotReward ssss",t);var e=N(this.showJackpotPrefab);if(e){this.clippingNode.addChild(e);var o=e.getComponent(J);o&&(e.setPosition(550,450),o.jpMove(),o.onRefreshAvatarHead(t.image_id),o.onRefreshAvatarTheme(t.game_id),o.onRefreshUserId(t.uid),o.onRefreshJackpotWin(t.reward_num))}},a(e,[{key:"data",get:function(){return App.dataCenter.get(b)}}]),e}(j)).prototype,"jpNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(M.prototype,"jackpotNum",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(M.prototype,"jackpotNumReal",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(M.prototype,"jackpotNumDark",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=e(M.prototype,"jpNameDark",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(M.prototype,"jpClickBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(M.prototype,"lock1",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(M.prototype,"lock2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(M.prototype,"lock3",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(M.prototype,"lockNodeTemp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(M.prototype,"lockNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(M.prototype,"unLockNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=e(M.prototype,"clippingNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(M.prototype,"showJackpotPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=M))||E));n._RF.pop()}}}));

System.register("chunks:///_virtual/LineAnimator4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData21.ts","./SubGameDefines21.ts"],(function(t){var i,n,e,s;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){e=t.SubGameData},function(t){s=t.THEME_GAME_TYPE}],execute:function(){n._RF.push({},"9d125LOH0FG2bWJtMUR4s+0","LineAnimator",void 0);t("ThemeHotChiliLineAnimator",function(){function t(){this.spinLayer=null,this.spinElementList=[]}var n=t.prototype;return n.sync=function(){this.spinElementList=[];var t=this.data.GameType;if(t===s.MAIN||t===s.FREE||t===s.BONUS||t===s.MAPFREE)for(var i=this.spinLayer.spinTable.cellList,n=0;n<i.length;n++)for(var e=i[n].visible_cells,a=0;a<e.length;a++){var o=e[a];o.symbolIndex;this.spinElementList.push(o)}},n.performLineAnimation=function(t,i){if(void 0===i&&(i=[]),this.stopAnimation(i),this.data.GameType==s.MAIN||this.data.GameType==s.FREE||this.data.GameType==s.MAPFREE)for(var n=0;n<t.length;n++)t[n]>0&&this.spinElementList[n].performLineAnimation()},n.performAnimation=function(t,i){if(void 0===i&&(i=[]),this.stopAnimation(i),this.data.GameType==s.MAIN||this.data.GameType==s.FREE||this.data.GameType==s.MAPFREE)for(var n=0;n<t.length;n++)t[n]>0&&this.spinElementList[n].performAnimation()},n.stopLineAnimation=function(){for(var t=0;t<this.spinElementList.length;t++)this.spinElementList[t].stopLineAnimation()},n.stopAnimation=function(t){if(void 0===t&&(t=[]),this.data.GameType==s.MAIN||this.data.GameType==s.FREE||this.data.GameType==s.MAPFREE)for(var i=0;i<this.spinElementList.length;i++)t&&t[i]>0||this.spinElementList[i].stopAnimation()},n.performAllLine=function(t,i){for(var n=0;n<this.spinElementList.length;n++)0!=t[n]&&(this.spinElementList[n].performAnimation(),this.spinElementList[n].performLineAnimation())},i(t,[{key:"data",get:function(){return App.dataCenter.get(e)}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingBar4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts"],(function(r){var e,i,t,a,n,o,s,l,p,c,u,b;return{setters:[function(r){e=r.applyDecoratedDescriptor,i=r.inheritsLoose,t=r.initializerDefineProperty,a=r.assertThisInitialized},function(r){n=r.cclegacy,o=r._decorator,s=r.Node,l=r.ProgressBar,p=r.Label,c=r.find,u=r.sys},function(r){b=r.default}],execute:function(){var f,g,d,y,v,B,_,h,L;n._RF.push({},"1ff282aVt1GMZ5IhNpQW9jl","LoadingBar",void 0);var m=o.ccclass,w=o.property;r("LoadingBar",(f=m("LoadingBar"),g=w({displayName:"bg_portrai",type:s}),d=w({displayName:"progressBar",type:l}),y=w({displayName:"lab_describe",type:p}),f((_=e((B=function(r){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n))||this,t(e,"bg_portrai",_,a(e)),t(e,"progressBar",h,a(e)),t(e,"lab_describe",L,a(e)),e}i(e,r),e.getPrefabUrl=function(){return"prefabs/view/LoadingBar"};var n=e.prototype;return n.onLoad=function(){var r=c("pc_bg",this.node);r&&(u.isMobile?r.active=!1:r.active=!0)},n.updateProgress=function(r){this.progressBar.progress=r/100},e}(b)).prototype,"bg_portrai",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(B.prototype,"progressBar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(B.prototype,"lab_describe",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=B))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/MainGameView18.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameView.ts","./GameLogic21.ts","./Decorators.ts","./CommonEvent.ts","./LoadingBar4.ts","./GameLayer4.ts","./IntroductionPage4.ts","./Global.ts","./SubGameDefines21.ts","./Config.ts","./GamePlay5.ts"],(function(t){var i,e,a,n,o,s,c,l,h,r,d,p,u,g,_,S,f,m,P,T,I,y,O,v,A,C,b,E,k;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,c=t._decorator,l=t.Node,h=t.sp,r=t.find,d=t.sys,p=t.UIOpacity,u=t.tween,g=t.Tween,_=t.math,S=t.instantiate,f=t.Vec3},function(t){m=t.default},function(t){P=t.GameLogic},function(t){T=t.inject},function(t){I=t.CommonEvent},function(t){y=t.LoadingBar},function(t){O=t.GameLayer},function(t){v=t.IntroductionPage},function(t){A=t.Global},function(t){C=t.EventName,b=t.THEME_GAME_TYPE},function(t){E=t.ViewZOrder},function(t){k=t.default}],execute:function(){var L,N,R,D,M,B,w,F,G,U,Y;s._RF.push({},"99134JHEPlNVbwPefm3hL/j","MainGameView",void 0);var V=c.ccclass;c.property,t("default",(L=T({type:P,name:"logic"}),N=T("content",l),R=T("guochang_Mask",l),D=T("guochang/guochang",h.Skeleton),V(((Y=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,a(i,"logic",w,n(i)),a(i,"content",F,n(i)),a(i,"guochang_Mask",G,n(i)),a(i,"guochang",U,n(i)),i.loadingView=null,i.introducPage=null,i.gameLayer=null,i.callBack=null,i.mask_node=null,i.canstopmusic=!0,i}e(i,t),i.getPrefabUrl=function(){return"prefabs/MainGameView"};var s=i.prototype;return s.addEvents=function(){t.prototype.addEvents.call(this),this.onD(I.SWITCH_SCREEN,this.onSwitchScreen),this.onD(I.DISPATCH_SPIN_START,this.onSpinStart),this.onD(I.DISPATCH_SPIN_STOP,this.onSpinStop),this.onD(I.DISPATCH_TOTAL_BET,this.onRefreshTotalBet),this.onD(I.DISPATCH_QUICK_SPIN,this.onQuickSpin),this.onD(I.DISPATCH_TURBO_SPIN,this.onTurboSpin),this.onD(I.DISPATCH_SKIP_SCREENS,this.onSkipScreens),this.onD(I.DISPATCH_START_AUTOPLAY,this.onAutoPlay),this.onD(I.DISPATCH_PLAYBACK,this.onPlayback),this.onD(I.DISPATCH_PLAYBACK_END,this.onPlaybackEnd),this.onD(I.DISPATCH_GAME_PLAY,this.onGamePlay),this.onD(C.OnReceiveLastMap,this.onReceiveLastMap),this.onD(C.OnReceiveSlotBet,this.onReceiveSlotBet),this.onD(C.OnReceiveFGSelect,this.onReceiveFGSelect),this.onD(C.OnReceiveFGSpin,this.onReceiveFGSpin)},s.init=function(){var t=r("pc_bg",this.node);t&&(d.isMobile?t.active=!1:t.active=!0),this.loadingView=r("LoadingBar",this.node).getComponent(y),this.loadingView.node.active=!0;var i=r("IntroductionPage",this.node);if(i){var e=i.getComponent(v);e&&(e.view=this,this.introducPage=e,this.introducPage.node.active=!0)}var a=r("content/GameLayer",this.node);if(a){var n=a.getComponent(O);n&&(n.view=this,this.gameLayer=n)}this.onSwitchScreen(App.utils.getOrientation())},s.showEnterGameAnim=function(){var t=this;if(!this.logic.data.bHasEnterGame){if(this.logic.data.lastMapData){var i=this.logic.data.lastMapData,e=i.free||{};i.free_times;if(e.length>0)return}if("landscape"!=App.utils.getOrientation()){createPrefab({url:"prefabs/view/EnterGameView",view:this,complete:function(i){if(i){var e;t.node.addChild(i),Log.d("showEnterGameAnim",A.real_screen_height),dispatch(C.PLAY_EFFECT,"audio/open"),i.getComponent(p).opacity=255;var a=null==(e=r("eff_enter",i))?void 0:e.getComponent(h.Skeleton);a&&(Log.d("showEnterGameAnim",Date.now()),a.clearTracks(),a.setAnimation(0,"ani",!1),a.setCompleteListener((function(e){"ani"===(e.animation?e.animation.name:"")&&(t.enterCallBack(i),dispatch(C.PLAY_MUSIC,"audio/ngbgm"))})))}}})}}},s.enterCallBack=function(t){if(t.isValid){var i=t.getComponent(p);u(i).to(.4,{opacity:0}).call((function(){dispatch(C.SET_MUSIC_VOLUME,1)})).call((function(){t.removeFromParent(),t.destroy()})).start()}this.logic.data.bHasEnterGame=!0,dispatch(I.NOTIFY_SLOT_INFO,this.logic.data.slotInfo),this.stopBgMusic(!0)},s.updateProgress=function(t){this.loadingView.updateProgress(t)},s.showMain=function(){App.loading.hide(),this.loadingView.node.active=!1,this.logic.data.bHasEnterGame?this.onCloseIntroducPage():1!=App.utils.PlatformType?this.introducPage.node.active=!0:(this.introducPage.node.active=!1,this.onCloseIntroducPage()),dispatch(I.NOTIFY_ENTER_GAME),App.utils.closeDocumentLoading()},s.onCloseIntroducPage=function(){if(this.logic.data.lastMapData&&0==this.logic.data.lastMapData.free_game_trig?this.showEnterGameAnim():(A.playback||dispatch(I.NOTIFY_SLOT_INFO,this.logic.data.slotInfo),this.logic.data.bHasEnterGame=!0),this.introducPage.node.active=!1,A.playback)this.handlePlayBack();else{dispatch(C.SLOT_BET_JACKPOT,this.logic.data.slotInfo.bet);var t=!1;if(1==(this.logic.data.slotInfo.is_jackpot_lock||0)&&(t=!0),dispatch(C.UNLOCK_FUNC,t),dispatch(I.NOTIFY_USERINFO_SCORE,this.logic.data.money),dispatch(I.NOTIFY_BALANCE_SCORE,this.logic.data.money),dispatch(C.OnReceiveLastMap,this.logic.data.lastMapData),null!=this.logic.data.slotInfo.mode){var i=this.logic.data.slotInfo.mode||0;1==i?dispatch(I.NOTIFY_QUICK_SPIN,!0):2==i?dispatch(I.NOTIFY_TURBO_SPIN,!0):(dispatch(I.NOTIFY_QUICK_SPIN,!1),dispatch(I.NOTIFY_TURBO_SPIN,!1))}}dispatch(C.REQUEST_JACKPOT)},s.handlePlayBack=function(){Log.dump("onPlayback ",A.playbackAllData),Log.dump("onPlayback ",A.playbackData),this.logic.savePlayBackData(A.playbackData),this.onReceiveLastMap(null),this.onPlayback()},s.onReceiveLastMap=function(t){dispatch(I.NOTIFY_STOP_AUTOPLAY),this.logic.onResetWinScore(),this.gameLayer.processLastSpinResult(t)},s.onReceiveSlotBet=function(t){App.loading.hide(),this.logic.onResetWinScore(),null!=t&&this.gameLayer.processSpinResult(t)},s.onReceiveFGSelect=function(t){App.loading.hide(),this.gameLayer.processFreeGameResult(t)},s.onReceiveFGSpin=function(){App.loading.hide(),this.gameLayer.processFGSpinResult()},s.onSwitchScreen=function(t){if("portrait"===t){var i=0-A.real_screen_height/2+640+70;Log.d("ssss",A.real_screen_height,A.background_width,i),this.content.setPosition(0,i)}},s.onSpinStart=function(t){var i=this;void 0===t&&(t=0),this.logic.data.GameType==b.MAIN&&this.gameLayer.canSpin()&&(this.logic.data.QUICK_STOP=!1,this.gameLayer.fakeSpin(),A.playback?dispatch(I.NOTIFY_BALANCE_SCORE,this.logic.data.money-A.playbackAllData.bet*A.SCORE_EXCHANGE):0==t?(this.logic.data.isDebug?this.scheduleOnce((function(){i.gameLayer.processSpinResult()}),.1):(this.logic.onSendBet(),dispatch(C.UNLOCK_JACKPOT,!1)),this.logic.data.received_message=!1,dispatch(I.NOTIFY_SPIN_STOP_NORMAL,!1)):this.logic.onSendGM(t),this.stopBgMusic(!1),this.canstopmusic=!0,this.logic.data.isReel=!1,this.logic.data.total_win=0)},s.onSpinStop=function(){this.logic.data.received_message&&this.gameLayer.canStop()&&(this.logic.data.QUICK_STOP=!0,this.logic.data.received_message=!1)},s.onRefreshTotalBet=function(t){this.logic.data.total_bet=t,this.logic.data.switch_bet=!0},s.onQuickSpin=function(t){Log.d("ssss onQuickSpin ssss b_quickSpin = ",t),this.logic.data.QUICK_SPIN=t},s.onTurboSpin=function(t){Log.d("ssss onTurboSpin ssss b_turboSpin = ",t),this.logic.data.TURBO_SPIN=t},s.onSkipScreens=function(t){this.logic.data.SKIP_SCREENS=t},s.onAutoPlay=function(t){this.logic.data.AUTOPLAY=t,dispatch(C.UNLOCK_JACKPOT,!t)},s.onPlayback=function(){var t=this;A.playback&&(this.showMaskView(),this.logic.data.money=A.playbackAllData.startScore*A.SCORE_EXCHANGE,dispatch(I.NOTIFY_SLOT_INFO,this.logic.data.slotInfo),dispatch(I.NOTIFY_USERINFO_SCORE,this.logic.data.money),dispatch(I.NOTIFY_BALANCE_SCORE,this.logic.data.money),dispatch(C.RECEIVE_JACKPOT,this.logic.data.playBack_jp_data),this.scheduleOnce((function(){dispatch(I.NOTIFY_PLAYBACK);var i=t.logic.assemblePlayBackSlot(A.playbackData);t.onReceiveSlotBet(i)}),.1))},s.onPlaybackEnd=function(){dispatch(C.STOP_JACKPOT),this.hideMaskView()},s.onGamePlay=function(){App.uiManager.open({type:k,bundle:this.logic.data.module,zIndex:E.UI})},s.onSpinEnd=function(){dispatch(I.NOTIFY_BALANCE_SCORE,this.logic.data.money),dispatch(I.NOTIFY_SPIN_END),this.canstopmusic&&this.stopBgMusic(!0)},s.onSelectFG=function(t){if(A.playback){var i=this.logic.assemblePlayBackSelect(A.playbackData);this.onReceiveFGSelect(i)}else t>=1&&t<=4?this.logic.onSendSelect(t):Log.e("select fg error")},s.requestFreeGameSpin=function(){A.playback?this.onReceiveFGSpin():(this.logic.c2sFreeSpin(),this.logic.data.received_message=!1)},s.stopBgMusic=function(t){void 0===t&&(t=!0),this.canstopmusic=!1,t?(this.callBack=function(){this.gradientBgMusic(0),this.canstopmusic=!0},this.scheduleOnce(this.callBack,5)):this.callBack&&(this.unschedule(this.callBack),this.gradientBgMusic(1),this.canstopmusic=!0)},s.gradientBgMusic=function(t){var i=this;g.stopAllByTarget(this.node),0===t?u(this.node).to(1,{},{onUpdate:function(t,e){if(null!=e){var a=_.lerp(1,0,e);i.logic.data.isReel||dispatch(C.SET_MUSIC_VOLUME,a)}}}).start():u(this.node).to(1,{},{onUpdate:function(t,e){if(null!=e){var a=_.lerp(i.audioHelper.musicVolume,1,e);dispatch(C.SET_MUSIC_VOLUME,a)}}}).start()},s.showMaskView=function(){this.mask_node||(this.prefab?this.mask_node=S(this.prefab):console.log("this.prefab null")),this.mask_node.removeFromParent(),App.uiManager.addView(this.mask_node,E.Tips),this.mask_node.position=f.ZERO,this.mask_node.active=!0},s.hideMaskView=function(){this.mask_node&&(this.mask_node.active=!1)},s.getTotalWin=function(){return this.logic.data.total_win},o(i,[{key:"prefab",get:function(){return App.uiManager.getScenePrefab("PlaybackMask")}},{key:"IsIncreaseJp",get:function(){return 0!=this.logic.data.slotInfo.is_increase_jp}}]),i}(m)).logicType=P,w=i((B=Y).prototype,"logic",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(B.prototype,"content",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(B.prototype,"guochang_Mask",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(B.prototype,"guochang",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=B))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/PageChange5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SlotGameDefines.ts"],(function(e){var t,n,r,a,i,o,g,u,s,l,P,c,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,g=e.PageView,u=e.Node,s=e.SpriteFrame,l=e.Sprite,P=e.Component},function(e){c=e.CommonEvent},function(e){h=e.SoundName}],execute:function(){var p,d,f,m,C,y,L,x,I;i._RF.push({},"9e6a8VU5YBEOpmwi1Tl0IX5","PageChange",void 0);var b=o.ccclass,v=o.property;e("PageChange",(p=b("PageChange"),d=v({type:g}),f=v({type:u}),m=v({type:[s]}),p((L=t((y=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"Page",L,a(t)),r(t,"Layout",x,a(t)),r(t,"Sprite",I,a(t)),t.PageNum=3,t}n(t,e);var i=t.prototype;return i.GoNextPage=function(){Log.d(this.Page.getCurrentPageIndex()+"!!!!"),this.Page.getCurrentPageIndex()<this.PageNum?this.Page.scrollToPage(this.Page.getCurrentPageIndex()+1):this.Page.scrollToPage(0)},i.GoLastPage=function(){this.Page.getCurrentPageIndex()>0?this.Page.scrollToPage(this.Page.getCurrentPageIndex()-1):this.Page.scrollToPage(this.PageNum)},i.ChangeIndex=function(){dispatch(c.PLAY_EFFECT,h.SOUND_HELP_PLAY_CHANGE);for(var e=0;e<this.Layout.children.length&&!(this.Page.getCurrentPageIndex()>this.PageNum||this.Page.getCurrentPageIndex()<0);e++)e==this.Page.getCurrentPageIndex()?this.Layout.children[e].getComponent(l).spriteFrame=this.Sprite[1]:this.Layout.children[e].getComponent(l).spriteFrame=this.Sprite[0]},t}(P)).prototype,"Page",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(y.prototype,"Layout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(y.prototype,"Sprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=y))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/PopOut4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./SubGameData21.ts","./SubGameDefines21.ts","./SubGameConstants18.ts","./NumberRoller.ts","./NumberCurrency.ts"],(function(e){var t,n,i,a,r,o,u,l,p,s,c,f,m,d,b,h,g,y,P,_,F,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,u=e._decorator,l=e.Node,p=e.Button,s=e.Label,c=e.sp,f=e.SpriteFrame,m=e.Sprite,d=e.Vec3,b=e.tween},function(e){h=e.default},function(e){g=e.inject},function(e){y=e.SubGameData},function(e){P=e.EventName},function(e){_=e.ThemeHotChili},function(e){F=e.NumberRoller},function(e){N=e.NumberCurrency}],execute:function(){var w,v,j,A,C,O,G,S,B,z,E,L,T,J,k,D,R,Y,I,V,X,x,H,M,U,K,q,Q,W,Z,$,ee,te;o._RF.push({},"1a3fb3w74JGsYmMgrj4h4n/","PopOut",void 0);var ne=u.ccclass,ie=u.property;e("default",(w=ne("PopOut"),v=g("content",l),j=ie({displayName:"FreeGamePopAdd",type:l}),A=ie({displayName:"FreeGamePopOut",type:l}),C=ie({displayName:"fgStartBtn",type:p}),O=ie({displayName:"fgCount",type:N}),G=ie({displayName:"fgAddCount",type:s}),S=ie({displayName:"JpPopOut",type:l}),B=ie({displayName:"jp_board",type:c.Skeleton}),z=ie({displayName:"bgCount",type:F}),E=ie({displayName:"bg_numFrame",type:[f]}),L=ie({displayName:"leftNum",type:m}),T=ie({displayName:"rightNum",type:m}),J=ie({displayName:"leftX",type:m}),k=ie({displayName:"bling",type:c.Skeleton}),D=ie({displayName:"jpBtn",type:p}),w((I=t((Y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).gameLayer=null,i(t,"content",I,a(t)),i(t,"FreeGamePopAdd",V,a(t)),i(t,"FreeGamePopOut",X,a(t)),i(t,"fgStartBtn",x,a(t)),i(t,"fgCount",H,a(t)),i(t,"fg_AddCount",M,a(t)),i(t,"JpPopOut",U,a(t)),i(t,"jp_board",K,a(t)),i(t,"bgCount",q,a(t)),i(t,"bg_numFrame",Q,a(t)),i(t,"leftNum",W,a(t)),i(t,"rightNum",Z,a(t)),i(t,"leftX",$,a(t)),i(t,"bling",ee,a(t)),i(t,"jpBtn",te,a(t)),t.jp=["default","grand","maxi","major","minor","mini"],t}n(t,e),t.getPrefabUrl=function(){return"prefabs/view/PopOut"};var o=t.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),this.args&&this.args.length>0&&(this.gameLayer=this.args[0],this.FreeGamePopAdd.active=!1,this.FreeGamePopOut.active=!1,this.JpPopOut.active=!1)},o.addEvents=function(){e.prototype.addEvents.call(this)},o.onShow=function(){if(this.args&&this.args.length>0){this.FreeGamePopAdd.active=!1,this.FreeGamePopOut.active=!1,this.JpPopOut.active=!1;var t=this.args[1];this.init(t,this.args[2],this.args[3],this.args[4],this.args[5])}e.prototype.onShow.call(this)},o.onClose=function(){this.unscheduleAllCallbacks(),e.prototype.onClose.call(this)},o.init=function(e,t,n,i,a){var r=this;if(e==_.PopupType.FreeGamePopIn);else if(e==_.PopupType.FreeGamePopAdd)this.FreeGamePopAdd.active=!0,this.fg_AddCount.string=t.toString();else if(e==_.PopupType.FreeGamePopOut)this.FreeGamePopOut.active=!0,this.fgStartBtn.interactable=!0,this.fgCount.updateNumber(t);else if(e==_.PopupType.BonusGamePopIn);else if(e==_.PopupType.BonusGamePopOut);else if(e==_.PopupType.GameFever);else if(e==_.PopupType.JpPopOut){this.JpPopOut.active=!0,Log.d("JpPopOut para1 = ",t,n,i,a);var o=this.jp[t]+"_chuxian_EN",u=this.jp[t]+"_daiji_EN";this.jp_board.node.active=!0,this.jp_board.setAnimation(0,o,!1),this.jp_board.addAnimation(0,u,!0),this.leftNum.spriteFrame=this.bg_numFrame[0],this.rightNum.spriteFrame=this.bg_numFrame[a-1],this.bgCount.stopRollingAndShowNumber(i),dispatch(P.STOP_JACKPOT);for(var l=i,p=function(e){var n;n=1+(2.4-.2)*(e-1)+1-.3,r.scheduleOnce((function(){var e=r.jp[t]+"_chufa_EN",n=r.jp[t]+"_daiji_EN";r.jp_board.node.active=!0,r.jp_board.setAnimation(0,e,!1),r.jp_board.addAnimation(0,n,!0)}),n),r.scheduleOnce((function(){b(r.leftNum.node).to(.3,{scale:new d(1.8,1.8,1)}).to(.2,{scale:new d(1,1,1)}).start(),b(r.leftX.node).to(.3,{scale:new d(1.8,1.8,1)}).to(.2,{scale:new d(1,1,1)}).start(),r.bling.setAnimation(0,"chengbei",!1),dispatch(P.PLAY_EFFECT,"audio/bg_muti")}),n+.8),Log.d("startRolling num = ",l),r.scheduleOnce((function(){var t="audio/jp_up"+e;dispatch(P.PLAY_EFFECT,t),r.leftNum.spriteFrame=r.bg_numFrame[e],r.bgCount.startRolling(l,l+i,1,(function(){l+=i}))}),n+.8+.5)},s=1;s<a;s++)p(s);this.jpBtn.node.scale=new d(0,0,1),this.scheduleOnce((function(){b(r.jpBtn.node).to(.33,{scale:new d(1.2,1.2,1)}).to(.17,{scale:new d(.9,.9,1)}).to(.17,{scale:new d(1,1,1)}).call((function(){r.jpBtn.interactable=!0})).start()}),1+2.4*(a-1)+2)}},o.onClick_fgStartBtn=function(){this.fgStartBtn.interactable=!1,dispatch(P.PLAY_EFFECT,"audio/button"),this.gameLayer.stopFreeGameOut(),this.close()},o.onClick_jpBtn=function(){this.jpBtn.interactable=!1,dispatch(P.PLAY_EFFECT,"audio/button"),this.gameLayer.jpEnd(),this.close()},r(t,[{key:"data",get:function(){return App.dataCenter.get(y)}},{key:"showAction",get:function(){var e=this;return function(t){App.utils.showView(e.content,t)}}},{key:"closeAction",get:function(){var e=this;return function(t){App.utils.hideView(e.content,t)}}}]),t}(h)).prototype,"content",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(Y.prototype,"FreeGamePopAdd",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(Y.prototype,"FreeGamePopOut",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(Y.prototype,"fgStartBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(Y.prototype,"fgCount",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(Y.prototype,"fg_AddCount",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(Y.prototype,"JpPopOut",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(Y.prototype,"jp_board",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(Y.prototype,"bgCount",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(Y.prototype,"bg_numFrame",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(Y.prototype,"leftNum",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(Y.prototype,"rightNum",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Y.prototype,"leftX",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Y.prototype,"bling",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Y.prototype,"jpBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=Y))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol22.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"ed3a4rzxg5JWI3teJOu2Mfk","Protocol",void 0);var o=t("Protocol",(function(){}));o.LOGIN="login",o.LOGOUT="logout",o.USERINFO="userinfo",o.USER_KICK="user_kick",o.ERRORCODE="errorcode",o.MARQUEE="marquee",o.TIPS="tips",o.DEBUG_LOGIN="debug_login",o.MARK="mark",o.SLOTINFO="slot_info",o.SLOTBET="slot",o.ANTASLOTBET="anta_slot",o.LASTMAP="last_map",o.SLOT_TEST="test",o.BUY="buy_free",o.FREESPIN="free_spin",o.GMSLOT="gm_slot",o.SELECTSLOT="slot_select",o.JpCmd="slot_bet",o.JPREWARDREFRESH="slot_bet_refresh",e._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenHelper5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(e){var r,n,t,i;return{setters:[function(e){r=e.createClass},function(e){n=e.cclegacy,t=e.size},function(e){i=e.Global}],execute:function(){n._RF.push({},"1c545jKCrpEK5mDY148JgFp","ScreenHelper",void 0),e("ScreenHelper",function(){function e(){}return r(e,null,[{key:"renderSize",get:function(){return"portrait"===App.utils.getOrientation()?this._renderSize.set(Math.min(i.real_screen_width,i.background_height),Math.min(i.real_screen_height,i.background_width)):this._renderSize.set(Math.min(i.real_screen_width,i.background_width),Math.min(i.real_screen_height,i.background_height)),this._renderSize}}]),e}())._renderSize=t(0,0),n._RF.pop()}}}));

System.register("chunks:///_virtual/slot390000016",["./BigWinDefines4.ts","./BigWinLayer10.ts","./GamePlay5.ts","./PageChange5.ts","./JackpotLayer6.ts","./GameEntry21.ts","./AutoScaleNode2.ts","./SubGameConstants18.ts","./SubGameData21.ts","./SubGameDefines21.ts","./SubGameLanguage21.ts","./ExBannerContentProvider6.ts","./GameLogic21.ts","./LineAnimator4.ts","./ScreenHelper5.ts","./Sticker4.ts","./GameHandler21.ts","./GameSender21.ts","./Protocol22.ts","./BGLayer2.ts","./EffectLayer5.ts","./FGSelectLayer2.ts","./GameLayer4.ts","./IntroductionPage4.ts","./LoadingBar4.ts","./MainGameView18.ts","./PopOut4.ts","./SpinElement4.ts","./SpinLayer4.ts","./SpinReel4.ts","./SpinTable4.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SpinElement4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData21.ts","./SubGameConstants18.ts","./FormatNumber.ts","./SubGameDefines21.ts"],(function(i){var e,t,n,a,h,o,r,s,l,c,p,u,m,d,b,S,g,y;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized,h=i.createClass},function(i){o=i.cclegacy,r=i._decorator,s=i.SpriteFrame,l=i.sp,c=i.Sprite,p=i.Node,u=i.Vec3,m=i.tween,d=i.Component},function(i){b=i.SubGameData},function(i){S=i.ThemeHotChili},function(i){g=i.FormatNumber},function(i){y=i.EventName}],execute:function(){var f,F,N,I,_,v,x,L,z,A,k,j,w,T,C,D,E,M,J,R,B,O,Y,H,P,G,X,W,Q,q,U;o._RF.push({},"374faSJ5HdE5qahQS5e+QUh","SpinElement",void 0);var V=r.ccclass,K=r.property;i("SpinElement",(f=V("SpinElement"),F=K({displayName:"defaultFrame",type:[s]}),N=K({displayName:"skeletonData",type:[l.SkeletonData]}),I=K({displayName:"normalSprite",type:c}),_=K({displayName:"animation",type:l.Skeleton}),v=K({displayName:"chipNode",type:p}),x=K({displayName:"frameSprite",type:l.Skeleton}),L=K({displayName:"chipJpSprite",type:c}),z=K({displayName:"chipStrLabel",type:p}),A=K({displayName:"chipStrLabelNum",type:g}),k=K({displayName:"chipFrame",type:[s]}),j=K({displayName:"zhongjiang_huo",type:l.Skeleton}),w=K({displayName:"zhongjiang_chipSprite",type:c}),T=K({displayName:"zhongjiang_chipLabel",type:p}),C=K({displayName:"zhongjiang_chipLabelNum",type:g}),f((M=e((E=function(i){function e(){for(var e,t=arguments.length,h=new Array(t),o=0;o<t;o++)h[o]=arguments[o];return(e=i.call.apply(i,[this].concat(h))||this).spinReel=null,n(e,"defaultFrame",M,a(e)),n(e,"skeletonData",J,a(e)),n(e,"normalSprite",R,a(e)),n(e,"animation",B,a(e)),n(e,"chipNode",O,a(e)),n(e,"frameSprite",Y,a(e)),n(e,"chipJpSprite",H,a(e)),n(e,"chipStrLabel",P,a(e)),n(e,"chipStrLabelNum",G,a(e)),n(e,"chipFrame",X,a(e)),n(e,"zhongjiang_huo",W,a(e)),n(e,"zhongjiang_chipSprite",Q,a(e)),n(e,"zhongjiang_chipLabel",q,a(e)),n(e,"zhongjiang_chipLabelNum",U,a(e)),e.symbolIndex=-1,e.clipFatherNode=null,e.higherClipFatherNode1=null,e.higherClipFatherNode2=null,e.higherClipFatherNode3=null,e.unclipFatherNode=null,e.unclipFatherNode2=null,e.unclipFatherNode3=null,e.unclipFatherNode4=null,e.unclipFatherNode5=null,e.unclipFatherNode6=null,e.unclipFatherNode7=null,e.unclipFatherNode8=null,e.processingIndex=0,e.aboutToStopFlag=!0,e.shouldShow_chipJpSprite=!1,e.shouldShow_chipStrLabel=!1,e}t(e,i);var o=e.prototype;return o.start=function(){this.frameSprite.node.active=!1,this.zhongjiang_huo.node.active=!1,this.zhongjiang_chipSprite.node.active=!1,this.zhongjiang_chipLabel.active=!1},o.onClose=function(){this.unscheduleAllCallbacks()},o.init=function(i){this.processingIndex=i},o.setFathers=function(i,e,t,n,a,h,o,r,s,l,c,p){this.clipFatherNode=i,this.unclipFatherNode=e,this.unclipFatherNode2=t,this.unclipFatherNode3=n,this.unclipFatherNode4=a,this.unclipFatherNode5=h,this.unclipFatherNode6=o,this.unclipFatherNode7=r,this.unclipFatherNode8=s,this.higherClipFatherNode1=l,this.higherClipFatherNode2=c,this.higherClipFatherNode3=p},o.checkFather=function(i,e){this.node.setParent(i)},o.setAboutToStop=function(i){this.aboutToStopFlag=i},o.setSymbolIndex=function(i,e,t){this.symbolIndex=i;var n=this.getDefaultFrame(i);this.normalSprite.spriteFrame=this.defaultFrame[n],this.checkChipDisplay(),this.checkFather(this.clipFatherNode),this.stopLineAnimation()},o.setSymbolIndexFather=function(i){void 0===i&&(i=!1),i?this.checkFather(this.clipFatherNode):1==this.symbolIndex?this.checkFather(this.higherClipFatherNode1):this.symbolIndex>S.SCATTER_SYMBOLID?this.checkFather(this.higherClipFatherNode2):this.symbolIndex==S.SCATTER_SYMBOLID?this.checkFather(this.higherClipFatherNode3):this.checkFather(this.clipFatherNode)},o.createAnimation=function(){var i=this.getSkeletonData(this.symbolIndex);this.animation.skeletonData=this.skeletonData[i]},o.getSymbolIndex=function(){return this.symbolIndex},o.checkChipDisplay=function(){if(this.chipNode.active=!0,this.chipJpSprite.node.active=!1,this.chipStrLabel.active=!1,this.shouldShow_chipJpSprite=!1,this.shouldShow_chipStrLabel=!1,this.symbolIndex>S.SCATTER_SYMBOLID)if(this.symbolIndex>=12&&this.symbolIndex<=15){this.chipJpSprite.node.active=!0,this.shouldShow_chipJpSprite=!0;var i=this.symbolIndex-12;this.chipJpSprite.spriteFrame=this.chipFrame[i]}else this.chipStrLabel.active=!0,this.shouldShow_chipStrLabel=!0,this.chipStrLabelNum.updateNumber(this.symbolIndex)},o.chipMulti=function(i){var e=this;Log.d("chipMulti multiNum = ",i,this.symbolIndex),this.symbolIndex>S.CHIP_SYMBOLID&&(this.checkFather(this.unclipFatherNode6),this.scheduleOnce((function(){e.chipStrLabelNum.updateNumber(e.symbolIndex*i)}),.3))},o.chipWinAdd=function(){this.createAnimation(),this.animation.node.active=!0,this.animation.node.scale=new u(.85,.85),this.animation.clearTracks(),this.animation.setAnimation(0,"daiji",!0)},o.chipSprite_zhongjiang=function(i){var e=this;this.zhongjiang_chipSprite.node.active=!0,this.zhongjiang_chipSprite.spriteFrame=this.chipFrame[i],m(this.zhongjiang_chipSprite.node).to(.5,{scale:new u(1.2,1.2,1)}).to(.5,{scale:new u(.3,.3,1)}).call((function(){e.zhongjiang_chipSprite.node.active=!1})).start()},o.chipLabel_zhongjiang=function(i){var e=this;this.zhongjiang_chipLabel.active=!0,this.zhongjiang_chipLabelNum.updateNumber(i),m(this.zhongjiang_chipLabel).delay(.17).to(.3,{scale:new u(1.2,1.2,1)}).to(.2,{scale:new u(1,1,1)}).delay(.4).call((function(){e.zhongjiang_chipLabel.active=!1})).start()},o.chipWin_zhongjiang=function(){this.zhongjiang_huo.node.active=!0,this.zhongjiang_huo.clearTracks(),this.zhongjiang_huo.setAnimation(0,"zhongjiang_huo",!1)},o.performScatterDownAnimation=function(){this.createAnimation(),this.symbolIndex==S.SCATTER_SYMBOLID&&(this.checkFather(this.unclipFatherNode3),this.normalSprite.node.active=!1,this.animation.node.active=!0,this.animation.node.scale=new u(.85,.85),this.animation.clearTracks(),this.animation.setAnimation(0,"luoxia",!1),this.data.scIdle2?this.animation.addAnimation(0,"idle2",!0):this.animation.addAnimation(0,"idle",!0))},o.performChipDown=function(){if(this.createAnimation(),this.symbolIndex>S.SCATTER_SYMBOLID)if(this.checkFather(this.unclipFatherNode2),this.normalSprite.node.active=!1,this.chipJpSprite.node.active=!1,this.animation.node.active=!0,this.animation.node.scale=new u(.85,.85),this.symbolIndex>=12&&this.symbolIndex<=15){var i="X"+(this.symbolIndex-10)+"_luoxia",e="X"+(this.symbolIndex-10)+"_daiji";this.animation.clearTracks(),this.animation.setAnimation(0,i,!1),this.animation.addAnimation(0,e,!0)}else this.animation.clearTracks(),this.animation.setAnimation(0,"zhongjiang_jinbi",!1),this.animation.addAnimation(0,"daiji",!0)},o.performChipDownNoWin=function(){if(this.createAnimation(),this.symbolIndex>S.SCATTER_SYMBOLID)if(this.checkFather(this.unclipFatherNode2),this.normalSprite.node.active=!1,this.chipJpSprite.node.active=!1,this.animation.node.active=!0,this.animation.node.scale=new u(.85,.85),this.symbolIndex>=12&&this.symbolIndex<=15){dispatch(y.PLAY_EFFECT,"audio/reelbgsc");var i="X"+(this.symbolIndex-10)+"_luoxia",e="X"+(this.symbolIndex-10)+"_daiji";this.animation.clearTracks(),this.animation.setAnimation(0,i,!1),this.animation.addAnimation(0,e,!0)}else this.animation.clearTracks(),this.animation.setAnimation(0,"daiji",!0)},o.performScIdle2=function(){this.createAnimation(),this.symbolIndex==S.SCATTER_SYMBOLID&&(this.checkFather(this.unclipFatherNode2),this.animation.clearTracks(),this.animation.setAnimation(0,"idle2",!0))},o.performAnimation=function(){this.createAnimation(),1<=this.symbolIndex&&this.symbolIndex<=5?(1==this.symbolIndex?this.checkFather(this.unclipFatherNode5):this.checkFather(this.unclipFatherNode4),this.normalSprite.node.active=!1,this.animation.node.active=!0,this.animation.node.scale=new u(.9,.9),this.animation.setAnimation(0,"H"+this.symbolIndex,!0)):6<=this.symbolIndex&&this.symbolIndex<=10?(this.checkFather(this.unclipFatherNode4),this.normalSprite.node.active=!1,this.animation.node.active=!0,this.animation.node.scale=new u(.85,.85),this.animation.setAnimation(0,"L"+(this.symbolIndex-5),!0)):this.symbolIndex==S.SCATTER_SYMBOLID?(this.checkFather(this.unclipFatherNode7),this.normalSprite.node.active=!1,this.animation.node.active=!0,this.animation.node.scale=new u(.9,.9),this.animation.setAnimation(0,"zhongjiang",!0)):this.symbolIndex>S.SCATTER_SYMBOLID&&(this.checkFather(this.unclipFatherNode6),this.animation.node.scale=new u(.85,.85))},o.performLineAnimation=function(){this.frameSprite.node.active=!0},o.stopLineAnimation=function(){this.frameSprite.node.active=!1},o.stopAnimation=function(){this.normalSprite.node.active=!0,this.chipNode.active=!0,this.chipJpSprite.node.active=!1,this.chipStrLabel.active=!1,this.shouldShow_chipJpSprite&&(this.chipJpSprite.node.active=!0),this.shouldShow_chipStrLabel&&(this.chipStrLabel.active=!0),this.frameSprite.node.active=!1,this.animation.node.active=!1,1==this.symbolIndex?this.checkFather(this.unclipFatherNode):this.symbolIndex>=12&&this.symbolIndex<=15?this.checkFather(this.unclipFatherNode2):this.symbolIndex==S.SCATTER_SYMBOLID?this.checkFather(this.unclipFatherNode3):this.checkFather(this.clipFatherNode)},o.getDefaultFrame=function(i){return i>S.SCATTER_SYMBOLID?15==i?12:11:i-1},o.getSkeletonData=function(i){return i>S.SCATTER_SYMBOLID?11:i-1},h(e,[{key:"data",get:function(){return App.dataCenter.get(b)}}]),e}(d)).prototype,"defaultFrame",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=e(E.prototype,"skeletonData",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(E.prototype,"normalSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(E.prototype,"animation",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(E.prototype,"chipNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(E.prototype,"frameSprite",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(E.prototype,"chipJpSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(E.prototype,"chipStrLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(E.prototype,"chipStrLabelNum",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(E.prototype,"chipFrame",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(E.prototype,"zhongjiang_huo",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(E.prototype,"zhongjiang_chipSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(E.prototype,"zhongjiang_chipLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(E.prototype,"zhongjiang_chipLabelNum",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=E))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/SpinLayer4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpinTable4.ts","./SubGameDefines21.ts","./SubGameConstants18.ts","./SubGameData21.ts","./EffectLayer5.ts","./CommonEvent.ts"],(function(e){var t,i,s,n,a,l,r,o,h,p,c,u,d,f,g,m,_,y,b,T,L,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,r=e._decorator,o=e.Sprite,h=e.sp,p=e.Prefab,c=e.Node,u=e.Vec2,d=e.instantiate,f=e.Vec3,g=e.Component},function(e){m=e.SpinTable},function(e){_=e.SpinLayerState,y=e.THEME_GAME_TYPE},function(e){b=e.ThemeHotChili},function(e){T=e.SubGameData},function(e){L=e.EffectLayer},function(e){R=e.CommonEvent}],execute:function(){var v,S,C,N,w,P,X,A,G,Y,E,I,k,D,x;l._RF.push({},"5c01042H1xIJKReyBV9v01E","SpinLayer",void 0);var z=r.ccclass,F=r.property;e("SpinLayer",(v=z("SpinLayer"),S=F({displayName:"collectDark",type:o}),C=F({displayName:"collectPot",type:h.Skeleton}),N=F({displayName:"ng_Chili",type:h.Skeleton}),w=F({displayName:"effectLayer",type:L}),P=F({displayName:"spinTablePrefab",type:p}),X=F({displayName:"clippingNode",type:c}),v((Y=t((G=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return(t=e.call.apply(e,[this].concat(a))||this).gameLayer=null,s(t,"collectDark",Y,n(t)),s(t,"collectPot",E,n(t)),s(t,"ng_Chili",I,n(t)),s(t,"effectLayer",k,n(t)),s(t,"spinTablePrefab",D,n(t)),s(t,"clippingNode",x,n(t)),t.spinTable=null,t.centerX=0,t.centerY=0,t.tableCenterPos=new u,t.posXList=[],t.posYList=[],t.spinResult=null,t.fgResult=null,t.state=_.Idle,t.autoAvailableTmp=!0,t.fgStartNumList=[[4,6,8,10],[8,12,16,20],[12,18,24,30]],t.chipHitPos=[],t}i(t,e);var l=t.prototype;return l.clearGroup=function(){this.unscheduleAllCallbacks()},l.start=function(){this.centerX=0,this.centerY=0;for(var e=b.CellSize,t=128,i=[this.centerX-256+1,this.centerX-t+1,this.centerX+1,this.centerX+t+1,this.centerX+256+1],s=b.VisibleCellNum,n=(s-1)/2,a=[],l=0;l<s;l++)a[l]=this.centerY-281+100*(n-l);if(this.tableCenterPos=new u(this.centerX,this.centerY-281),this.posXList=i,this.posYList=a,this.clippingNode){this.clippingNode.removeAllChildren();var r=d(this.spinTablePrefab);if(r){this.clippingNode.addChild(r);var o=r.getComponent(m);o&&(o.spinLayer=this,o.init(e,i,a,3),this.spinTable=o)}this.effectLayer&&(this.effectLayer.spinLayer=this),this.ng_Chili.node.active=!1}},l.initFgTable=function(e,t,i){void 0===i&&(i=!1);for(var s=b.CellSize,n=128,a=[this.centerX-256+1,this.centerX-n+1,this.centerX+1,this.centerX+n+1,this.centerX+256+1],l=e,r=(l-1)/2,o=[281,231,181,131][e-3],h=[],p=0;p<l;p++)h[p]=this.centerY-o+100*(r-p);if(this.clippingNode){this.clippingNode.removeAllChildren();var c=d(this.spinTablePrefab);if(c){this.clippingNode.addChild(c);var u=c.getComponent(m);u&&(u.spinLayer=this,u.init(s,a,h,e),this.spinTable=u)}if(this.spinTable.spinResult=t.item_list,this.spinTable.upperSymbols=t.upper_reel,this.spinTable.down_reel=t.down_reel,i&&t.fg_idx<t.fg_total_round&&t.fg_idx>0){var g=t.item_list_new[t.fg_idx-1][0].item_list;this.spinTable.spinResult=this.get_item_list(g)}this.spinTable.checkCellsInit(),5==e?(this.collectPot.node.setPosition(this.centerX-3,this.centerY+279),this.collectPot.node.scale=new f(.78,.78),this.collectDark.node.setPosition(this.centerX-2,this.centerY+109),this.ng_Chili.node.setPosition(this.centerX-3,this.centerY+164),this.ng_Chili.node.scale=new f(.78,.78)):6==e?(this.collectPot.node.setPosition(this.centerX-2.5,this.centerY+341),this.collectPot.node.scale=new f(.67,.67),this.collectDark.node.setPosition(this.centerX-1.5,this.centerY+205.5),this.ng_Chili.node.setPosition(this.centerX,this.centerY+244),this.ng_Chili.node.scale=new f(.67,.67)):4==e&&(this.collectPot.node.setPosition(this.centerX-4.5,this.centerY+249),this.collectDark.node.setPosition(this.centerX,this.centerY+38),this.ng_Chili.node.setPosition(this.centerX,this.centerY+100))}},l.get_item_list=function(e){for(var t=[],i=0;i<e.length;i++){for(var s=[],n=e[i].icon,a=0;a<n.length;a++){var l=n[a];s.push(l)}t.push(s)}return t},l.resetNgTable=function(e){void 0===e&&(e=!1);for(var t=b.CellSize,i=128,s=[this.centerX-256+1,this.centerX-i+1,this.centerX+1,this.centerX+i+1,this.centerX+256+1],n=b.VisibleCellNum,a=(n-1)/2,l=[],r=0;r<n;r++)l[r]=this.centerY-281+100*(a-r);if(this.clippingNode){this.clippingNode.removeAllChildren();var o=d(this.spinTablePrefab);if(o){this.clippingNode.addChild(o);var h=o.getComponent(m);h&&(h.spinLayer=this,h.init(t,s,l,3),this.spinTable=h)}this.collectDark.node.setPosition(this.centerX,this.centerY-62),this.collectPot.node.setPosition(this.centerX-4.5,this.centerY+149),this.collectPot.node.setScale(new f(1,1)),this.ng_Chili.node.setScale(new f(1,1)),this.gameLayer.fgCountBoard.active=!1,e?(this.spinTable.spinResult=this.gameLayer.restore_spinResult,this.spinTable.upperSymbols=this.gameLayer.restore_upper_reel,this.spinTable.down_reel=this.gameLayer.restore_down_reel):(this.spinTable.spinResult=this.spinResult.item_list,this.spinTable.upperSymbols=this.spinResult.upper_reel,this.spinTable.down_reel=this.spinResult.down_reel),this.spinTable.checkCellsInit()}},l.spinLayerChangeToRoll=function(){this.stateChangeTo(_.Rolling)},l.spinLayerChangeToShow=function(){y.MAIN!=this.data.GameType&&y.FREE!=this.data.GameType&&y.MAPFREE!=this.data.GameType&&y.BONUS!=this.data.GameType||(this.stateChangeTo(_.Show),this.performWinShow(),this.autoAvailableTmp=!0)},l.effectLayerChangeToIdle=function(){Log.d("effectLayerChangeToIdle self.state = ",this.state,this.autoAvailableTmp),this.state==_.Show?this.stateChangeTo(_.Idle,this.autoAvailableTmp):this.state==_.Idle&&this.autoAvailableTmp&&(Log.d("effectLayerChangeToIdle 1"),this.processNextStep())},l.processNextStep=function(){Log.d("processNextStep =",this.data.GameType,this.data.getAutoStatus(),this.gameLayer.freeGameLeaving),this.data.GameType==y.MAIN&&this.data.getAutoStatus()?(this.autoAvailableTmp=!1,this.stopShow()):this.data.GameType==y.FREE&&this.gameLayer.freeGameLeaving?this.gameLayer.processNextRoundFreeGame():this.data.GameType==y.BONUS&&this.gameLayer.bonusGameLeaving&&this.gameLayer.processNextRoundBonusGame()},l.processLastSpinResult=function(e){if(null!=e){this.spinResult=e,Log.d("spinResult = ",this.spinResult);var t=this.data.bow_state2;this.collectPot.setAnimation(0,"idle"+t,!0),5==t&&(this.ng_Chili.node.active=!0,this.ng_Chili.setAnimation(0,"daiji",!0));var i=e.free_game_trig,s=e.fg_idx,n=e.fg_total_round;if(1==i||s<n&&e.item_list_new.length>0){var a=0;if(e.sc_line&&e.sc_line.length>0){var l=e.sc_line[0].hit_pos;a=this.gameLayer.getScatterNum(l)}if(0==e.fg_select){var r=e.item_list;if(r&&r[0].length>3){var o=this.data.generateRandomArray(5,3,1,10);e.item_list=o,this.spinResult=e,console.log("å®¹é”™å¤„ç† this.spinResult = ",this.spinResult)}this.resetNgTable(),this.gameLayer.fgSelectReconnect(a)}else this.gameLayer.freeGameReconnect(e)}else{var h=e.item_list;if(h&&h[0].length>3){var p=this.data.generateRandomArray(5,3,1,10);e.item_list=p,this.spinResult=e,console.log("å®¹é”™å¤„ç† this.spinResult = ",this.spinResult)}this.gameLayer.returnToMainFromFreeGame(!1,!0)}}else console.error("result is empty or not defined")},l.processSpinResult=function(e,t){if(void 0===t&&(t=null),null!=e){this.spinResult=e,Log.d("spinResult = ",this.spinResult),this.spinTable.spinResult=t?t.item_list:this.spinResult.item_list,this.spinTable.upperSymbols=this.spinResult.upper_reel,this.spinTable.down_reel=this.spinResult.down_reel,this.spinResult.award_notice&&1==this.spinResult.award_notice&&this.gameLayer.showAwardNotice(),this.data.free_spins=0;var i=this.spinResult.free_game_trig;if(this.spinResult.sc_line&&this.spinResult.sc_line.length>0&&this.data.GameType==y.FREE&&this.gameLayer.getScatterNum(this.spinResult.sc_line[0].hit_pos)>=3){var s=this.gameLayer.getScatterNum(this.spinResult.sc_line[0].hit_pos);s>=3&&(this.data.free_spins=this.fgStartNumList[s-3][this.gameLayer.fg_select-1])}if(1==i&&this.spinResult.sc_line&&this.spinResult.sc_line.length>0){for(var n=0,a=this.spinResult.sc_line[0].hit_pos,l=0;l<a.length;l++)1==a[l]&&(n+=1);n>=3&&(this.data.free_spins=this.fgStartNumList[n-3][this.gameLayer.fg_select-1]),Log.d("ssssssss processSpinResult this.data.free_spins = ",this.data.free_spins)}for(var r=0;r<5;r++)this.chipHitPos[r]=[];if(this.spinResult.credit_win&&this.spinResult.credit_win>0){var o=this.data.reshapeArray(this.spinResult.jb_line[0].hit_pos,5,this.spinTable.spinResult[2].length);null!=o&&(this.chipHitPos=o)}this.spinTable.spin(),this.data.received_message=!0,dispatch(R.NOTIFY_SPIN_STOP_NORMAL,!0)}else console.error("result is empty or not defined")},l.stopSpinTable=function(){this.spinTable.stop()},l.performWinShow=function(){this.effectLayer.perform(this.spinResult)},l.stopShow=function(){return this.effectLayer.stopShow()},l.stateChangeTo=function(e,t){void 0===t&&(t=!1),this.state=e,Log.d("stateChangeTo state=",e,t),t&&e==_.Idle&&this.processNextStep()},a(t,[{key:"data",get:function(){return App.dataCenter.get(T)}}]),t}(g)).prototype,"collectDark",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(G.prototype,"collectPot",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(G.prototype,"ng_Chili",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(G.prototype,"effectLayer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(G.prototype,"spinTablePrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(G.prototype,"clippingNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=G))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/SpinReel4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData21.ts","./SubGameDefines21.ts","./SpinElement4.ts","./SubGameConstants18.ts"],(function(t){var e,i,s,l,o,n,h,a,r,p,u,d,c,S,f,m,N,g,b,C,y,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,l=t.assertThisInitialized,o=t.createClass},function(t){n=t.cclegacy,h=t._decorator,a=t.SpriteFrame,r=t.Sprite,p=t.Node,u=t.Prefab,d=t.Size,c=t.UITransform,S=t.instantiate,f=t.Tween,m=t.tween,N=t.Vec3,g=t.Component},function(t){b=t.SubGameData},function(t){C=t.SpinReelState},function(t){y=t.SpinElement},function(t){I=t.ThemeHotChili}],execute:function(){var v,w,T,R,x,P,D,A,B,L,k,_,F;n._RF.push({},"2e29aYBLa9NUoFaJZrMZWMJ","SpinReel",void 0);var M=h.ccclass,E=h.property;t("SpinReel",(v=M("SpinReel"),w=E({displayName:"defaultFrame",type:[a]}),T=E({displayName:"reelBackSprite",type:r}),R=E({displayName:"speedPosNode",type:p}),x=E({displayName:"SpinElement",type:u}),P=E({displayName:"clippingNode",type:p}),v((B=e((A=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).spinTable=null,s(e,"defaultFrame",B,l(e)),s(e,"reelBackSprite",L,l(e)),s(e,"speedPosNode",k,l(e)),s(e,"spinElement",_,l(e)),s(e,"clippingNode",F,l(e)),e.spinResult=[],e.upperSymbol=0,e.down_reel=0,e.RollingWithResultIndex=0,e.shouldPlayScatterDown=!1,e.shouldPlayChipDown=!1,e.reelIndex=-1,e.fake_duration=0,e.visibleCellNum=-1,e.realCellNum=-1,e.cellSize=null,e.cellHeight=null,e.windowSize=null,e.realCellStablePosYList=[],e.cells=[],e.visible_cells=[],e.elementZOrder=0,e.toStart=!1,e.toStop=!1,e.stopped=!1,e.duration=0,e.durationState1=-1,e.distanceState2=30,e.distanceState3=0,e.speedState1=2500,e.speedState2=4e3,e.speedState3=300,e.speedState4=240,e.topSpriteIndex=0,e.topReelOrderIndex=0,e.countDown=0,e.state=C.Uninitialized,e.higherClipNode1=null,e.higherClipNode2=null,e.higherClipNode3=null,e.unclipNode=null,e.unclipNode2=null,e.unclipNode3=null,e.unclipNode4=null,e.unclipNode5=null,e.unclipNode6=null,e.unclipNode7=null,e.unclipNode8=null,e.isStrat=!1,e._updateCallback=null,e}i(e,t);var n=e.prototype;return n.onClose=function(){this.unscheduleAllCallbacks()},n.setFathers=function(t,e,i,s,l,o,n,h,a,r,p){this.unclipNode=t,this.unclipNode2=e,this.unclipNode3=i,this.unclipNode4=s,this.unclipNode5=l,this.unclipNode6=o,this.unclipNode7=n,this.unclipNode8=h,this.higherClipNode1=a,this.higherClipNode2=r,this.higherClipNode3=p},n.init=function(t,e){this.visibleCellNum=t,this.realCellNum=this.visibleCellNum+2,this.cellSize=e,this.cellHeight=e.height,this.windowSize=new d(e.width,e.height*t),this.cells=[];var i=this.node.getComponent(c);i&&i.setContentSize(new d(e.width,e.height*t)),this.reelBackSprite.spriteFrame=this.defaultFrame[t-3];var s=!1;this.realCellNum%2==0&&(s=!0);var l=Math.floor((this.realCellNum-1)/2);this.realCellStablePosYList=[];for(var o=0;o<this.realCellNum;o++){var n=S(this.spinElement);if(n){this.realCellStablePosYList[o]=(l-o)*this.cellSize.height,s&&(this.realCellStablePosYList[o]+=this.cellSize.height/2),n.setPosition(0,this.realCellStablePosYList[o]),this.node.addChild(n);var h=n.getComponent(y);h&&(h.spinReel=this,h.setFathers(this.clippingNode,this.unclipNode,this.unclipNode2,this.unclipNode3,this.unclipNode4,this.unclipNode5,this.unclipNode6,this.unclipNode7,this.unclipNode8,this.higherClipNode1,this.higherClipNode2,this.higherClipNode3),h.init(o),this.cells[o]=h)}}},n.initReelPositions=function(t){for(var e=0;e<this.realCellNum;e++){var i=0;i=0==e?this.upperSymbol:e==this.realCellNum-1?this.down_reel:t[e-1],this.cells[e].setSymbolIndex(i,!0)}this.topSpriteIndex=0,this.stateChangeTo(C.Idle),this.setSymbolUpFather()},n.setSymbolUpFather=function(){for(var t=0;t<this.realCellNum;t++)0==t||t==this.realCellNum-1||this.cells[t].setSymbolIndexFather()},n.startUpdate=function(){this.isStrat=!0},n.stopUpdate=function(){},n.update=function(t){if(this.toStart||this.state!=C.Idle){var e=this.speedPosNode.position.y;if(this.toStart&&this.state==C.Idle)return this.toStart=!1,this.stopped=!1,this.stateChangeTo(C.Rolling),this.symbolDown(),this.duration=0,void(this.fake_duration=0);if(this.toStop&&(this.state==C.Rolling||this.state==C.RollingWithResult||this.state==C.AboutToStop&&this.countDown>0&&!this.data.extendSpin)){this.toStop=!1,this.setAboutToStop(!0);for(var i=0;i<this.realCellNum;i++){var s=(this.topSpriteIndex+i)%this.realCellNum;this.cells[s].node.setPosition(0,this.realCellStablePosYList[i]);var l=0;l=0==i?this.upperSymbol:i==this.realCellNum-1?this.down_reel:this.spinResult[i-1],this.cells[s].setSymbolIndex(l,!0)}this.stateChangeTo(C.AboutToStop),this.countDown=0}if(this.state==C.Rolling||this.state==C.AboutToStop||this.state==C.BounceBack||this.state==C.RollingWithResult){var o=1;if(this.state==C.AboutToStop&&0==this.countDown){var n=this.realCellStablePosYList[0]-this.distanceState2-this.cells[this.topSpriteIndex].node.position.y;o=Math.max(.4,Math.min(1,.3-n/(this.cellHeight+this.distanceState2)))}for(var h=t*e*o,a=0;a<this.realCellNum;a++){var r=this.cells[a].node.position.y-h;this.cells[a].node.setPosition(0,r)}C.Rolling==this.state&&(this.data.isFakeSpinning||this.data.extendSpin)?this.fake_duration+=t:this.duration+=t}for(var p=this.topSpriteIndex;this.state==C.Rolling||this.state==C.AboutToStop&&this.countDown>0;){p=(p-1+this.realCellNum)%this.realCellNum;var u=this.cells[p].node.position.y;if(!(u<this.realCellStablePosYList[this.realCellNum-1]))break;u+=this.cellHeight*this.realCellNum,this.cells[p].node.setPosition(0,u),this.topSpriteIndex=p;var d=Math.floor(Math.random()*(I.SCATTER_SYMBOLID-1+1))+1;this.state==C.AboutToStop?(this.countDown--,void 0===(d=0==this.countDown?this.upperSymbol:this.spinResult[this.countDown-1])&&(console.warn("symbolIndex is undefined"),d=1),this.cells[p].setSymbolIndex(d,!0)):(2==this.reelIndex&&(d=Math.floor(15*Math.random())+1),this.cells[p].setSymbolIndex(d))}for(;this.state==C.RollingWithResult&&this.RollingWithResultIndex>0;){p=(p-1+this.realCellNum)%this.realCellNum;var c=this.cells[p].node.position.y;if(!(c<this.realCellStablePosYList[this.realCellNum-1]))break;c+=this.cellHeight*this.realCellNum,this.cells[p].node.setPosition(0,c),this.topSpriteIndex=p;var S=this.down_reel;this.cells[p].setSymbolIndex(S),this.RollingWithResultIndex--}if(this.state==C.Rolling)this.RollingWithResultIndex>0&&this.duration>this.durationState1&&this.cells[this.topSpriteIndex].node.position.y>this.realCellStablePosYList[0]&&!this.data.extendSpin&&this.stateChangeTo(C.RollingWithResult);else if(this.state==C.RollingWithResult)this.RollingWithResultIndex<=0&&(this.countDown=this.realCellNum-1,this.stateChangeTo(C.AboutToStop));else if(this.state==C.AboutToStop&&this.countDown<=0){var f=this.realCellStablePosYList[0]-this.distanceState2-this.cells[this.topSpriteIndex].node.position.y;if(f>0){for(var m=0;m<this.realCellNum;m++)this.cells[m].node.setPosition(0,this.cells[m].node.position.y+f);this.playReelStopEffect(),this.stateChangeTo(C.BounceBack)}}else if(this.state==C.BounceBack){var N=this.realCellStablePosYList[0]+this.distanceState3-this.cells[this.topSpriteIndex].node.position.y;if(N<0){this.visible_cells=[];for(var g=!0,b=0;b<this.realCellNum;b++){this.cells[b].node.setPosition(0,this.cells[b].node.position.y+N);var y=App.utils.positiveModulus(b-this.topSpriteIndex,this.realCellNum);y>=1&&y<=this.realCellNum-2&&(this.cells[b].setSymbolIndexFather(),this.shouldPlayChipDown||this.spinTable.reSpinChipTemp?(this.performChipDown(b),this.spinTable.spinLayer.gameLayer.judgeBgScInterval()):this.performChipDownNoWin(b),this.shouldPlayScatterDown&&(Log.d("ssssaaaasss this.cells[i].symbolIndex = ",this.cells[b].symbolIndex),this.cells[b].symbolIndex==I.SCATTER_SYMBOLID&&(this.performScatterDown(b),g&&(g=!1,this.spinTable.spinLayer.gameLayer.judgeScInterval(this.reelIndex)))),this.visible_cells[y-1]=this.cells[b])}this.stopExpecting(),this.stateChangeTo(C.Idle),this.spinTable.tableChangeToIdle(),this.stopped=!0,this.isStrat&&(this.isStrat=!1,this.stopUpdate())}}}},n.performScatterDown=function(t){this.cells[t].performScatterDownAnimation()},n.performChipDown=function(t){this.cells[t].performChipDown()},n.performChipDownNoWin=function(t){this.cells[t].performChipDownNoWin()},n.multiBling=function(t,e){},n.symbolUp=function(t,e,i){void 0===i&&(i=0),this.cells[t].checkFather(e,i)},n.performExpecting=function(){f.stopAllByTarget(this.speedPosNode),m(this.speedPosNode).to(.1,{position:new N(0,this.speedState2,0)},{easing:"sineInOut"}).start()},n.stopExpecting=function(){this.spinTable&&this.spinTable.stopExpecting(this.reelIndex)},n.chipMulti=function(t,e){},n.chipWinAdd=function(t){this.cells[t].chipWinAdd()},n.performScIdle2=function(){for(var t=0;t<this.spinResult.length;t++)if(this.spinResult[t]==I.SCATTER_SYMBOLID){var e=App.utils.positiveModulus(t-this.topSpriteIndex,this.realCellNum);this.cells[e].performScIdle2()}},n.symbolDown=function(){for(var t=0;t<this.cells.length;t++)f.stopAllByTarget(this.cells[t].node),this.cells[t].stopAnimation(),this.cells[t].checkFather(this.clippingNode)},n.reSpinSymbolDown=function(){for(var t=0;t<this.cells.length;t++){var e=App.utils.positiveModulus(t-this.topSpriteIndex,this.realCellNum);f.stopAllByTarget(this.cells[e].node),this.cells[e].symbolIndex!=I.SCATTER_SYMBOLID&&this.cells[e].checkFather(this.clippingNode)}},n.setDurationState1=function(t){this.durationState1=t},n.getDurationState1=function(){return this.durationState1},n.setDuration=function(t){this.duration=t},n.getDuration=function(){return this.duration},n.isStarted=function(){return this.toStart||this.state!=C.Idle},n.isStopped=function(){return this.toStop||this.state==C.Idle},n.spin=function(){Log.d("cjh-----spin isStarted",this.toStart,this.state),this.isStarted()||(this.toStart=!0,this.toStop=!1,this.setAboutToStop(!1))},n.reSpin=function(){this.toStart=!0,this.toStop=!1,this.setAboutToStop(!1)},n.stop=function(){this.isStopped()||(this.toStop=!0)},n.setAboutToStop=function(t){for(var e=0;e<this.cells.length;e++)this.cells[e].setAboutToStop(t)},n.getVisibleCellsIndexList=function(){return this.visible_cells},n.playReelStopEffect=function(){this.spinTable.playNormalStopEffect()},n.stateChangeTo=function(t){this.state=t,this.state==C.Idle?(f.stopAllByTarget(this.speedPosNode),this.speedPosNode.setPosition(new N(0,0,0))):this.state==C.Rolling?(f.stopAllByTarget(this.speedPosNode),this.speedPosNode.setPosition(new N(0,0,0)),m(this.speedPosNode).to(.1,{position:new N(0,this.speedState1,0)},{easing:"sineInOut"}).start()):this.state==C.BounceBack&&(f.stopAllByTarget(this.speedPosNode),this.speedPosNode.setPosition(new N(0,0,0)),m(this.speedPosNode).to(.15,{position:new N(0,-this.speedState3,0)},{easing:"sineOut"}).start())},o(e,[{key:"data",get:function(){return App.dataCenter.get(b)}}]),e}(g)).prototype,"defaultFrame",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(A.prototype,"reelBackSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(A.prototype,"speedPosNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(A.prototype,"spinElement",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(A.prototype,"clippingNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=A))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpinTable4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpinReel4.ts","./SubGameConstants18.ts","./SubGameData21.ts","./SubGameDefines21.ts","./Global.ts","./CommonEvent.ts"],(function(t){var e,i,n,s,a,l,o,r,h,p,c,u,d,f,m,y,L,g,b,S,N,C,E,_,F,T,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.createClass},function(t){l=t.cclegacy,o=t._decorator,r=t.Sprite,h=t.SpriteFrame,p=t.Mask,c=t.Node,u=t.sp,d=t.Button,f=t.UITransform,m=t.Size,y=t.Tween,L=t.tween,g=t.Vec3,b=t.Component},function(t){S=t.SpinReel},function(t){N=t.ThemeHotChili},function(t){C=t.SubGameData},function(t){E=t.SpinTableState,_=t.EventName,F=t.THEME_GAME_TYPE},function(t){T=t.Global},function(t){v=t.CommonEvent}],execute:function(){var w,A,R,I,P,x,D,z,Y,G,M,O,X,k,j,B,W,U,J,H,V,q,K,Q,Z,$,tt,et,it,nt,st,at,lt,ot,rt,ht,pt,ct,ut,dt,ft,mt,yt,Lt,gt,bt,St,Nt,Ct,Et,_t,Ft,Tt,vt,wt,At,Rt,It,Pt,xt,Dt,zt,Yt;l._RF.push({},"35461ITu4JDtJ6slluI57yh","SpinTable",void 0);var Gt=o.ccclass,Mt=o.property;t("SpinTable",(w=Gt("SpinTable"),A=Mt({displayName:"frameL",type:r}),R=Mt({displayName:"frameR",type:r}),I=Mt({displayName:"frameTop",type:r}),P=Mt({displayName:"frameDown",type:r}),x=Mt({displayName:"earL",type:r}),D=Mt({displayName:"earR",type:r}),z=Mt({displayName:"lineL",type:r}),Y=Mt({displayName:"lineR",type:r}),G=Mt({displayName:"lineFrame",type:[h]}),M=Mt({displayName:"columnBar",type:[r]}),O=Mt({displayName:"SpinReel",type:[S]}),X=Mt({displayName:"clippingNode",type:p}),k=Mt({displayName:"higherClipNode1",type:[c]}),j=Mt({displayName:"higherClipNode2",type:[c]}),B=Mt({displayName:"higherClipNode3",type:[c]}),W=Mt({displayName:"unclipNode",type:[c]}),U=Mt({displayName:"unclipNode2",type:[c]}),J=Mt({displayName:"unclipNode3",type:[c]}),H=Mt({displayName:"unclipNode4",type:[c]}),V=Mt({displayName:"unclipNode5",type:[c]}),q=Mt({displayName:"unclipNode6",type:[c]}),K=Mt({displayName:"unclipNode7",type:[c]}),Q=Mt({displayName:"unclipNode8",type:[c]}),Z=Mt({displayName:"expectAnimation",type:[u.Skeleton]}),$=Mt({displayName:"respinAnimation",type:[u.Skeleton]}),tt=Mt({displayName:"multiFlyNode",type:c}),et=Mt({displayName:"flyAni",type:u.Skeleton}),it=Mt({displayName:"chipFrame",type:[h]}),nt=Mt({displayName:"chipJpSprite",type:r}),st=Mt({displayName:"btnTable",type:d}),w((ot=e((lt=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))||this).spinLayer=null,n(e,"frameL",ot,s(e)),n(e,"frameR",rt,s(e)),n(e,"frameTop",ht,s(e)),n(e,"frameDown",pt,s(e)),n(e,"earL",ct,s(e)),n(e,"earR",ut,s(e)),n(e,"lineL",dt,s(e)),n(e,"lineR",ft,s(e)),n(e,"lineFrame",mt,s(e)),n(e,"columnBar",yt,s(e)),n(e,"spinReels",Lt,s(e)),n(e,"clippingNode",gt,s(e)),n(e,"higherClipNode1",bt,s(e)),n(e,"higherClipNode2",St,s(e)),n(e,"higherClipNode3",Nt,s(e)),n(e,"unclipNode",Ct,s(e)),n(e,"unclipNode2",Et,s(e)),n(e,"unclipNode3",_t,s(e)),n(e,"unclipNode4",Ft,s(e)),n(e,"unclipNode5",Tt,s(e)),n(e,"unclipNode6",vt,s(e)),n(e,"unclipNode7",wt,s(e)),n(e,"unclipNode8",At,s(e)),n(e,"expectAnimation",Rt,s(e)),n(e,"respinAnimation",It,s(e)),n(e,"multiFlyNode",Pt,s(e)),n(e,"flyAni",xt,s(e)),n(e,"chipFrame",Dt,s(e)),n(e,"chipJpSprite",zt,s(e)),n(e,"btnTable",Yt,s(e)),e.cellList=[],e.spinResult=[],e.upperSymbols=[],e.down_reel=[],e.reSpinChipTemp=!1,e.scIdle2=!1,e.state=E.Idle,e.shouldExpecting=!1,e.stopIndex=0,e.isForceStop=!1,e.shouldExpectingCellList=[],e.reelEndIndex=0,e.hasScatter=[],e.hasScatterFromLeftNum=[],e.hasChip=[],e.hasXnum=[],e.hasChipFromLeftNum=[],e.posXList=[],e.posYList=[],e.lineNum=0,e.durationState1Base_NG=.5,e.durationState1Base_BG=1.5,e.durationDiv=.15,e.durationDivFG=.5,e.durationFast=.04,e.reelFastEffectLength=2.1,e.spinStartEffectEnded=!0,e.spinStopEffectEnded=!0,e.centerX=0,e.centerY=0,e._updateCallback=null,e}i(e,t);var l=e.prototype;return l.onTableTouch=function(){T.playback||dispatch(v.NOTIFY_CLICK_SPIN)},l.clearGroup=function(){this.unscheduleAllCallbacks()},l.init=function(t,e,i,n){this.centerX=0,this.centerY=0,this.posXList=e,this.posYList=i,this.lineNum=n;var s=[0,281,231,181,131];this.frameL.node.setPosition(this.centerX-332,this.centerY-s[n-2]),this.frameL.node.setScale(1,n/3),this.frameR.node.setPosition(this.centerX+331.5,this.centerY-s[n-2]),this.frameR.node.setScale(1,n/3),this.frameTop.node.setPosition(this.centerX+.5,this.centerY-101.5+100*(n-3)),this.frameDown.node.setPosition(this.centerX-2,this.centerY-450),this.earL.node.setPosition(this.centerX-340,this.centerY-s[n-2]),this.earR.node.setPosition(this.centerX+340,this.centerY-s[n-2]),this.lineL.spriteFrame=this.lineFrame[n-3],this.lineL.node.setPosition(this.centerX-330,this.centerY-s[n-2]),this.lineR.spriteFrame=this.lineFrame[n-3],this.lineR.node.setPosition(this.centerX+330,this.centerY-s[n-2]);for(var a=[this.centerX-64-128,this.centerX-64,this.centerX+64,this.centerX+64+128],l=0;l<4;l++)this.columnBar[l].node.setPosition(a[l],this.centerY-s[n-2]),this.columnBar[l].node.setScale(1,n/3);var o=this.clippingNode.node.getComponent(f);o&&o.setContentSize(new m(t.width*N.ColumnNum*1.2,t.height*n)),this.clippingNode.node.setPosition(this.centerX+1,this.centerY-s[n-2]);var r=this.btnTable.node.getComponent(f);r&&r.setContentSize(new m(t.width*N.ColumnNum*1.2,t.height*n));i[0],i[i.length-1];for(var h=0;h<e.length;h++){new m(120,100);var p=e[h],c=this.centerY-s[n-2],u=this.higherClipNode1[h],d=this.higherClipNode2[h],y=this.higherClipNode3[h],L=this.unclipNode[h],g=this.unclipNode2[h],b=this.unclipNode3[h],C=this.unclipNode4[h],E=this.unclipNode5[h],_=this.unclipNode6[h],F=this.unclipNode7[h],T=this.unclipNode8[h];if(this.spinReels[h]){u.setPosition(p,c),d.setPosition(p,c),y.setPosition(p,c),L.setPosition(p,c),g.setPosition(p,c),b.setPosition(p,c),C.setPosition(p,c),E.setPosition(p,c),_.setPosition(p,c),F.setPosition(p,c),T.setPosition(p,c);var v=this.spinReels[h].getComponent(S);v&&(v.reelIndex=h,v.spinTable=this,v.setFathers(L,g,b,C,E,_,F,T,u,d,y),v.init(n,t),v.setDurationState1(this.durationState1Base_NG+h*this.durationDiv),this.cellList[h]=v)}}},l.checkCellsInit=function(){for(var t=0;t<this.cellList.length;t++)this.cellList[t].spinResult=this.spinResult[t],this.cellList[t].upperSymbol=this.upperSymbols[t],this.cellList[t].down_reel=this.down_reel[t],this.cellList[t].initReelPositions(this.spinResult[t])},l.performMultiFly=function(){var t,e=this,i=this.spinLayer.spinResult,n=i.item_list,s=["lvlajiao","zilajiao","honglajiao","huanglajiao"];dispatch(_.PLAY_EFFECT,"audio/bgsc_collect");for(var a=0;a<n[2].length;a++){var l=n[2][a];if(l>=12&&l<=15){var o=s[l-12];if(this.flyAni.node.active=!0,this.flyAni.clearTracks(),this.flyAni.setSkin(o),F.MAIN==this.data.GameType){var r="lajiao_4_"+(3-a);this.flyAni.setAnimation(0,r,!1)}else if(F.FREE==this.data.GameType){var h=this.spinLayer.gameLayer.fgType,p="";p=3==h?"lajiao_4_"+(3-a):"lajiao_"+h+"_"+(h-a),this.flyAni.setAnimation(0,p,!1)}}}(this.spinLayer.collectPot.node.active=!0,this.spinLayer.collectPot.setAnimation(0,"idle"+this.data.bow_state1,!0),this.data.QUICK_STOP)||5==this.data.bow_state1&&(this.spinLayer.ng_Chili.node.active=!0,"daiji"!=(null==(t=this.spinLayer.ng_Chili.node.getComponent(u.Skeleton))?void 0:t.animation)&&this.spinLayer.ng_Chili.addAnimation(0,"daiji",!0));y.stopAllByTarget(this.multiFlyNode),L(this.multiFlyNode).delay(.67).call((function(){e.spinLayer.collectPot.setAnimation(0,"collect"+e.data.bow_state1,!1)})).delay(1).call((function(){var t;e.data.bow_state2>e.data.bow_state1?(e.spinLayer.collectPot.setAnimation(0,e.data.bow_state1+"To"+e.data.bow_state2,!1),i.bonus_game_trig&&1===i.bonus_game_trig?(e.spinLayer.collectPot.addAnimation(0,"waiting",!0),e.scheduleOnce((function(){}),2)):e.spinLayer.collectPot.addAnimation(0,"idle"+e.data.bow_state2,!0),5===e.data.bow_state2&&(dispatch(_.PLAY_EFFECT,"audio/chilliman_in"),e.spinLayer.ng_Chili.node.active=!0,e.spinLayer.ng_Chili.setAnimation(0,"jinru",!1),i.bonus_game_trig&&1===i.bonus_game_trig?e.spinLayer.ng_Chili.addAnimation(0,"qingzhu",!0):"daiji"!=(null==(t=e.spinLayer.ng_Chili.node.getComponent(u.Skeleton))?void 0:t.animation)&&e.spinLayer.ng_Chili.addAnimation(0,"daiji",!0))):i.bonus_game_trig&&1===i.bonus_game_trig?(e.spinLayer.collectPot.addAnimation(0,"waiting",!0),e.spinLayer.ng_Chili.setAnimation(0,"qingzhu",!0)):e.spinLayer.collectPot.setAnimation(0,"idle"+e.data.bow_state1,!0)})).start()},l.performChipWin=function(t){for(var e,i=this,n=0,s=this.cellList[2].getVisibleCellsIndexList(),a=0;a<s.length;a++){var l=s[a].symbolIndex;if(l>=12&&l<=15){e=a,n=l-10;break}}if(n>0&&void 0!==e){this.chipJpSprite.spriteFrame=this.chipFrame[n-2],this.chipJpSprite.node.setPosition(this.posXList[2],this.posYList[e]);var o=(this.posYList[0]+this.posYList[this.posYList.length-1])/2;Log.d("ssss offset_y = ",o),dispatch(_.PLAY_EFFECT,"audio/reelbgsc"),this.scheduleOnce((function(){dispatch(_.PLAY_EFFECT,"audio/bgsc_multi"),i.chipJpSprite.node.active=!0,L(i.chipJpSprite.node).to(.5,{position:new g(i.posXList[2],o)}).to(.5,{position:new g(i.posXList[2],i.posYList[e])}).start(),L(i.chipJpSprite.node).to(.5,{scale:new g(1.2,1.2,1)}).to(.5,{scale:new g(.35,.35,1)}).start(),L(i.chipJpSprite.node).delay(1).call((function(){dispatch(_.PLAY_EFFECT,"audio/bgsc_win"),i.chipJpSprite.node.active=!1})).start()}),1),this.scheduleOnce((function(){i.chipMulti(n)}),2),this.scheduleOnce((function(){i.chipWinAdd(n)}),3.3)}else this.scheduleOnce((function(){i.chipWinAdd(1)}),.1)},l.chipMulti=function(t){dispatch(_.PLAY_EFFECT,"audio/bgscmul_win");for(var e=this.spinLayer.chipHitPos,i=this.spinLayer.spinResult.item_list,n=0;n<i.length;n++)for(var s=this.cellList[n].getVisibleCellsIndexList(),a=0;a<s.length;a++){s[a].symbolIndex>N.CHIP_SYMBOLID&&1==e[n][a]&&(s[a].chipWin_zhongjiang(),s[a].chipMulti(t))}},l.chipWinAdd=function(t){for(var e=this,i=0,n=this.spinLayer.chipHitPos,s=this.spinLayer.spinResult.item_list,a=function(){for(var s=e.cellList[l].getVisibleCellsIndexList(),a=function(a){var o=s[a].symbolIndex;if(o>N.CHIP_SYMBOLID&&1==n[l][a]){var r=o*t;e.scheduleOnce((function(){dispatch(_.PLAY_EFFECT,"audio/bgsc_win"),s[a].chipWinAdd(),s[a].chipLabel_zhongjiang(r),s[a].chipWin_zhongjiang()}),i),e.scheduleOnce((function(){dispatch(_.ROLLING_WIN_SCORE,r),dispatch(_.PLAY_EFFECT,"audio/frame_win"),dispatch(_.SET_MUSIC_VOLUME,.2)}),i+.17),i+=.5}},o=0;o<s.length;o++)a(o)},l=0;l<s.length;l++)a();this.scheduleOnce((function(){e.spinLayer.effectLayer.ChipWinTemp=1,e.spinLayer.effectLayer.performChipWin()}),i+.5)},l.performChipWinAfterQuickStop=function(){for(var t=this,e=1,i=this.cellList[2].getVisibleCellsIndexList(),n=0;n<i.length;n++){var s=i[n].symbolIndex;if(s>=12&&s<=15){e=s-10;break}}for(var a=this.spinLayer.chipHitPos,l=this.spinLayer.spinResult.item_list,o=0,r=0;r<l.length;r++)for(var h=this.cellList[r].getVisibleCellsIndexList(),p=0;p<h.length;p++){var c=h[p].symbolIndex;if(c>N.CHIP_SYMBOLID&&1==a[r][p])o+=c*e,h[p].chipMulti(e),h[p].chipWin_zhongjiang()}dispatch(_.ROLLING_WIN_SCORE,o),this.scheduleOnce((function(){t.spinLayer.effectLayer.ChipWinTemp=1,t.spinLayer.effectLayer.performChipWin()}),.5)},l.performReSpin=function(){var t=this;this.reSpinChipTemp=!0;for(var e=[],i=0,n=this.spinLayer.gameLayer.reSpinInfo,s=function(s){e[s]=0;for(var a=2;a<5;a++)1==n[s].respin_info_tag[a]&&(e[s]=e[s]+1);var l=0;t.scheduleOnce((function(){dispatch(_.PLAY_EFFECT,"audio/respin"),dispatch(_.PLAY_EFFECT,"audio/respin2");for(var e=function(e){if(1==n[s].respin_info_tag[e]){l+=1,t.respinAnimation[e].node.active=!0;var i=t.spinLayer.gameLayer.fgType+"X";t.respinAnimation[e].setAnimation(0,i,!1),t.respinAnimation[e].setCompleteListener((function(n){(n.animation?n.animation.name:"")===i&&(t.respinAnimation[e].node.active=!1)})),t.cellList[e].reSpinSymbolDown(),t.spin(n[s].respin_info_list,s,e,l)}},i=2;i<5;i++)e(i)}),i),i=i+1.8+(t.reelFastEffectLength-.35)*e[s]+2},a=1;a<n.length;a++)s(a);for(var l=0,o=1;o<n.length;o++)l=l+1.9+(this.reelFastEffectLength-.35)*e[o]+2;this.scheduleOnce((function(){t.reSpinChipTemp=!1,t.spinLayer.effectLayer.ReSpinTemp=1,t.spinLayer.effectLayer.performReSpin()}),l)},l.rearrangeTable=function(){if(F.MAIN==this.data.GameType||F.FREE==this.data.GameType||F.MAPFREE==this.data.GameType)for(var t=0;t<this.cellList.length;t++)this.cellList[t].node.active=!0},l.startUpdate=function(){for(var t=0;t<this.cellList.length;t++)this.cellList[t].startUpdate()},l.stopUpdate=function(){},l.resetChangeToIdle=function(){this.stopUpdate(),this.spinLayer.gameLayer.expectEnd(),this.spinLayer.spinLayerChangeToShow(),this.stateChangeTo(E.Idle)},l.tableChangeToIdle=function(){this.reelEndIndex+=1,this.reelEndIndex<N.ColumnNum||(this.stopUpdate(),this.spinLayer.gameLayer.expectEnd(),this.spinLayer.spinLayerChangeToShow(),this.data.getAutoStatus()||this.data.GameType!=F.MAIN||this.stateChangeTo(E.Idle),this.data.GameType==F.FREE&&this.stateChangeTo(E.Idle))},l.tableChangeToRoll=function(){this.data.cancelEnableStop=!1,this.spinLayer.spinLayerChangeToRoll(),this.stateChangeTo(E.Rolling)},l.spin=function(t,e,i,n){var s=this;if(void 0===t&&(t=null),void 0===i&&(i=0),void 0===n&&(n=0),Log.d("cjh-----spin this.state = ",this.state,this.data.isFakeSpinning),this.state==E.Idle||this.data.isFakeSpinning){var a=0;if(this.shouldExpecting=!1,this.stopIndex=0,this.isForceStop=!1,this.shouldExpectingCellList=[],this.reelEndIndex=0,Log.d("cjh-----spin type = ",this.data.GameType),F.MAIN==this.data.GameType||F.FREE==this.data.GameType&&!t){this.data.isFakeSpinning=!1,this.hasScatter=[],this.hasScatterFromLeftNum=[],this.hasChip=[],this.hasXnum=[],this.hasChipFromLeftNum=[];for(var l=0;l<N.ColumnNum;l++)this.hasScatter[l]=!1,this.hasScatterFromLeftNum[l]=0,this.shouldExpectingCellList[l]=!1,this.hasChip[l]=!1,this.hasXnum[l]=!1,this.hasChipFromLeftNum[l]=0;for(var o=0;o<this.cellList.length;o++){this.cellList[o].spinResult=this.spinResult[o],this.cellList[o].upperSymbol=this.upperSymbols[o],this.cellList[o].down_reel=this.down_reel[o],this.cellList[o].RollingWithResultIndex=1,this.cellList[o].shouldPlayScatterDown=!1,this.cellList[o].shouldPlayChipDown=!1;for(var r=N.SCATTER_SYMBOLID,h=0;h<this.cellList[o].spinResult.length;h++)this.cellList[o].spinResult[h]==r&&(this.hasScatter[o]=!0,o>=0&&o<=2?this.cellList[o].shouldPlayScatterDown=!0:3==o?this.hasScatterFromLeftNum[o]>=1&&(this.cellList[o].shouldPlayScatterDown=!0):4==o&&this.hasScatterFromLeftNum[o]>=2&&(this.cellList[o].shouldPlayScatterDown=!0));for(var p=0;p<this.cellList[o].spinResult.length;p++)this.cellList[o].spinResult[p]>=12&&this.cellList[o].spinResult[p]<=15&&(this.hasXnum[o]=!0,Log.d("zd: "+this.cellList[o].spinResult[p])),this.cellList[o].spinResult[p]>=N.CHIP_SYMBOLID&&(this.hasChip[o]=!0,0==o?this.cellList[o].shouldPlayChipDown=!0:F.MAIN==this.data.GameType?this.hasChipFromLeftNum[o]>=o&&(this.cellList[o].shouldPlayChipDown=!0):F.FREE==this.data.GameType&&(1==o?this.hasChipFromLeftNum[1]>=1&&(this.cellList[o].shouldPlayChipDown=!0):this.hasChipFromLeftNum[2]>=2&&(this.cellList[o].shouldPlayChipDown=!0)));this.hasScatter[o]&&o<N.ColumnNum-1?this.hasScatterFromLeftNum[o+1]=this.hasScatterFromLeftNum[o]+1:this.hasScatterFromLeftNum[o+1]=this.hasScatterFromLeftNum[o],(this.hasChip[o]||this.hasXnum[o])&&o<N.ColumnNum-1?this.hasChipFromLeftNum[o+1]=this.hasChipFromLeftNum[o]+1:this.hasChipFromLeftNum[o+1]=this.hasChipFromLeftNum[o];var c=!1;F.MAIN==this.data.GameType&&(c=this.data.getTurboStatus()),c?0==o?((a=this.durationFast-this.cellList[o].fake_duration)<0&&(a=0),this.cellList[o].setDurationState1(a)):this.cellList[o].setDurationState1(this.cellList[o-1].getDurationState1()):0==o?((a=this.durationState1Base_NG-this.cellList[o].fake_duration)<0&&(a=0),this.cellList[o].setDurationState1(a)):o>=2&&(this.hasScatterFromLeftNum[o]>=2||F.MAIN==this.data.GameType&&this.hasChipFromLeftNum[o]>=o||F.FREE==this.data.GameType&&this.hasChipFromLeftNum[2]>=2)?(this.cellList[o].setDurationState1(this.cellList[o-1].getDurationState1()+this.reelFastEffectLength),this.shouldExpectingCellList[o]=!0,this.shouldExpecting=!0):this.cellList[o].setDurationState1(this.cellList[o-1].getDurationState1()+this.durationDiv),this.cellList[o].spin()}}else F.FREE==this.data.GameType&&t&&(this.scheduleOnce((function(){s.performExpecting(i,!0)}),1.6),this.scheduleOnce((function(){s.cellList[i].spinResult=t.item_list[i],s.cellList[i].upperSymbol=t.upper_reel[i],s.cellList[i].down_reel=t.down_reel[i],s.cellList[i].RollingWithResultIndex=1,s.cellList[i].shouldPlayScatterDown=!1,a=(s.reelFastEffectLength-.35)*n,s.cellList[i].setDurationState1(a),s.cellList[i].reSpin(),s.cellList[i].startUpdate(),L(s.node).delay((s.reelFastEffectLength-.35)*(n-1)+.1).call((function(){dispatch(_.PLAY_EFFECT,"audio/reelfast")})).start()}),1.8));var u=a+.5;this.spinStartEffectEnded=!1,this.scheduleOnce(this.endSpinStartEffect,u)}},l.stop=function(){if(this.state==E.Rolling){if(this.clearGroup(),this.isForceStop=!0,F.MAIN==this.data.GameType||F.FREE==this.data.GameType||F.MAPFREE==this.data.GameType)for(var t=0;t<this.cellList.length;t++)this.cellList[t].stop();this.spinStartEffectEnded=!0,this.spinStopEffectEnded=!1,this.scheduleOnce(this.endSpinStopEffect,.25)}},l.endSpinStartEffect=function(){this.spinStartEffectEnded=!0},l.endSpinStopEffect=function(){this.spinStopEffectEnded=!0},l.isRollingEffectFinished=function(){return this.spinStartEffectEnded&&this.spinStopEffectEnded},l.allSymbolDown=function(){for(var t=0;t<this.cellList.length;t++)this.cellList[t].symbolDown()},l.playNormalStopEffect=function(){var t=this;this.stopIndex=this.stopIndex+1,this.isForceStop||this.data.getTurboStatus()&&F.MAIN==this.data.GameType?5==this.stopIndex&&dispatch(_.PLAY_EFFECT,"audio/reelstop"):dispatch(_.PLAY_EFFECT,"audio/reelstop");var e=this.stopIndex;if(e=Math.min(e,5),this.shouldExpectingCellList[e]&&e>=2){if(!this.scIdle2){this.scIdle2=!0;for(var i=0;i<e;i++)this.cellList[i].performScIdle2()}this.shouldExpectingCellList[e]=!1,this.spinLayer.gameLayer.expectStart(),this.performExpecting(e,!1),dispatch(_.SET_MUSIC_VOLUME,1),this.data.isReel=!0,dispatch(_.PLAY_EFFECT,"audio/reelfast"),this.scheduleOnce((function(){t.stopExpecting(e),dispatch(_.STOP_EFFECT,"audio/reelfast")}),this.reelFastEffectLength+4)}},l.stopAllExpect=function(){var t=this;this.cellList.forEach((function(e,i){t.shouldExpectingCellList[i]=!1}))},l.stateChangeTo=function(t){this.state=t,Log.d("cjh-----ThemeHotChiliSpinTable state = ",t)},l.fakeSpin=function(){this.startUpdate(),this.scIdle2=!1;for(var t=this.data.getTurboStatus(),e=0;e<N.ColumnNum;e++)this.cellList[e].elementZOrder=1e7,t&&this.data.GameType==F.MAIN?this.cellList[e].setDurationState1(this.durationFast):0==e?this.cellList[e].setDurationState1(this.durationState1Base_NG):this.cellList[e].setDurationState1(this.cellList[e].getDurationState1()+this.durationDiv),this.cellList[e].spin();this.data.isFakeSpinning=!0,this.tableChangeToRoll()},l.performExpecting=function(t,e){this.expectAnimation[t].node.active=!0,this.expectAnimation[t].clearTracks(),F.MAIN==this.data.GameType?this.expectAnimation[t].setAnimation(0,"ng_tp",!0):F.FREE==this.data.GameType&&(3==this.spinLayer.gameLayer.fgType?this.expectAnimation[t].setAnimation(0,"ng_tp",!0):this.expectAnimation[t].setAnimation(0,"fg_X"+this.spinLayer.gameLayer.fgType,!0)),this.cellList[t].performExpecting()},l.stopExpecting=function(t){this.expectAnimation[t].node.active=!1},a(e,[{key:"data",get:function(){return App.dataCenter.get(C)}}]),e}(b)).prototype,"frameL",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(lt.prototype,"frameR",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(lt.prototype,"frameTop",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(lt.prototype,"frameDown",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(lt.prototype,"earL",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(lt.prototype,"earR",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(lt.prototype,"lineL",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(lt.prototype,"lineR",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(lt.prototype,"lineFrame",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yt=e(lt.prototype,"columnBar",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lt=e(lt.prototype,"spinReels",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gt=e(lt.prototype,"clippingNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(lt.prototype,"higherClipNode1",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),St=e(lt.prototype,"higherClipNode2",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=e(lt.prototype,"higherClipNode3",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ct=e(lt.prototype,"unclipNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Et=e(lt.prototype,"unclipNode2",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_t=e(lt.prototype,"unclipNode3",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ft=e(lt.prototype,"unclipNode4",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tt=e(lt.prototype,"unclipNode5",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vt=e(lt.prototype,"unclipNode6",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wt=e(lt.prototype,"unclipNode7",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),At=e(lt.prototype,"unclipNode8",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Rt=e(lt.prototype,"expectAnimation",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),It=e(lt.prototype,"respinAnimation",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pt=e(lt.prototype,"multiFlyNode",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(lt.prototype,"flyAni",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(lt.prototype,"chipFrame",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zt=e(lt.prototype,"chipJpSprite",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=e(lt.prototype,"btnTable",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=lt))||at));l._RF.pop()}}}));

System.register("chunks:///_virtual/Sticker4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Global.ts","./CommonEvent.ts","./SubGameData21.ts","./ScreenHelper5.ts"],(function(i){var t,o,n,e,s,r,a,h,l,c,g,_,P,d;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,n=i.initializerDefineProperty,e=i.assertThisInitialized,s=i.createClass},function(i){r=i.cclegacy,a=i._decorator,h=i.Enum,l=i.v3},function(i){c=i.default},function(i){g=i.Global},function(i){_=i.CommonEvent},function(i){P=i.SubGameData},function(i){d=i.ScreenHelper}],execute:function(){var u,p,y,f,O,T,z,S;r._RF.push({},"c27b8liXWFKmbAEZjyVQ7Q9","Sticker",void 0);var b=a.ccclass,m=a.executeInEditMode,E=a.menu,k=a.property,w=function(i){return i[i.TOP=0]="TOP",i[i.RIGHT=1]="RIGHT",i[i.BOTTOM=2]="BOTTOM",i[i.LEFT=3]="LEFT",i}(w||{});i("Sticker",(u=b("Sticker"),p=E(P.module+"/components/Sticker"),y=m(!0),f=k({type:h(w)}),O=k({type:h(w)}),u(T=p(T=y((t((z=function(i){function t(){for(var t,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,n(t,"_location",S,e(t)),t._originalPosition=l(),t}o(t,i);var r=t.prototype;return r.onLoad=function(){i.prototype.onLoad.call(this),this.onD(_.SWITCH_SCREEN,this._onOrientationChange),this._originalPosition.set(this.node.position)},r.onEnable=function(){var t;null==(t=i.prototype.onEnable)||t.call(this),this._onOrientationChange(App.utils.getOrientation())},r.updateOriginalPosition=function(i,t,o){i===this._originalPosition.x&&t===this._originalPosition.y&&o===this._originalPosition.z||(this._originalPosition.set(i,t,o),this._onOrientationChange(App.utils.getOrientation()))},r._onOrientationChange=function(i){if("portrait"===i)switch(this._location){case w.TOP:this.node.setPosition(this._originalPosition.x,this._originalPosition.y-.5*(g.design_width-d.renderSize.height),this._originalPosition.z);break;case w.RIGHT:this.node.setPosition(this._originalPosition.x-.5*(g.design_height-d.renderSize.width),this._originalPosition.y,this._originalPosition.z);break;case w.BOTTOM:this.node.setPosition(this._originalPosition.x,this._originalPosition.y+.5*(g.design_width-d.renderSize.height),this._originalPosition.z);break;case w.LEFT:this.node.setPosition(this._originalPosition.x+.5*(g.design_height-d.renderSize.width),this._originalPosition.y,this._originalPosition.z)}else switch(this._location){case w.TOP:this.node.setPosition(this._originalPosition.x,this._originalPosition.y-.5*(g.design_height-d.renderSize.height),this._originalPosition.z);break;case w.RIGHT:this.node.setPosition(this._originalPosition.x-.5*(g.design_width-d.renderSize.width),this._originalPosition.y,this._originalPosition.z);break;case w.BOTTOM:this.node.setPosition(this._originalPosition.x,this._originalPosition.y+.5*(g.design_height-d.renderSize.height),this._originalPosition.z);break;case w.LEFT:this.node.setPosition(this._originalPosition.x+.5*(g.design_width-d.renderSize.width),this._originalPosition.y,this._originalPosition.z)}},s(t,[{key:"location",get:function(){return this._location},set:function(i){i!==this._location&&(this._location=i,this._onOrientationChange(App.utils.getOrientation()))}}]),t}(c)).prototype,"location",[f],Object.getOwnPropertyDescriptor(z.prototype,"location"),z.prototype),S=t(z.prototype,"_location",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.TOP}}),T=z))||T)||T)||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameConstants18.ts",["cc"],(function(e){var n,i;return{setters:[function(e){n=e.cclegacy,i=e.Size}],execute:function(){var t;e("ThemeHotChili",void 0),n._RF.push({},"ebd83Yequ9MKZwILYjhU1Sd","SubGameConstants",void 0),function(e){e.InfoPageNum=4,e.CellSize=new i(120,100),e.ColumnNum=5,e.RowNum=3,e.CellNum=15,e.VisibleCellNum=3;var n=function(e){return e[e.Idle=0]="Idle",e[e.ReSpin=1]="ReSpin",e[e.MultiFly=2]="MultiFly",e[e.ChipWin=3]="ChipWin",e[e.ScatterAnimation=4]="ScatterAnimation",e[e.SymbolLineAnimation=5]="SymbolLineAnimation",e[e.BigWinAnimation=6]="BigWinAnimation",e[e.FreeGameTrigger=7]="FreeGameTrigger",e[e.StandbyBeforeFreeGameEnter=8]="StandbyBeforeFreeGameEnter",e[e.StandbyBeforeBonusGameEnter=9]="StandbyBeforeBonusGameEnter",e[e.BonusGameEnter=10]="BonusGameEnter",e[e.NoWinDelay=11]="NoWinDelay",e[e.WinDelay=12]="WinDelay",e[e.Checking=13]="Checking",e}({});e.WinShowState=n;for(var t=e.WinShowStateMap={},o=e.WinShowStateList=["Idle","ReSpin","MultiFly","ChipWin","ScatterAnimation","SymbolLineAnimation","BigWinAnimation","FreeGameTrigger","StandbyBeforeFreeGameEnter","StandbyBeforeBonusGameEnter","BonusGameEnter","NoWinDelay","WinDelay","Checking"],a=0;a<o.length;a++)t[o[a]]=a;var r=function(e){return e[e.FreeGamePopIn=0]="FreeGamePopIn",e[e.FreeGamePopAdd=1]="FreeGamePopAdd",e[e.FreeGamePopOut=2]="FreeGamePopOut",e[e.BonusGamePopIn=3]="BonusGamePopIn",e[e.BonusGamePopAdd=4]="BonusGamePopAdd",e[e.BonusGamePopOut=5]="BonusGamePopOut",e[e.JpPopOut=6]="JpPopOut",e[e.GameFever=7]="GameFever",e}({});e.PopupType=r;e.CHIP_SYMBOLID=1e4,e.SCATTER_SYMBOLID=11}(t||(t=e("ThemeHotChili",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameData21.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./SubGameDefines21.ts"],(function(t){var e,n,a,i,s,o,r;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){a=t.cclegacy,i=t.Prefab,s=t.instantiate},function(t){o=t.GameData},function(t){r=t.THEME_GAME_TYPE}],execute:function(){a._RF.push({},"b89a56aT4dAiZw0WxijiQDG","SubGameData",void 0),t("SubGameData",function(t){function a(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).isReel=!1,e.QUICK_STOP=!1,e.QUICK_SPIN=!1,e.TURBO_SPIN=!1,e.SKIP_SCREENS=!0,e.AUTOPLAY=!1,e.bHasLoadedRes=!1,e.bHasEnterGame=!1,e.isfirstAni=!0,e.m_money=0,e.m_total_bet=0,e.m_buyFreeSpins=15,e.m_slotInfo=null,e.m_lastMapData=null,e.m_response=0,e.loadDataFinish=!1,e.loadFinish=!1,e.isDebug=!1,e.pools=new Map,e.scIdle2=!1,e.cancelEnableStop=!1,e.isFakeSpinning=!1,e.extendSpin=!1,e.performChipWin=!1,e.QuickStartReelOrders=[],e.bow_state2=1,e.bow_state1=1,e.received_message=!1,e.switch_bet=!1,e.reSpin=!1,e.free_spins=0,e.playBack_fg_select=0,e.playBack_jp_data=null,e.ChipWinTemp=!1,e.auto_play_delay=1,e.total_win=0,e.m_gameType=r.MAIN,e}e(a,t);var o=a.prototype;return o.initPools=function(){for(var t=1;t<=17;t++)this._createSymbol(t)},o.getPrefabsName=function(t){var e=null;return t>=1&&t<=5?e="H"+t:t>=6&&t<=10?e="L"+(t-5):11==t?e="sc":t>=12&&t<=14?e="bgSc":15==t?e="bgScMulti":16==t?e="chipJpSprite":17==t?e="chipStrLabel":t>1e4&&(e="bgSc"),e},o._createSymbol=function(t){var e=this.getPrefabsName(t);if(e){var n;if(!this.pools.has(e)){var a,o=App.pool.createPool(e),r=null==(a=App.cache.get(this.module,"prefabs/symbol/"+e,i))?void 0:a.data;if(r instanceof i){var u=s(r);o.cloneNode=u}this.pools.set(e,o)}var l=null==(n=this.pools.get(e))?void 0:n.get();if(l)return l}return null},o._recycleSymbol=function(t){var e;this.pools.has(t.name)&&(t.isValid&&(null==(e=this.pools.get(t.name))||e.put(t)))},o.getAutoStatus=function(){return this.AUTOPLAY},o.getTurboStatus=function(){return this.QUICK_SPIN||this.TURBO_SPIN},o.generateRandomArray=function(t,e,n,a){for(var i=[],s=0;s<t;s++){for(var o=[],r=0;r<e;r++){var u=Math.floor(Math.random()*(a-n+1))+n;o.push(u)}i.push(o)}return i},o.reshapeArray=function(t,e,n){if(t.length!==e*n)return null;for(var a=[],i=0;i<e;i++)a.push(t.slice(i*n,i*n+n));return a},o.getBigWinType=function(t){var e=0,n=t/this.total_bet;return Log.d("getJackpotType = ",t,this.total_bet,n),n>=50?e=5:n>=30?e=4:n>=15?e=3:n>=10?e=2:n>=5&&(e=1),e},n(a,[{key:"money",get:function(){return this.m_money},set:function(t){this.m_money=t}},{key:"total_bet",get:function(){return this.m_total_bet},set:function(t){this.m_total_bet=t}},{key:"buyFreeSpins",get:function(){return this.m_buyFreeSpins},set:function(t){this.m_buyFreeSpins=t}},{key:"slotInfo",get:function(){return this.m_slotInfo},set:function(t){this.m_slotInfo=t}},{key:"lastMapData",get:function(){return this.m_lastMapData},set:function(t){this.m_lastMapData=t}},{key:"response",get:function(){return this.m_response},set:function(t){this.m_response=t}},{key:"GameType",get:function(){return this.m_gameType},set:function(t){this.m_gameType=t}}]),a}(o)).module="slot390000016",a._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameDefines21.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){o._RF.push({},"c62b7GMKktImr8P/L8HAi/W","SubGameDefines",void 0);i("EventName",function(i){return i.OnReceiveSlotBet="OnReceiveSlotBet",i.OnReceiveLastMap="OnReceiveLastMap",i.OnReceiveFGSelect="OnReceiveFGSelect",i.OnReceiveFGSpin="OnReceiveFGSpin",i.LoadDataFinish="LoadDataFinish",i.ROLLING_WIN_SCORE="ROLLING_WIN_SCORE",i.RESET_WIN_SCORE="RESET_WIN_SCORE",i.PLAY_EFFECT="PLAY_EFFECT",i.PLAY_MUSIC="PLAY_MUSIC",i.STOP_ALL_EFFECTS="STOP_ALL_EFFECTS",i.STOP_EFFECT="STOP_EFFECT",i.STOP_MUSIC="STOP_MUSIC",i.SET_MUSIC_VOLUME="SET_MUSIC_VOLUME",i.SET_EFFECT_VOLUME="SET_EFFECT_VOLUME",i.REQUEST_JACKPOT="REQUEST_JACKPOT",i.RECEIVE_JACKPOT="RECEIVE_JACKPOT",i.START_JACKPOT="START_JACKPOT",i.STOP_JACKPOT="STOP_JACKPOT",i.REFRESH_JACKPOT="REFRESH_JACKPOT",i.SLOT_BET_JACKPOT="SLOT_BET_JACKPOT",i.UNLOCK_JACKPOT="UNLOCK_JACKPOT",i.JACKPOT_MOVE="JACKPOT_MOVE",i.JACKPOT_BACK="JACKPOT_BACK",i.GET_JP_REWARD="GET_JP_REWARD",i.UNLOCK_FUNC="UNLOCK_FUNC",i}({})),i("POOL_PREFAB_URL",["prefabs/symbol/H1","prefabs/symbol/H2","prefabs/symbol/H3","prefabs/symbol/H4","prefabs/symbol/H5","prefabs/symbol/L1","prefabs/symbol/L2","prefabs/symbol/L3","prefabs/symbol/L4","prefabs/symbol/L5","prefabs/symbol/SC","prefabs/symbol/SC2","prefabs/symbol/chipJpSprite","prefabs/symbol/chipStrLabel"]),i("preloadAudio",["audio/addfg","audio/bg_allopen","audio/bg_choose","audio/bg_end","audio/bg_muti","audio/bg_ready","audio/bg_transition","audio/bg_win","audio/bgbgm","audio/bgsc_collect","audio/bgsc_multi","audio/bgsc_win","audio/bgscmul_win","audio/bigprize_end","audio/bigprize","audio/button","audio/change","audio/chilliman_in","audio/chilliman_muti","audio/dajiangyugao","audio/extra","audio/fg_choose","audio/fg_end","audio/fg_select","audio/fg_transition","audio/fgbgm","audio/fgchoose","audio/fgEnd1","audio/fgEnd2","audio/frame_win","audio/jp_lock","audio/jp_unlock","audio/jp_up1","audio/jp_up2","audio/jp_up3","audio/jp_up4","audio/jp1","audio/jp2","audio/jp3","audio/jp4","audio/jp5","audio/jpMulti2","audio/jpMulti3","audio/jpMulti4","audio/jpMulti5","audio/loading","audio/ngbgm","audio/open","audio/pick","audio/popup","audio/reelbgsc","audio/reeldown","audio/reelfast","audio/reelsc1","audio/reelsc2","audio/reelsc3","audio/reelsc4","audio/reelsc5","audio/reelsctr","audio/reelstop","audio/respin","audio/respin2","audio/triggering","audio/unlock","audio/win_a_end","audio/win_a","audio/win_b_end","audio/win_b","audio/win_c","audio/win_d","audio/win_end","audio/fgch_bgm"]),i("preloadAudio_common",["audio/bet1","audio/bet2","audio/bet3","audio/bet4","audio/bet5","audio/bet6","audio/bet7","audio/bet8","audio/bet9","audio/bet10","audio/bet11","audio/bet12","audio/bet13","audio/bet14","audio/bet15","audio/bet16","audio/bet17","audio/bet18","audio/bet19","audio/bet20","audio/bet21","audio/bet21_max"]),i("SpinLayerState",function(i){return i[i.Uninitialized=0]="Uninitialized",i[i.Idle=1]="Idle",i[i.Rolling=2]="Rolling",i[i.Show=3]="Show",i}({})),i("SpinTableState",function(i){return i[i.Uninitialized=0]="Uninitialized",i[i.Idle=1]="Idle",i[i.Rolling=2]="Rolling",i}({})),i("SpinReelState",function(i){return i[i.Uninitialized=0]="Uninitialized",i[i.Idle=1]="Idle",i[i.Rolling=2]="Rolling",i[i.RollingWithResult=3]="RollingWithResult",i[i.AboutToStop=4]="AboutToStop",i[i.BounceBack=5]="BounceBack",i}({})),i("THEME_GAME_TYPE",function(i){return i[i.MAIN=0]="MAIN",i[i.FREE=1]="FREE",i[i.BONUS=2]="BONUS",i[i.FREEBONUS=3]="FREEBONUS",i[i.MAPFREE=4]="MAPFREE",i[i.MAPBONUS=5]="MAPBONUS",i[i.SPECIAL=6]="SPECIAL",i[i.superFG=7]="superFG",i[i.BIG_GAME=8]="BIG_GAME",i[i.REG_GAME=9]="REG_GAME",i}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameLanguage21.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageDelegate.ts","./SubGameData21.ts","./Enums.ts"],(function(e){var u,t,n,_,a,i;return{setters:[function(e){u=e.inheritsLoose},function(e){t=e.cclegacy},function(e){n=e.injectLanguageData,_=e.LanguageDelegate},function(e){a=e.SubGameData},function(e){i=e.sys_Language}],execute:function(){var r;t._RF.push({},"7643aze7SBIT7yfQ446BDfz","SubGameLanguage",void 0);var g={language:i.CHINESE,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},o={language:i.ENGLISH,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},l={language:i.Indonesian,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},x={language:i.Malay,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},b={language:i.Portuguese,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},s={language:i.Thai,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},f={language:i.Vietnamese,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}};e("slot3000505_Lan",o),e("SubGameLanguage",n(r=function(e){function t(){for(var u,t=arguments.length,n=new Array(t),_=0;_<t;_++)n[_]=arguments[_];return(u=e.call.apply(e,[this].concat(n))||this).bundle=a.module,u}return u(t,e),t.prototype.init=function(){this.add(g),this.add(o),this.add(l),this.add(x),this.add(b),this.add(s),this.add(f)},t}(_))||r);t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/slot390000016', 'chunks:///_virtual/slot390000016'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});