System.register("chunks:///_virtual/AnimatedSymbol4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./LavaBonusNodePool.ts","./LavaBonus.ts"],(function(i){var n,t,e,a,o,s,l,r,c,h,m,u;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.initializerDefineProperty,e=i.inheritsLoose,a=i.assertThisInitialized,o=i.createClass},function(i){s=i.cclegacy,l=i._decorator,r=i.sp,c=i.Component},function(i){h=i.SubGameData},function(i){m=i.LavaBonusNodePool},function(i){u=i.LavaBonus}],execute:function(){var f,p,d,k,y,v,b,_,g,w,S,D,A,L,B;s._RF.push({},"0ed5d5ycaFHD5tq+gvaDvO+","AnimatedSymbol",void 0);var H=l.ccclass,T=l.menu,C=l.property,I=((f={})[1]={win:"animation"},f[2]={win:"animation"},f[3]={win:"animation"},f[4]={win:"animation"},f[5]={win:"animation"},f[6]={win:"animation"},f[7]={win:"animation"},f[8]={win:"animation"},f[9]={win:"animation"},f[10]={win:"animation"},f[11]={appear:"animation1",highlight:"animation2",collect:"animation3",fever:"animation5",win:"animation7"},f[12]={appear:"animation1",highlight:"animation2",fever:"animation3",win:"animation4"},f[13]={appear:"animation1",highlight:"animation2",fever:"animation3",win:"animation4"},f[60]={highlight:"animation1",win:"animation2"},f[101]={win:"animation"},f[102]={win:"animation"},f),j=i("AnimatedSymbolSkeletonInfo",(p=H("AnimatedSymbolSkeletonInfo"),d=C(r.SkeletonData),p((v=n((y=function(){t(this,"symbolID",v,this),t(this,"skeletonData",b,this)}).prototype,"symbolID",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=n(y.prototype,"skeletonData",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=y))||k));i("AnimatedSymbol",(_=H("AnimatedSymbol"),g=T(h.module+"/elements/AnimatedSymbol"),w=C(r.Skeleton),S=C([j]),_(D=g((L=n((A=function(i){function n(){for(var n,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o))||this,t(n,"skeleton",L,a(n)),t(n,"skeletonInfosList",B,a(n)),n.column=-1,n.row=-1,n._skeletonDatasHash={},n._info={id:0,jackpotType:void 0,score:0},n._callbacksHash={},n}e(n,i);var s=n.prototype;return s.onLoad=function(){var i=this;this.skeletonInfosList.forEach((function(n){i._skeletonDatasHash[n.symbolID]=n.skeletonData})),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this))},s.reset=function(){this.column=-1,this.row=-1,this._info.id=0,this._info.jackpotType=void 0,this._info.score=0,this.node.active=!0,this.skeleton.clearTracks(),this.skeleton.skeletonData=null;var i=this.node.getChildByName("LavaBonus");i&&m.instance.push(i)},s.play=function(i,n,t){this._callbacksHash[i]=void 0;var e=this._getAnimationName(i);return!!e&&(!!this.skeleton.findAnimation(e)&&(this._callbacksHash[i]=t,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,e,n),!0))},s._getAnimationName=function(i){var n;return null==(n=I[this._info.id])?void 0:n[i]},s._updateSymbol=function(){var i;this.skeleton.skeletonData=null!=(i=this._skeletonDatasHash[this._info.id])?i:null,h.isAlohaSymbol(this._info.id)?this.skeleton.node.setScale(4,4,1):this.skeleton.node.setScale(1,1,1);var n=this.node.getChildByName("LavaBonus");if(h.isLavaSymbol(this._info.id)){if(!n){if(!(n=m.instance.pop()))return;this.node.addChild(n)}var t=n.getComponent(u);if(!t)return;t.updateBonus(this._info.score,this._info.jackpotType)}else n&&m.instance.push(n)},s._onSkeletonAnimationComplete=function(i){var n=I[this._info.id];if(n){var t=i.animation.name;for(var e in n){var a=e;if(t===n[a]){var o=this._callbacksHash[a];null!=o&&(this._callbacksHash[a]=void 0,o(this,a));break}}}},o(n,[{key:"info",get:function(){return this._info},set:function(i){i.id===this._info.id&&i.jackpotType===this._info.jackpotType&&i.score===this._info.score||(this._info.id=i.id,this._info.jackpotType=i.jackpotType,this._info.score=i.score,this._updateSymbol())}}]),n}(c)).prototype,"skeleton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(A.prototype,"skeletonInfosList",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=A))||D)||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatedSymbolNodePool4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./AnimatedSymbol4.ts"],(function(e){var t,n,a,i,r,o,l,s;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){i=e.cclegacy,r=e.instantiate,o=e.Prefab},function(e){l=e.SubGameData},function(e){s=e.AnimatedSymbol}],execute:function(){i._RF.push({},"b1b08GjG9RN3ZLrmJbXSvyq","AnimatedSymbolNodePool",void 0),e("AnimatedSymbolNodePool",function(){function e(){this._prefab=null,this._pool=[],this._availableIndex=0}var i=e.prototype;return i.preload=function(){var e=n(a().mark((function e(){var t,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Log.d("preload animated symbol prefab"),e.next=4,App.cache.getCacheByAsync("prefabs/elements/AnimatedSymbol",o,l.module);case 4:(n=e.sent)[0],(i=n[1]).addRef(),null==(t=this._prefab)||t.decRef(),this._prefab=i,l.setLoadingTaskProgress("preloadAnimatedSymbol",1),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),Log.e("failed to preload animated symbol prefab: "+(e.t0?e.t0.toString():"unknown reason")),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),i.push=function(e){var t=this._pool.indexOf(e);if(t<0)return!1;if(!e.isValid)return this._pool.splice(t,1),t<=this._availableIndex&&this._availableIndex>0&&--this._availableIndex,!1;e.removeFromParent();var n=e.getComponent(s);return!!n&&(n.reset(),t<this._availableIndex&&(--this._availableIndex,this._pool[t]=this._pool[this._availableIndex],this._pool[this._availableIndex]=e),!0)},i.pop=function(){var e;if(this._pool.length<=0||this._pool.length<=this._availableIndex){if(!this._prefab)return null;this._pool[this._availableIndex]=r(this._prefab)}return null!=(e=this._pool[this._availableIndex++])?e:null},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioHelper6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts"],(function(t){var u,e,i,s,n;return{setters:[function(t){u=t.createClass},function(t){e=t.cclegacy,i=t.Tween,s=t.tween},function(t){n=t.SubGameData}],execute:function(){e._RF.push({},"052d4kz0WJO4oMVSAMO+/k0","AudioHelper",void 0);var o=function(t){return t[t.PLAYING=0]="PLAYING",t[t.FADING_OUT=1]="FADING_OUT",t[t.FADING_IN=2]="FADING_IN",t}(o||{});t("AudioHelper",function(){function t(){this._audioImpl=null,this._state=o.PLAYING,this._currentBackgroundMusic=null,this._currentMusicVolume=1,this._musicVolumeLoweringRequestsMap=new Map}var e=t.prototype;return e.playBackgroundMusic=function(t,u){var e=this;if(void 0===u&&(u=1),t===this._currentBackgroundMusic){if(this._state===o.PLAYING)return;this._state===o.FADING_OUT&&(this._state=o.FADING_IN)}else this._state===o.FADING_IN&&(this._state=o.FADING_OUT);i.stopAllByTarget(this);var l=s(this),c=u;if(this._state===o.FADING_IN)c=u*(1-this.musicVolume);else{var a=u;this._state===o.FADING_OUT&&(a=u*this.musicVolume),l.to(this._currentBackgroundMusic?a:0,{musicVolume:0},{onStart:function(){return e._state=o.FADING_OUT}})}l.to(t?c:0,{musicVolume:1},{onStart:function(){var u;if(e._state=o.FADING_IN,t){if(t!==e._currentBackgroundMusic){var i;null==(i=e._audioImpl)||i.playMusic(t,n.module,!0)}}else null==(u=e._audioImpl)||u.stopMusic();e._currentBackgroundMusic=t},onComplete:function(){return e._state=o.PLAYING}}).start()},e.playSoundEffect=function(t,u){var e;void 0===u&&(u=!1),null==(e=this._audioImpl)||e.playEffect(t,n.module,u)},e.playOneShotSoundEffect=function(t){var u;null==(u=this._audioImpl)||u.playEffectOneShot(t,n.module)},e.stopEffect=function(t){var u;null==(u=this._audioImpl)||u.stopEffect(t,n.module)},e.clearMusicVolumeLoweringRequests=function(){this._musicVolumeLoweringRequestsMap.clear(),this._updateMusicVolume()},e.requestLoweringMusicVolume=function(t,u){this._musicVolumeLoweringRequestsMap.set(u,t),this._updateMusicVolume()},e.revokeLoweringMusicVolume=function(t){this._musicVolumeLoweringRequestsMap.delete(t)&&this._updateMusicVolume()},e._updateMusicVolume=function(){var t=this._currentMusicVolume;this._musicVolumeLoweringRequestsMap.forEach((function(u){return t=Math.min(t,u)})),this._audioImpl&&(this._audioImpl.musicVolume=t)},u(t,[{key:"audioImpl",set:function(t){this._audioImpl=t}},{key:"musicVolume",get:function(){var t,u;return null!=(t=null==(u=this._audioImpl)?void 0:u.musicVolume)?t:1},set:function(t){t!==this._currentMusicVolume&&(this._currentMusicVolume=t,this._updateMusicVolume())}},{key:"effectVolume",get:function(){var t,u;return null!=(t=null==(u=this._audioImpl)?void 0:u.effectVolume)?t:1},set:function(t){this._audioImpl&&(this._audioImpl.effectVolume=t)}},{key:"isEffectOn",get:function(){var t,u;return null==(t=null==(u=this._audioImpl)?void 0:u.isEffectOn)||t},set:function(t){this._audioImpl&&(this._audioImpl.isEffectOn=t)}},{key:"isMusicOn",get:function(){var t,u;return null==(t=null==(u=this._audioImpl)?void 0:u.isMusicOn)||t},set:function(t){this._audioImpl&&(this._audioImpl.isMusicOn=t)}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/AutoFittableBackground6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts"],(function(t){var n,o,e,i,a,s,u,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Node,a=t.sys,s=t.UITransform,u=t.Component},function(t){r=t.SubGameData}],execute:function(){var c;o._RF.push({},"95e9fvbP79AYq2m5aL+dan9","AutoFittableBackground",void 0);var h=e.ccclass,l=e.menu;e.property,t("AutoFittableBackground",h("AutoFittableBackground")(c=l(r.module+"/components/AutoFittableBackground")(c=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.onLoad=function(){this.node.on(i.EventType.SIZE_CHANGED,this._onSizeChange,this),this.node.active=!a.isMobile},e.onDestroy=function(){this.isValid&&this.node.off(i.EventType.SIZE_CHANGED,this._onSizeChange,this)},e.onEnable=function(){this._onSizeChange()},e._onSizeChange=function(){var t,n=null==(t=this.node.getComponent(s))?void 0:t.contentSize;if(n){var o=2560/n.width;this.node.setScale(o,o,1)}},o}(u))||c)||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundLayer6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./AudioHelper6.ts"],(function(n){var t,e,a,o,i,u,s,c,r,l,d,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,a=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){i=n.cclegacy,u=n._decorator,s=n.Animation},function(n){c=n.default},function(n){r=n.SubGameData},function(n){l=n.common},function(n){d=n.DisplayTaskManager},function(n){p=n.AudioHelper}],execute:function(){var m,g,M,y,f,k,_;i._RF.push({},"040b1lutThFA62QGDs0c2/2","BackgroundLayer",void 0);var B=u.ccclass,G=u.menu,E=u.property,T=((m={})[l.EGameMode.NORMAL]="base-game",m[l.EGameMode.RESPIN]="respin-game",m[l.EGameMode.FREE]="free-game",m[l.EGameMode.BONUS]="bonus-game",m);n("BackgroundLayer",(g=B("BackgroundLayer"),M=G(r.module+"/layers/BackgroundLayer"),y=E(s),g(f=M((_=t((k=function(n){function t(){for(var t,e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return t=n.call.apply(n,[this].concat(i))||this,a(t,"animation",_,o(t)),t._timeoutID=null,t}e(t,n);var i=t.prototype;return i.onLoad=function(){n.prototype.onLoad.call(this),d.addHandler(this)},i.onDestroy=function(){this._stopCountdown(),n.prototype.onDestroy.call(this)},i.onTaskInitialize=function(n,t){p.instance.clearMusicVolumeLoweringRequests(),this._updateBackground(t.gameMode),t.gameMode===l.EGameMode.NORMAL?this._startCountdown((function(){return p.instance.playBackgroundMusic(null)}),5):t.gameMode===l.EGameMode.FREE&&p.instance.playBackgroundMusic(r.AUDIO_URLS.BGM_FREE_GAME)},i.onTaskSpinStart=function(n,t){t.spinType===l.ESpinType.BET&&(this._stopCountdown(),p.instance.playBackgroundMusic(r.AUDIO_URLS.BGM_NORMAL_GAME))},i.onTaskRespinGameTrigger=function(n,t){p.instance.playBackgroundMusic(null)},i.onTaskRespinGameEnter=function(n,t){p.instance.playBackgroundMusic(r.AUDIO_URLS.BGM_RESPIN_GAME)},i.onTaskRespinGameTransit=function(n,t){"exit"===t.type&&p.instance.playBackgroundMusic(null)},i.onTaskFreeGameTrigger=function(n,t){p.instance.playBackgroundMusic(null)},i.onTaskFreeGameEnter=function(n,t){p.instance.playBackgroundMusic(r.AUDIO_URLS.BGM_FREE_GAME)},i.onTaskFreeGameTransit=function(n,t){"exit"===t.type&&p.instance.playBackgroundMusic(null)},i.onTaskBonusGameTrigger=function(n,t){p.instance.playBackgroundMusic(null)},i.onTaskBonusGameEnter=function(n,t){p.instance.playBackgroundMusic(r.AUDIO_URLS.BGM_BONUS_GAME)},i.onTaskBonusGameSettle=function(n,t){p.instance.playBackgroundMusic(null)},i.onTaskNormalGameBack=function(n,t){p.instance.playBackgroundMusic(r.AUDIO_URLS.BGM_NORMAL_GAME)},i.onTaskRoundEnd=function(n,t){this._startCountdown((function(){return p.instance.playBackgroundMusic(null)}),5)},i.onTaskChangeGame=function(n,t){this._updateBackground(t.nextGameMode)},i._startCountdown=function(n,t){this._stopCountdown(),this._timeoutID=setTimeout(n,1e3*t)},i._stopCountdown=function(){null!==this._timeoutID&&void 0!==this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},i._updateBackground=function(n){var t=T[n];t&&this.animation.play(t)},t}(c)).prototype,"animation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=k))||f)||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/BaseView6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceLoader.ts","./GameView.ts","./Global.ts","./CommonEvent.ts","./GameService.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./AudioHelper6.ts","./LoadingHelper6.ts","./GameSender27.ts","./Protocol28.ts"],(function(e){var t,a,s,n,o,i,r,l,p,c,u,d,_,h,m,T,f,S,k;return{setters:[function(e){t=e.inheritsLoose,a=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose,n=e.createClass},function(e){o=e.cclegacy,i=e._decorator,r=e.AudioClip},function(e){l=e.default},function(e){p=e.default},function(e){c=e.Global},function(e){u=e.CommonEvent},function(e){d=e.GameService},function(e){_=e.SubGameData},function(e){h=e.common},function(e){m=e.DisplayTaskManager},function(e){T=e.AudioHelper},function(e){f=e.LoadingHelper},function(e){S=e.GameSender},function(e){k=e.Protocol}],execute:function(){var b;o._RF.push({},"fe869wxyWtE+YScv5X9TgDy","BaseView",void 0);var g=i.ccclass,y=i.menu;i.property,e("BaseView",g("BaseView")(b=y(_.module+"/views/BaseView")(b=function(e){function o(){for(var t,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this)._spinResultsCacheList=[],t._bonusResultsCacheList=[],t._spinResultHandler=null,t._cachedBalances=[],t._waitingForBonusData=!1,t._currentTotalScore=0,t}t(o,e),o.getPrefabUrl=function(){return"prefabs/views/BaseView"};var i=o.prototype;return i.onLoad=function(){var t;null==(t=e.prototype.onLoad)||t.call(this),this._loadResources(),_.spinRequestor=this},i.onDestroy=function(){this.isValid&&(this.offD(u.GAME_SERVICE_CLOSE),this.offD(u.DISPATCH_PLAYBACK),this._offS(k.BET_SPIN),this._offS(k.FREE_SPIN),this._offS(k.USERINFO),this._offS(k.CHANGE_BET),this._offS(k.CHANGE_ROOM),this._offS(k.SLOT_INFO),this._offS(k.COLLECT_JACKPOT)),f.instance.hide(),e.prototype.onDestroy.call(this)},i.start=function(){dispatch(u.NOTIFY_ENTER_GAME),T.instance.audioImpl=this.audioHelper,c.playback?this._handlePlayBackData(!0):this._handleInitialData(!1)},i.addEvents=function(){e.prototype.addEvents.call(this),this.onD(u.GAME_SERVICE_CLOSE,this._onConnectionClose),this.onD(u.DISPATCH_PLAYBACK,this._onPlayBack),this._onS(k.BET_SPIN,this._onBetSpinRespond),this._onS(k.FREE_SPIN,this._onFreeSpinRespond),this._onS(k.USERINFO,this._onUserInfoRespond),this._onS(k.CHANGE_BET,this._onChangeBetRespond),this._onS(k.CHANGE_ROOM,this._onChangeRoomRespond),this._onS(k.UPDATE_SPOTS,this._onUpdateSpotsRespond),this._onS(k.SLOT_INFO,this._onSlotInfoRespond),this._onS(k.COLLECT_JACKPOT,this._onCollectJackpotRespond)},i.lateUpdate=function(e){m.runNextTask()},i.request=function(e,t){switch(c.playback||f.instance.show(2),e){case h.ESpinRequestType.GM_SPIN:m.addTask("spinStart",{spinType:h.ESpinType.BET}),this._cachedBalances.length=0,this._gameSender.c2sGMBet({bet:_.totalBet,gm_type:t});break;case h.ESpinRequestType.FREE_SPIN:this._gameSender.c2sFreeSpin();break;default:m.addTask("spinStart",{spinType:h.ESpinType.BET}),this._cachedBalances.length=0,this._gameSender.c2sBetSpin({bet:_.totalBet})}},i._onS=function(e,t,a,s){void 0===s&&(s=!0),this._gameService.addListener(e,a,t,s,this)},i._offS=function(e){this._gameService.removeListeners(this,e)},i._loadResources=function(){var e=new l;e.getLoadResources=function(){var e=[];for(var t in _.AUDIO_URLS)t.startsWith("BGM_")||"SE_ENTRANCE"===t||e.push({url:_.AUDIO_URLS[t],type:r,bundle:_.module});return e},e.loadResources()},i._onBetSpinRespond=function(e){f.instance.hide(),e&&e.message&&(this._spinResultsCacheList.push(e.message),this._spinResultHandler||this._handleNextData())},i._onFreeSpinRespond=function(e){f.instance.hide(),e&&e.message&&this._handleNextData()},i._onUserInfoRespond=function(e){this._cachedBalances.push(e.message.money)},i._onChangeBetRespond=function(e){var t;if(e&&e.message){var a=((t={})[h.EJackpotType.MINOR]=0,t[h.EJackpotType.MAJOR]=0,t[h.EJackpotType.GRAND]=0,t);this._updateJackpotBonuses(a,e.message.jackpot_reward),_.currentChangeBetType===h.EChangeBetRequestType.SYNCHRONISE_JACKPOTS?m.runTask("synchroniseJackpots",{jackpotBonusesHash:a,jackpotSynchronTimestamp:_.changeBetTimestamp}):m.runTask("changeBet",{topSymbolsList:this._symbolDatasToInfos(e.message.bingo_map),jackpotBonusesHash:a,jackpotSynchronTimestamp:_.changeBetTimestamp})}},i._onChangeRoomRespond=function(e){e&&e.message&&(m.runTask("changeRoom",{roomID:e.message.room_id,seatsList:this._playerDatasToSeatInfos(e.message.role_list),spotsList:this._spotDatasToInfos(e.message.spot_list)}),e.message.spot_win&&m.addTask("bonusGameUnclaimedReward",{score:e.message.spot_win}))},i._onUpdateSpotsRespond=function(e){if(e&&e.message)if(e.message.team_free.length>0||this._bonusResultsCacheList.length>0){this._bonusResultsCacheList.push(e.message);var t=e.message.spot_list[e.message.spot_list.length-1];t&&t.uid===c.userId||null!==this._spinResultHandler&&void 0!==this._spinResultHandler||this._handleBonusGameResult(h.EGameMode.NORMAL,!0,!1)}else if(e.message.spot_list.length>0){if(e.message.spot_list[e.message.spot_list.length-1].uid===c.userId)this._bonusResultsCacheList.push(e.message),this._waitingForBonusData&&(this._waitingForBonusData=!1,this._handleNextData());else{var a=this._spotDatasToInfos(e.message.spot_list);m.addTask("updateSpots",{isSelfAddSpot:!1,spotsList:a})}}},i._onSlotInfoRespond=function(e){f.instance.hide(),this._handleInitialData(!0)},i._onCollectJackpotRespond=function(e){e&&e.message&&m.runTask("collectJackpot",{data:e.message})},i._handleInitialData=function(e){var t;m.clearTasks(),this._waitingForBonusData=!1,this._currentTotalScore=0;var a=_.lastMap,s=_.balance,n=h.EGameMode.NORMAL,o=_.INITIAL_TOP_SYMBOLS_LIST,i=_.INITIAL_BOTTOM_SYMBOLS_LIST,r=((t={})[h.EJackpotType.MINOR]=0,t[h.EJackpotType.MAJOR]=0,t[h.EJackpotType.GRAND]=0,t),l=0,p=0,c=0,u=[],d=[];if(a){if(_.totalBet=a.bet,s=Math.max(0,s-a.total_spot_win),a.base.length>0){this._updateJackpotBonuses(r,a.base[0].jackpot_after);var T=a.base[0];o=T.bingo_refresh_map.length>0?this._symbolDatasToInfos(T.bingo_refresh_map):this._symbolDatasToInfos(T.bingo_map)}if(a.free.length>0){n=h.EGameMode.FREE,this._currentTotalScore=a.win;var f=Math.max(0,a.free_times-a.free.length);if(p=(l=a.free_times-a.free.reduce((function(e,t){var a=t.map.reduce((function(e,t){return 12===t.icon_id?e+1:e}),0);return e+_.getFreeTimes(a)}),0))-f,a.base.length>0){var S=a.base[0];i=this._symbolDatasToInfos(S.map)}}c=a.room_id,u=this._playerDatasToSeatInfos(a.role_list),d=this._spotDatasToInfos(a.spot_list)}m.runTask("initialize",{entrance:!e&&n===h.EGameMode.NORMAL,balance:s,totalBet:_.totalBet,gameMode:n,topSymbolsList:o,bottomSymbolsList:i,jackpotBonusesHash:r,jackpotSynchronTimestamp:_.lastMapTimestamp<=0?Date.now():_.lastMapTimestamp,totalFreeTimes:l,freeTimesRemaining:p,currentScoreInSpecialMode:this._currentTotalScore,roomID:c,seatsList:u,spotsList:d}),a&&(this._spinResultHandler=this._generateInitialDataHandler(a,i),this._handleNextData())},i._handlePlayBackData=function(e){var t,a,s,n;this._bonusResultsCacheList.length=0,_.balance=c.playbackAllData.startScore*c.SCORE_EXCHANGE,_.totalBet=c.playbackData.bet*(null!=(t=c.playbackData.line_num)?t:1),c.playbackData.lock_list&&(_.jackpotsLockedStatesWhenPlayBack=c.playbackData.lock_list);var o=c.playbackData,i=((a={})[h.EJackpotType.MINOR]=0,a[h.EJackpotType.MAJOR]=0,a[h.EJackpotType.GRAND]=0,a);this._updateJackpotBonuses(i,null!=(s=null==(n=o.base[0])?void 0:n.jackpot_before)?s:[]),m.clearTasks(),m.runTask("initialize",{entrance:!1,balance:_.balance,totalBet:_.totalBet,gameMode:h.EGameMode.NORMAL,topSymbolsList:this._symbolDatasToInfos(o.init_bingo_map),bottomSymbolsList:_.INITIAL_BOTTOM_SYMBOLS_LIST,jackpotBonusesHash:i,jackpotSynchronTimestamp:Date.now(),totalFreeTimes:0,freeTimesRemaining:0,currentScoreInSpecialMode:0,roomID:o.room_id,seatsList:this._playerDatasToSeatInfos(o.role_list),spotsList:this._spotDatasToInfos(o.before_spot_list)}),this._bonusResultsCacheList.push({room_id:o.room_id,spot_list:o.spot_list,role_list:o.role_list,team_free:[],team_mul:0,spot_win:0,rank_list:[]}),dispatch(u.NOTIFY_USERINFO_SCORE,_.balance),dispatch(u.NOTIFY_PLAYBACK),_.balance-=c.playbackAllData.bet*c.SCORE_EXCHANGE;var r={base:o.base,free:o.free,reward:o.reward,free_times:o.free_times,role_list:o.role_list};this._onBetSpinRespond({message:r,type:k.BET_SPIN})},i._handleNextData=function(){if(!this._spinResultHandler||this._spinResultHandler.next().done){this._spinResultHandler=null;var e=this._spinResultsCacheList.shift();null!=e&&(this._spinResultHandler=this._generateSpinResultHandler(e),this._spinResultHandler.next())}},i._generateInitialDataHandler=a().mark((function e(t,s){var n,o,i,r,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,!(t.free.length>0)){e.next=4;break}return n=!0,e.delegateYield(this._handleFreeGameResult(t.free,t.free.length>=t.free_times?_.INITIAL_BOTTOM_SYMBOLS_LIST:s,_.lastMapTimestamp,t.win),"t0",4);case 4:t.total_spot_win>0&&(n=!0,m.addTask("bonusGameUnclaimedReward",{score:t.total_spot_win}),this._currentTotalScore+=t.total_spot_win,m.addTask("spinBreak",{totalScore:this._currentTotalScore,score:t.total_spot_win,shouldBreak:!1})),n&&((o={})[h.EJackpotType.MINOR]=0,o[h.EJackpotType.MAJOR]=0,o[h.EJackpotType.GRAND]=0,r=o,(l=null!=(i=t.free[t.free.length-1])?i:t.base[0])&&this._updateJackpotBonuses(r,l.jackpot_after),m.addTask("roundEnd",{balance:_.balance,jackpotBonusesHash:r,jackpotSynchronTimestamp:_.lastMapTimestamp})),this._currentTotalScore=0,this._spinResultHandler=null,this._handleBonusGameResult(h.EGameMode.NORMAL,!0,!1);case 9:case"end":return e.stop()}}),e,this)})),i._generateSpinResultHandler=a().mark((function e(t){var s,n,o,i,r,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.base.length>0)){e.next=11;break}return this._currentTotalScore=0,t.role_list&&t.role_list.length>0&&m.addTask("updateSeats",{seatsList:this._playerDatasToSeatInfos(t.role_list)}),o=t.base[0],e.delegateYield(this._handlePageData(o,!1,_.spinTimestamp),"t0",5);case 5:return e.delegateYield(this._handleFreeGameResult(t.free,this._symbolDatasToInfos(o.map),_.spinTimestamp),"t1",6);case 6:i=t.reward>0?_.balance:void 0,r=null!=(s=t.free[t.free.length-1])?s:o,(n={})[h.EJackpotType.MINOR]=0,n[h.EJackpotType.MAJOR]=0,n[h.EJackpotType.GRAND]=0,l=n,this._updateJackpotBonuses(l,r.jackpot_after),m.addTask("roundEnd",{balance:i,jackpotBonusesHash:l,jackpotSynchronTimestamp:_.spinTimestamp});case 11:this._currentTotalScore=0,this._spinResultHandler=null,this._handleBonusGameResult(h.EGameMode.NORMAL,!0,!1);case 14:case"end":return e.stop()}}),e,this)})),i._handleFreeGameResult=a().mark((function e(t,n,o,i){var r,l,p,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<=0)){e.next=2;break}return e.abrupt("return");case 2:r=null!=i?i:0,null==i&&(m.addTask("freeGameTrigger",null),m.addTask("freeGameTransit",{type:"enter",spinsNumber:this._calculateFreeTimes(n),score:0,initialBottomSymbolsList:_.INITIAL_BOTTOM_SYMBOLS_LIST}),m.addTask("freeGameEnter",null)),l=s(t);case 5:if((p=l()).done){e.next=15;break}if(u=p.value,m.addTask("spinStart",{spinType:h.ESpinType.FREE}),c.playback){e.next=11;break}return void(e.next=11);case 11:return e.delegateYield(this._handlePageData(u,!0,o),"t0",12);case 12:r+=u.add;case 13:e.next=5;break;case 15:m.addTask("freeGameTransit",{type:"exit",spinsNumber:0,score:r,initialBottomSymbolsList:n}),r>0&&m.addTask("bigWin",{score:r}),m.addTask("normalGameBack",null);case 18:case"end":return e.stop()}}),e,this)})),i._handlePageData=a().mark((function e(t,s,n){var o,i,r,l,p,u,d,T,f,S;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s?h.ESpinType.FREE:h.ESpinType.BET,l=this._symbolDatasToInfos(t.bingo_map),p=this._symbolDatasToInfos(t.map),u=s?0:null!=(o=this._cachedBalances[0])?o:_.balance,(i={})[h.EJackpotType.MINOR]=0,i[h.EJackpotType.MAJOR]=0,i[h.EJackpotType.GRAND]=0,d=i,this._updateJackpotBonuses(d,t.jackpot_before),m.addTask("spinStop",{spinType:r,topSymbolsList:l,bottomSymbolsList:p,balance:u,jackpotBonusesHash:d,jackpotSynchronTimestamp:n}),m.addTask("spinEnd",{spinType:r}),p.some((function(e){return _.isLavaSymbol(e.id)}))&&m.addTask("collectLavas",{topSymbolsList:l,bottomSymbolsList:p}),t.lines.length>0&&(T=[],f=0,t.lines.sort((function(e,t){return e.line_id-t.line_id})),t.lines.forEach((function(e){var t=_.SYMBOL_PAYLINE_BITS_LIST[e.line_id];if(t){var a=t&_.getPaylineMask(e.col);T.push(a),f|=a}})),t.wild_mul>1&&m.addTask("showMultiplier",{multiplier:t.wild_mul}),m.addTask("hitPaylines",{bottomSymbolsList:p,totalPayline:f,paylines:T})),t.line_add>0&&m.addTask("bigWin",{score:t.line_add}),this._currentTotalScore+=t.line_add,m.addTask("spinBreak",{totalScore:this._currentTotalScore,score:t.line_add,shouldBreak:s}),e.delegateYield(this._handleBingoResult(t,s,d,_.spinTimestamp),"t0",14);case 14:if(s&&(S=this._calculateFreeTimes(p))>0&&m.addTask("freeGameExtraTimes",{spinsNumber:S}),!(p.reduce((function(e,t){return 13===t.id?++e:e}),0)>=3)){e.next=23;break}if(m.addTask("spotTrigger",null),!(this._bonusResultsCacheList.length<=0)||c.playback){e.next=22;break}return this._waitingForBonusData=!0,void(e.next=22);case 22:s?this._handleBonusGameResult(h.EGameMode.FREE,!1,!0):this._handleBonusGameResult(h.EGameMode.NORMAL,!1,!0);case 23:case"end":return e.stop()}}),e,this)})),i._handleBingoResult=a().mark((function e(t,s,n,o){var i,r,l,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.bingo_lines.length<=0)){e.next=2;break}return e.abrupt("return");case 2:return r=0,t.bingo_lines.forEach((function(e){var t=_.BINGO_PAYLINES_BITS_LIST[e.line_id];t&&(r|=t)})),m.addTask("bingoTrigger",{topSymbolsList:this._symbolDatasToInfos(t.bingo_map),totalPayline:r}),m.addTask("bingoTransit",{jackpotBonusesHash:n,jackpotSynchronTimestamp:o}),this._handleJackpotWinningResult(t.bingo_lines),l=t.bingo_lines.reduce((function(e,t){return e+t.line_score}),0),this._currentTotalScore+=l,m.addTask("bingoSettle",{totalPayline:r,score:l,totalScore:this._currentTotalScore}),m.addTask("bigWin",{score:l}),e.delegateYield(this._handleRespinGameResult(t,s),"t0",12);case 12:(i={})[h.EJackpotType.MINOR]=0,i[h.EJackpotType.MAJOR]=0,i[h.EJackpotType.GRAND]=0,p=i,this._updateJackpotBonuses(p,t.jackpot_after),m.addTask("rerunJackpots",{jackpotBonusesHash:p,jackpotSynchronTimestamp:o}),m.addTask("bingoReset",{topSymbolsList:this._symbolDatasToInfos(t.bingo_refresh_map)}),s?m.addTask("freeGameEnter",null):m.addTask("normalGameBack",null);case 17:case"end":return e.stop()}}),e,this)})),i._handleRespinGameResult=a().mark((function e(t,s){var n,o,i,r,l,p,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.bingo_respin_map.length<=0)){e.next=2;break}return e.abrupt("return");case 2:for(n=t.bingo_respin_map[0],o=this._symbolDatasToInfos(n.top_map),i=this._symbolDatasToInfos(n.bottom_map),m.addTask("respinGameTrigger",{spinsNumber:t.bingo_respin_map.length-1}),m.addTask("respinGameTransit",{type:"enter",score:0,previousGameMode:s?h.EGameMode.FREE:h.EGameMode.NORMAL,initialTopSymbolsList:o,initialBottomSymbolsList:i}),m.addTask("respinGameEnter",null),r=1;r<t.bingo_respin_map.length;++r)m.addTask("spinStart",{spinType:h.ESpinType.RESPIN}),n=t.bingo_respin_map[r],o=this._symbolDatasToInfos(n.top_map),i=this._symbolDatasToInfos(n.bottom_map),m.addTask("spinStop",{spinType:h.ESpinType.RESPIN,topSymbolsList:o,bottomSymbolsList:i,balance:0,jackpotSynchronTimestamp:0});l=0,(t.top_bingo_lines.length>0||t.bottom_bingo_lines.length>0)&&(p=0,c=0,t.top_bingo_lines.forEach((function(e){l+=e.line_score;var t=_.BINGO_PAYLINES_BITS_LIST[e.line_id];t&&(p|=t)})),t.bottom_bingo_lines.forEach((function(e){l+=e.line_score;var t=_.BINGO_PAYLINES_BITS_LIST[e.line_id];t&&(c|=t)})),m.addTask("respinGameHitPayline",{topSymbolsList:o,bottomSymbolsList:i,topTotalPayline:p,bottomTotalPayline:c}),this._handleJackpotWinningResult(t.top_bingo_lines),this._handleJackpotWinningResult(t.bottom_bingo_lines),m.addTask("respinGameSettle",{topSymbolsList:o,bottomSymbolsList:i,topTotalPayline:p,bottomTotalPayline:c,score:l})),m.addTask("respinGameTransit",{type:"exit",score:l,previousGameMode:s?h.EGameMode.FREE:h.EGameMode.NORMAL,initialTopSymbolsList:this._symbolDatasToInfos(t.bingo_map),initialBottomSymbolsList:this._symbolDatasToInfos(t.map)}),m.addTask("respinGameShowResult",{score:l}),l>0&&m.addTask("bigWin",{score:l}),this._currentTotalScore+=l,m.addTask("spinBreak",{totalScore:this._currentTotalScore,score:l,shouldBreak:!0});case 16:case"end":return e.stop()}}),e,this)})),i._handleJackpotWinningResult=function(e){e.forEach((function(e){e.jackpot_reward.forEach((function(e){var t=_.getJackpotType(e.id);null!=t&&(m.addTask("winJackpot",{jackpotType:t,locked:_.isJackpotLocked(t),score:e.num}),m.addTask("resetJackpot",{jackpotType:t}))}))}))},i._handleBonusGameResult=function(e,t,a){var n=this;if(a){for(var o=this._bonusResultsCacheList.length,i=0;i<this._bonusResultsCacheList.length;++i){var r=this._bonusResultsCacheList[i];if(r.spot_list[r.spot_list.length-1].uid===c.userId){o=i;break}}var l=this._bonusResultsCacheList.splice(0,o);if(l.length>0){var p=l[l.length-1];m.addTask("updateSpots",{isSelfAddSpot:!1,spotsList:this._spotDatasToInfos(p.spot_list)});var u=l.reduce((function(e,t){return e+t.spot_win}),0);u>0&&m.addTask("bonusGameUnclaimedReward",{score:u})}}var d=this._bonusResultsCacheList.shift();if(d)if(d.spot_list.length<=0)t&&this._handleBonusGameResult(e,!0,!1);else{var T=d.spot_list[d.spot_list.length-1],f=!1;T.uid===c.userId&&(f=!0,m.addTask("winSpot",{spot:this._spotDataToInfo(T)}));var S=this._spotDatasToInfos(d.spot_list);if(m.addTask("updateSpots",{isSelfAddSpot:f,spotsList:S}),d.team_free.length>0){m.addTask("bonusGameTrigger",{notifyCommonUI:t});var k=d.spot_list.reduce((function(e,t){return t.uid===c.userId?e+1:e}),0),b=_.INITIAL_BONUS_SPINS_NUMBER;m.addTask("bonusGameTransit",{spinsNumber:b,mySpotsNumber:k,seatsList:this._playerDatasToSeatInfos(d.role_list),spotsList:S}),m.addTask("bonusGameEnter",null);var g=[];d.team_free.forEach((function(e){m.addTask("bonusGameSpinStart",{isBingoBlast:g.length>0}),g.shift();var t=n._bonusSymbolDatasToInfos(e.before_map);m.addTask("bonusGameSpinStop",{bonusSymbolsList:t}),m.addTask("bonusGameSpinEnd",null),e.old_flower<e.cur_flower&&m.addTask("bonusGameCollectFlowers",{bonusSymbolsList:t,previousFlowersNumber:e.old_flower,currentFlowersNumber:e.cur_flower});var a=e.before_map.reduce((function(e,t){return _.isAlohaSymbol(t.icon)?e+1:e}),0);a>=5&&m.addTask("bonusGameUpdateMultiplier",{bonusSymbolsList:t,alohaSymbolsNumber:a,teamMultiplier:e.cur_team_mul});var o=0;e.bingo_lines.forEach((function(e){var t=_.BINGO_PAYLINES_BITS_LIST[e.line_id];t&&(o|=t)})),o>0&&(m.addTask("bonusGameHitPayline",{totalPayline:o,myTotalWin:e.cur_spot_win}),m.addTask("bonusGameBurnSymbols",{totalPayline:o})),e.add_extra_spin>0&&(b+=e.add_extra_spin,m.addTask("bonusGameExtraSpin",null),m.addTask("bonusGameUpdateSpins",{spinsNumber:b}));for(var i,r=s(_.BINGO_BLAST_TRIGGERING_INDEXES);!(i=r()).done;){var l=i.value;if(e.cur_flower-1<l)break;e.old_flower-1<l&&g.push(l)}g.length>0&&(m.addTask("bonusGameHighlightFlower",{flowerIndex:g[0]}),m.addTask("bonusGameBingoBlast",null))})),m.addTask("bonusGameSettle",{teamMultiplier:d.team_mul,score:d.spot_win,mySpotsNumber:k}),m.addTask("bonusGameShowRank",{ranksList:this._rankDatasToInfos(d.rank_list)}),m.addTask("bonusGameShowResult",{score:d.spot_win}),e===h.EGameMode.FREE?m.addTask("freeGameEnter",null):e===h.EGameMode.NORMAL&&m.addTask("normalGameBack",null),d.spot_win>0&&m.addTask("bigWin",{score:d.spot_win}),this._currentTotalScore+=d.spot_win,m.addTask("spinBreak",{totalScore:this._currentTotalScore,score:d.spot_win,shouldBreak:!0}),t&&m.addTask("roundEnd",{balance:_.balance,jackpotSynchronTimestamp:0})}t&&this._handleBonusGameResult(e,!0,!1)}},i._symbolDatasToInfos=function(e){for(var t=new Array,a=0;a<_.SYMBOL_TOTAL_NUMBER;++a)t.push({id:0,score:0});return e.forEach((function(e){var a=t[e.pos-1];a&&(a.id=e.icon_id,a.jackpotType=_.getJackpotType(e.jackpot_type),a.score=e.num)})),t},i._bonusSymbolDatasToInfos=function(e){for(var t=new Array,a=0;a<_.SYMBOL_TOTAL_NUMBER;++a)t.push({id:0,uid:"",avatarID:0,score:0,withFlower:!1});return e.forEach((function(e){var a=t[e.pos-1];a&&(a.id=e.icon,a.score=e.num,a.uid=e.uid,a.avatarID=e.image,a.withFlower=1===e.is_flower)})),t},i._playerDatasToSeatInfos=function(e){for(var t=new Array,a=0;a<_.SEATS_NUMBER;++a)t.push({uid:"",avatarID:0,score:0});for(var n,o=s(e);!(n=o()).done;){var i=n.value,r=t[i.pos-1];r&&(r.uid=i.uid,r.avatarID=i.image)}return t},i._spotDataToInfo=function(e){return{uid:e.uid,avatarID:e.image,score:e.spot_win}},i._spotDatasToInfos=function(e){for(var t,a=[],n=s(e);!(t=n()).done;){var o=t.value;a.push(this._spotDataToInfo(o))}return a},i._rankDatasToInfos=function(e){for(var t=new Array,a=0;a<_.SEATS_NUMBER;++a)t.push({uid:"",avatarID:0,score:0});for(var n,o=s(e);!(n=o()).done;){var i=n.value,r=t[i.rank-1];r&&(r.uid=i.uid,r.avatarID=i.image,r.score=i.spot_win)}return t},i._calculateFreeTimes=function(e){var t=0;return e.forEach((function(e){12===e.id&&++t})),_.getFreeTimes(t)},i._updateJackpotBonuses=function(e,t){t.forEach((function(t){var a=_.getJackpotType(t.id);null!=a&&(e[a]=t.num)}))},i._onConnectionClose=function(e){Log.d(e.module+" 断开连接!"),m.clearTasks(),this._bonusResultsCacheList.length=0,this._waitingForBonusData=!1},i._onPlayBack=function(){this._handlePlayBackData(!1)},n(o,[{key:"_gameService",get:function(){return App.serviceManager.get(d)}},{key:"_gameSender",get:function(){return App.senderManager.get(S)}}]),o}(p))||b)||b);o._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinControllerLayer6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigWinLayer16.ts","./SubGameData27.ts","./Display6.ts"],(function(n){var t,i,e,a,o,r,s;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy,e=n._decorator},function(n){a=n.default},function(n){o=n.SubGameData},function(n){r=n.DisplayTaskManager,s=n.Display}],execute:function(){var l;i._RF.push({},"37cf3fTsftKwYjLaBM3NRwF","BigWinControllerLayer",void 0);var u=e.ccclass,c=e.menu;e.property,n("BigWinControllerLayer",u("BigWinControllerLayer")(l=c(o.module+"/layers/BigWinControllerLayer")(l=function(n){function i(){return n.apply(this,arguments)||this}t(i,n);var e=i.prototype;return e.onLoad=function(){n.prototype.onLoad.call(this),r.addHandler(this)},e.onTaskInitialize=function(n,t){this.stopAllDisplays(),App.uiManager.close(a)},e.onTaskBigWin=function(n,t){var i=this,e=t.score/o.totalBet;a.isBigWin(e)&&(this.startDisplay(),App.uiManager.open({type:a,bundle:o.module,args:[-1,t.score,function(){i.isValid&&i.endDisplay()},e]}))},i}(s))||l)||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinDefines8.ts",["cc"],(function(o){var i;return{setters:[function(o){i=o.cclegacy}],execute:function(){i._RF.push({},"d2a05EDv4tN1IiOvoZN1Rcp","BigWinDefines",void 0);o("SoundName",function(o){return o.sound_big="commonmodule/bigwin/audio/big",o.sound_mega="commonmodule/bigwin/audio/mega",o.sound_epic="commonmodule/bigwin/audio/epic",o.sound_super="commonmodule/bigwin/audio/super",o.sound_ultimate="commonmodule/bigwin/audio/ultimate",o.sound_big_win_01="commonmodule/bigwin/audio/sound_big_win_01",o.sound_epic_win_01="commonmodule/bigwin/audio/sound_epic_win_01",o.sound_super_win_01="commonmodule/bigwin/audio/sound_super_win_01",o.sound_mega_win_01="commonmodule/bigwin/audio/sound_mega_win_01",o.sound_ultimate_win_01="commonmodule/bigwin/audio/sound_ultimate_win_01",o.sound_big_win_02="commonmodule/bigwin/audio/sound_big_win_02",o.sound_epic_win_02="commonmodule/bigwin/audio/sound_epic_win_02",o.sound_super_win_02="commonmodule/bigwin/audio/sound_super_win_02",o.sound_mega_win_02="commonmodule/bigwin/audio/sound_mega_win_02",o.sound_ultimate_win_02="commonmodule/bigwin/audio/sound_ultimate_win_02",o.sound_big_win_03="commonmodule/bigwin/audio/sound_big_win_03",o.sound_epic_win_03="commonmodule/bigwin/audio/sound_epic_win_03",o.sound_super_win_03="commonmodule/bigwin/audio/sound_super_win_03",o.sound_mega_win_03="commonmodule/bigwin/audio/sound_mega_win_03",o.sound_ultimate_win_03="commonmodule/bigwin/audio/sound_ultimate_win_03",o}({})),o("preloadAudio_bigwin",["commonmodule/bigwin/audio/big","commonmodule/bigwin/audio/epic","commonmodule/bigwin/audio/mega","commonmodule/bigwin/audio/super","commonmodule/bigwin/audio/ultimate","commonmodule/bigwin/audio/sound_big_win_01","commonmodule/bigwin/audio/sound_big_win_02","commonmodule/bigwin/audio/sound_big_win_03","commonmodule/bigwin/audio/sound_epic_win_01","commonmodule/bigwin/audio/sound_epic_win_02","commonmodule/bigwin/audio/sound_epic_win_03","commonmodule/bigwin/audio/sound_mega_win_01","commonmodule/bigwin/audio/sound_mega_win_02","commonmodule/bigwin/audio/sound_mega_win_03","commonmodule/bigwin/audio/sound_super_win_01","commonmodule/bigwin/audio/sound_super_win_02","commonmodule/bigwin/audio/sound_super_win_03","commonmodule/bigwin/audio/sound_ultimate_win_01","commonmodule/bigwin/audio/sound_ultimate_win_02","commonmodule/bigwin/audio/sound_ultimate_win_03"]);i._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinLayer16.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./NumberRoller.ts","./SubGameData27.ts","./AudioHelper6.ts"],(function(i){var e,n,t,a,o,s,c,l,r,_,p,u,S,f,I,E,h,y,d;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized,o=i.createClass},function(i){s=i.cclegacy,c=i._decorator,l=i.Node,r=i.sp,_=i.Animation,p=i.find,u=i.ParticleSystem2D,S=i.tween,f=i.Vec3},function(i){I=i.default},function(i){E=i.inject},function(i){h=i.NumberRoller},function(i){y=i.SubGameData},function(i){d=i.AudioHelper}],execute:function(){var m,U,w,A,g,b,N,T,B,k,L,D,W,G,R,O,C,v,P,M,z,V;s._RF.push({},"49a8bu6SqtB/726Rg/S23rT","BigWinLayer",void 0);var X=c.ccclass,H=c.menu,F=c.property;i("default",(m=X("BigWinLayer"),U=H(y.module+"/commonmodule/bigwin/BigWinLayer"),w=E("content",l),A=F({displayName:"glow1",type:r.Skeleton}),g=F({displayName:"thecoins",type:l}),b=F({displayName:"coin",type:l}),N=F({displayName:"animation",type:r.Skeleton}),T=F({displayName:"dk",type:r.Skeleton}),B=F({displayName:"winScoreNode",type:l}),k=F({displayName:"winScore",type:h}),L=F({displayName:"animCoin",type:_}),m(D=U((G=e((W=function(i){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=i.call.apply(i,[this].concat(o))||this,t(e,"content",G,a(e)),t(e,"glow1",R,a(e)),t(e,"thecoins",O,a(e)),t(e,"coin",C,a(e)),t(e,"animation",v,a(e)),t(e,"dk",P,a(e)),t(e,"winScoreNode",M,a(e)),t(e,"winScore",z,a(e)),t(e,"animCoin",V,a(e)),e.cinType=[2,3,10,6,4,3,3,3,3,3,3,3,3,3,3,3,1,1],e.winTypeSkin=["default","big","super","epic","mega","ultimate"],e.winTypeSkinAni=["ani_intro","ani_idle_big","ani_idle_super","ani_idle_epic","ani_idle_mega","ani_idle_ultimate"],e.winTypeAnim=["ani_idle","ani_intro","ani_out"],e.winTypeDuration=[0,6.4,6.4,8,8,11.2],e.winType=0,e.winNum=0,e.WinMusicTimes=[0,3,3,4,4,6],e.cb=null,e.tb=1,e.close_type=0,e.scoreTween=null,e.isout=!1,e}n(e,i),e.getPrefabUrl=function(){return"commonmodule/bigwin/prefabs/BigWinLayer"};var s=e.prototype;return s.onLoad=function(){i.prototype.onLoad.call(this),this.onN(p("mask",this.node),l.EventType.TOUCH_END,this.onQuickClose)},s.addEvents=function(){i.prototype.addEvents.call(this)},e.isBigWin=function(i){return i>=5},s.onShow=function(){if(this.args&&this.args.length>0){if(this.winType=this.args[0],this.winNum=this.args[1],this.cb=this.args[2],this.winType<=0&&this.args.length>3){var e=this.args[3];this.winType=e>=5&&e<10?1:e>=10&&e<15?2:e>=15&&e<30?3:e>=30&&e<50?4:5}this.stopScoreEffect(),this.isout=!1,this.close_type=0,this.coin.active=!1,this.glow1.node.active=!1,this.animCoin.stop(),this.dk.node.active=!1,this.init(this.winType,this.winNum,this.args[2]),this.playBigWinStartSound(this.winTypeSkin[this.winType])}i.prototype.onShow.call(this)},s.onClose=function(){this.unscheduleAllCallbacks(),this._stopAllEffect(this.winTypeSkin[this.winType]),i.prototype.onClose.call(this)},s.init=function(i,e,n){for(var t=this,a=0;a<this.thecoins.children.length;a++){this.thecoins.children[a].getComponent(u).emissionRate=this.cinType[a]}this.animation.clearTracks(),this.animation.node.active=!0,this.animation.setSkin(this.winTypeSkin[i]),this.playBigWinVocals(this.winTypeSkin[i]),this.animation.setAnimation(0,this.winTypeAnim[1],!1),this.animation.addAnimation(0,this.winTypeAnim[0],!0);var o=0;this.animation.setCompleteListener((function(e){(e.animation?e.animation.name:"")===t.winTypeAnim[0]&&++o===t.WinMusicTimes[i]&&t.stopAnimation()})),this.dk.setAnimation(0,this.winTypeSkinAni[0],!1),this.glow1.node.active=!0,this.glow1.setAnimation(0,"glow_intro",!1),this.dk.node.active=!0,this.scheduleOnce((function(){var e;"ani_idle_out"!=(null==(e=t.dk.getComponent(r.Skeleton))?void 0:e.animation)&&(t.dk.setAnimation(0,t.winTypeSkinAni[i],!1),t.glow1.setAnimation(0,"glow_idle",!0))}),2),this.scheduleOnce((function(){t.coin.active=!0,t.winType<=2?t.animCoin.play("coin_ani_level12"):t.winType>2&&t.winType<5?t.animCoin.play("coin_ani_level34"):t.animCoin.play("coin_ani_level5")}),1),this.winScore.startRolling(0,e,this.winTypeDuration[i],(function(){S(t.winScoreNode).to(.2,{scale:new f(1.5,1.5,1.5)}).to(.2,{scale:new f(1,1,1)}).start()}))},s.onQuickClose=function(){this.isout||(0==this.close_type?(this.StopBigWinStartSound(this.winTypeSkin[this.winType]),this.playBigWinFinishSound(this.winTypeSkin[this.winType]),this.stopAnimation()):1==this.close_type&&(this.playBigWinlastSound(this.winTypeSkin[this.winType]),this.unscheduleAllCallbacks(),this.stopAndCloseView()))},s.stopAnimation=function(){var i=this;this.close_type=1,this.winScore.stopRollingAndShowNumber(this.winNum),this.animation.setAnimation(0,this.winTypeAnim[2],!1),this.animation.setCompleteListener((function(e){(e.animation?e.animation.name:"")===i.winTypeAnim[2]&&(i.animation.node.active=!1,i.dk.node.active=!1,i.isout=!0,i.glow1.node.active=!1)})),this.dk.setAnimation(0,"ani_idle_out",!1),this.glow1.setAnimation(0,"glow_out",!1),this.scheduleOnce((function(){for(var e=0;e<i.thecoins.children.length;e++){i.thecoins.children[e].getComponent(u).emissionRate=0}}),.01),this.scheduleOnce((function(){for(var e=0;e<i.thecoins.children.length;e++){i.thecoins.children[e].getComponent(u).spriteFrame=null}i.animCoin.stop()}),1.5),this.scheduleOnce((function(){i.stopAndCloseView()}),1.5)},s.playScoreEffect=function(){this.scoreTween=S(this.dk.node).to(.4,{scale:new f(1,1,1)}).to(.4,{scale:new f(.8,.8,.8)}).union().repeatForever().start()},s.stopScoreEffect=function(){this.scoreTween&&this.scoreTween.stop()},s.stopAndCloseView=function(){this.close_type=2,this.stopScoreEffect(),this.cb&&this.cb(),d.instance.revokeLoweringMusicVolume("bigWin"),this.close()},s.playBigWinVocals=function(i){switch(i){case"big":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_SPEECH_BIG);break;case"mega":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_SPEECH_MEGA);break;case"epic":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_SPEECH_EPIC);break;case"super":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_SPEECH_SUPER);break;case"ultimate":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_SPEECH_ULTIMATE)}},s.playBigWinStartSound=function(i){switch(d.instance.requestLoweringMusicVolume(0,"bigWin"),i){case"big":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_BIG);break;case"epic":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_EPIC);break;case"super":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_SUPER);break;case"mega":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_MEGA);break;case"ultimate":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_ULTIMATE)}},s.StopBigWinStartSound=function(i){switch(i){case"big":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_BIG);break;case"epic":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EPIC);break;case"super":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_SUPER);break;case"mega":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_MEGA);break;case"ultimate":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_ULTIMATE)}},s.playBigWinFinishSound=function(i){switch(i){case"big":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_BIG);break;case"epic":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_EPIC);break;case"super":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_SUPER);break;case"mega":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_MEGA);break;case"ultimate":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_ULTIMATE)}},s.playBigWinlastSound=function(i){switch(i){case"big":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_END_BIG);break;case"epic":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_END_EPIC);break;case"super":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_END_SUPER);break;case"mega":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_END_MEGA);break;case"ultimate":d.instance.playSoundEffect(y.AUDIO_URLS.SE_BIG_WIN_END_ULTIMATE)}},s._stopAllEffect=function(i){switch(i){case"big":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_BIG),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_BIG),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_END_BIG);break;case"epic":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EPIC),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_EPIC),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_END_EPIC);break;case"super":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_SUPER),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_SUPER),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_END_SUPER);break;case"mega":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_MEGA),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_MEGA),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_END_MEGA);break;case"ultimate":d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_ULTIMATE),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_EXIT_ULTIMATE),d.instance.stopEffect(y.AUDIO_URLS.SE_BIG_WIN_END_ULTIMATE)}},o(e,[{key:"showAction",get:function(){var i=this;return function(e){App.utils.showView(i.content,e)}}},{key:"closeAction",get:function(){var i=this;return function(e){App.utils.hideView(i.content,e)}}}]),e}(I)).prototype,"content",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(W.prototype,"glow1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(W.prototype,"thecoins",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(W.prototype,"coin",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(W.prototype,"animation",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(W.prototype,"dk",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(W.prototype,"winScoreNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(W.prototype,"winScore",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(W.prototype,"animCoin",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=W))||D)||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/BingoAnimationLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./AnimatedSymbol4.ts","./AudioHelper6.ts","./AnimatedSymbolNodePool4.ts"],(function(t){var n,e,o,i,a,s,l,r,c,p,d,f,S,h,u,E,_,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,l=t.Node,r=t.sp,c=t.v3,p=t.Tween,d=t.tween},function(t){f=t.SubGameData},function(t){S=t.common},function(t){h=t.DisplayTaskManager,u=t.Display},function(t){E=t.AnimatedSymbol},function(t){_=t.AudioHelper},function(t){m=t.AnimatedSymbolNodePool}],execute:function(){var y,R,L,A,g,b,N,v;a._RF.push({},"7986btiXsZGuY+4cspiIwmJ","BingoAnimationLayer",void 0);var P=s.ccclass,U=s.menu,D=s.property;t("BingoAnimationLayer",(y=P("BingoAnimationLayer"),R=U(f.module+"/layers/BingoAnimationLayer"),L=D(l),A=D([r.Skeleton]),y(g=R((N=n((b=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,o(n,"animatedSymbolsRootNode",N,i(n)),o(n,"flameSkeletonsList",v,i(n)),n._cachedPosition=c(),n._playedSoundEffectFlagsMap=new Map,n}e(n,t);var a=n.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),h.addHandler(this)},a.onTaskInitialize=function(t,n){this._playedSoundEffectFlagsMap.forEach((function(t){return t.clear()})),this._clearAllAnimations(),this.flameSkeletonsList.forEach((function(t){return t.enabled=!1}))},a.onTaskSpinStart=function(t,n){this._playedSoundEffectFlagsMap.forEach((function(t){return t.clear()})),this._clearAllAnimations()},a.onTaskCollectLavas=function(t,n){var e=this;this._clearAllAnimations();for(var o=0,i=void 0,a=0;a<f.REELS_COLUMN_NUMBER;++a)for(var s=function(){if(o=a*f.REELS_NUMBER_PER_COLUMN+l,!(i=n.bottomSymbolsList[o])||!f.isLavaSymbol(i.id))return 0;var t=m.instance.pop();if(!t)return 0;e.startDisplay(),t.setPosition(e._getPositionForReelIndex(a,l,!1)),t.setParent(e.animatedSymbolsRootNode),p.stopAllByTarget(t),d(t).by(.5,{position:c(0,407,0)}).delay(.65).call((function(){m.instance.push(t),e.endDisplay()})).start();var s=t.getComponent(E);s.info=i,s.play("collect",!1)},l=0;l<f.REELS_NUMBER_PER_COLUMN;++l)s();this.animatedSymbolsRootNode.children.length>0&&_.instance.playOneShotSoundEffect(f.AUDIO_URLS.SE_LAVA_COLLECT)},a.onTaskBingoTrigger=function(t,n){this._clearAllAnimations(),this._makeLavasFever(n.totalPayline,n.topSymbolsList,!0,!0),this.animatedSymbolsRootNode.children.length>0&&_.instance.playOneShotSoundEffect(f.AUDIO_URLS.SE_LAVA_FEVER)},a.onTaskBingoSettle=function(t,n){var e=this;this.animatedSymbolsRootNode.children.forEach((function(t){e.startDisplay(),t.getComponent(E).play("win",!1,(function(t){m.instance.push(t.node),e.endDisplay()}))})),this.animatedSymbolsRootNode.children.length>0&&_.instance.playOneShotSoundEffect(f.AUDIO_URLS.SE_BINGO_SETTLE)},a.onTaskRespinGameTrigger=function(t,n){var e=this,o=m.instance.pop();if(o){this.startDisplay(),o.setPosition(this._getPositionForReelIndex(Math.floor(.5*f.REELS_COLUMN_NUMBER),Math.floor(.5*f.REELS_NUMBER_PER_COLUMN),!0)),o.setParent(this.animatedSymbolsRootNode);var i=o.getComponent(E);i.info={id:102,score:0},i.play("win",!1,(function(t){m.instance.push(t.node),e.endDisplay()})),_.instance.playOneShotSoundEffect(f.AUDIO_URLS.SE_RESPIN_GAME_TRIGGER)}},a.onTaskRespinGameHitPayline=function(t,n){this._clearAllAnimations(),this._makeLavasFever(n.topTotalPayline,n.topSymbolsList,!0,!1),this._makeLavasFever(n.bottomTotalPayline,n.bottomSymbolsList,!1,!1),this.animatedSymbolsRootNode.children.length>0&&_.instance.playOneShotSoundEffect(f.AUDIO_URLS.SE_LAVA_FEVER)},a.onTaskRespinGameSettle=function(t,n){var e=this;this.animatedSymbolsRootNode.children.forEach((function(t){e.startDisplay(),t.getComponent(E).play("win",!1,(function(t){m.instance.push(t.node),e.endDisplay()}))})),this.animatedSymbolsRootNode.children.length>0&&_.instance.playOneShotSoundEffect(f.AUDIO_URLS.SE_BINGO_SETTLE)},a.onTaskBingoReset=function(t,n){var e=this;this.startDisplay(),p.stopAllByTarget(this),d(this).delay(1).call((function(){e.flameSkeletonsList.forEach((function(t){return t.enabled=!1})),e.endDisplay()})).start(),this.flameSkeletonsList.forEach((function(t){t.enabled=!0,t.clearTracks(),t.setAnimation(0,"animation",!1)})),_.instance.playOneShotSoundEffect(f.AUDIO_URLS.SE_BINGO_RESET)},a.onTaskReelStop=function(t,n){var e,o=n.symbolsList[0];if(o&&f.isLavaSymbol(o.id)){var i=m.instance.pop();if(i){i.setPosition(this._getPositionForReelIndex(n.column,n.row,n.isTopReel)),i.setParent(this.animatedSymbolsRootNode);var a=i.getComponent(E);a.info=o,a.play("appear",!1,(function(t){return m.instance.push(t.node)}));var s=n.spinningIndex;(n.spinSpeedType===S.ESpinSpeedType.FAST||n.manualStop)&&(s=-1);var l=null!=(e=this._playedSoundEffectFlagsMap.get(s))?e:new Map;this._playedSoundEffectFlagsMap.set(s,l),l.get(f.AUDIO_URLS.SE_LAVA_APPEAR)||(l.set(f.AUDIO_URLS.SE_LAVA_APPEAR,!0),_.instance.playOneShotSoundEffect(f.AUDIO_URLS.SE_LAVA_APPEAR))}}},a._getPositionForReelIndex=function(t,n,e){return this._cachedPosition.x=(f.SYMBOL_SIZE.width+f.REEL_SPACING.width)*(t-.5*f.REELS_COLUMN_NUMBER+.5),this._cachedPosition.y=(f.SYMBOL_SIZE.height+f.REEL_SPACING.height)*(.5*f.REELS_NUMBER_PER_COLUMN-n-.5)+407*(e?.5:-.5),this._cachedPosition.z=0,this._cachedPosition},a._clearAllAnimations=function(){this.stopAllDisplays(),p.stopAllByTarget(this),this.animatedSymbolsRootNode.children.slice().forEach((function(t){p.stopAllByTarget(t),m.instance.push(t)})),this.flameSkeletonsList.forEach((function(t){return t.enabled=!1}))},a._makeLavasFever=function(t,n,e,o){var i=this;if(!(t<=0))for(var a=0,s=void 0,l=0;l<f.REELS_COLUMN_NUMBER;++l)for(var r=0;r<f.REELS_NUMBER_PER_COLUMN;++r)if(a=l*f.REELS_NUMBER_PER_COLUMN+r,(!o||a!==f.WILD_REEL_INDEX)&&!((t&1<<a)<=0)&&(s=n[a])){var c=m.instance.pop();if(c){this.startDisplay(),c.setPosition(this._getPositionForReelIndex(l,r,e)),c.setParent(this.animatedSymbolsRootNode);var p=c.getComponent(E);p.info=s,p.play("fever",!1,(function(){return i.endDisplay()}))}}},n}(u)).prototype,"animatedSymbolsRootNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(b.prototype,"flameSkeletonsList",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=b))||g)||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/BingoReelsBackground.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts"],(function(r){var i,e,t,o,a,n,l,c,s,h,u;return{setters:[function(r){i=r.applyDecoratedDescriptor,e=r.inheritsLoose,t=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){a=r.cclegacy,n=r._decorator,l=r.color,c=r.UITransform,s=r.Graphics,h=r.Component},function(r){u=r.SubGameData}],execute:function(){var f,p,g,d,m,v,B,y,R;a._RF.push({},"d181fm80D1KPYs2BaWATdv4","BingoReelsBackground",void 0);var b=n.ccclass,w=n.executeInEditMode,k=n.menu,D=n.property,M=93,T=76,_=l(16,0,91),z=l(10,0,55),G=l(9,0,48);r("BingoReelsBackground",(f=b("BingoReelsBackground"),p=k(u.module+"/elements/BingoReelsBackground"),g=w(!0),d=D(c),m=D(s),f(v=p(v=g((y=i((B=function(r){function i(){for(var i,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return i=r.call.apply(r,[this].concat(a))||this,t(i,"uiTransform",y,o(i)),t(i,"graphics",R,o(i)),i}e(i,r);var a=i.prototype;return a.onLoad=function(){this._drawGraphics()},a._drawGraphics=function(){this.graphics.clear();var r=this.uiTransform.contentSize,i=-r.width/2,e=-r.height/2;this.graphics.fillColor=_,this.graphics.fillRect(i,e,r.width,r.height);var t=Math.floor(r.width/M),o=Math.floor(r.height/T),a=t*o;if(!(a<=0)){var n=(r.width-t*M)/(t-1),l=(r.height-o*T)/(o-1),c=0,s=0;this.graphics.fillColor=z;for(var h=0;h<a;h+=2)c=h%t,s=Math.floor(h/t),this.graphics.fillRect(i+(M+n)*c,e+(T+l)*s,M,T);this.graphics.fillColor=G;for(var u=1;u<a;u+=2)c=u%t,s=Math.floor(u/t),this.graphics.fillRect(i+(M+n)*c,e+(T+l)*s,M,T)}},i}(h)).prototype,"uiTransform",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(B.prototype,"graphics",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=B))||v)||v)||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/BonusBodyLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./AudioHelper6.ts"],(function(n){var t,e,i,s,o,a,r,l,p,u,c,m,d,h,S,_;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,s=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,r=n.Label,l=n.Node,p=n.sp,u=n.Tween,c=n.tween},function(n){m=n.SubGameData},function(n){d=n.common},function(n){h=n.DisplayTaskManager,S=n.Display},function(n){_=n.AudioHelper}],execute:function(){var f,y,g,b,L,k,B,A;o._RF.push({},"9ea6drLyK1O87Ih5ApVW7EQ","BonusBodyLayer",void 0);var N=a.ccclass,D=a.menu,T=a.property;n("BonusBodyLayer",(f=N("BonusBodyLayer"),y=D(m.module+"/layers/BonusBodyLayer"),g=T(r),b=T(l),f(L=y((B=t((k=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,i(t,"spinsNumberLabel",B,s(t)),i(t,"progressSkeletonsRootNode",A,s(t)),t._progressSkeletonsList=[],t._currentSpins=0,t._totalSpins=0,t}e(t,n);var o=t.prototype;return o.onLoad=function(){var t=this;n.prototype.onLoad.call(this),h.addHandler(this),this._progressSkeletonsList.length=0,this.progressSkeletonsRootNode.children.forEach((function(n){var e=n.getComponent(p.Skeleton);t._progressSkeletonsList.push(e),e.setCompleteListener(t._onSkeletonAnimationComplete.bind(t))}))},o.onTaskInitialize=function(n,t){this.stopAllDisplays(),this.node.active=!1,u.stopAllByTarget(this.progressSkeletonsRootNode)},o.onTaskBonusGameTransit=function(n,t){this._currentSpins=0,this._totalSpins=t.spinsNumber,this.spinsNumberLabel.string=this._currentSpins+"/"+this._totalSpins},o.onTaskBonusGameSpinStart=function(n,t){t.isBingoBlast||(this._currentSpins=Math.min(this._currentSpins+1,this._totalSpins),this.spinsNumberLabel.string=this._currentSpins+"/"+this._totalSpins)},o.onTaskBonusGameCollectFlowers=function(n,t){var e=this;this.startDisplay(),u.stopAllByTarget(this.progressSkeletonsRootNode),c(this.progressSkeletonsRootNode).delay(1).call((function(){var n=!1;e._progressSkeletonsList.forEach((function(i,s){if(i.enabled){if(s<t.currentFlowersNumber)return;var o=i.animation;return"animation1"!==o&&"animation2"!==o&&"animation1_2"!==o||e.endDisplay(),void(i.enabled=!1)}s>=t.currentFlowersNumber||(n=!0,e.startDisplay(),i.enabled=!0,i.clearTracks(),2===s||6===s||11===s?(i.setAnimation(0,"animation1",!1),i.addAnimation(0,"animation1_1",!1)):(i.setAnimation(0,"animation2",!1),i.addAnimation(0,"animation2_1",!1)))})),e.endDisplay(),n&&_.instance.playSoundEffect(m.AUDIO_URLS.SE_BONUS_GAME_FLOWER_SHOW)})).start()},o.onTaskBonusGameHighlightFlower=function(n,t){var e=this._progressSkeletonsList[t.flowerIndex];e&&e.findAnimation("animation1_2")&&(this.startDisplay(),e.enabled=!0,e.clearTracks(),e.setAnimation(0,"animation1_2",!1),_.instance.playSoundEffect(m.AUDIO_URLS.SE_BONUS_GAME_FLOWER_HIGHLIGHT))},o.onTaskBonusGameUpdateSpins=function(n,t){this._totalSpins=t.spinsNumber,this.spinsNumberLabel.string=this._currentSpins+"/"+this._totalSpins,_.instance.playSoundEffect(m.AUDIO_URLS.SE_BONUS_GAME_UPDATE_TOTAL_SPIN)},o.onTaskChangeGame=function(n,t){this._currentSpins=0,t.nextGameMode===d.EGameMode.BONUS?this.node.active=!0:this.node.active=!1,u.stopAllByTarget(this.progressSkeletonsRootNode),this._progressSkeletonsList.forEach((function(n){return n.enabled=!1}))},o._onSkeletonAnimationComplete=function(n){var t=n.animation.name;"animation1"!==t&&"animation2"!==t&&"animation1_2"!==t||this.endDisplay()},t}(S)).prototype,"spinsNumberLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(k.prototype,"progressSkeletonsRootNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=k))||L)||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/BonusFooterLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./NumberRoller.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./Portrait.ts","./AudioHelper6.ts"],(function(e){var t,i,n,r,l,o,a,s,u,p,m,c,b,y,f,h,S,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Label,s=e.Sprite,u=e.sp,p=e.Tween,m=e.tween},function(e){c=e.default},function(e){b=e.NumberRoller},function(e){y=e.SubGameData},function(e){f=e.common},function(e){h=e.DisplayTaskManager},function(e){S=e.Portrait},function(e){d=e.AudioHelper}],execute:function(){var M,L,k,T,g,N,W,_,A,v,w,F,B,R,z,x,D,G,E,P;l._RF.push({},"481e7LgfsNCb5I0wt8EtOP0","BonusFooterLayer",void 0);var I=o.ccclass,U=o.menu,C=o.property,H="animation";e("BonusFooterLayer",(M=I("BonusFooterLayer"),L=U(y.module+"/layers/BonusFooterLayer"),k=C([S]),T=C(a),g=C(b),N=C(a),W=C(s),_=C(u.Skeleton),A=C(u.Skeleton),M(v=L((F=t((w=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"portraitsList",F,r(t)),n(t,"teamMultiplierLabel",B,r(t)),n(t,"myWinNumberRoller",R,r(t)),n(t,"spotsNumberLabel",z,r(t)),n(t,"spotsTextSprite",x,r(t)),n(t,"teamMultiplierSkeleton",D,r(t)),n(t,"myWinSkeleton",G,r(t)),n(t,"spotTextSpriteFrameName",E,r(t)),n(t,"spotsTextSpriteFrameName",P,r(t)),t._currentMyWin=0,t}i(t,e);var l=t.prototype;return l.onLoad=function(){e.prototype.onLoad.call(this),h.addHandler(this),this.teamMultiplierSkeleton.setCompleteListener(this._onTeamMultiplierSkeletonAnimationComplete.bind(this))},l.onTaskInitialize=function(e,t){this._currentMyWin=0,this.node.active=!1,p.stopAllByTarget(this.teamMultiplierLabel.node),this.teamMultiplierLabel.string="",this.myWinNumberRoller.stopRollingAndShowNumber(0),this.spotsNumberLabel.string="0",this.teamMultiplierSkeleton.enabled=!1,this.myWinSkeleton.enabled=!1},l.onTaskBonusGameTransit=function(e,t){this.portraitsList.forEach((function(e,i){var n;e.info=null!=(n=t.seatsList[i])?n:{uid:"",avatarID:0,score:0}})),this.spotsNumberLabel.string=""+t.mySpotsNumber,this.spotsTextSprite.changeSpriteFrameFromAtlas(t.mySpotsNumber>1?this.spotsTextSpriteFrameName:this.spotTextSpriteFrameName)},l.onTaskBonusGameUpdateMultiplier=function(e,t){var i=this;p.stopAllByTarget(this.teamMultiplierLabel.node),m(this.teamMultiplierLabel.node).delay(3.516667).call((function(){i.teamMultiplierLabel.string=t.teamMultiplier+"X",i.teamMultiplierSkeleton.enabled=!0,i.teamMultiplierSkeleton.clearTracks(),i.teamMultiplierSkeleton.setAnimation(0,H,!1),d.instance.playSoundEffect(y.AUDIO_URLS.SE_BONUS_GAME_UPDATE_MULTIPLIER)})).start()},l.onTaskBonusGameHitPayline=function(e,t){var i=this;this._currentMyWin>=t.myTotalWin||(this.myWinSkeleton.enabled=!0,this.myWinSkeleton.clearTracks(),this.myWinSkeleton.setAnimation(0,H,!0),this.myWinNumberRoller.startRolling(this._currentMyWin,t.myTotalWin,.7,(function(){i.myWinSkeleton.enabled=!1})),this._currentMyWin=t.myTotalWin)},l.onTaskChangeGame=function(e,t){this._currentMyWin=0,t.nextGameMode===f.EGameMode.BONUS?this.node.active=!0:this.node.active=!1,p.stopAllByTarget(this.teamMultiplierLabel.node),this.teamMultiplierLabel.string="",this.myWinNumberRoller.stopRollingAndShowNumber(0),this.teamMultiplierSkeleton.enabled=!1,this.myWinSkeleton.enabled=!1},l._onTeamMultiplierSkeletonAnimationComplete=function(e){this.teamMultiplierSkeleton.enabled=!1},t}(c)).prototype,"portraitsList",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(w.prototype,"teamMultiplierLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(w.prototype,"myWinNumberRoller",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"spotsNumberLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(w.prototype,"spotsTextSprite",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"teamMultiplierSkeleton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(w.prototype,"myWinSkeleton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(w.prototype,"spotTextSpriteFrameName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=t(w.prototype,"spotsTextSpriteFrameName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=w))||v)||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/BonusHeaderLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./AudioHelper6.ts"],(function(e){var t,n,i,o,a,l,r,s,h,u,c,d,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.sp,s=e.Tween,h=e.tween},function(e){u=e.default},function(e){c=e.SubGameData},function(e){d=e.common},function(e){g=e.DisplayTaskManager},function(e){p=e.AudioHelper}],execute:function(){var f,y,S,k,m,H,b;a._RF.push({},"acbfc4F63RHRKlwH4M6f13Z","BonusHeaderLayer",void 0);var v=l.ccclass,B=l.menu,L=l.property,A=((f={})[5]=6,f[6]=5,f[7]=4,f[8]=3,f[9]=2,f[10]=1,f);e("BonusHeaderLayer",(y=v("BonusHeaderLayer"),S=B(c.module+"/layers/BonusHeaderLayer"),k=L(r.Skeleton),y(m=S((b=t((H=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"highlightSkeleton",b,o(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),g.addHandler(this)},a.onTaskInitialize=function(e,t){this.node.active=!1,s.stopAllByTarget(this.highlightSkeleton.node),this.highlightSkeleton.enabled=!1},a.onTaskBonusGameUpdateMultiplier=function(e,t){var n,i=this;this.node.active=!0,this.highlightSkeleton.enabled=!0;var o=null!=(n=A[t.alohaSymbolsNumber])?n:A[10];this.highlightSkeleton.clearTracks(),this.highlightSkeleton.setAnimation(0,"animation"+o,!0),s.stopAllByTarget(this.highlightSkeleton.node),h(this.highlightSkeleton.node).delay(3.683333).call((function(){return i.highlightSkeleton.enabled=!1})).start(),p.instance.playSoundEffect(c.AUDIO_URLS.SE_BONUS_GAME_ALOHA_HIGHLIGHT)},a.onTaskChangeGame=function(e,t){t.nextGameMode===d.EGameMode.BONUS?this.node.active=!0:this.node.active=!1,s.stopAllByTarget(this.highlightSkeleton.node),this.highlightSkeleton.enabled=!1},t}(u)).prototype,"highlightSkeleton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=H))||m)||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/BonusReelLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./BonusSymbol.ts"],(function(t){var e,i,n,s,o,r,a,l,_,h,m,S,d,c,u,p,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,a=t._decorator,l=t.Prefab,_=t.Node,h=t.instantiate,m=t.easing,S=t.math},function(t){d=t.SubGameData},function(t){c=t.common},function(t){u=t.DisplayTaskManager,p=t.Display},function(t){N=t.BonusSymbol}],execute:function(){var y,g,b,f,I,E,L,B,T,O,v,P,R,C,x,U;r._RF.push({},"72358hs+4hN941tY53KStGc","BonusReelLayer",void 0);var M=a.ccclass,D=a.menu,Y=a.property,A=function(t){return t[t.IDLE=0]="IDLE",t[t.ACCELERATING=1]="ACCELERATING",t[t.CONSTANT_SPINNING=2]="CONSTANT_SPINNING",t[t.DECELERATING=3]="DECELERATING",t[t.BOUNCING_OUT=4]="BOUNCING_OUT",t[t.BOUNCING_IN=5]="BOUNCING_IN",t}(A||{});t("BonusReelLayer",(y=M("BonusReelLayer"),g=D(d.module+"/layers/BonusReelLayer"),b=Y(l),f=Y(_),I=Y(_),E=Y(_),L=Y({visible:!0}),B=Y({visible:!0}),y(T=g((v=e((O=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"symbolPrefab",v,s(e)),n(e,"externalSpinningSymbolsRootNode",P,s(e)),n(e,"externalShowingNormalSymbolsRootNode",R,s(e)),n(e,"externalShowingAlohaSymbolsRootNode",C,s(e)),n(e,"_rowIndex",x,s(e)),n(e,"_columnIndex",U,s(e)),e._state=A.IDLE,e._spinningIndex=-1,e._spinSpeedType=c.ESpinSpeedType.DEFAULT,e._spinProcessConfig=d.BONUS_SPIN_CONFIGURATION.default[0],e._elapsedTime=0,e._constantSpinningTimeout=0,e._targetSymbolInfosList=null,e._manualStopping=!1,e._currentTargetIndex=-999,e._symbolNodes=[],e._maxPositionYForPlace=0,e._minPositionYForPlace=0,e._maxPositionYForShow=0,e._minPositionYForShow=0,e._randomSymbolsList=[],e}i(e,t);var r=e.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this);var e=d.SYMBOL_NUMBERS_IN_REEL+2;this._minPositionYForPlace=-.5*d.BONUS_SYMBOL_SIZE.height,this._maxPositionYForPlace=d.BONUS_SYMBOL_SIZE.height*(e-1+.5),this._minPositionYForShow=-.5*d.BONUS_SYMBOL_SIZE.height,this._maxPositionYForShow=d.BONUS_SYMBOL_SIZE.height*(d.SYMBOL_NUMBERS_IN_REEL+1-1+.5);for(var i=0;i<e;++i){var n=h(this.symbolPrefab);this._symbolNodes.push(n)}},r.onDestroy=function(){this._symbolNodes.length=0,t.prototype.onDestroy.call(this)},r.reset=function(t,e){var i=this;this.stopAllDisplays(),this._state=A.IDLE,this._spinningIndex=-1,this._spinSpeedType=c.ESpinSpeedType.DEFAULT,this._elapsedTime=0,this._constantSpinningTimeout=0,this._targetSymbolInfosList=null!=e?e:this._targetSymbolInfosList,this._manualStopping=!1,this._randomSymbolsList=t;for(var n=d.SYMBOL_NUMBERS_IN_REEL+2-1;n>=0;--n){var s=n-1,o=this._getSymbolInfoFrom(this._targetSymbolInfosList,s),r=s>=0&&s<d.SYMBOL_NUMBERS_IN_REEL,a=this._symbolNodes[n];a.setParent(this._inferSymbolParent(o,r)),a.setSiblingIndex(999);var l=a.getComponent(N);l&&(l.info=o)}for(var _=this._symbolNodes.length-1;_>=d.SYMBOL_NUMBERS_IN_REEL+2;--_){var h=this._symbolNodes[_],m=h.getComponent(N);if(!m)return;h.setParent(this._inferSymbolParent(m.info,!1))}this._symbolNodes.forEach((function(t,e){t.setPosition(0,d.BONUS_SYMBOL_SIZE.height*(e-1+.5),0),i._updateSymbolPositionX(t)}))},r.collectFlower=function(){this._symbolNodes.forEach((function(t){return t.getComponent(N).collectFlower()}))},r.startSpinning=function(t){var e,i;return this._spinningIndex=-1,this._state===A.IDLE&&this.index!==d.WILD_REEL_INDEX&&!d.isValidUserID(null!=(e=null==(i=this._targetSymbolInfosList)||null==(i=i[0])?void 0:i.uid)?e:"")&&(this._spinningIndex=t,this._beforeAccelerating(),!0)},r.stopSpinning=function(t,e){if(this._state!==A.ACCELERATING&&this._state!==A.CONSTANT_SPINNING)return 0;if(this.startDisplay(),this._constantSpinningTimeout=e,this._targetSymbolInfosList=t,this._state===A.CONSTANT_SPINNING){var i=this._elapsedTime-this._spinProcessConfig.constant.duration;this._constantSpinningTimeout=Math.max(e,i)}return this._manualStopping&&this._jumpToBouncingInProcessing(),this._constantSpinningTimeout},r.manuallyStop=function(){this._manualStopping||this._spinSpeedType!==c.ESpinSpeedType.DEFAULT||this._state===A.IDLE||this._state===A.BOUNCING_IN||(this._manualStopping=!0,this._jumpToBouncingInProcessing())},r.update=function(t){if(this._state!==A.IDLE){var e=this._elapsedTime;switch(this._elapsedTime+=t,this._state){case A.ACCELERATING:var i,n,s=this._spinProcessConfig.acceleration,o=null!=(i=m[null!=(n=s.easing)?n:"linear"])?i:m.linear,r=0===s.duration?0:o(e/s.duration),a=0===s.duration?1:o(S.clamp01(this._elapsedTime/s.duration)),l=S.lerp(0,s.distance,r),_=S.lerp(0,s.distance,a);if(this._moveSymbols(_-l),this._elapsedTime>=s.duration){var h=this._elapsedTime-s.duration;this._afterAccelerating(),this._beforeConstantSpinning(),h>0&&this.update(h)}break;case A.CONSTANT_SPINNING:var d=this._spinProcessConfig.constant,c=0===d.duration?d.distance:d.distance/d.duration;this._moveSymbols(c*t),this._elapsedTime>=d.duration+this._constantSpinningTimeout&&this._targetSymbolInfosList&&(this._afterConstantSpinning(),this._beforeDecelerating());break;case A.DECELERATING:var u,p,N=this._spinProcessConfig.deceleration,y=null!=(u=m[null!=(p=N.easing)?p:"linear"])?u:m.linear,g=0===N.duration?0:y(e/N.duration),b=0===N.duration?1:y(S.clamp01(this._elapsedTime/N.duration)),f=N.distance>0?Math.floor:Math.ceil,I=.1*f(10*S.lerp(0,N.distance,g)),E=.1*f(10*S.lerp(0,N.distance,b));if(this._moveSymbols(E-I),this._elapsedTime>=N.duration){var L=this._elapsedTime-N.duration;this._afterDecelerating(),this._beforeBouncingOut(),L>0&&this.update(L)}break;case A.BOUNCING_OUT:var B=this._spinProcessConfig.bounce,T=m.sineOut,O=0===B.duration?0:T(e/B.duration),v=0===B.duration?1:T(S.clamp01(this._elapsedTime/B.duration)),P=S.lerp(0,B.distance,O),R=S.lerp(0,B.distance,v);if(this._moveSymbols(R-P),this._elapsedTime>=B.duration){var C=this._elapsedTime-B.duration;this._afterBouncingOut(),this._beforeBouncingIn(),C>0&&this.update(C)}break;case A.BOUNCING_IN:var x=this._spinProcessConfig.bounce,U=m.sineIn,M=0===x.duration?0:U(e/x.duration),D=0===x.duration?1:U(S.clamp01(this._elapsedTime/x.duration)),Y=S.lerp(0,-x.distance,M),w=S.lerp(0,-x.distance,D);this._moveSymbols(w-Y),this._elapsedTime>=x.duration&&this._afterBouncingIn()}}},r._beforeAccelerating=function(){var t,e=this;this.startDisplay(),this._state=A.ACCELERATING,this._spinSpeedType=c.ESpinSpeedType.DEFAULT,this._elapsedTime=0,this._constantSpinningTimeout=0,this._targetSymbolInfosList=null,this._manualStopping=!1;var i=d.BONUS_SPIN_CONFIGURATION.default;(d.turboSpin||d.quickSpin)&&(this._spinSpeedType=c.ESpinSpeedType.FAST,i=d.BONUS_SPIN_CONFIGURATION.fast),this._spinProcessConfig=null!=(t=i[this._spinningIndex])?t:i[0],this._symbolNodes.forEach((function(t){t.setParent(e.externalSpinningSymbolsRootNode),e._updateSymbolPositionX(t)}))},r._afterAccelerating=function(){this.endDisplay()},r._beforeConstantSpinning=function(){this._state=A.CONSTANT_SPINNING,this._elapsedTime=0},r._afterConstantSpinning=function(){this._constantSpinningTimeout=0},r._beforeDecelerating=function(){this._state=A.DECELERATING,this._elapsedTime=0;var t=this._spinProcessConfig.deceleration,e=t.distance%d.BONUS_SYMBOL_SIZE.height;if(this._sortSymbolNodes(),this._symbolNodes.forEach((function(t,e){return t.setPosition(0,d.BONUS_SYMBOL_SIZE.height*(e-1+.5),0)})),t.distance>0){var i=Math.ceil(t.distance/d.BONUS_SYMBOL_SIZE.height);if(i<d.SYMBOL_NUMBERS_IN_REEL+1+1){this._currentTargetIndex=i-1;for(var n=0;n<d.SYMBOL_NUMBERS_IN_REEL+1-i+1;++n){var s=this._symbolNodes[n];if(s){var o=this._currentTargetIndex++,r=this._getSymbolInfoFrom(this._targetSymbolInfosList,o),a=this._inferSymbolParent(r,!1);s.setParent(a),s.setSiblingIndex(999);var l=s.getComponent(N);l&&(l.info=r)}}}else this._currentTargetIndex=i-1-1;0!==e&&this._moveSymbols(d.BONUS_SYMBOL_SIZE.height-e)}else if(t.distance<0){var _=Math.ceil(-t.distance/d.BONUS_SYMBOL_SIZE.height);if(_<d.SYMBOL_NUMBERS_IN_REEL+1+1){this._currentTargetIndex=-1;for(var h=_+1-1;h<d.SYMBOL_NUMBERS_IN_REEL+2;++h){var m=this._symbolNodes[h];if(m){var S=this._currentTargetIndex++,c=this._getSymbolInfoFrom(this._targetSymbolInfosList,S),u=this._inferSymbolParent(c,!1);m.setParent(u),m.setSiblingIndex(0);var p=m.getComponent(N);p&&(p.info=c)}}}else this._currentTargetIndex=d.SYMBOL_NUMBERS_IN_REEL+1-_;0!==e&&this._moveSymbols(-d.BONUS_SYMBOL_SIZE.height-e)}else for(var y=d.SYMBOL_NUMBERS_IN_REEL+1;y>=0;--y){var g=y-1,b=this._getSymbolInfoFrom(this._targetSymbolInfosList,g),f=this._symbolNodes[y];f.setParent(this._inferSymbolParent(b,!1)),f.setSiblingIndex(999);var I=f.getComponent(N);I&&(I.info=b)}},r._afterDecelerating=function(){this.endDisplay()},r._beforeBouncingOut=function(){this.startDisplay(),this._state=A.BOUNCING_OUT,this._elapsedTime=0},r._afterBouncingOut=function(){},r._beforeBouncingIn=function(){this._state=A.BOUNCING_IN,this._elapsedTime=0},r._afterBouncingIn=function(){var t;this._state=A.IDLE,this._elapsedTime=0,this._sortSymbolNodes();for(var e=d.BONUS_SYMBOL_SIZE.height*d.SYMBOL_NUMBERS_IN_REEL,i=this._symbolNodes.length-1;i>=0;--i){var n=this._symbolNodes[i];n.position.y<=0||n.position.y>=e||(n.setParent(this._inferSymbolParent(n.getComponent(N).info,!0)),this._updateSymbolPositionX(n),(this._spinSpeedType===c.ESpinSpeedType.FAST||this._manualStopping)&&n.setSiblingIndex(this._columnIndex))}this.endDisplay(),u.runTask("bonusReelStop",{row:this._rowIndex,column:this._columnIndex,spinningIndex:this._spinningIndex,spinSpeedType:this._spinSpeedType,manualStop:this._manualStopping,symbolsList:null!=(t=this._targetSymbolInfosList)?t:[]})},r._jumpToBouncingInProcessing=function(){if(this._targetSymbolInfosList){this._sortSymbolNodes();for(var t=this._symbolNodes.length-1;t>=0;--t){var e=t-1,i=this._getSymbolInfoFrom(this._targetSymbolInfosList,e),n=this._symbolNodes[t];n.setParent(this._inferSymbolParent(i,!1)),n.setPosition(0,d.BONUS_SYMBOL_SIZE.height*(e+.5),0),n.setSiblingIndex(999);var s=n.getComponent(N);s&&(s.info=i)}this._moveSymbols(this._spinProcessConfig.bounce.distance),this._beforeBouncingIn()}},r._moveSymbols=function(t){var e=this;if(!(0===t||this._symbolNodes.length<=0)){var i;if(t>0){for(var n=this._symbolNodes.length-1,s=0;s<this._symbolNodes.length&&!(this._symbolNodes[s].position.y>=this._minPositionYForShow);++s)n=s;var o=-this._clampInCycle(this._symbolNodes[n].position.y-.5*d.BONUS_SYMBOL_SIZE.height,-d.BONUS_SYMBOL_SIZE.height,0),r=0===o?Math.floor(t/d.BONUS_SYMBOL_SIZE.height):Math.floor(1+(t-o)/d.BONUS_SYMBOL_SIZE.height);if(r>0){if(r>this._symbolNodes.length){var a=r%this._symbolNodes.length-n-1;i=a>0?this._symbolNodes.slice(this._symbolNodes.length-a,this._symbolNodes.length).concat(this._symbolNodes.slice(0,this._symbolNodes.length-a)).reverse():this._symbolNodes.slice(-a,this._symbolNodes.length).concat(this._symbolNodes.slice(0,-a)).reverse(),this._state===A.DECELERATING&&(this._currentTargetIndex-=r-this._symbolNodes.length)}else{var l=r-n-1;i=l>0?this._symbolNodes.slice(this._symbolNodes.length-l,this._symbolNodes.length).slice(0,n+1).reverse():this._symbolNodes.slice(-l,n+1).reverse()}i.forEach((function(t){var i=e._state===A.DECELERATING?e._currentTargetIndex--:999,n=e._getSymbolInfoFrom(e._targetSymbolInfosList,i);t.setParent(e._inferSymbolParent(n,!1)),t.setSiblingIndex(999);var s=t.getComponent(N);s&&(s.info=n)}))}}else{for(var _=0,h=this._symbolNodes.length-1;h>=0&&!(this._symbolNodes[h].position.y<=this._maxPositionYForShow);--h)_=h;var m=-this._clampInCycle(this._symbolNodes[_].position.y-.5*d.BONUS_SYMBOL_SIZE.height,0,d.BONUS_SYMBOL_SIZE.height),S=0===m?Math.floor(-t/d.BONUS_SYMBOL_SIZE.height):Math.floor(1+(m-t)/d.BONUS_SYMBOL_SIZE.height);if(S>0){if(S>this._symbolNodes.length){var c=S%this._symbolNodes.length,u=_+c-this._symbolNodes.length;i=u>0?this._symbolNodes.slice(u,_).concat(this._symbolNodes.slice(_,this._symbolNodes.length)).concat(this._symbolNodes.slice(0,u)):this._symbolNodes.slice(_+c,this._symbolNodes.length).concat(this._symbolNodes.slice(0,_+c)),this._state===A.DECELERATING&&(this._currentTargetIndex+=S-this._symbolNodes.length)}else{var p=_+S-this._symbolNodes.length;i=p>0?this._symbolNodes.slice(_,this._symbolNodes.length).concat(this._symbolNodes.slice(0,p)):this._symbolNodes.slice(_,_+S)}i.forEach((function(t){var i=e._state===A.DECELERATING?e._currentTargetIndex++:-999,n=e._getSymbolInfoFrom(e._targetSymbolInfosList,i);t.setParent(e._inferSymbolParent(n,!1)),t.setSiblingIndex(0);var s=t.getComponent(N);s&&(s.info=n)}))}}var y=!1;this._symbolNodes.forEach((function(i){var n=i.position.y+t;(n<e._minPositionYForPlace||n>=e._maxPositionYForPlace)&&(y=!0,n=e._clampInCycle(n,e._minPositionYForPlace,e._maxPositionYForPlace)),i.setPosition(0,n,0)})),y&&this._sortSymbolNodes()}},r._sortSymbolNodes=function(){this._symbolNodes.sort((function(t,e){return t.position.y-e.position.y}))},r._clampInCycle=function(t,e,i){if(e===i)return t;var n=e,s=i;e>i&&(n=i,s=e);var o=s-n;return n+((t-n)%o+o)%o},r._inferSymbolParent=function(t,e){return e?!d.isValidUserID(t.uid)&&d.isAlohaSymbol(t.id)?this.externalShowingAlohaSymbolsRootNode:this.externalShowingNormalSymbolsRootNode:this.externalSpinningSymbolsRootNode},r._getSymbolInfoFrom=function(t,e){var i,n;return 0===e?null!=(n=null==t?void 0:t[e])?n:{id:0,score:0,uid:"",avatarID:0,withFlower:!1}:null!=(i=null==t?void 0:t[e])?i:this._generateRandomSymbol()},r._generateRandomSymbol=function(){if(this._randomSymbolsList.length<=0)return{id:1===S.randomRangeInt(0,2)?60:0,score:0,uid:"",avatarID:0,withFlower:!1};switch(S.randomRangeInt(0,3)){case 1:return{id:60,score:0,uid:"",avatarID:0,withFlower:!1};case 2:return this._randomSymbolsList[S.randomRangeInt(0,this._randomSymbolsList.length)];default:return{id:0,score:0,uid:"",avatarID:0,withFlower:!1}}},r._updateSymbolPositionX=function(t){t.getParent()===this.externalSpinningSymbolsRootNode?t.setPosition(0,t.position.y,0):t.setPosition((d.BONUS_SYMBOL_SIZE.width+d.BONUS_REEL_SPACING.width)*(this._columnIndex-.5*d.REELS_COLUMN_NUMBER+.5),t.position.y,0)},o(e,[{key:"index",get:function(){return this._columnIndex*d.REELS_NUMBER_PER_COLUMN+this._rowIndex}},{key:"rowIndex",get:function(){return this._rowIndex}},{key:"columnIndex",get:function(){return this._columnIndex}},{key:"spinningIndex",get:function(){return this._spinningIndex}}]),e}(p)).prototype,"symbolPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(O.prototype,"externalSpinningSymbolsRootNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(O.prototype,"externalShowingNormalSymbolsRootNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(O.prototype,"externalShowingAlohaSymbolsRootNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(O.prototype,"_rowIndex",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),U=e(O.prototype,"_columnIndex",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),T=O))||T)||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/BonusResultLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./FormatNumber.ts","./NumberRoller.ts","./SubGameData27.ts","./Display6.ts","./CountdownableButton2.ts","./Portrait.ts","./AudioHelper6.ts"],(function(t){var e,i,n,o,a,r,s,l,u,p,c,h,f,_,y,S,b,d,m,N,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,l=t.sp,u=t.UIOpacity,p=t.Tween,c=t.tween,h=t.math},function(t){f=t.Global},function(t){_=t.FormatNumber},function(t){y=t.NumberRoller},function(t){S=t.SubGameData},function(t){b=t.DisplayTaskManager,d=t.Display},function(t){m=t.CountdownableButton},function(t){N=t.Portrait},function(t){O=t.AudioHelper}],execute:function(){var k,U,I,R,A,E,D,L,T,H,v,w,B,P,g,C,G,z,K,W,M,F,V,Z,j,x;a._RF.push({},"0d32ccJvVRB/KO2ovZY7ZEi","BonusResultLayer",void 0);var J=r.ccclass,Y=r.menu,q=r.property,Q=function(t){return t[t.RANK=1]="RANK",t[t.RESULT=2]="RESULT",t}(Q||{}),X=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t[t.SHOWN=2]="SHOWN",t[t.HIDING=3]="HIDING",t}(X||{});t("BonusResultLayer",(k=J("BonusResultLayer"),U=Y(S.module+"/layers/BonusResultLayer"),I=q(s),R=q(l.Skeleton),A=q(l.Skeleton),E=q([N]),D=q([_]),L=q([u]),T=q(u),H=q(y),v=q(u),w=q(m),B=q(u),k(P=U((C=e((g=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"inputBlockerNode",C,o(e)),n(e,"popupSkeleton",G,o(e)),n(e,"transitionSkeleton",z,o(e)),n(e,"portraitsList",K,o(e)),n(e,"scoreFormatNumbersList",W,o(e)),n(e,"rankUIOpacitiesList",M,o(e)),n(e,"selfPortraitUIOpacity",F,o(e)),n(e,"scoreNumberRoller",V,o(e)),n(e,"scoreUIOpacity",Z,o(e)),n(e,"button",j,o(e)),n(e,"buttonUIOpacity",x,o(e)),e._state=X.HIDDEN,e._type=Q.RANK,e._score=0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),b.addHandler(this),this.inputBlockerNode.on(s.EventType.TOUCH_END,this._onTouchEnd,this),this.popupSkeleton.setCompleteListener(this._onPopupSkeletonAnimationComplete.bind(this)),this.transitionSkeleton.setCompleteListener(this._onTransitionSkeletonAnimationComplete.bind(this))},a.onDestroy=function(){this.isValid&&this.inputBlockerNode.isValid&&this.inputBlockerNode.off(s.EventType.TOUCH_END,this._onTouchEnd,this),t.prototype.onDestroy.call(this)},a.onTaskInitialize=function(t,e){this.node.active=!1,this._state=X.HIDDEN,this.node.active=!1,p.stopAllByTarget(this.popupSkeleton)},a.onTaskBonusGameShowRank=function(t,e){this._show(Q.RANK,e.ranksList)},a.onTaskBonusGameShowResult=function(t,e){this._show(Q.RESULT,[{uid:f.userId,avatarID:1001,score:e.score}])},a.onButtonClick=function(){this._type===Q.RESULT&&this._hide(),O.instance.playSoundEffect(S.AUDIO_URLS.SE_COMMON_BUTTON_CLICK)},a._show=function(t,e){var i=this;if(!(e.length<=0)){this.stopAllDisplays(),this.startDisplay(),this._type=t,this._state=X.SHOWING,this.node.active=!0,this.popupSkeleton.clearTracks(),this.popupSkeleton.setAnimation(0,"animation"+this._type+"_"+this._state,!1),this.transitionSkeleton.enabled=!0,this.transitionSkeleton.clearTracks(),this.transitionSkeleton.setAnimation(0,"animation1",!1),p.stopAllByTarget(this.popupSkeleton);var n=this._type===Q.RANK?255:0;if(this.rankUIOpacitiesList.forEach((function(t){return t.opacity=n})),this._type===Q.RANK)this.scoreUIOpacity.opacity=0,this.buttonUIOpacity.opacity=0,this.button.interactable=!1,this.button.stopCountdown(),this.portraitsList.forEach((function(t,n){var o=i.scoreFormatNumbersList[n],a=e[n];if(!a)return t.node.active=!1,void(o&&(o.node.parent.parent.active=!1));t.node.active=!0,t.info=a,o&&(o.node.parent.parent.active=!0,o.updateNumber(a.score))})),O.instance.playSoundEffect(S.AUDIO_URLS.SE_BONUS_GAME_RANK_POPUP_SHOW);else{var o=e[0];this._score=o.score,this.selfPortraitUIOpacity.opacity=255,this.scoreUIOpacity.opacity=255,this.buttonUIOpacity.opacity=255,this.portraitsList[0].info=o,this.scoreNumberRoller.startRolling(0,this._score,2),this.button.interactable=!0,this.button.stopCountdown(),O.instance.playSoundEffect(S.AUDIO_URLS.SE_BONUS_GAME_RESULT_POPUP_SHOW)}}},a._hide=function(){var t=this;if(this._state===X.SHOWN){this._state=X.HIDING,this.popupSkeleton.clearTracks(),this.popupSkeleton.setAnimation(0,"animation"+this._type+"_"+this._state,!1),this.transitionSkeleton.enabled=!0,this.transitionSkeleton.clearTracks(),this.transitionSkeleton.setAnimation(0,"animation3",!1);var e=this._type===Q.RANK?function(e){t.rankUIOpacitiesList.forEach((function(t){return t.opacity=e}))}:function(e){t.selfPortraitUIOpacity.opacity=e,t.scoreUIOpacity.opacity=e,t.buttonUIOpacity.opacity=e};p.stopAllByTarget(this.popupSkeleton),c(this.popupSkeleton).to(.8,{},{onUpdate:function(t,i){null!=i&&e(h.lerp(255,0,i))}}).start(),O.instance.stopEffect(S.AUDIO_URLS.SE_BONUS_GAME_RANK_POPUP_SHOW),O.instance.stopEffect(S.AUDIO_URLS.SE_BONUS_GAME_RESULT_POPUP_SHOW),O.instance.playSoundEffect(S.AUDIO_URLS.SE_COMMON_POPUP_HIDE)}},a._onTouchEnd=function(){this._type===Q.RANK&&this._hide()},a._onPopupSkeletonAnimationComplete=function(t){var e=this,i=t.animation.name.split("_");i.length<2||(i[1]===""+X.SHOWING?(this._state=X.SHOWN,this.popupSkeleton.clearTracks(),this._type===Q.RANK?this.popupSkeleton.setAnimation(0,"animation"+this._type+"_"+this._state,!1):(this.popupSkeleton.setAnimation(0,"animation"+this._type+"_"+this._state,!0),this.button.interactable=!0,this.button.startCountdown(4,(function(){return e._hide()})))):i[1]===""+X.SHOWN?this._type===Q.RANK&&this._hide():i[1]===""+X.HIDING&&(this._state=X.HIDDEN,this.node.active=!1,this.button.stopCountdown(),this.endDisplay()))},a._onTransitionSkeletonAnimationComplete=function(t){this.transitionSkeleton.enabled=!1},e}(d)).prototype,"inputBlockerNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(g.prototype,"popupSkeleton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(g.prototype,"transitionSkeleton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(g.prototype,"portraitsList",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(g.prototype,"scoreFormatNumbersList",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(g.prototype,"rankUIOpacitiesList",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(g.prototype,"selfPortraitUIOpacity",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(g.prototype,"scoreNumberRoller",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(g.prototype,"scoreUIOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(g.prototype,"button",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(g.prototype,"buttonUIOpacity",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=g))||P)||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/BonusSettleLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberRoller.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./AudioHelper6.ts"],(function(t){var e,i,n,o,a,l,r,s,p,u,c,h,m,y,b,S,f,d,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,r=t.Node,s=t.sp,p=t.Label,u=t.UIOpacity,c=t.Tween,h=t.tween,m=t.math},function(t){y=t.NumberRoller},function(t){b=t.SubGameData},function(t){S=t.common},function(t){f=t.DisplayTaskManager,d=t.Display},function(t){_=t.AudioHelper}],execute:function(){var k,N,O,M,D,T,E,L,A,g,G,H,I,v,B,w,U,P,z,R,C,W,x,F,j,V;a._RF.push({},"13c308BIbFA86DtWwDN3jYH","BonusSettleLayer",void 0);var X=l.ccclass,Y=l.menu,q=l.property,J=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t[t.SHOWN=2]="SHOWN",t[t.HIDING=3]="HIDING",t}(J||{}),K="animation1",Q="animation2",Z="animation3";t("BonusSettleLayer",(k=X("BonusSettleLayer"),N=Y(b.module+"/layers/BonusSettleLayer"),O=q(r),M=q(s.Skeleton),D=q(s.Skeleton),T=q(p),E=q(u),L=q(p),A=q(u),g=q(y),G=q(u),H=q(p),I=q(u),k(v=N((w=e((B=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(e,"inputBlockerNode",w,o(e)),n(e,"popupSkeleton",U,o(e)),n(e,"transitionSkeleton",P,o(e)),n(e,"teamMultiplierLabel",z,o(e)),n(e,"teamMultiplierOpacity",R,o(e)),n(e,"spotMultiplierLabel",C,o(e)),n(e,"spotMultiplierOpacity",W,o(e)),n(e,"scoreNumberRoller",x,o(e)),n(e,"scoreOpacity",F,o(e)),n(e,"spotsNumberLabel",j,o(e)),n(e,"spotsNumberOpacity",V,o(e)),e._state=J.HIDDEN,e._score=0,e._previousGameMode=S.EGameMode.NORMAL,e}i(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),f.addHandler(this),this.inputBlockerNode.on(r.EventType.TOUCH_END,this._onTouchEnd,this),this.popupSkeleton.setStartListener(this._onPopupSkeletonAnimationStart.bind(this)),this.popupSkeleton.setCompleteListener(this._onPopupSkeletonAnimationComplete.bind(this)),this.transitionSkeleton.setCompleteListener(this._onTransitionSkeletonAnimationComplete.bind(this))},a.onDestroy=function(){this.isValid&&this.inputBlockerNode.isValid&&this.inputBlockerNode.off(r.EventType.TOUCH_END,this._onTouchEnd,this),t.prototype.onDestroy.call(this)},a.onTaskInitialize=function(t,e){this.stopAllDisplays(),this._state=J.HIDDEN,this._previousGameMode=e.gameMode,this.node.active=!1,c.stopAllByTarget(this.popupSkeleton)},a.onTaskBonusGameSettle=function(t,e){this._score=e.score,this.teamMultiplierLabel.string="X"+e.teamMultiplier,this.spotMultiplierLabel.string="X"+e.teamMultiplier/b.SPOTS_TOTAL_NUMBER,this.spotsNumberLabel.string=""+e.mySpotsNumber,this._show()},a.onTaskChangeGame=function(t,e){e.nextGameMode!==S.EGameMode.BONUS&&(this._previousGameMode=e.nextGameMode)},a._show=function(){var t=this;this.stopAllDisplays(),this.startDisplay(),this.node.active=!0,this.popupSkeleton.clearTracks(),this.popupSkeleton.setAnimation(0,K,!1),this.popupSkeleton.addAnimation(0,Q,!1),this.transitionSkeleton.enabled=!0,this.transitionSkeleton.clearTracks(),this.transitionSkeleton.setAnimation(0,K,!1),this.teamMultiplierOpacity.opacity=0,this.spotMultiplierOpacity.opacity=0,this.scoreOpacity.opacity=0,this.spotsNumberOpacity.opacity=0,c.stopAllByTarget(this.popupSkeleton),h(this.popupSkeleton).to(.35,{},{onUpdate:function(e,i){if(null!=i){var n=m.lerp(0,255,i);t.teamMultiplierOpacity.opacity=n,t.spotMultiplierOpacity.opacity=n,t.scoreOpacity.opacity=n,t.spotsNumberOpacity.opacity=n}}}).call((function(){f.runTask("changeGame",{previousGameMode:S.EGameMode.BONUS,nextGameMode:t._previousGameMode})})).start(),this.scoreNumberRoller.startRolling(0,this._score,2)},a._hide=function(){var t=this;this._state===J.SHOWN&&(this.popupSkeleton.clearTracks(),this.popupSkeleton.setAnimation(0,Z,!1),this.transitionSkeleton.enabled=!0,this.transitionSkeleton.clearTracks(),this.transitionSkeleton.setAnimation(0,Z,!1),c.stopAllByTarget(this.popupSkeleton),h(this.popupSkeleton).to(.8,{},{onUpdate:function(e,i){if(null!=i){var n=m.lerp(255,0,i);t.teamMultiplierOpacity.opacity=n,t.spotMultiplierOpacity.opacity=n,t.scoreOpacity.opacity=n,t.spotsNumberOpacity.opacity=n}}}).start())},a._onTouchEnd=function(){this._hide()},a._onPopupSkeletonAnimationStart=function(t){switch(t.animation.name){case K:this._state=J.SHOWING,_.instance.playSoundEffect(b.AUDIO_URLS.SE_BONUS_GAME_SETTLEMENT_POPUP_SHOW);break;case Q:this._state=J.SHOWN;break;case Z:this._state=J.HIDING,_.instance.stopEffect(b.AUDIO_URLS.SE_BONUS_GAME_SETTLEMENT_POPUP_SHOW),_.instance.playSoundEffect(b.AUDIO_URLS.SE_COMMON_POPUP_HIDE)}},a._onPopupSkeletonAnimationComplete=function(t){switch(t.animation.name){case Q:this._hide();break;case Z:this._state=J.HIDDEN,this.node.active=!1,this.endDisplay()}},a._onTransitionSkeletonAnimationComplete=function(t){this.transitionSkeleton.enabled=!1},e}(d)).prototype,"inputBlockerNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(B.prototype,"popupSkeleton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(B.prototype,"transitionSkeleton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(B.prototype,"teamMultiplierLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(B.prototype,"teamMultiplierOpacity",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(B.prototype,"spotMultiplierLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(B.prototype,"spotMultiplierOpacity",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(B.prototype,"scoreNumberRoller",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(B.prototype,"scoreOpacity",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(B.prototype,"spotsNumberLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(B.prototype,"spotsNumberOpacity",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=B))||v)||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/BonusSlotEffectLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./AnimatedSymbol4.ts","./Flower.ts","./SymbolHighlight.ts","./AudioHelper6.ts","./AnimatedSymbolNodePool4.ts","./FlowerNodePool.ts","./SymbolHighlightNodePool.ts"],(function(t){var i,o,n,e,l,a,s,r,h,c,g,u,S,d,p,m,f,y,_,A,b,B,E;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,s=t.v3,r=t.Node,h=t.sp,c=t.Tween,g=t.Vec3,u=t.tween},function(t){S=t.SubGameData},function(t){d=t.common},function(t){p=t.DisplayTaskManager,m=t.Display},function(t){f=t.AnimatedSymbol},function(t){y=t.Flower},function(t){_=t.SymbolHighlight},function(t){A=t.AudioHelper},function(t){b=t.AnimatedSymbolNodePool},function(t){B=t.FlowerNodePool},function(t){E=t.SymbolHighlightNodePool}],execute:function(){var N,k,R,L,T,H,P,v,w,U,D,x,O,M,C,G,I,F;l._RF.push({},"61b51XNbpBPaqA2wYZEMRkJ","BonusSlotEffectLayer",void 0);var z=a.ccclass,W=a.menu,Y=a.property,Z="animation2_1",X="animation2_3",V="animation1",j="animation3",q=s(-46,340,0);t("BonusSlotEffectLayer",(N=z("BonusSlotEffectLayer"),k=W(S.module+"/layers/BonusSlotEffectLayer"),R=Y(r),L=Y(r),T=Y(r),H=Y(h.Skeleton),P=Y(h.Skeleton),v=Y(h.Skeleton),w=Y(r),N(U=k((x=i((D=function(t){function i(){for(var i,o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return i=t.call.apply(t,[this].concat(l))||this,n(i,"symbolHighlightsRootNode",x,e(i)),n(i,"alohaAnimationsRootNode",O,e(i)),n(i,"flowerAnimationsRootNode",M,e(i)),n(i,"bingoBlastSkeleton",C,e(i)),n(i,"extraSpinSkeleton",G,e(i)),n(i,"slotHighlightSkeleton",I,e(i)),n(i,"externalFlowerProgressesRootNode",F,e(i)),i._cachedPosition=s(),i._isAlohaWinning=!1,i}o(i,t);var l=i.prototype;return l.onLoad=function(){t.prototype.onLoad.call(this),p.addHandler(this),this.bingoBlastSkeleton.setCompleteListener(this._onBingoBlastSkeletonAnimationComplete.bind(this)),this.extraSpinSkeleton.setCompleteListener(this._onExtraSpinSkeletonAnimationComplete.bind(this))},l.onTaskInitialize=function(t,i){this.stopAllDisplays(),this.node.active=!1,this._clearFlowerAnimations(),this._clearAlohaAnimations(),this._clearHighlightAnimations(),c.stopAllByTarget(this.extraSpinSkeleton.node),c.stopAllByTarget(this.bingoBlastSkeleton.node),this.bingoBlastSkeleton.enabled=!1,this.extraSpinSkeleton.enabled=!1,this.slotHighlightSkeleton.enabled=!1},l.onTaskBonusGameCollectFlowers=function(t,i){var o=this;this._clearFlowerAnimations();for(var n=i.previousFlowersNumber,e=0;e<S.REELS_TOTAL_NUMBER;e++){var l,a,s=i.bonusSymbolsList[e];if(s&&s.withFlower){var r=B.instance.pop();if(r){r.setPosition(this._getPositionForReelIndex(e)),r.setParent(this.flowerAnimationsRootNode);var h=r.getComponent(y);if(h){this.startDisplay();var c=null!=(l=null==(a=this.externalFlowerProgressesRootNode.children[n++])?void 0:a.position)?l:g.ZERO;h.collect(c.x+q.x,c.y+q.y,(function(t){B.instance.push(t.node),o.endDisplay()}))}}}}this.flowerAnimationsRootNode.children.length>0&&A.instance.playSoundEffect(S.AUDIO_URLS.SE_BONUS_GAME_FLOWER_COLLECT)},l.onTaskBonusGameTransit=function(t,i){this.stopAllDisplays(),this.bingoBlastSkeleton.enabled=!1,this.extraSpinSkeleton.enabled=!1,this.slotHighlightSkeleton.enabled=!1},l.onTaskBonusGameSpinStart=function(t,i){i.isBingoBlast?(this.slotHighlightSkeleton.enabled=!0,this.slotHighlightSkeleton.clearTracks(),this.slotHighlightSkeleton.setAnimation(0,"animation",!0),A.instance.playSoundEffect(S.AUDIO_URLS.SE_BONUS_GAME_REEL_HIGHLIGHT)):this.slotHighlightSkeleton.enabled=!1,this._clearFlowerAnimations(),this._clearAlohaAnimations(),this._clearHighlightAnimations()},l.onTaskBonusGameSpinEnd=function(t,i){this.slotHighlightSkeleton.enabled=!1},l.onTaskBonusGameUpdateMultiplier=function(t,i){var o=this;this.startDisplay(),this._isAlohaWinning=!0,this.alohaAnimationsRootNode.children.forEach((function(t){var i=t.getComponent(f);i&&i.play("win",!0)})),c.stopAllByTarget(this.alohaAnimationsRootNode),u(this.alohaAnimationsRootNode).delay(3.516667).call((function(){o.alohaAnimationsRootNode.children.forEach((function(t){var i=t.getComponent(f);i&&(i.play("highlight",!0),o._isAlohaWinning=!1)})),o.endDisplay()})).start()},l.onTaskBonusGameHitPayline=function(t,i){var o=this;this._clearHighlightAnimations(),this.startDisplay(),c.stopAllByTarget(this.symbolHighlightsRootNode),u(this.symbolHighlightsRootNode).delay(.7).call((function(){o.symbolHighlightsRootNode.children.forEach((function(t){var i=t.getComponent(_);if(i){var o=t.position;i.reset(),t.setPosition(o)}})),o.endDisplay()})).start();for(var n=0;n<S.REELS_TOTAL_NUMBER;n++)if(!(n===S.WILD_REEL_INDEX||(i.totalPayline&1<<n)<=0)){var e=E.instance.pop();if(e){e.setPosition(this._getPositionForReelIndex(n)),e.setParent(this.symbolHighlightsRootNode);var l=e.getComponent(_);l&&l.play(_.EHighlightType.BONUS_WIN)}}this.symbolHighlightsRootNode.children.length>0&&A.instance.playSoundEffect(S.AUDIO_URLS.SE_BONUS_GAME_HIT_PAYLINE)},l.onTaskBonusGameBurnSymbols=function(t,i){var o=this;this.startDisplay(),c.stopAllByTarget(this.symbolHighlightsRootNode),u(this.symbolHighlightsRootNode).delay(.65).call((function(){o._clearHighlightAnimations()})).start(),this.symbolHighlightsRootNode.children.forEach((function(t){var i=t.getComponent(_);i&&i.play(_.EHighlightType.BONUS_BURN)}))},l.onTaskBonusGameExtraSpin=function(t,i){this.startDisplay(),c.stopAllByTarget(this.extraSpinSkeleton.node),this.extraSpinSkeleton.enabled=!0,this.extraSpinSkeleton.clearTracks(),this.extraSpinSkeleton.setAnimation(0,V,!1),A.instance.playSoundEffect(S.AUDIO_URLS.SE_BONUS_GAME_EXTRA_SPIN)},l.onTaskBonusGameBingoBlast=function(t,i){this.startDisplay(),c.stopAllByTarget(this.bingoBlastSkeleton.node),this.bingoBlastSkeleton.enabled=!0,this.bingoBlastSkeleton.clearTracks(),this.bingoBlastSkeleton.setAnimation(0,Z,!1),A.instance.playSoundEffect(S.AUDIO_URLS.SE_BONUS_GAME_BINGO_BLAST)},l.onTaskChangeGame=function(t,i){i.nextGameMode===d.EGameMode.BONUS?this.node.active=!0:(this.node.active=!1,this._clearFlowerAnimations())},l.onTaskBonusReelStop=function(t,i){var o=i.symbolsList[0];if(o&&!S.isValidUserID(o.uid)&&S.isAlohaSymbol(o.id)){var n=b.instance.pop();if(n){n.setPosition(this._getPositionForReelIndex(i.column*S.REELS_NUMBER_PER_COLUMN+i.row)),n.setParent(this.alohaAnimationsRootNode);var e=n.getComponent(f);e.info={id:o.id,score:0},e.play("highlight",!0)}}},l._getPositionForReelIndex=function(t){var i=Math.floor(t/S.REELS_NUMBER_PER_COLUMN),o=t%S.REELS_NUMBER_PER_COLUMN;return this._cachedPosition.x=(S.BONUS_SYMBOL_SIZE.width+S.BONUS_REEL_SPACING.width)*(i-.5*S.REELS_COLUMN_NUMBER+.5),this._cachedPosition.y=(S.BONUS_SYMBOL_SIZE.height+S.BONUS_REEL_SPACING.height)*(.5*S.REELS_NUMBER_PER_COLUMN-o-.5),this._cachedPosition.z=0,this._cachedPosition},l._clearFlowerAnimations=function(){var t=this;this.flowerAnimationsRootNode.children.length>0&&this.flowerAnimationsRootNode.children.slice().forEach((function(i){i.getComponent(y)&&t.endDisplay(),B.instance.push(i)}))},l._clearAlohaAnimations=function(){this.alohaAnimationsRootNode.children.slice().forEach((function(t){b.instance.push(t)})),this._isAlohaWinning&&(this._isAlohaWinning=!1,c.stopAllByTarget(this.alohaAnimationsRootNode),this.endDisplay())},l._clearHighlightAnimations=function(){c.stopAllByTarget(this.symbolHighlightsRootNode),this.symbolHighlightsRootNode.children.length>0&&(this.symbolHighlightsRootNode.children.slice().forEach((function(t){E.instance.push(t)})),this.endDisplay())},l._onBingoBlastSkeletonAnimationComplete=function(t){var i=this;t.animation.name===Z?(c.stopAllByTarget(this.bingoBlastSkeleton.node),u(this.bingoBlastSkeleton.node).delay(.45).call((function(){i.bingoBlastSkeleton.clearTracks(),i.bingoBlastSkeleton.setAnimation(0,X,!1)})).start(),this.bingoBlastSkeleton.clearTracks(),this.bingoBlastSkeleton.setAnimation(0,"animation2_2",!0)):t.animation.name===X&&this.endDisplay()},l._onExtraSpinSkeletonAnimationComplete=function(t){var i=this;t.animation.name===V?(c.stopAllByTarget(this.extraSpinSkeleton.node),u(this.extraSpinSkeleton.node).delay(.9).call((function(){i.extraSpinSkeleton.clearTracks(),i.extraSpinSkeleton.setAnimation(0,j,!1)})).start(),this.extraSpinSkeleton.clearTracks(),this.extraSpinSkeleton.setAnimation(0,"animation2",!0)):t.animation.name===j&&this.endDisplay()},i}(m)).prototype,"symbolHighlightsRootNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(D.prototype,"alohaAnimationsRootNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(D.prototype,"flowerAnimationsRootNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(D.prototype,"bingoBlastSkeleton",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(D.prototype,"extraSpinSkeleton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(D.prototype,"slotHighlightSkeleton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(D.prototype,"externalFlowerProgressesRootNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=D))||U)||U));l._RF.pop()}}}));

System.register("chunks:///_virtual/BonusSlotLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./EventComponent.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./AudioHelper6.ts","./BonusReelLayer.ts"],(function(t){var e,n,o,s,a,i,r,l,u,c,_,f,S,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,r=t.Node},function(t){l=t.CommonEvent},function(t){u=t.default},function(t){c=t.SubGameData},function(t){_=t.common},function(t){f=t.DisplayTaskManager},function(t){S=t.AudioHelper},function(t){d=t.BonusReelLayer}],execute:function(){var p,h,L,E,y,m;a._RF.push({},"db7a4zynYFOr7Ppzi9z7vHU","BonusSlotLayer",void 0);var v=i.ccclass,R=i.menu,U=i.property;t("BonusSlotLayer",(p=v("BonusSlotLayer"),h=R(c.module+"/layers/BonusSlotLayer"),L=U(r),p(E=h((m=e((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a))||this,o(e,"reelLayersRootNode",m,s(e)),e._reelLayersList=[],e._randomSymbolsList=[],e._playedSoundEffectFlagsMap=new Map,e}n(e,t);var a=e.prototype;return a.onLoad=function(){var e=this;t.prototype.onLoad.call(this),f.addHandler(this),this.node.on(r.EventType.TOUCH_END,this._onSlotTouchEnd,this),this._reelLayersList.length=0,this.reelLayersRootNode.children.forEach((function(t){return e._reelLayersList.push(t.getComponent(d))})),this._randomSymbolsList.length=0;for(var n=0;n<c.SPOTS_TOTAL_NUMBER;n++)this._randomSymbolsList.push({id:0,score:0,uid:"",avatarID:0,withFlower:!1})},a.onDestroy=function(){this.node.isValid&&this.node.off(r.EventType.TOUCH_END,this._onSlotTouchEnd,this),t.prototype.onDestroy.call(this)},a.onTaskInitialize=function(t,e){this._playedSoundEffectFlagsMap.forEach((function(t){return t.clear()})),this.node.active=!1},a.onTaskBonusGameTransit=function(t,e){this._randomSymbolsList.forEach((function(t,n){t.id=0,t.jackpotType=void 0,t.withFlower=!1;var o=e.spotsList[n];if(!o)return t.score=0,t.uid="",void(t.avatarID=0);t.score=o.score,t.uid=o.uid,t.avatarID=o.avatarID}))},a.onTaskBonusGameSpinStart=function(t,e){this._playedSoundEffectFlagsMap.forEach((function(t){return t.clear()})),this._startReels(0)},a.onTaskBonusGameSpinStop=function(t,e){this._stopReels(e.bonusSymbolsList)},a.onTaskBonusGameCollectFlowers=function(t,e){this._reelLayersList.forEach((function(t){return t.collectFlower()}))},a.onTaskBonusGameBurnSymbols=function(t,e){var n=this;this._reelLayersList.forEach((function(t,o){t.index===c.WILD_REEL_INDEX||(e.totalPayline&1<<t.index)<=0||t.reset(n._randomSymbolsList,[])})),S.instance.playSoundEffect(c.AUDIO_URLS.SE_BONUS_GAME_BURN_SYMBOL)},a.onTaskChangeGame=function(t,e){e.nextGameMode===_.EGameMode.BONUS?(this.node.active=!0,this._resetReels([])):this.node.active=!1},a.onTaskManualStop=function(t,e){this._reelLayersList.forEach((function(t){return t.manuallyStop()}))},a.onTaskBonusReelStop=function(t,e){var n,o=e.spinningIndex;(e.spinSpeedType===_.ESpinSpeedType.FAST||e.manualStop)&&(o=-1);var s=null!=(n=this._playedSoundEffectFlagsMap.get(o))?n:new Map;this._playedSoundEffectFlagsMap.set(o,s),s.get(c.AUDIO_URLS.SE_REEL_STOP)||(s.set(c.AUDIO_URLS.SE_REEL_STOP,!0),S.instance.playOneShotSoundEffect(c.AUDIO_URLS.SE_REEL_STOP));var a=e.symbolsList[0];a&&c.isValidUserID(a.uid)&&(s.get(c.AUDIO_URLS.SE_BONUS_GAME_BONUS_APPEAR)||(s.set(c.AUDIO_URLS.SE_BONUS_GAME_BONUS_APPEAR,!0),S.instance.playOneShotSoundEffect(c.AUDIO_URLS.SE_BONUS_GAME_BONUS_APPEAR)))},a._getTargetSymbolInfosList=function(t,e){var n=[];if(e===c.WILD_REEL_INDEX)n.push({id:101,score:0,uid:"",avatarID:0,withFlower:!1});else{var o=t[e];o&&n.push(o)}return n},a._resetReels=function(t){var e=this;null==t?this._reelLayersList.forEach((function(t){return t.reset(e._randomSymbolsList,[])})):this._reelLayersList.forEach((function(n){var o=e._getTargetSymbolInfosList(t,n.index);n.reset(e._randomSymbolsList,o)}))},a._startReels=function(t){for(var e=!1,n=0;n<c.REELS_COLUMN_NUMBER;++n){e=!1;for(var o=0;o<c.REELS_NUMBER_PER_COLUMN;++o){var s=this._reelLayersList[n*c.REELS_NUMBER_PER_COLUMN+o];if(s){var a=s.startSpinning(t);e||(e=a)}}e&&++t}return t},a._stopReels=function(t){var e=this,n=0;this._reelLayersList.forEach((function(o){var s=e._getTargetSymbolInfosList(t,o.index);n=Math.max(n,o.stopSpinning(s,n))}))},a._onSlotTouchEnd=function(t){dispatch(l.NOTIFY_CLICK_SPIN)},e}(u)).prototype,"reelLayersRootNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=y))||E)||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/BonusStartLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./AudioHelper6.ts"],(function(t){var e,n,i,o,a,s,r,p,l,u,c,h,S,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Node,p=t.sp,l=t.Tween,u=t.tween},function(t){c=t.SubGameData},function(t){h=t.common},function(t){S=t.DisplayTaskManager,d=t.Display},function(t){m=t.AudioHelper}],execute:function(){var _,k,f,D,y,N,A,O,G,E;a._RF.push({},"edd9d8WABZDdYQ+wBa7XpeR","BonusStartLayer",void 0);var H=s.ccclass,I=s.menu,T=s.property,B=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t[t.SHOWN=2]="SHOWN",t[t.HIDING=3]="HIDING",t}(B||{}),M="animation1",v="animation2",b="animation3";t("BonusStartLayer",(_=H("BonusStartLayer"),k=I(c.module+"/layers/BonusStartLayer"),f=T(r),D=T(p.Skeleton),y=T(p.Skeleton),_(N=k((O=e((A=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"inputBlockerNode",O,o(e)),i(e,"popupSkeleton",G,o(e)),i(e,"transitionSkeleton",E,o(e)),e._state=B.HIDDEN,e._previousGameMode=h.EGameMode.NORMAL,e}n(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),S.addHandler(this),this.inputBlockerNode.on(r.EventType.TOUCH_END,this._onTouchEnd,this),this.popupSkeleton.setStartListener(this._onPopupSkeletonAnimationStart.bind(this)),this.popupSkeleton.setCompleteListener(this._onPopupSkeletonAnimationComplete.bind(this))},a.onDestroy=function(){this.isValid&&this.inputBlockerNode.isValid&&this.inputBlockerNode.off(r.EventType.TOUCH_END,this._onTouchEnd,this),t.prototype.onDestroy.call(this)},a.onTaskInitialize=function(t,e){this.stopAllDisplays(),this._state=B.HIDDEN,this._previousGameMode=e.gameMode,this.node.active=!1},a.onTaskBonusGameTransit=function(t,e){this._show()},a.onTaskChangeGame=function(t,e){e.nextGameMode!==h.EGameMode.BONUS&&(this._previousGameMode=e.nextGameMode)},a._show=function(){var t=this;this.stopAllDisplays(),this.startDisplay(),this.node.active=!0,this.popupSkeleton.clearTracks(),this.popupSkeleton.setAnimation(0,M,!1),this.popupSkeleton.addAnimation(0,v,!1),this.popupSkeleton.addAnimation(0,b,!1),l.stopAllByTarget(this.popupSkeleton),u(this.popupSkeleton).delay(.666667).call((function(){S.runTask("changeGame",{previousGameMode:t._previousGameMode,nextGameMode:h.EGameMode.BONUS})})).start(),this.transitionSkeleton.clearTracks(),this.transitionSkeleton.setAnimation(0,M,!1),this.transitionSkeleton.addAnimation(0,v,!0)},a._hide=function(){this._state===B.SHOWN&&(this.popupSkeleton.clearTracks(),this.popupSkeleton.setAnimation(0,b,!1))},a._onTouchEnd=function(){this._hide()},a._onPopupSkeletonAnimationStart=function(t){switch(t.animation.name){case M:this._state=B.SHOWING,m.instance.playSoundEffect(c.AUDIO_URLS.SE_BONUS_GAME_TRANSITION_POPUP_SHOW);break;case v:this._state=B.SHOWN;break;case b:this._state=B.HIDING,this.transitionSkeleton.clearTracks(),this.transitionSkeleton.setAnimation(0,b,!1),m.instance.stopEffect(c.AUDIO_URLS.SE_BONUS_GAME_TRANSITION_POPUP_SHOW),m.instance.playSoundEffect(c.AUDIO_URLS.SE_COMMON_POPUP_HIDE)}},a._onPopupSkeletonAnimationComplete=function(t){switch(t.animation.name){case b:this._state=B.HIDDEN,this.node.active=!1,this.endDisplay()}},e}(d)).prototype,"inputBlockerNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(A.prototype,"popupSkeleton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(A.prototype,"transitionSkeleton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=A))||N)||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/BonusSymbol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./FlowerNodePool.ts","./SymbolNodePool6.ts","./Flower.ts","./Portrait.ts","./Symbol6.ts"],(function(i){var t,o,e,n,s,r,a,l,c,h,u,f,d,p;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,e=i.initializerDefineProperty,n=i.assertThisInitialized,s=i.createClass},function(i){r=i.cclegacy,a=i._decorator,l=i.Component},function(i){c=i.SubGameData},function(i){h=i.FlowerNodePool},function(i){u=i.SymbolNodePool},function(i){f=i.Flower},function(i){d=i.Portrait},function(i){p=i.Symbol}],execute:function(){var _,y,m,w,b,v;r._RF.push({},"4d4b05DncRIHafXLQeWkUeZ","BonusSymbol",void 0);var S=a.ccclass,F=a.menu,D=a.property;i("BonusSymbol",(_=S("BonusSymbol"),y=F(c.module+"/elements/BonusSymbol"),m=D(d),_(w=y((v=t((b=function(i){function t(){for(var t,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,e(t,"portrait",v,n(t)),t._info={id:0,uid:"",avatarID:0,score:0,withFlower:!1},t}o(t,i);var r=t.prototype;return r.onLoad=function(){this._updateSymbol()},r.reset=function(){this._info.id=0,this._info.jackpotType=void 0,this._info.score=0,this._info.uid="",this._info.avatarID=0,this._info.withFlower=!1,this._updateSymbol()},r.collectFlower=function(){this._info.withFlower=!1;var i=this.node.getChildByName("Flower");i&&h.instance.push(i)},r._updateSymbol=function(){var i=this.node.getChildByName("Symbol");if(c.isValidUserID(this._info.uid))this.portrait.node.active=!0,this.portrait.info={uid:this._info.uid,avatarID:this._info.avatarID,score:this._info.score},i&&(i.setScale(1,1,1),u.instance.push(i));else if(this._info.id>0){if(this.portrait.node.active=!1,i||(i=u.instance.pop())&&(i.setParent(this.node),i.setSiblingIndex(1)),i){c.isAlohaSymbol(this._info.id)?i.setScale(1,1,1):i.setScale(1.32,1.32,1);var t=i.getComponent(p);t&&(t.info=this._info)}}else this.portrait.node.active=!1,i&&(i.setScale(1,1,1),u.instance.push(i));var o,e=this.node.getChildByName("Flower");this._info.withFlower?(e||(e=h.instance.pop())&&(e.setPosition(0,0,0),e.setParent(this.node),e.setSiblingIndex(2)),e&&(null==(o=e.getComponent(f))||o.reset())):e&&h.instance.push(e)},s(t,[{key:"info",get:function(){return this._info},set:function(i){i.id===this._info.id&&i.uid===this._info.uid&&i.avatarID===this._info.avatarID&&i.score===this._info.score&&i.withFlower===this._info.withFlower||(this._info.id=i.id,this._info.jackpotType=void 0,this._info.score=i.score,this._info.uid=i.uid,this._info.avatarID=i.avatarID,this._info.withFlower=i.withFlower,this._updateSymbol())}}]),t}(l)).prototype,"portrait",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=b))||w)||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/BonusSymbolNodePool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./BonusSymbol.ts"],(function(e){var t,n,a,o,r,s,i,l;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.instantiate,s=e.Prefab},function(e){i=e.SubGameData},function(e){l=e.BonusSymbol}],execute:function(){o._RF.push({},"bd990jbU9RJ07mJLmO5HQyb","BonusSymbolNodePool",void 0),e("BonusSymbolNodePool",function(){function e(){this._prefab=null,this._pool=[],this._availableIndex=0}var o=e.prototype;return o.preload=function(){var e=n(a().mark((function e(){var t,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Log.d("preload bonus symbol prefab"),e.next=4,App.cache.getCacheByAsync("prefabs/elements/BonusSymbol",s,i.module);case 4:(n=e.sent)[0],(o=n[1]).addRef(),null==(t=this._prefab)||t.decRef(),this._prefab=o,i.setLoadingTaskProgress("preloadBonusSymbol",1),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),Log.e("failed to preload bonus symbol prefab: "+(e.t0?e.t0.toString():"unknown reason")),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),o.push=function(e){var t=this._pool.indexOf(e);if(t<0)return!1;if(!e.isValid)return this._pool.splice(t,1),t<=this._availableIndex&&this._availableIndex>0&&--this._availableIndex,!1;e.removeFromParent();var n=e.getComponent(l);return!!n&&(n.reset(),t<this._availableIndex&&(--this._availableIndex,this._pool[t]=this._pool[this._availableIndex],this._pool[this._availableIndex]=e),!0)},o.pop=function(){var e;if(this._pool.length<=0||this._pool.length<=this._availableIndex){if(!this._prefab)return null;this._pool[this._availableIndex]=r(this._prefab)}return null!=(e=this._pool[this._availableIndex++])?e:null},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/ControllerLayer6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./Config.ts","./CommonEvent.ts","./BigWinLayer16.ts","./GamePlay9.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./AudioHelper6.ts","./GameSender27.ts"],(function(t){var n,e,o,i,a,s,r,c,l,_,u,S,p,T,h,I,d,f,E,N;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Node,c=t.Tween,l=t.tween},function(t){_=t.Global},function(t){u=t.ViewZOrder},function(t){S=t.CommonEvent},function(t){p=t.default},function(t){T=t.default},function(t){h=t.SubGameData},function(t){I=t.common},function(t){d=t.DisplayTaskManager,f=t.Display},function(t){E=t.AudioHelper},function(t){N=t.GameSender}],execute:function(){var O,C,R,m,y,g;a._RF.push({},"9d237jybCxGJqBsKvfurx/N","ControllerLayer",void 0);var F=s.ccclass,P=s.menu,A=s.property,D="winScore",B=function(){return E.instance.revokeLoweringMusicVolume(D)};t("ControllerLayer",(O=F("ControllerLayer"),C=P(h.module+"/layer/ControllerLayer"),R=A(r),O(m=C((g=n((y=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,o(n,"controllerRootNode",g,i(n)),n._spinnable=!0,n._currentTotalScore=0,n._freeTimes=0,n._initCountForChangingBet=0,n}e(n,t);var a=n.prototype;return a.onLoad=function(){var n;null==(n=t.prototype.onLoad)||n.call(this),d.addHandler(this),this.onD(S.DISPATCH_SPIN_START,this._onControllerSpinStart),this.onD(S.DISPATCH_SPIN_STOP,this._onControllerSpinStop),this.onD(S.DISPATCH_TOTAL_BET,this._onTotalBetChange),this.onD(S.DISPATCH_START_AUTOPLAY,this._onAutoPlayStateChange),this.onD(S.DISPATCH_QUICK_SPIN,this._onQuickSpinChange),this.onD(S.DISPATCH_TURBO_SPIN,this._onTurboSpinChange),this.onD(S.DISPATCH_SKIP_SCREENS,this._onSkipScreensChange),this.onD(S.DISPATCH_GAME_PLAY,this._onShowHelp),dispatch(S.NOTIFY_NO_INTRO)},a.start=function(){var n;if(null==(n=t.prototype.start)||n.call(this),dispatch(S.NOTIFY_GMTOOL_VISIBLE,h.gmEnabled),!_.playback){var e,o=null!=(e=h.slotInfo.mode)?e:0;1===o?dispatch(S.NOTIFY_QUICK_SPIN,!0):2===o?dispatch(S.NOTIFY_TURBO_SPIN,!0):(dispatch(S.NOTIFY_QUICK_SPIN,!1),dispatch(S.NOTIFY_TURBO_SPIN,!1))}},a.onTaskInitialize=function(t,n){this.stopAllDisplays();var e=this._spinnable,o=n.gameMode===I.EGameMode.NORMAL;this._spinnable=o,this._currentTotalScore=o?0:n.currentScoreInSpecialMode,this._freeTimes=n.gameMode===I.EGameMode.FREE?n.freeTimesRemaining:0,++this._initCountForChangingBet,this.controllerRootNode.active=!0,dispatch(S.NOTIFY_SLOT_INFO,h.slotInfo),dispatch(S.NOTIFY_USERINFO_SCORE,n.balance),c.stopAllByTarget(this.node),c.stopAllByTarget(this),this._stopWinScoreSoundEffect(),o?e||dispatch(S.NOTIFY_SPIN_END):(dispatch(S.NOTIFY_FREE_MODE),dispatch(S.NOTIFY_WINSCORE_TIPS,this._currentTotalScore,!1))},a.onTaskSpinStart=function(t,n){this._spinnable=!1,n.spinType===I.ESpinType.FREE?dispatch(S.NOTIFY_SPIN_STOP_NORMAL,!0):this._stopWinScoreSoundEffect()},a.onTaskSpinStop=function(t,n){n.spinType===I.ESpinType.FREE?this._freeTimes=Math.max(0,this._freeTimes-1):n.spinType===I.ESpinType.BET&&(this._currentTotalScore=0,dispatch(S.NOTIFY_BALANCE_SCORE,n.balance))},a.onTaskSpinEnd=function(t,n){dispatch(S.NOTIFY_SPIN_STOP_NORMAL,!1)},a.onTaskBingoSettle=function(t,n){this._currentTotalScore=n.totalScore,dispatch(S.NOTIFY_WINSCORE_TIPS,this._currentTotalScore,!1)},a.onTaskSpinBreak=function(t,n){var e=this;if(n.score>0&&(this._currentTotalScore=n.totalScore,dispatch(S.NOTIFY_WINSCORE_TIPS,this._currentTotalScore,!1),this._playWinScoreSoundEffect(n.score)),c.stopAllByTarget(this.node),h.autoPlaying||n.shouldBreak){this.startDisplay();var o=h.turboSpin||h.quickSpin?.1:.366667;n.score>0&&(o=1),l(this.node).delay(o).call((function(){e._freeTimes>0&&dispatch(S.NOTIFY_SPIN_START_NORMAL),e.endDisplay()})).start()}},a.onTaskRespinGameTransit=function(t,n){"enter"===n.type&&(dispatch(S.NOTIFY_FREE_MODE),this._currentTotalScore>0&&dispatch(S.NOTIFY_WINSCORE_TIPS,this._currentTotalScore,!1))},a.onTaskFreeGameTransit=function(t,n){"enter"===n.type&&(this._freeTimes=n.spinsNumber,dispatch(S.NOTIFY_FREE_MODE),this._currentTotalScore>0&&dispatch(S.NOTIFY_WINSCORE_TIPS,this._currentTotalScore,!1))},a.onTaskFreeGameExtraTimes=function(t,n){this._freeTimes+=n.spinsNumber},a.onTaskBonusGameTrigger=function(t,n){n.notifyCommonUI&&dispatch(S.NOTIFY_FREE_MODE),this._currentTotalScore>0&&dispatch(S.NOTIFY_WINSCORE_TIPS,this._currentTotalScore,!1)},a.onTaskBonusGameTransit=function(t,n){dispatch(S.NOTIFY_FREE_MODE),this._currentTotalScore>0&&dispatch(S.NOTIFY_WINSCORE_TIPS,this._currentTotalScore,!1)},a.onTaskRoundEnd=function(t,n){this._spinnable=!0,this._currentTotalScore=0,this._freeTimes=0,null!==n.balance&&void 0!==n.balance&&dispatch(S.NOTIFY_BALANCE_SCORE,n.balance),console.log("转动结束"),dispatch(S.NOTIFY_SPIN_END)},a.onTaskChangeGame=function(t,n){n.nextGameMode===I.EGameMode.NORMAL||n.nextGameMode===I.EGameMode.FREE?this.controllerRootNode.active=!0:this.controllerRootNode.active=!1},a._playWinScoreSoundEffect=function(t){t<=0||(p.isBigWin(t/h.totalBet)?E.instance.playSoundEffect(h.AUDIO_URLS.SE_WIN_BIG_SCORE):E.instance.playSoundEffect(h.AUDIO_URLS.SE_WIN_SCORE),E.instance.requestLoweringMusicVolume(.2,D),this.scheduleOnce(B,1))},a._stopWinScoreSoundEffect=function(){this.unschedule(B),B(),E.instance.stopEffect(h.AUDIO_URLS.SE_WIN_BIG_SCORE),E.instance.stopEffect(h.AUDIO_URLS.SE_WIN_SCORE)},a._onControllerSpinStart=function(t){var n,e;(void 0===t&&(t=0),this._spinnable)&&(0!==t?null==(n=h.spinRequestor)||n.request(I.ESpinRequestType.GM_SPIN,t):null==(e=h.spinRequestor)||e.request(I.ESpinRequestType.SPIN))},a._onControllerSpinStop=function(){h.turboSpin||h.quickSpin||d.runTask("manualStop",null)},a._onTotalBetChange=function(t){var n=this._initCountForChangingBet;this._initCountForChangingBet=Math.max(0,this._initCountForChangingBet-1),null!=t&&(h.totalBet=t,n<=0&&App.senderManager.get(N).c2sChangeBet({bet:t},I.EChangeBetRequestType.CHANGE_BET))},a._onAutoPlayStateChange=function(t){h.autoPlaying=t},a._onQuickSpinChange=function(t){h.quickSpin=t},a._onTurboSpinChange=function(t){h.turboSpin=t},a._onSkipScreensChange=function(t){h.skipScreens=t},a._onShowHelp=function(){App.uiManager.open({type:T,bundle:h.module,zIndex:u.UI})},n}(f)).prototype,"controllerRootNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m)||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/CountdownableButton2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts"],(function(t){var e,n,r,o,i,u,s,a,p,l,c,b,y,f,h,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createClass},function(t){u=t.cclegacy,s=t._decorator,a=t.Sprite,p=t.ProgressBar,l=t.Button,c=t.Enum,b=t.EventHandler,y=t.tween,f=t.Tween,h=t.Component},function(t){g=t.SubGameData}],execute:function(){var m,d,w,C,_,B,v,S,T,E,L,k,z,A,D,O,R;u._RF.push({},"b69d6fbEgNH+avoYO8lZsip","CountdownableButton",void 0);var F=s.ccclass,P=s.menu,x=s.property,H=function(t){return t[t.START=0]="START",t[t.COLLECT=1]="COLLECT",t}(H||{}),j=((m={})[H.START]="theme_resource/theme398/textures/pop/theme398_tc15",m[H.COLLECT]="theme_resource/theme398/textures/pop/theme398_tc7",m);t("CountdownableButton",(d=F("CountdownableButton"),w=P(g.module+"/elements/CountdownableButton"),C=x(a),_=x(p),B=x(l),v=x({type:c(H)}),S=x([b]),T=x({type:c(H)}),d(E=w(((R=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return e=t.call.apply(t,[this].concat(i))||this,r(e,"buttonSprite",k,o(e)),r(e,"progressBar",z,o(e)),r(e,"button",A,o(e)),r(e,"clickEvents",D,o(e)),r(e,"_type",O,o(e)),e}n(e,t);var u=e.prototype;return u.onLoad=function(){this._refreshStyle(),this.progressBar.progress=0},u.startCountdown=function(t,e){var n=this;this.stopCountdown(),y(this.progressBar).to(t,{progress:1}).call((function(){return null==e?void 0:e(n)})).start()},u.stopCountdown=function(){f.stopAllByTarget(this.progressBar),this.progressBar.progress=0},u.onButtonClick=function(t,e){this.stopCountdown(),b.emitEvents(this.clickEvents,t,e)},u._refreshStyle=function(){this.buttonSprite.changeSpriteFrameFromAtlas(j[this._type])},i(e,[{key:"type",get:function(){return this._type},set:function(t){t!=this._type&&(this._type=t,this._refreshStyle())}},{key:"interactable",get:function(){return this.button.interactable},set:function(t){this.button.interactable=t}}]),e}(h)).EType=H,k=e((L=R).prototype,"buttonSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(L.prototype,"progressBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(L.prototype,"button",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(L.prototype,"type",[v],Object.getOwnPropertyDescriptor(L.prototype,"type"),L.prototype),D=e(L.prototype,"clickEvents",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(L.prototype,"_type",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.START}}),E=L))||E)||E));u._RF.pop()}}}));

System.register("chunks:///_virtual/DebugVersion6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Config.ts","./CommonEvent.ts","./SubGameData27.ts"],(function(n){var e,t,i,o,r,a,s,u,c,l,f,g;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Label,u=n.view},function(n){c=n.default},function(n){l=n.Config},function(n){f=n.CommonEvent},function(n){g=n.SubGameData}],execute:function(){var h,p,b,v,m,D;r._RF.push({},"1cba2hSJi5AhovjbI0Raqfo","DebugVersion",void 0);var d=a.ccclass,C=a.menu,y=a.property;n("DebugVersion",(h=d("DebugVersion"),p=C(g.module+"/components/DebugVersion"),b=y(s),h(v=p((D=e((m=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,i(e,"versionLabel",D,o(e)),e}t(e,n);var r=e.prototype;return r.onLoad=function(){this.onD(f.SWITCH_SCREEN,this._onOrientationChange)},r.start=function(){this.versionLabel.string="v0.3.2",this.versionLabel.node.active=l.isDebugLogin,this._onOrientationChange(App.utils.getOrientation())},r._onOrientationChange=function(n){var e=u.getVisibleSize();this.node.setPosition(.5*e.width,.5*e.height,1)},e}(c)).prototype,"versionLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=m))||v)||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Defines6.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"7ebd79MIa5H9ZmCV16+wMLR","Defines",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Display6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(t){var n,e,s,i,a;return{setters:[function(t){n=t.createClass,e=t.inheritsLoose,s=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy},function(t){a=t.default}],execute:function(){i._RF.push({},"583c5HkYwpJvKcQ4yJiZrYe","Display",void 0);var o=t("DisplayTaskManager",function(){function t(){}return t.clearTasks=function(){this._sTasksQueue.length=0},t.addTask=function(t,n){this._sTasksQueue.push({name:t,data:n})},t.runTask=function(t,n){this._sHandlersSet.forEach((function(e){var s=e["onTask"+t[0].toUpperCase()+t.substring(1)];null!=s&&s.call(e,t,n)}))},t.runNextTask=function(){if(!(r.displaying||this._sTasksQueue.length<=0)){var t=this._sTasksQueue.shift();null!=t&&this.runTask(t.name,t.data)}},t.clearHandlers=function(){this._sHandlersSet.clear()},t.addHandler=function(t){this._sHandlersSet.add(t)},t.removeHandler=function(t){return this._sHandlersSet.delete(t)},t}());o._sTasksQueue=[],o._sHandlersSet=new Set;var r=t("DisplayPool",function(){function t(){}return t.clear=function(){this._sPoolSet.clear()},t.add=function(t){this._sPoolSet.add(t)},t.remove=function(t){return this._sPoolSet.delete(t)},n(t,null,[{key:"displaying",get:function(){for(var t,n=s(this._sPoolSet);!(t=n()).done;){if(t.value.displaying)return!0}return!1}}]),t}());r._sPoolSet=new Set;t("Display",function(t){function s(){for(var n,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return(n=t.call.apply(t,[this].concat(s))||this)._displayCount=0,n}e(s,t);var i=s.prototype;return i.onLoad=function(){r.add(this)},i.onDestroy=function(){r.remove(this)},i.stopAllDisplays=function(){this._displayCount=0},i.startDisplay=function(){++this._displayCount},i.endDisplay=function(){this._displayCount<=0||--this._displayCount},n(s,[{key:"displaying",get:function(){return this._displayCount>0}}]),s}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/ExBannerContentProvider12.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BannerContentProvider.ts","./SubGameData27.ts"],(function(n){var e,r,t,o,i;return{setters:[function(n){e=n.inheritsLoose},function(n){r=n.cclegacy,t=n._decorator},function(n){o=n.BannerContentProvider},function(n){i=n.SubGameData}],execute:function(){var c;r._RF.push({},"62fe7WiKkZOcqUa5Y4ZRGbk","ExBannerContentProvider",void 0);var a=t.ccclass,s=(t.property,t.menu);n("ExBannerContentProvider",a("ExBannerContentProvider")(c=s(i.module+"/components/ExBannerContentProvider")(c=function(n){function r(){return n.apply(this,arguments)||this}return e(r,n),r.prototype.dataList=function(){return["<img src='led_inf_1'/>","<img src='led_inf_2'/>","<img src='led_inf_3'/>","<img src='led_inf_4'/>"]},r}(o))||c)||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/Flower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts"],(function(e){var t,o,n,r,i,l,a,s,c,u,f,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,a=e.sp,s=e.v3,c=e.Tween,u=e.tween,f=e.math,p=e.Component},function(e){h=e.SubGameData}],execute:function(){var w,S,d,v,m,y;i._RF.push({},"8547fvMikNNWrZFS7hKSiBT","Flower",void 0);var k=l.ccclass,F=l.menu,_=l.property;e("Flower",(w=k("Flower"),S=F(h.module+"/elements/Flower"),d=_(a.Skeleton),w(v=S((y=t((m=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(t,"flowerSkeleton",y,r(t)),t._cachePosition=s(),t}o(t,e);var i=t.prototype;return i.reset=function(){c.stopAllByTarget(this.node),this.flowerSkeleton.node.setScale(.5,.5,1),this.flowerSkeleton.clearTracks(),this.flowerSkeleton.setAnimation(0,"animation2_1",!1)},i.collect=function(e,t,o){var n=this;this.reset(),this._cachePosition.set(e,t,0),u(this.node).to(.35,{},{onUpdate:function(e,t){if(null!=t){var o=f.lerp(.5,1,t);n.flowerSkeleton.node.setScale(o,o,1)}}}).delay(.3).to(.35,{position:this._cachePosition}).call((function(){return null==o?void 0:o(n)})).start()},t}(p)).prototype,"flowerSkeleton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=m))||v)||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/FlowerNodePool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./Flower.ts"],(function(e){var t,n,a,r,o,i,l,s;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.instantiate,i=e.Prefab},function(e){l=e.SubGameData},function(e){s=e.Flower}],execute:function(){r._RF.push({},"ddc82ezjR9P3JmEHlogrVKk","FlowerNodePool",void 0),e("FlowerNodePool",function(){function e(){this._prefab=null,this._pool=[],this._availableIndex=0}var r=e.prototype;return r.preload=function(){var e=n(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Log.d("preload flower prefab"),e.next=4,App.cache.getCacheByAsync("prefabs/elements/Flower",i,l.module);case 4:(n=e.sent)[0],(r=n[1]).addRef(),null==(t=this._prefab)||t.decRef(),this._prefab=r,l.setLoadingTaskProgress("preloadFlower",1),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),Log.e("failed to preload flower prefab: "+(e.t0?e.t0.toString():"unknown reason")),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),r.push=function(e){var t=this._pool.indexOf(e);if(t<0)return!1;if(!e.isValid)return this._pool.splice(t,1),t<=this._availableIndex&&this._availableIndex>0&&--this._availableIndex,!1;e.removeFromParent();var n=e.getComponent(s);return!!n&&(n.reset(),t<this._availableIndex&&(--this._availableIndex,this._pool[t]=this._pool[this._availableIndex],this._pool[this._availableIndex]=e),!0)},r.pop=function(){var e;if(this._pool.length<=0||this._pool.length<=this._availableIndex){if(!this._prefab)return null;this._pool[this._availableIndex]=o(this._prefab)}return null!=(e=this._pool[this._availableIndex++])?e:null},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,r._RF.pop()}}}));

System.register("chunks:///_virtual/FrameLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts"],(function(e){var a,t,n,i,o,r,s,c,u,l,p;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Animation},function(e){c=e.default},function(e){u=e.SubGameData},function(e){l=e.common},function(e){p=e.DisplayTaskManager}],execute:function(){var m,d,f,y,h,v;o._RF.push({},"34a35pfZI1LKIvdEj8zIwpV","FrameLayer",void 0);var F=r.ccclass,L=r.menu,b=r.property;e("FrameLayer",(m=F("FrameLayer"),d=L(u.module+"/layers/FrameLayer"),f=b(s),m(y=d((v=a((h=function(e){function a(){for(var a,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return a=e.call.apply(e,[this].concat(o))||this,n(a,"animation",v,i(a)),a}t(a,e);var o=a.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),p.addHandler(this)},o.onTaskInitialize=function(e,a){this._updateFrame(a.gameMode)},o.onTaskChangeGame=function(e,a){this._updateFrame(a.nextGameMode)},o._updateFrame=function(e){switch(e){case l.EGameMode.RESPIN:this.node.active=!0,this.animation.play("respin");break;case l.EGameMode.BONUS:this.node.active=!1;break;default:this.node.active=!0,this.animation.play("default")}},a}(c)).prototype,"animation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y)||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/FreeGamePopupLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberRoller.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./CountdownableButton2.ts","./AudioHelper6.ts"],(function(t){var e,n,i,o,s,r,a,l,u,c,p,h,_,m,E,S,T,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Node,l=t.sp,u=t.Sprite,c=t.Tween,p=t.tween},function(t){h=t.NumberRoller},function(t){_=t.SubGameData},function(t){m=t.common},function(t){E=t.DisplayTaskManager,S=t.Display},function(t){T=t.CountdownableButton},function(t){d=t.AudioHelper}],execute:function(){var b,y,f,N,A,R,D,O,L,g,B,I,k,G,H;s._RF.push({},"7e38fERTcZLDaNEvx7guhMl","FreeGamePopupLayer",void 0);var M=r.ccclass,P=r.menu,U=r.property,v=function(t){return t[t.START=1]="START",t[t.EXTRA_TIMES=2]="EXTRA_TIMES",t[t.SETTLE=3]="SETTLE",t}(v||{}),F=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t[t.SHOWN=2]="SHOWN",t[t.HIDING=3]="HIDING",t}(F||{}),w=((b={})[8]="theme_resource/theme398/textures/free/theme398_tcfg3",b[16]="theme_resource/theme398/textures/free/theme398_tcfg2",b[24]="theme_resource/theme398/textures/free/theme398_tcfg1",b);t("FreeGamePopupLayer",(y=M("FreeGamePopupLayer"),f=P(_.module+"/layers/FreeGamePopupLayer"),N=U(a),A=U(l.Skeleton),R=U(u),D=U(h),O=U(T),y(L=f((B=e((g=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,i(e,"inputBlockerNode",B,o(e)),i(e,"skeleton",I,o(e)),i(e,"spinsNumberSprite",k,o(e)),i(e,"scoreNumberRoller",G,o(e)),i(e,"button",H,o(e)),e._type=v.START,e._state=F.HIDDEN,e._score=0,e._initialBottomSymbolsList=void 0,e}n(e,t);var s=e.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),E.addHandler(this),this.inputBlockerNode.on(a.EventType.TOUCH_END,this._onTouchEnd,this),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this))},s.onDestroy=function(){this.isValid&&this.inputBlockerNode.isValid&&this.inputBlockerNode.off(a.EventType.TOUCH_END,this._onTouchEnd,this),t.prototype.onDestroy.call(this)},s.onTaskInitialize=function(t,e){this.stopAllDisplays(),this._state=F.HIDDEN,this.node.active=!1,c.stopAllByTarget(this.inputBlockerNode),c.stopAllByTarget(this.spinsNumberSprite),c.stopAllByTarget(this.scoreNumberRoller.node.parent),c.stopAllByTarget(this.button.node),this.button.stopCountdown()},s.onTaskFreeGameTransit=function(t,e){this._initialBottomSymbolsList=e.initialBottomSymbolsList,"enter"===e.type?(this._type=v.START,this._show(e.spinsNumber)):(this._type=v.SETTLE,this._show(e.score))},s.onTaskFreeGameExtraTimes=function(t,e){this._type=v.EXTRA_TIMES,this._show(e.spinsNumber)},s.onButtonClick=function(){this._hide(),d.instance.playSoundEffect(_.AUDIO_URLS.SE_COMMON_BUTTON_CLICK)},s._show=function(t){var e,n=this;(this.stopAllDisplays(),this.startDisplay(),this._state=F.SHOWING,this.node.active=!0,c.stopAllByTarget(this.inputBlockerNode),c.stopAllByTarget(this.spinsNumberSprite),c.stopAllByTarget(this.scoreNumberRoller.node.parent),c.stopAllByTarget(this.button.node),this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"animation"+this._type+"_"+this._state,!1),this.button.node.active=!0,this.button.node.setScale(.25,.25,1),this.button.interactable=!0,this.button.stopCountdown(),this._type===v.SETTLE)?(this.spinsNumberSprite.changeSpriteFrameFromAtlas(""),this._score=t,this.scoreNumberRoller.node.parent.active=!0,this.scoreNumberRoller.startRolling(0,t,2),this.button.node.setScale(0,0,1),p(this.button.node).delay(.133333).call((function(){return n.button.node.setScale(.25,.25,1)})).start(),this.button.type=T.EType.COLLECT,d.instance.playSoundEffect(_.AUDIO_URLS.SE_FREE_GAME_SETTLEMENT_POPUP_SHOW)):(this.spinsNumberSprite.changeSpriteFrameFromAtlas(null!=(e=w[t])?e:""),this._score=0,this.scoreNumberRoller.node.parent.active=!1,this._type===v.START?(this.button.type=T.EType.START,d.instance.playSoundEffect(_.AUDIO_URLS.SE_FREE_GAME_START_POPUP_SHOW)):(this.button.node.active=!1,d.instance.playSoundEffect(_.AUDIO_URLS.SE_FREE_GAME_EXTRA_POPUP_SHOW)))},s._hide=function(){var t=this;this._state===F.SHOWN&&(this._state=F.HIDING,c.stopAllByTarget(this.inputBlockerNode),c.stopAllByTarget(this.spinsNumberSprite),c.stopAllByTarget(this.scoreNumberRoller.node.parent),c.stopAllByTarget(this.button.node),this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"animation"+this._type+"_"+this._state,!1),this._type===v.SETTLE?(this.scoreNumberRoller.stopRollingAndShowNumber(this._score),p(this.scoreNumberRoller.node.parent).delay(.5).call((function(){return t.scoreNumberRoller.node.parent.active=!1})).start()):p(this.spinsNumberSprite).delay(.5).call((function(){return t.spinsNumberSprite.changeSpriteFrameFromAtlas("")})).start(),this.button.node.active&&p(this.button.node).delay(.7).call((function(){return t.button.node.setScale(0,0,1)})).start(),this.button.interactable=!1,this.button.stopCountdown(),d.instance.stopEffect(_.AUDIO_URLS.SE_FREE_GAME_START_POPUP_SHOW),d.instance.stopEffect(_.AUDIO_URLS.SE_FREE_GAME_EXTRA_POPUP_SHOW),d.instance.stopEffect(_.AUDIO_URLS.SE_FREE_GAME_SETTLEMENT_POPUP_SHOW),d.instance.playSoundEffect(_.AUDIO_URLS.SE_COMMON_POPUP_HIDE))},s._onTouchEnd=function(){this._type===v.EXTRA_TIMES&&this.onButtonClick()},s._onSkeletonAnimationComplete=function(t){var e=this,n=t.animation.name.split("_");if(!(n.length<2))if(n[1]===""+F.SHOWING)if(this._state=F.SHOWN,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"animation"+this._type+"_"+this._state,!0),this._type===v.EXTRA_TIMES)c.stopAllByTarget(this.inputBlockerNode),p(this.inputBlockerNode).delay(4).call((function(){return e._hide()})).start();else{this.button.interactable=!0,this.button.startCountdown(4,(function(){return e._hide()}));var i=m.EGameMode.NORMAL,o=m.EGameMode.FREE;this._type===v.SETTLE&&(i=m.EGameMode.FREE,o=m.EGameMode.NORMAL),E.runTask("changeGame",{previousGameMode:i,nextGameMode:o,initialBottomSymbolsList:this._initialBottomSymbolsList})}else n[1]===""+F.HIDING&&(this._state=F.HIDDEN,this.node.active=!1,this.button.stopCountdown(),this.endDisplay())},e}(S)).prototype,"inputBlockerNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(g.prototype,"skeleton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(g.prototype,"spinsNumberSprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(g.prototype,"scoreNumberRoller",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(g.prototype,"button",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=g))||L)||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/FreeTimesLayer4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts"],(function(e){var i,t,s,r,a,n,o,m,l,u,T,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,s=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,o=e.Label,m=e.Tween},function(e){l=e.default},function(e){u=e.SubGameData},function(e){T=e.common},function(e){c=e.DisplayTaskManager}],execute:function(){var h,F,p,d,f,_;a._RF.push({},"10c9d81zsVIr6EpegcYWbX8","FreeTimesLayer",void 0);var y=n.ccclass,b=n.menu,L=n.property;e("FreeTimesLayer",(h=y("FreeTimesLayer"),F=b(u.module+"/layers/FreeTimesLayer"),p=L(o),h(d=F((_=i((f=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return i=e.call.apply(e,[this].concat(a))||this,s(i,"freeTimesLabel",_,r(i)),i._totalFreeTimes=0,i._usedFreeTimes=0,i}t(i,e);var a=i.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),c.addHandler(this),this.node.active=!1},a.onTaskInitialize=function(e,i){m.stopAllByTarget(this.freeTimesLabel.node),this._totalFreeTimes=i.totalFreeTimes,this._usedFreeTimes=i.totalFreeTimes-i.freeTimesRemaining,this.node.active=i.gameMode===T.EGameMode.FREE,this.freeTimesLabel.string=this._usedFreeTimes+"/"+this._totalFreeTimes},a.onTaskSpinStop=function(e,i){i.spinType===T.ESpinType.FREE&&(this._usedFreeTimes=Math.min(this._usedFreeTimes+1,this._totalFreeTimes),this.node.active=!0,this.freeTimesLabel.string=this._usedFreeTimes+"/"+this._totalFreeTimes)},a.onTaskFreeGameTransit=function(e,i){"enter"===i.type?(this._totalFreeTimes=i.spinsNumber,this._usedFreeTimes=0,this.freeTimesLabel.string=this._usedFreeTimes+"/"+this._totalFreeTimes):(this._totalFreeTimes=0,this._usedFreeTimes=0)},a.onTaskFreeGameExtraTimes=function(e,i){this._totalFreeTimes+=i.spinsNumber,this.freeTimesLabel.string=this._usedFreeTimes+"/"+this._totalFreeTimes},a.onTaskChangeGame=function(e,i){this.node.active=i.nextGameMode===T.EGameMode.FREE},i}(l)).prototype,"freeTimesLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d)||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameEntry27.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Resource.ts","./Entry.ts","./Decorators.ts","./Global.ts","./CommonEvent.ts","./GameService.ts","./SubGameData27.ts","./SubGameLanguage27.ts","./GameHandler27.ts","./AnimatedSymbolNodePool4.ts","./BonusSymbolNodePool.ts","./FlowerNodePool.ts","./LavaBonusNodePool.ts","./SymbolHighlightNodePool.ts","./SymbolNodePool6.ts","./BaseView6.ts","./IntroView6.ts"],(function(){var e,o,n,t,a,r,i,u,c,l,s,d,p,f,m,g,h,L,b,y,v;return{setters:[function(o){e=o.inheritsLoose},function(e){o=e.cclegacy,n=e.AudioClip,t=e.Prefab},function(e){a=e.Resource},function(e){r=e.Entry},function(e){i=e.registerEntry},function(e){u=e.Global},function(e){c=e.CommonEvent},function(e){l=e.GameService},function(e){s=e.SubGameData},function(e){d=e.SubGameLanguage},function(e){p=e.default},function(e){f=e.AnimatedSymbolNodePool},function(e){m=e.BonusSymbolNodePool},function(e){g=e.FlowerNodePool},function(e){h=e.LavaBonusNodePool},function(e){L=e.SymbolHighlightNodePool},function(e){b=e.SymbolNodePool},function(e){y=e.BaseView},function(e){v=e.IntroView}],execute:function(){var S;o._RF.push({},"e45fd37vpVBP4Eh/QJWy8pw","GameEntry",void 0);i("GameEntry",s.module,y)(S=function(o){function r(){for(var e,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(e=o.call.apply(o,[this].concat(t))||this).language=new d,e}e(r,o);var i=r.prototype;return i.addNetHandler=function(){App.handlerManager.get(p)},i.removeNetHandler=function(){App.handlerManager.destory(p)},i.loadResources=function(e){var o=this;this.loader.getLoadResources=function(){var e=[];for(var o in["commonmodule/bigwin/prefabs/BigWinLayer","commonmodule/gameplay/prefabs/GamePlay","prefabs/slotgame/Alert","prefabs/slotgame/AutoPlayView","prefabs/slotgame/MenuView","prefabs/slotgame/MobileBetView","prefabs/views/BaseView"].forEach((function(o){return e.push({url:o,type:t,bundle:s.module})})),s.AUDIO_URLS)o.startsWith("BGM_")&&e.push({url:s.AUDIO_URLS[o],type:n,bundle:s.module});return e},this.loader.onLoadProgress=function(e,o,n){s.setLoadingTaskProgress("resource",Math.min(e/o,.9999))},this.loader.onLoadComplete=function(e){e===a.LoaderError.SUCCESS&&(s.setLoadingTaskProgress("resource",1),h.instance.preload().then((function(e){e||o.popLoadFailed()})).catch((function(){return o.popLoadFailed()})),b.instance.preload().then((function(e){e||o.popLoadFailed()})).catch((function(){return o.popLoadFailed()})),f.instance.preload().then((function(e){e||o.popLoadFailed()})).catch((function(){return o.popLoadFailed()})),L.instance.preload().then((function(e){e||o.popLoadFailed()})).catch((function(){return o.popLoadFailed()})),m.instance.preload().then((function(e){e||o.popLoadFailed()})).catch((function(){return o.popLoadFailed()})),g.instance.preload().then((function(e){e||o.popLoadFailed()})).catch((function(){return o.popLoadFailed()})))},App.uiManager.open({type:v,bundle:s.module,args:{completeCallback:e}}).then((function(){o.loader.loadResources()})).catch((function(){return o.popLoadFailed()}))},i.initData=function(){App.serviceManager.get(l,!0),dispatch(c.NOTIFY_SWITCH_ORIENTION,"portrait"),u.playback?s.setLoadingTaskProgress("network",1):this._connectServer()},i.pauseMessageQueue=function(){},i.resumeMessageQueue=function(){},i.popLoadFailed=function(){App.alert.show({text:App.getLanguage("loadFailed",[""])})},i._connectServer=function(){var e=App.serviceManager.get(l);if(e){if(e.isConnected)return Log.d(e.module+" 断开连接中..."),void e.close();Log.d(e.module+" 连接中..."),e.connect()}else this.popLoadFailed()},r}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameHandler27.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Handler.ts","./Global.ts","./CommonEvent.ts","./GameService.ts","./SubGameData27.ts","./SubGameDefines27.ts","./LoadingHelper6.ts","./GameSender27.ts","./Protocol28.ts"],(function(e){var n,t,s,o,a,c,i,r,u,l,g,m;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){s=e.cclegacy},function(e){o=e.Handler},function(e){a=e.Global},function(e){c=e.CommonEvent},function(e){i=e.GameService},function(e){r=e.SubGameData},function(e){u=e.common},function(e){l=e.LoadingHelper},function(e){g=e.GameSender},function(e){m=e.Protocol}],execute:function(){s._RF.push({},"e9299BJ0/hIgLjN5XYM88WD","GameHandler",void 0),e("default",function(e){function s(){return e.apply(this,arguments)||this}n(s,e);var o=s.prototype;return o.onLoad=function(){console.log("开始监听***************"),e.prototype.onLoad.call(this),this.onD(c.GAME_SERVICE_CONNECTED,this._onConnectionConnected),this.onD(c.GAME_SERVICE_CLOSE,this._onConnectionClose),this.onS(m.LOGIN,this._s2cLogin),this.onS(m.USERINFO,this._s2cUserInfo),this.onS(m.SLOT_INFO,this._s2cSlotInfo),this.onS(m.BET_SPIN,this._s2cSlotBet),this.onS(m.CHANGE_BET,this._s2cChangeBet),this.onS(m.CHANGE_ROOM,this._s2cChangeRoom),this.onS(m.LAST_MAP,this._s2cLastMap),this.onS(m.COLLECT_JACKPOT,this._s2cCollectJackpot)},o._onConnectionConnected=function(e){var n;Log.d(e.module+" 连接成功!"),null==(n=this.sender)||n.c2sLogin(a.gameId)},o._onConnectionClose=function(e){r.changeBetRequestTypesQueue.length=0},o._s2cLogin=function(e){var n,t;r.setLoadingTaskProgress("network",.3),e&&e.message&&1==e.message.issucc&&(a.account=e.message.account,a.currency=e.message.mtype,a.userId=e.message.uid+"",dispatch(c.SWITCH_CURRENCY),null==(n=this.sender)||n.c2sUserInfo(),null==(t=this.sender)||t.c2sSlotInfo())},o._s2cUserInfo=function(e){Log.d("s2cUserInfo message.money = ",e.message.money),r.setLoadingTaskProgress("network",.7),r.balance=e.message.money},o._s2cSlotInfo=function(e){r.setLoadingTaskProgress("network",1),r.slotInfo=e.message,r.gmEnabled=1===e.message.can_gm,r.isJackpotsLockable=1===e.message.is_jackpot_lock},o._s2cSlotBet=function(e){r.spinTimestamp=Date.now()},o._s2cChangeBet=function(e){var n;r.changeBetTimestamp=Date.now(),r.currentChangeBetType=null!=(n=r.changeBetRequestTypesQueue.shift())?n:u.EChangeBetRequestType.CHANGE_BET,l.instance.hide()},o._s2cChangeRoom=function(e){l.instance.hide()},o._s2cLastMap=function(e){console.log("断线重连:"+e.message),r.lastMap=e.message,r.lastMapTimestamp=Date.now()},o._s2cCollectJackpot=function(e){var n;null==(n=this.sender)||n.c2sChangeBet({bet:r.totalBet},u.EChangeBetRequestType.SYNCHRONISE_JACKPOTS)},t(s,[{key:"gameData",get:function(){return App.dataCenter.get(r)}},{key:"service",get:function(){return App.serviceManager.get(i)}},{key:"sender",get:function(){return App.senderManager.get(g)}}]),s}(o)).module="Game",s._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic27.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logic.ts"],(function(c){var n,t,e;return{setters:[function(c){n=c.inheritsLoose},function(c){t=c.cclegacy},function(c){e=c.Logic}],execute:function(){t._RF.push({},"4022czE2JpHc6KncUqFPjLV","GameLogic",void 0);c("GameLogic",function(c){function t(){return c.apply(this,arguments)||this}return n(t,c),t}(e));t._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay9.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./CommonEvent.ts","./SlotGameDefines.ts"],(function(t){var n,e,o,i,c,a,r,s,l,u,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,c=t.createClass},function(t){a=t.cclegacy,r=t._decorator,s=t.Node},function(t){l=t.default},function(t){u=t.inject},function(t){p=t.CommonEvent},function(t){f=t.SoundName}],execute:function(){var h,y,d,m,E;a._RF.push({},"6ac75z3aXpO47e/5yfir2zF","GamePlay",void 0);var P=r.ccclass;r.property,t("default",(h=P("GamePlay"),y=u("content",s),h((E=n((m=function(t){function n(){for(var n,e=arguments.length,c=new Array(e),a=0;a<e;a++)c[a]=arguments[a];return n=t.call.apply(t,[this].concat(c))||this,o(n,"content",E,i(n)),n}e(n,t),n.getPrefabUrl=function(){return"commonmodule/gameplay/prefabs/GamePlay"};var a=n.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this)},a.addEvents=function(){t.prototype.addEvents.call(this)},a.onShow=function(){t.prototype.onShow.call(this)},a.onClose=function(){t.prototype.onClose.call(this)},a.onBackToGame=function(){dispatch(p.PLAY_EFFECT,f.SOUND_CLOSE_HELP_PAGE),this.close()},a.onMoreLanguage=function(){dispatch(p.PLAY_EFFECT,f.SOUND_HELP_PLAY_CHANGE),dispatch(p.NOTIFY_GAME_PLAY),this.close()},c(n,[{key:"showAction",get:function(){var t=this;return function(n){App.utils.showView(t.content,n)}}},{key:"closeAction",get:function(){var t=this;return function(n){App.utils.hideView(t.content,n)}}}]),n}(l)).prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameSender27.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sender.ts","./Config.ts","./Global.ts","./GameService.ts","./SubGameData27.ts","./LoadingHelper6.ts","./Protocol28.ts"],(function(e){var n,s,t,i,c,a,o,r,u,g;return{setters:[function(e){n=e.inheritsLoose,s=e.createClass},function(e){t=e.cclegacy},function(e){i=e.Sender},function(e){c=e.Config},function(e){a=e.Global},function(e){o=e.GameService},function(e){r=e.SubGameData},function(e){u=e.LoadingHelper},function(e){g=e.Protocol}],execute:function(){t._RF.push({},"9dae4OmbkdLKKfPjMSOaC2b","GameSender",void 0),e("GameSender",function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.c2sLogin=function(e){c.isDebugLogin?this.c2sDebug_login({uid:a.userId,game_id:e,money:Number(a.money),money_type:a.currency}):this.c2sOfficial_login({token:a.token,gameid:e,direct:a.direct_login})},i.c2sDebug_login=function(e){var n,s={type:g.DEBUG_LOGIN,message:e};null==(n=this.service)||n.sendMessage(g.DEBUG_LOGIN,s)},i.c2sOfficial_login=function(e){var n,s={type:g.LOGIN,message:e};null==(n=this.service)||n.sendMessage(g.LOGIN,s)},i.c2sMark=function(e){var n,s={type:g.MARK,message:e};null==(n=this.service)||n.sendMessage(g.MARK,s)},i.c2sUserInfo=function(){var e,n={type:g.USERINFO,message:{}};null==(e=this.service)||e.sendMessage(g.USERINFO,n)},i.c2sSlotInfo=function(){var e,n={type:g.SLOT_INFO,message:{}};null==(e=this.service)||e.sendMessage(g.SLOT_INFO,n)},i.sendPack=function(e,n){var s;a.playback||null==(s=this.service)||s.sendMessage(e,n)},i.c2sGMBet=function(e){var n={type:g.GM_SPIN,message:e};this.sendPack(g.GM_SPIN,n)},i.c2sBetSpin=function(e){var n={type:g.BET_SPIN,message:e};this.sendPack(g.BET_SPIN,n)},i.c2sFreeSpin=function(){var e={type:g.FREE_SPIN,message:{}};this.sendPack(g.FREE_SPIN,e)},i.c2sChangeBet=function(e,n){u.instance.show(2,!0),r.changeBetRequestTypesQueue.push(n);var s={type:g.CHANGE_BET,message:e};this.sendPack(g.CHANGE_BET,s)},i.c2sChangeRoom=function(){u.instance.show(2,!0);var e={type:g.CHANGE_ROOM,message:{}};this.sendPack(g.CHANGE_ROOM,e)},s(t,[{key:"service",get:function(){return App.serviceManager.get(o)}}]),t}(i)).module="Game",t._RF.pop()}}}));

System.register("chunks:///_virtual/IntroView6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./GameLogic27.ts","./SubGameData27.ts"],(function(e){var t,o,r,i,n,s,a,u,c,l,p,h,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,a=e.Node,u=e.ProgressBar,c=e.tween,l=e.v3},function(e){p=e.default},function(e){h=e.inject},function(e){g=e.GameLogic},function(e){d=e.SubGameData}],execute:function(){var _,f,b,v,y,m,w,N,P,k,D,B,T;n._RF.push({},"b5ae6PlGQJAUbpIAA9WXRZd","IntroView",void 0);var A=s.ccclass,I=s.menu;s.property,e("IntroView",(_=A("IntroView"),f=I(d.module+"/views/IntroView"),b=h({type:g,name:"logic"}),v=h("SpriteBackground",a),y=h("SpriteHint",a),m=h("ProgressBar",u),_(w=f(((T=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,r(t,"logic",P,i(t)),r(t,"_backgroundNode",k,i(t)),r(t,"_hintNode",D,i(t)),r(t,"_progressBar",B,i(t)),t._progress=0,t}o(t,e),t.getPrefabUrl=function(){return"prefabs/views/IntroView"};var n=t.prototype;return n.onLoad=function(){e.prototype.onLoad.call(this),this._progress=0,this._hintNode.active=!1,this._updateProgress(0)},n.onDestroy=function(){var t;this.isValid&&null!=(t=this._backgroundNode)&&t.isValid&&this._backgroundNode.off(a.EventType.TOUCH_END,this._onBackgroundTouchEnd,this),e.prototype.onDestroy.call(this)},n.onShow=function(){e.prototype.onShow.call(this),App.utils.closeDocumentFrameAnimation(),this.schedule(this._updateProgress)},n._updateProgress=function(e){if(this._progress>=1){if(App.utils.closeDocumentLoading(),this.unschedule(this._updateProgress),this._backgroundNode.on(a.EventType.TOUCH_END,this._onBackgroundTouchEnd,this),1==App.utils.PlatformType)return this._hintNode.active=!1,void this._onBackgroundTouchEnd();this._hintNode.active=!0;return c(this._hintNode).to(.28,{scale:l(1.1,1.1,1.1)},{easing:"sineOut"}).to(.28,{scale:l(1,1,1)}).union().repeatForever().start(),void(this._progressBar.node.active=!1)}var t=d.loadingProgress>=1?.8:.2;this._progress=Math.min(this._progress+e*t,d.loadingProgress),this._progressBar.progress=this._progress,App.utils.onDocumentProgress(100*this._progress)},n._onBackgroundTouchEnd=function(){var e;null==(e=this.args)||null==e.completeCallback||e.completeCallback(),this.close()},t}(p)).logicType=g,P=t((N=T).prototype,"logic",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(N.prototype,"_backgroundNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(N.prototype,"_hintNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(N.prototype,"_progressBar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=N))||w)||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/Jackpot7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FormatNumber.ts","./ScrollNumber.ts","./SubGameData27.ts","./SubGameDefines27.ts"],(function(e){var t,i,n,o,r,l,a,c,u,s,h,k,p,S,d,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,a=e._decorator,c=e.Sprite,u=e.sp,s=e.Enum,h=e.Tween,k=e.tween,p=e.Component},function(e){S=e.FormatNumber},function(e){d=e.default},function(e){m=e.SubGameData},function(e){b=e.common}],execute:function(){var _,g,f,y,N,v,w,T,F,A,C,I,z,J,B,L,D,R,E,M,O,x,H;l._RF.push({},"ff93eCQrypOo5PhcTDNLIEH","Jackpot",void 0);var U=a.ccclass,j=a.menu,G=a.property,P=((_={})[b.EJackpotType.MINOR]=3,_[b.EJackpotType.MAJOR]=2,_[b.EJackpotType.GRAND]=1,_);e("Jackpot",(g=U("Jackpot"),f=j(m.module+"/elements/Jackpot"),y=G(c),N=G(u.Skeleton),v=G(d),w=G(S),T=G(u.Skeleton),F=G(u.Skeleton),A=G(u.Skeleton),C=G({type:s(b.EJackpotType),visible:!0}),g(I=f((J=t((z=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"backgroundSprite",J,o(t)),n(t,"highlightSkeleton",B,o(t)),n(t,"unlockedScoreScrollNumber",L,o(t)),n(t,"lockedScoreFormatNumber",D,o(t)),n(t,"unlockSkeleton",R,o(t)),n(t,"lockSkeleton",E,o(t)),n(t,"winSkeleton",M,o(t)),n(t,"unlockedBackgroundSpriteFrameName",O,o(t)),n(t,"lockedBackgroundSpriteFrameName",x,o(t)),n(t,"_jackpotType",H,o(t)),t._locked=!1,t._startScore=0,t._currentScore=0,t._startTimestamp=0,t._updating=!1,t._lockAnimationCallback=void 0,t}i(t,e);var l=t.prototype;return l.onLoad=function(){this.unlockSkeleton.setCompleteListener(this._onLockSkeletonAnimationComplete.bind(this)),this.lockSkeleton.setCompleteListener(this._onLockSkeletonAnimationComplete.bind(this)),this._updateUI(),this._updateHighlightSkeleton(!0)},l.start=function(){this._startTimestamp=Date.now()},l.startUpdate=function(e,t,i){var n=this;this._startScore=e,this._startTimestamp=t,i&&(this._currentScore=this._calculateScore(),this.unlockedScoreScrollNumber.show(this._currentScore,this._currentScore)),this._updating||(this._updating=!0,h.stopAllByTarget(this),k(this).delay(.5).call((function(){return n._updateScore()})).union().repeatForever().start())},l.stopUpdate=function(e,t){this._updating=!1,h.stopAllByTarget(this),null!=e&&(null!=t?(this._startScore=e,this._startTimestamp=t,this._currentScore=this._calculateScore(),this.unlockedScoreScrollNumber.show(this._currentScore,this._currentScore)):this.unlockedScoreScrollNumber.show(e,e))},l.updateLockedScore=function(e){this.lockedScoreFormatNumber.updateNumber(e)},l.setLocked=function(e,t,i){if(!t)return this._lockAnimationCallback=void 0,void((e!==this._locked||this.unlockSkeleton.enabled||this.lockSkeleton.enabled)&&(this._locked=e,this._updateUI(),this._updateHighlightSkeleton(!this._locked),this.unlockSkeleton.enabled=!1,this.lockSkeleton.enabled=!1));if(this._lockAnimationCallback=i,e!==this._locked){this._locked=e,this._updateUI(),this._updateHighlightSkeleton(!1),this.unlockSkeleton.enabled=!1,this.lockSkeleton.enabled=!1;var n=this._locked?this.lockSkeleton:this.unlockSkeleton;n.enabled=!0,n.clearTracks(),n.setAnimation(0,"animation"+this._animationIndex,!1)}},l.win=function(e){e?(this.winSkeleton.enabled=!0,this.winSkeleton.setAnimation(0,"animation"+this._animationIndex,!0)):this.winSkeleton.enabled=!1},l._calculateScore=function(){var e=m.JACKPOT_SCORE_CONFIGURATIONS[this._jackpotType],t=.001*Math.max(0,Date.now()-this._startTimestamp),i=m.totalBet*e.startingMultiple*e.multipleIncreaseRate*t,n=m.totalBet*e.maxMultiple;return Math.min(this._startScore+i,n)},l._updateUI=function(){this._locked?(this.backgroundSprite.changeSpriteFrameFromAtlas(this.lockedBackgroundSpriteFrameName),this.unlockedScoreScrollNumber.node.active=!1,this.lockedScoreFormatNumber.node.parent.active=!0):(this.backgroundSprite.changeSpriteFrameFromAtlas(this.unlockedBackgroundSpriteFrameName),this.unlockedScoreScrollNumber.node.active=!0,this.lockedScoreFormatNumber.node.parent.active=!1)},l._updateHighlightSkeleton=function(e){var t=this.highlightSkeleton.enabled?this.highlightSkeleton.animation:void 0;if(e&&!this._locked){this.highlightSkeleton.enabled=!0;var i="animation"+this._animationIndex;i!==t&&this.highlightSkeleton.setAnimation(0,i,!0)}else this.highlightSkeleton.enabled=!1},l._updateScore=function(){var e=this._currentScore;this._currentScore=this._calculateScore(),this.unlockedScoreScrollNumber.show(e,this._currentScore)},l._onLockSkeletonAnimationComplete=function(e){this._updateHighlightSkeleton(!this._locked),this.unlockSkeleton.enabled=!1,this.lockSkeleton.enabled=!1;var t=this._lockAnimationCallback;this._lockAnimationCallback=void 0,null==t||t(this)},r(t,[{key:"type",get:function(){return this._jackpotType}},{key:"locked",get:function(){return this._locked}},{key:"_animationIndex",get:function(){return P[this._jackpotType]}}]),t}(p)).prototype,"backgroundSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(z.prototype,"highlightSkeleton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(z.prototype,"unlockedScoreScrollNumber",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(z.prototype,"lockedScoreFormatNumber",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(z.prototype,"unlockSkeleton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(z.prototype,"lockSkeleton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(z.prototype,"winSkeleton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(z.prototype,"unlockedBackgroundSpriteFrameName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=t(z.prototype,"lockedBackgroundSpriteFrameName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H=t(z.prototype,"_jackpotType",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.EJackpotType.MINOR}}),I=z))||I)||I));l._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotsLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./ShowJackpot.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./Jackpot7.ts","./AudioHelper6.ts"],(function(t){var a,o,e,n,s,i,c,p,r,u,h,d,k,l,f,m,y;return{setters:[function(t){a=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,i=t._decorator,c=t.Animation,p=t.Node,r=t.Prefab,u=t.instantiate},function(t){h=t.default},function(t){d=t.ShowJackpot},function(t){k=t.SubGameData},function(t){l=t.common},function(t){f=t.DisplayTaskManager},function(t){m=t.Jackpot},function(t){y=t.AudioHelper}],execute:function(){var _,T,g,L,B,S,J,M,j,E,v,b;s._RF.push({},"72946utmfZJHYDLh+6UD8Qp","JackpotsLayer",void 0);var R=i.ccclass,H=i.menu,U=i.property;t("JackpotsLayer",(_=R("JackpotsLayer"),T=H(k.module+"/layer/JackpotsLayer"),g=U(c),L=U({type:[m],tooltip:"按从小到大的顺序赋值"}),B=U(p),S=U(r),_(J=T((j=a((M=function(t){function a(){for(var a,o,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return o=t.call.apply(t,[this].concat(i))||this,e(o,"animation",j,n(o)),e(o,"jackpotsList",E,n(o)),e(o,"showJackpotRootNode",v,n(o)),e(o,"showJackpotPrefab",b,n(o)),o._gameMode=l.EGameMode.NORMAL,o._startBonusHash=((a={})[l.EJackpotType.MINOR]=0,a[l.EJackpotType.MAJOR]=0,a[l.EJackpotType.GRAND]=0,a),o._synchronTimestamp=0,o._bingoTriggering=!1,o}o(a,t);var s=a.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),f.addHandler(this)},s.onTaskInitialize=function(t,a){var o=this;this._gameMode=a.gameMode,this._bingoTriggering=!1,this.node.active=!0,this.animation.play("default"),this._updateStartBonuses(a.jackpotBonusesHash,a.jackpotSynchronTimestamp,!0),this.jackpotsList.forEach((function(t,a){var e=k.isJackpotLocked(t.type);t.setLocked(e,!1),t.win(!1),e?(t.stopUpdate(),t.updateLockedScore(o._calculateMinBonus(t.type))):t.startUpdate(o._startBonusHash[t.type],o._synchronTimestamp,!0)}))},s.onTaskSpinStop=function(t,a){var o=this;a.jackpotBonusesHash&&(this._updateStartBonuses(a.jackpotBonusesHash,a.jackpotSynchronTimestamp,!1),this.jackpotsList.forEach((function(t,a){t.locked?(t.stopUpdate(),t.updateLockedScore(o._calculateMinBonus(t.type))):t.startUpdate(o._startBonusHash[t.type],o._synchronTimestamp,!1)})))},s.onTaskBingoTransit=function(t,a){this.jackpotsList.forEach((function(t){t.locked||t.stopUpdate(a.jackpotBonusesHash[t.type])}))},s.onTaskWinJackpot=function(t,a){this.jackpotsList.forEach((function(t){t.type===a.jackpotType&&(t.locked||t.stopUpdate(a.score),t.win(!0))}))},s.onTaskResetJackpot=function(t,a){var o=this;this.jackpotsList.forEach((function(t){t.type===a.jackpotType&&(t.locked||t.stopUpdate(o._calculateMinBonus(t.type)),t.win(!1))}))},s.onTaskRerunJackpots=function(t,a){var o=this;this._bingoTriggering=!1,this._updateStartBonuses(a.jackpotBonusesHash,a.jackpotSynchronTimestamp,!1),this.jackpotsList.forEach((function(t,a){k.isJackpotLocked(t.type)?(t.stopUpdate(),t.updateLockedScore(o._calculateMinBonus(t.type))):t.startUpdate(o._startBonusHash[t.type],o._synchronTimestamp,!0)}))},s.onTaskRoundEnd=function(t,a){var o=this;a.jackpotBonusesHash&&(this._updateStartBonuses(a.jackpotBonusesHash,a.jackpotSynchronTimestamp,!1),this.jackpotsList.forEach((function(t){t.locked?(t.stopUpdate(),t.updateLockedScore(o._calculateMinBonus(t.type))):t.startUpdate(o._startBonusHash[t.type],o._synchronTimestamp,!1)})))},s.onTaskChangeBet=function(t,a){var o=this;if(this._updateStartBonuses(a.jackpotBonusesHash,a.jackpotSynchronTimestamp,!1),this._gameMode!==l.EGameMode.RESPIN&&!this._bingoTriggering){var e=-1,n=this.jackpotsList.length;this.jackpotsList.forEach((function(t,a){var s=t.locked,i=k.isJackpotLocked(t.type);s!==i&&(i?n=Math.min(n,a):e=Math.max(e,a)),t.setLocked(i,!0),i?(t.stopUpdate(),t.updateLockedScore(o._calculateMinBonus(t.type))):t.startUpdate(o._startBonusHash[t.type],o._synchronTimestamp,!0)})),this.jackpotsList[e]&&y.instance.playSoundEffect(k.AUDIO_URLS.SE_JACKPOT_UNLOCK),this.jackpotsList[n]&&y.instance.playSoundEffect(k.AUDIO_URLS.SE_JACKPOT_LOCK)}},s.onTaskSynchroniseJackpots=function(t,a){var o=this;this._updateStartBonuses(a.jackpotBonusesHash,a.jackpotSynchronTimestamp,!1),this._gameMode===l.EGameMode.RESPIN||this._bingoTriggering||this.jackpotsList.forEach((function(t,a){var e=k.isJackpotLocked(t.type);t.setLocked(e,!0),e?(t.stopUpdate(),t.updateLockedScore(o._calculateMinBonus(t.type))):t.startUpdate(o._startBonusHash[t.type],o._synchronTimestamp,!0)}))},s.onTaskChangeGame=function(t,a){this._gameMode=a.nextGameMode,this._updateLayout(a.nextGameMode)},s.onTaskCollectJackpot=function(t,a){if(this._gameMode===l.EGameMode.NORMAL){var o=u(this.showJackpotPrefab);if(o){o.setPosition(550,550),this.showJackpotRootNode.addChild(o);var e=o.getComponent(d);e&&(e.jpMove(),e.onRefreshAvatarHead(a.data.image_id),e.onRefreshAvatarTheme(a.data.game_id),e.onRefreshUserId(a.data.uid),e.onRefreshJackpotWin(a.data.reward_num))}}},s._calculateMinBonus=function(t){return k.JACKPOT_SCORE_CONFIGURATIONS[t].startingMultiple*k.totalBet},s._updateStartBonuses=function(t,a,o){!o&&a<this._synchronTimestamp||(this._updateBonusHash(this._startBonusHash,t),this._synchronTimestamp=a)},s._updateBonusHash=function(t,a){for(var o=0,e=[l.EJackpotType.MINOR,l.EJackpotType.MAJOR,l.EJackpotType.GRAND];o<e.length;o++){var n=e[o],s=a[n];s<=0&&(s=this._calculateMinBonus(n)),t[n]=s}},s._updateLayout=function(t){switch(t){case l.EGameMode.RESPIN:this.node.active=!0,this.animation.play("respin");break;case l.EGameMode.BONUS:this.node.active=!1;break;default:this.node.active=!0,this.animation.play("default")}},a}(h)).prototype,"animation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=a(M.prototype,"jackpotsList",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=a(M.prototype,"showJackpotRootNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=a(M.prototype,"showJackpotPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=M))||J)||J));s._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotWinningLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberRoller.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./CountdownableButton2.ts","./AudioHelper6.ts"],(function(t){var e,n,o,i,a,s,l,r,p,c,u,h,y,k,_,b,O,D,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,o=t.inheritsLoose,i=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,l=t._decorator,r=t.Enum,p=t.sp,c=t.Node,u=t.UIOpacity,h=t.Tween,y=t.tween},function(t){k=t.NumberRoller},function(t){_=t.SubGameData},function(t){b=t.common},function(t){O=t.DisplayTaskManager,D=t.Display},function(t){d=t.CountdownableButton},function(t){f=t.AudioHelper}],execute:function(){var I,S,m,T,U,A,N,g,E,L,C,P,R,H,w,J,W,v,M,B,G,z,K,j,V,F,q,x;s._RF.push({},"56a248UWuVMLpVtrdN4lXrl","JackpotWinningLayer",void 0);var X=l.ccclass,Q=l.menu,Y=l.property,Z=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t[t.SHOWN=2]="SHOWN",t[t.HIDING=3]="HIDING",t}(Z||{}),$=((I={})[b.EJackpotType.MINOR]={unlocked:_.AUDIO_URLS.SE_POPUP_JACKPOT_MINOR_UNLOCKED,locked:_.AUDIO_URLS.SE_POPUP_JACKPOT_MINOR_LOCKED},I[b.EJackpotType.MAJOR]={unlocked:_.AUDIO_URLS.SE_POPUP_JACKPOT_MAJOR_UNLOCKED,locked:_.AUDIO_URLS.SE_POPUP_JACKPOT_MAJOR_LOCKED},I[b.EJackpotType.GRAND]={unlocked:_.AUDIO_URLS.SE_POPUP_JACKPOT_GRAND_UNLOCKED,locked:_.AUDIO_URLS.SE_POPUP_JACKPOT_GRAND_LOCKED},I),tt=t("JackpotWinningSkeletonData",(S=X("JackpotWinningSkeletonData-"+_.module),m=Y({type:r(b.EJackpotType)}),T=Y(p.SkeletonData),S((N=e((A=function(){n(this,"jackpotType",N,this),n(this,"skeletonData",g,this)}).prototype,"jackpotType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.EJackpotType.MINOR}}),g=e(A.prototype,"skeletonData",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=A))||U));t("JackpotWinningLayer",(E=X("JackpotWinningLayer"),L=Q(_.module+"/layers/JackpotWinningLayer"),C=Y(c),P=Y(p.Skeleton),R=Y(p.Skeleton),H=Y(k),w=Y(u),J=Y(d),W=Y(u),v=Y([tt]),E(M=L((G=e((B=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"rootNode",G,i(e)),n(e,"popupSkeleton",z,i(e)),n(e,"transitionSkeleton",K,i(e)),n(e,"scoreNumberRoller",j,i(e)),n(e,"scoreUIOpacity",V,i(e)),n(e,"button",F,i(e)),n(e,"buttonUIOpacity",q,i(e)),n(e,"skeletonDatasList",x,i(e)),e._jackpotType=b.EJackpotType.MINOR,e._locked=!1,e._state=Z.HIDDEN,e._score=0,e._skeletonDatasHash={},e}o(e,t);var s=e.prototype;return s.onLoad=function(){var e=this;t.prototype.onLoad.call(this),O.addHandler(this),this.popupSkeleton.setCompleteListener(this._onPopupSkeletonAnimationComplete.bind(this)),this.transitionSkeleton.setCompleteListener(this._onTransitionSkeletonAnimationComplete.bind(this)),this.skeletonDatasList.forEach((function(t){e._skeletonDatasHash[t.jackpotType]=t.skeletonData})),this.button.type=d.EType.COLLECT},s.onTaskInitialize=function(t,e){this.stopAllDisplays(),this._state=Z.HIDDEN,h.stopAllByTarget(this.node),h.stopAllByTarget(this.scoreUIOpacity),h.stopAllByTarget(this.buttonUIOpacity),this.node.active=!1,this.button.stopCountdown()},s.onTaskWinJackpot=function(t,e){var n=this._skeletonDatasHash[e.jackpotType];n&&(this._jackpotType=e.jackpotType,this._locked=e.locked,this._show(n,e.score))},s.onButtonClick=function(){this._hide(),f.instance.playSoundEffect(_.AUDIO_URLS.SE_COMMON_BUTTON_CLICK)},s._show=function(t,e){var n=this;this.stopAllDisplays(),this.startDisplay(),this._state=Z.SHOWING,this._score=e,this.node.active=!0,h.stopAllByTarget(this.node),y(this.node).delay(.9).call((function(){h.stopAllByTarget(n.scoreUIOpacity),n.scoreUIOpacity.opacity=255,n.scoreNumberRoller.startRolling(0,e,2),h.stopAllByTarget(n.buttonUIOpacity),n.buttonUIOpacity.opacity=255,n.button.interactable=!0,n.button.stopCountdown()})).start(),this.popupSkeleton.clearTracks(),this.popupSkeleton.skeletonData=t,this.popupSkeleton.setAnimation(0,"animation"+this._animationTypeID+"_"+this._state,!1),this.transitionSkeleton.clearTracks(),this.transitionSkeleton.enabled=!0,this.transitionSkeleton.setAnimation(0,"animation",!1),h.stopAllByTarget(this.scoreUIOpacity),this.scoreUIOpacity.opacity=0,h.stopAllByTarget(this.buttonUIOpacity),this.buttonUIOpacity.opacity=0;var o=$[this._jackpotType];f.instance.playSoundEffect(this._locked?o.locked:o.unlocked),f.instance.requestLoweringMusicVolume(0,"jackpotWinning")},s._hide=function(){if(this._state===Z.SHOWN){this._state=Z.HIDING,h.stopAllByTarget(this.node),this.popupSkeleton.clearTracks(),this.popupSkeleton.setAnimation(0,"animation"+this._animationTypeID+"_"+this._state,!1),this.scoreNumberRoller.stopRollingAndShowNumber(this._score),h.stopAllByTarget(this.scoreUIOpacity),y(this.scoreUIOpacity).to(.8,{opacity:0}).start(),h.stopAllByTarget(this.buttonUIOpacity),this.button.interactable=!1,this.button.stopCountdown(),y(this.buttonUIOpacity).to(.8,{opacity:0}).start();var t=$[this._jackpotType];f.instance.stopEffect(this._locked?t.locked:t.unlocked),f.instance.playSoundEffect(_.AUDIO_URLS.SE_COMMON_POPUP_HIDE)}},s._onPopupSkeletonAnimationComplete=function(t){var e=this,n=t.animation.name.split("_");n.length<2||(n[1]===""+Z.SHOWING?(this._state=Z.SHOWN,this.popupSkeleton.clearTracks(),this.popupSkeleton.setAnimation(0,"animation"+this._animationTypeID+"_"+this._state,!0),this.button.interactable=!0,this.button.startCountdown(4,(function(){return e._hide()}))):n[1]===""+Z.HIDING&&this._state===Z.HIDING&&(this._state=Z.HIDDEN,this.node.active=!1,this.popupSkeleton.clearTracks(),this.button.stopCountdown(),this.endDisplay(),f.instance.revokeLoweringMusicVolume("jackpotWinning")))},s._onTransitionSkeletonAnimationComplete=function(t){this.transitionSkeleton.enabled=!1},a(e,[{key:"_animationTypeID",get:function(){return this._locked?2:1}}]),e}(D)).prototype,"rootNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(B.prototype,"popupSkeleton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(B.prototype,"transitionSkeleton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(B.prototype,"scoreNumberRoller",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(B.prototype,"scoreUIOpacity",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(B.prototype,"button",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(B.prototype,"buttonUIOpacity",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(B.prototype,"skeletonDatasList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=B))||M)||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/LavaBonus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FormatNumber.ts","./SubGameData27.ts","./SubGameDefines27.ts"],(function(e){var t,a,r,n,o,i,u,s,c,p,l,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,u=e.Animation,s=e.Sprite,c=e.Component},function(e){p=e.FormatNumber},function(e){l=e.SubGameData},function(e){m=e.common}],execute:function(){var b,h,f,y,_,v,d,k,S,j,B;o._RF.push({},"edc58KOESNJZ4hn1xkeKwnB","LavaBonus",void 0);var F=i.ccclass,N=i.menu,g=i.property,D=((b={})[m.EJackpotType.MINOR]="theme_resource/theme398/textures/base/theme_398_base_t_jp3",b[m.EJackpotType.MAJOR]="theme_resource/theme398/textures/base/theme_398_base_t_jp2",b[m.EJackpotType.GRAND]="theme_resource/theme398/textures/base/theme_398_base_t_jp1",b);e("LavaBonus",(h=F("LavaBonus"),f=N(l.module+"/elements/LavaBonus"),y=g(u),_=g(s),v=g(p),h(d=f((S=t((k=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"animation",S,n(t)),r(t,"jackpotSprite",j,n(t)),r(t,"scoreFormatNumber",B,n(t)),t}a(t,e);var o=t.prototype;return o.reset=function(){this.updateBonus(0)},o.updateBonus=function(e,t){var a;(this.scoreFormatNumber.updateNumber(e),null==t)?this.animation.play("only-score"):(this.jackpotSprite.changeSpriteFrameFromAtlas(null!=(a=D[t])?a:""),e>0?this.animation.play("jackpot-with-score"):this.animation.play("only-jackpot"))},t}(c)).prototype,"animation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(k.prototype,"jackpotSprite",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(k.prototype,"scoreFormatNumber",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=k))||d)||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/LavaBonusNodePool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./LavaBonus.ts"],(function(e){var a,t,n,r,o,i,s,l;return{setters:[function(e){a=e.createClass,t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.instantiate,i=e.Prefab},function(e){s=e.SubGameData},function(e){l=e.LavaBonus}],execute:function(){r._RF.push({},"10f10zLMzBKMLcpjCmr4xTl","LavaBonusNodePool",void 0),e("LavaBonusNodePool",function(){function e(){this._prefab=null,this._pool=[],this._availableIndex=0}var r=e.prototype;return r.preload=function(){var e=t(n().mark((function e(){var a,t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Log.d("preload lava bonus prefab"),e.next=4,App.cache.getCacheByAsync("prefabs/elements/LavaBonus",i,s.module);case 4:(t=e.sent)[0],(r=t[1]).addRef(),null==(a=this._prefab)||a.decRef(),this._prefab=r,s.setLoadingTaskProgress("preloadLavaBonus",1),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),Log.e("failed to preload lava bonus prefab: "+(e.t0?e.t0.toString():"unknown reason")),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),r.push=function(e){var a=this._pool.indexOf(e);if(a<0)return!1;if(!e.isValid)return this._pool.splice(a,1),a<=this._availableIndex&&this._availableIndex>0&&--this._availableIndex,!1;e.removeFromParent();var t=e.getComponent(l);return!!t&&(t.reset(),a<this._availableIndex&&(--this._availableIndex,this._pool[a]=this._pool[this._availableIndex],this._pool[this._availableIndex]=e),!0)},r.pop=function(){var e;if(this._pool.length<=0||this._pool.length<=this._availableIndex){if(!this._prefab)return null;this._pool[this._availableIndex]=o(this._prefab)}return null!=(e=this._pool[this._availableIndex++])?e:null},a(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingHelper6.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"cb8e6NFIVxOJp8ahyQXojka","LoadingHelper",void 0),t("LoadingHelper",function(){function t(){this._blockInputWhenDelay=!1,this._inputBlockerNode=null,this._timeoutID=null}var n=t.prototype;return n.show=function(t,e){void 0===e&&(e=!1),this._blockInputWhenDelay=e,this._stopCountdown();var n=function(){return App.loading.show("loading...")};null!=t?this._timeoutID=setTimeout(n,1e3*t):n(),this._refreshInputBlockerNode()},n.hide=function(){this._blockInputWhenDelay=!1,this._stopCountdown(),App.loading.hide(),this._refreshInputBlockerNode()},n._stopCountdown=function(){null!==this._timeoutID&&void 0!==this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},n._refreshInputBlockerNode=function(){this._inputBlockerNode&&(this._inputBlockerNode.active=this._blockInputWhenDelay)},e(t,[{key:"inputBlockerNode",set:function(t){t!==this._inputBlockerNode&&(this._inputBlockerNode=t,this._refreshInputBlockerNode())}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingInputBlocker4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./LoadingHelper6.ts"],(function(n){var o,e,t,r,u,c,i;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy,t=n._decorator,r=n.BlockInputEvents,u=n.Component},function(n){c=n.SubGameData},function(n){i=n.LoadingHelper}],execute:function(){var a;e._RF.push({},"8f503RgEzhMKrNkMLXJQCAp","LoadingInputBlocker",void 0);var p=t.ccclass,s=t.menu,l=(t.property,t.requireComponent);n("LoadingInputBlocker",p("LoadingInputBlocker")(a=s(c.module+"/components/LoadingInputBlocker")(a=l(r)(a=function(n){function e(){return n.apply(this,arguments)||this}o(e,n);var t=e.prototype;return t.onLoad=function(){i.instance.inputBlockerNode=this.node},t.onDestroy=function(){i.instance.inputBlockerNode=null},e}(u))||a)||a)||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/MessageBoxLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberRoller.ts","./SubGameData27.ts","./Display6.ts","./CountdownableButton2.ts","./AudioHelper6.ts","./GameSender27.ts"],(function(e){var t,n,o,a,i,l,s,r,c,u,d,h,m,p,S,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,s=e.sp,r=e.Tween,c=e.tween},function(e){u=e.NumberRoller},function(e){d=e.SubGameData},function(e){h=e.DisplayTaskManager,m=e.Display},function(e){p=e.CountdownableButton},function(e){S=e.AudioHelper},function(e){_=e.GameSender}],execute:function(){var R,f,k,y,g,b,N,B,D,O,A,w,I,H;i._RF.push({},"71481QDYY1A/4sy/I1YuTdX","MessageBoxLayer",void 0);var C=l.ccclass,U=l.menu,E=l.property,T=function(e){return e[e.HIDDEN=0]="HIDDEN",e[e.SHOWING=1]="SHOWING",e[e.SHOWN=2]="SHOWN",e[e.HIDING=3]="HIDING",e}(T||{}),L="animation1",M="animation2",v="animation3";e("MessageBoxLayer",(R=C("MessageBoxLayer"),f=U(d.module+"/layers/MessageBoxLayer"),k=E(s.Skeleton),y=E(s.Skeleton),g=E(s.Skeleton),b=E(u),N=E(p),R(B=f((O=t((D=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,o(t,"backgroundSkeleton",O,a(t)),o(t,"unclaimedRewardSkeleton",A,a(t)),o(t,"changeRoomSkeleton",w,a(t)),o(t,"scoreNumberRoller",I,a(t)),o(t,"collectButton",H,a(t)),t._type="changeRoom",t._score=0,t._state=T.HIDDEN,t}n(t,e);var i=t.prototype;return i.onLoad=function(){e.prototype.onLoad.call(this),h.addHandler(this),this.backgroundSkeleton.setCompleteListener(this._onBackgroundSkeletonAnimationComplete.bind(this))},i.onTaskInitialize=function(e,t){this.stopAllDisplays(),this._state=T.HIDDEN,this.node.active=!1,r.stopAllByTarget(this.scoreNumberRoller.node.parent),r.stopAllByTarget(this.collectButton.node),this.collectButton.stopCountdown()},i.onTaskBonusGameUnclaimedReward=function(e,t){this._type="unclaimedReward",this._score=t.score,this._show()},i.onTaskChangeRoomPopup=function(e,t){this._type="changeRoom",this._score=0,this._show()},i.onUnclaimedRewardButtonClick=function(e,t){"unclaimedReward"===this._type&&this._state===T.SHOWN&&(this._hide(),S.instance.playSoundEffect(d.AUDIO_URLS.SE_COMMON_BUTTON_CLICK))},i.onChangeRoomButtonClick=function(e,t){if("changeRoom"===this._type&&this._state===T.SHOWN){var n;if("true"===t)null==(n=App.senderManager.get(_))||n.c2sChangeRoom();this._hide(),S.instance.playSoundEffect(d.AUDIO_URLS.SE_COMMON_BUTTON_CLICK)}},i._show=function(){var e=this;this.stopAllDisplays(),this.startDisplay(),this._state=T.SHOWING,this.node.active=!0,r.stopAllByTarget(this.scoreNumberRoller.node.parent),r.stopAllByTarget(this.collectButton.node),this.backgroundSkeleton.clearTracks(),this.backgroundSkeleton.setAnimation(0,L,!1),this.backgroundSkeleton.addAnimation(0,M,!0),"unclaimedReward"===this._type?(this.unclaimedRewardSkeleton.node.active=!0,this.changeRoomSkeleton.node.active=!1,this.unclaimedRewardSkeleton.clearTracks(),this.unclaimedRewardSkeleton.setAnimation(0,"animation1_1",!1),this.unclaimedRewardSkeleton.addAnimation(0,"animation1_2",!0),this.scoreNumberRoller.node.parent.setScale(0,0,1),c(this.scoreNumberRoller.node.parent).delay(.066667).call((function(){e.scoreNumberRoller.node.parent.setScale(.5,.5,1)})).start(),this.scoreNumberRoller.startRolling(0,this._score,2),this.collectButton.node.setScale(0,0,1),c(this.collectButton.node).delay(.35).call((function(){e.collectButton.node.setScale(.25,.25,1)})).start(),this.collectButton.interactable=!0,this.collectButton.stopCountdown(),S.instance.playSoundEffect(d.AUDIO_URLS.SE_UNCLAIMED_REWARD_POPUP_SHOW)):(this.unclaimedRewardSkeleton.node.active=!1,this.changeRoomSkeleton.node.active=!0,this.changeRoomSkeleton.clearTracks(),this.changeRoomSkeleton.setAnimation(0,L,!1),this.changeRoomSkeleton.addAnimation(0,M,!0),S.instance.playSoundEffect(d.AUDIO_URLS.SE_COMMON_POPUP_SHOW))},i._hide=function(){var e=this;this._state===T.SHOWN&&(this._state=T.HIDING,r.stopAllByTarget(this.scoreNumberRoller.node.parent),r.stopAllByTarget(this.collectButton.node),this.backgroundSkeleton.clearTracks(),this.backgroundSkeleton.setAnimation(0,v,!1),"unclaimedReward"===this._type?(this.unclaimedRewardSkeleton.clearTracks(),this.unclaimedRewardSkeleton.setAnimation(0,"animation1_3",!1),c(this.scoreNumberRoller.node.parent).delay(.5).call((function(){e.scoreNumberRoller.node.parent.setScale(0,0,1)})).start(),this.scoreNumberRoller.stopRollingAndShowNumber(this._score),c(this.collectButton.node).delay(.7).call((function(){e.collectButton.node.setScale(0,0,1)})).start(),this.collectButton.interactable=!1,this.collectButton.stopCountdown(),S.instance.stopEffect(d.AUDIO_URLS.SE_UNCLAIMED_REWARD_POPUP_SHOW)):(this.changeRoomSkeleton.clearTracks(),this.changeRoomSkeleton.setAnimation(0,v,!1),S.instance.stopEffect(d.AUDIO_URLS.SE_COMMON_POPUP_SHOW)),S.instance.playSoundEffect(d.AUDIO_URLS.SE_COMMON_POPUP_HIDE))},i._onBackgroundSkeletonAnimationComplete=function(e){var t=this;switch(e.animation.name){case L:this._state=T.SHOWN,"unclaimedReward"===this._type&&(this.collectButton.interactable=!0,this.collectButton.startCountdown(4,(function(){return t._hide()})));break;case v:this._state=T.HIDDEN,this.node.active=!1,this.endDisplay()}},t}(m)).prototype,"backgroundSkeleton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(D.prototype,"unclaimedRewardSkeleton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(D.prototype,"changeRoomSkeleton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(D.prototype,"scoreNumberRoller",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(D.prototype,"collectButton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=D))||B)||B));i._RF.pop()}}}));

System.register("chunks:///_virtual/PageChange9.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SlotGameDefines.ts"],(function(e){var t,n,r,a,i,o,g,u,s,l,c,P,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,g=e.PageView,u=e.Node,s=e.SpriteFrame,l=e.Sprite,c=e.Component},function(e){P=e.CommonEvent},function(e){h=e.SoundName}],execute:function(){var p,d,f,m,C,y,x,L,b;i._RF.push({},"c0c17AerAhG6pmXERA2xMRR","PageChange",void 0);var v=o.ccclass,I=o.property;e("PageChange",(p=v("PageChange"),d=I({type:g}),f=I({type:u}),m=I({type:[s]}),p((x=t((y=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"Page",x,a(t)),r(t,"Layout",L,a(t)),r(t,"Sprite",b,a(t)),t.PageNum=8,t}n(t,e);var i=t.prototype;return i.GoNextPage=function(){Log.d(this.Page.getCurrentPageIndex()+"!!!!"),this.Page.getCurrentPageIndex()<this.PageNum?this.Page.scrollToPage(this.Page.getCurrentPageIndex()+1):this.Page.scrollToPage(0)},i.GoLastPage=function(){this.Page.getCurrentPageIndex()>0?this.Page.scrollToPage(this.Page.getCurrentPageIndex()-1):this.Page.scrollToPage(this.PageNum)},i.ChangeIndex=function(){dispatch(P.PLAY_EFFECT,h.SOUND_HELP_PLAY_CHANGE);for(var e=0;e<this.Layout.children.length&&!(this.Page.getCurrentPageIndex()>this.PageNum||this.Page.getCurrentPageIndex()<0);e++)e==this.Page.getCurrentPageIndex()?this.Layout.children[e].getComponent(l).spriteFrame=this.Sprite[1]:this.Layout.children[e].getComponent(l).spriteFrame=this.Sprite[0]},t}(c)).prototype,"Page",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(y.prototype,"Layout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(y.prototype,"Sprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=y))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/PaylineAnimationLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./Display6.ts","./AnimatedSymbol4.ts","./SymbolHighlight.ts","./AudioHelper6.ts","./AnimatedSymbolNodePool4.ts","./SymbolHighlightNodePool.ts"],(function(i){var t,e,n,o,l,a,s,r,c,h,u,m,p,y,d,_,S,f,E;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){l=i.cclegacy,a=i._decorator,s=i.Node,r=i.sp,c=i.v3,h=i.Tween,u=i.tween},function(i){m=i.SubGameData},function(i){p=i.DisplayTaskManager,y=i.Display},function(i){d=i.AnimatedSymbol},function(i){_=i.SymbolHighlight},function(i){S=i.AudioHelper},function(i){f=i.AnimatedSymbolNodePool},function(i){E=i.SymbolHighlightNodePool}],execute:function(){var g,P,L,R,b,N,A,v,k,M,C;l._RF.push({},"42125ozzs5IF7IyC4vdIL5h","PaylineAnimationLayer",void 0);var H=a.ccclass,I=a.menu,U=a.property,T=((g={})[2]=1,g[3]=2,g);i("PaylineAnimationLayer",(P=H("PaylineAnimationLayer"),L=I(m.module+"/layers/PaylineAnimationLayer"),R=U(s),b=U(s),N=U(r.Skeleton),P(A=L((k=t((v=function(i){function t(){for(var t,e=arguments.length,l=new Array(e),a=0;a<e;a++)l[a]=arguments[a];return t=i.call.apply(i,[this].concat(l))||this,n(t,"animatedSymbolsRootNode",k,o(t)),n(t,"symbolHighlightsRootNode",M,o(t)),n(t,"multiplierSkeleton",C,o(t)),t._paylinesList=[],t._cachedPosition=c(),t}e(t,i);var l=t.prototype;return l.onLoad=function(){i.prototype.onLoad.call(this),p.addHandler(this),this.multiplierSkeleton.setCompleteListener(this._onMultiplierSkeletonAnimationComplete.bind(this))},l.onTaskInitialize=function(i,t){this._clearPaylineAnimations(),this.multiplierSkeleton.enabled=!1},l.onTaskSpinStart=function(i,t){this._clearPaylineAnimations(),this.multiplierSkeleton.enabled=!1},l.onTaskShowMultiplier=function(i,t){var e=T[t.multiplier];e&&(this.startDisplay(),this.multiplierSkeleton.enabled=!0,this.multiplierSkeleton.clearTracks(),this.multiplierSkeleton.setAnimation(0,"animation"+e+"_1",!1),this.multiplierSkeleton.addAnimation(0,"animation"+e+"_3",!1),S.instance.playSoundEffect(m.AUDIO_URLS.SE_FREE_GAME_SHOW_MULTIPLIER))},l.onTaskHitPaylines=function(i,t){var e;if(this._clearPaylineAnimations(),!(t.totalPayline<=0)){(e=this._paylinesList).push.apply(e,[t.totalPayline].concat(t.paylines));for(var n=0,o=void 0,l=0;l<m.REELS_COLUMN_NUMBER;++l)for(var a=0;a<m.REELS_NUMBER_PER_COLUMN;++a)if(n=l*m.REELS_NUMBER_PER_COLUMN+a,!((t.totalPayline&1<<n)<=0)&&(o=t.bottomSymbolsList[n])){var s=this._getPositionForReelIndex(l,a),r=f.instance.pop();if(r){r.setPosition(s),r.setParent(this.animatedSymbolsRootNode);var c=r.getComponent(d);c.row=a,c.column=l,c.info=o,r.active=!1}var h=E.instance.pop();if(h){h.setPosition(s),h.setParent(this.symbolHighlightsRootNode);var u=h.getComponent(_);u.row=a,u.column=l,h.active=!1}}this._playHittingPaylines(0)}},l.onTaskChangeGame=function(i,t){this._clearPaylineAnimations(),this.multiplierSkeleton.enabled=!1},l._getPositionForReelIndex=function(i,t){return this._cachedPosition.x=(m.SYMBOL_SIZE.width+m.REEL_SPACING.width)*(i-.5*m.REELS_COLUMN_NUMBER+.5),this._cachedPosition.y=(m.SYMBOL_SIZE.height+m.REEL_SPACING.height)*(.5*m.REELS_NUMBER_PER_COLUMN-t-.5),this._cachedPosition.z=0,this._cachedPosition},l._clearPaylineAnimations=function(){this.stopAllDisplays(),this._paylinesList.length=0,h.stopAllByTarget(this.node),this.animatedSymbolsRootNode.children.slice().forEach((function(i){return f.instance.push(i)})),this.symbolHighlightsRootNode.children.slice().forEach((function(i){return E.instance.push(i)}))},l._playHittingPaylines=function(i){var t=this;if(!(this.animatedSymbolsRootNode.children.length<=0)){var e=-1,n=function(){h.stopAllByTarget(t.node),u(t.node).call((function(){e=++e%t._paylinesList.length;var i=t._paylinesList[e];if(t.animatedSymbolsRootNode.children.forEach((function(t){var e=t.getComponent(d),n=e.column*m.REELS_NUMBER_PER_COLUMN+e.row;(i&1<<n)<=0?t.active=!1:(t.active=!0,e.play("win",!0))})),t.symbolHighlightsRootNode.children.forEach((function(t){var e=t.getComponent(_),n=e.column*m.REELS_NUMBER_PER_COLUMN+e.row;(i&1<<n)<=0?t.active=!1:(t.active=!0,e.play(_.EHighlightType.PAYLINE_WIN))})),t.multiplierSkeleton.enabled){var n=t.multiplierSkeleton.animation;(i&1<<m.WILD_REEL_INDEX)>0?(t.multiplierSkeleton.clearTracks(),t.multiplierSkeleton.setAnimation(0,n.slice(0,-1)+"2",!0)):(t.multiplierSkeleton.clearTracks(),t.multiplierSkeleton.setAnimation(0,n.slice(0,-1)+"3",!1))}})).delay(3).union().repeatForever().start()};i<=0?n():(h.stopAllByTarget(this.node),u(this.node).delay(i).call(n).start())}},l._onMultiplierSkeletonAnimationComplete=function(i){i.animation.name.endsWith("_1")&&this.endDisplay()},t}(y)).prototype,"animatedSymbolsRootNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(v.prototype,"symbolHighlightsRootNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(v.prototype,"multiplierSkeleton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=v))||A)||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/Portrait.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./FormatNumber.ts","./SubGameData27.ts"],(function(e){var r,t,i,a,o,n,u,l,s,c,m,p,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){n=e.cclegacy,u=e._decorator,l=e.Sprite,s=e.Node,c=e.Component},function(e){m=e.Global},function(e){p=e.FormatNumber},function(e){f=e.SubGameData}],execute:function(){var h,d,b,F,S,g,N,_,v,y,P,D,k,z,w,I,B,A;n._RF.push({},"62068on4RNM7bVvuD5g4CUt","Portrait",void 0);var G=u.ccclass,C=u.menu,L=u.property,R={1001:"icon_1",1002:"icon_2"};e("Portrait",(h=G("Portrait"),d=C(f.module+"/elements/Portrait"),b=L(l),F=L(s),S=L(l),g=L(l),N=L(p),h(_=d((y=r((v=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return r=e.call.apply(e,[this].concat(o))||this,i(r,"backgroundSprite",y,a(r)),i(r,"defaultPortraitNode",P,a(r)),i(r,"portraitSprite",D,a(r)),i(r,"frameSprite",k,a(r)),i(r,"scoreFormatNumber",z,a(r)),i(r,"selfBackgroundSpriteFrameName",w,a(r)),i(r,"otherBackgroundSpriteFrameName",I,a(r)),i(r,"selfFrameSpriteFrameName",B,a(r)),i(r,"otherFrameSpriteFrameName",A,a(r)),r._info={uid:"",avatarID:0,score:0},r}t(r,e);var n=r.prototype;return n.onLoad=function(){this._updatePortrait(),this._updateScore()},n._updatePortrait=function(){if(f.isValidUserID(this._info.uid)){var e,r,t=this._info.uid===m.userId;null==(e=this.backgroundSprite)||e.changeSpriteFrameFromAtlas(t?this.selfBackgroundSpriteFrameName:this.otherBackgroundSpriteFrameName),this.defaultPortraitNode&&(this.defaultPortraitNode.active=!1),this.portraitSprite.changeSpriteFrameFromAtlas(null!=(r=R[this._info.avatarID])?r:""),this.frameSprite.changeSpriteFrameFromAtlas(t?this.selfFrameSpriteFrameName:this.otherFrameSpriteFrameName)}else{var i;null==(i=this.backgroundSprite)||i.changeSpriteFrameFromAtlas(this.otherBackgroundSpriteFrameName),this.defaultPortraitNode&&(this.defaultPortraitNode.active=!0),this.portraitSprite.changeSpriteFrameFromAtlas(""),this.frameSprite.changeSpriteFrameFromAtlas(this.otherFrameSpriteFrameName)}},n._updateScore=function(){this.scoreFormatNumber&&(this.scoreFormatNumber.node.parent.active=f.isValidUserID(this._info.uid),this.scoreFormatNumber.updateNumber(this._info.score))},o(r,[{key:"info",get:function(){return this._info},set:function(e){e.uid===this._info.uid&&e.avatarID===this._info.avatarID&&e.score===this._info.score||(this._info.uid=e.uid,this._info.avatarID=e.avatarID,this._info.score=e.score,this._updatePortrait(),this._updateScore())}}]),r}(c)).prototype,"backgroundSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=r(v.prototype,"defaultPortraitNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(v.prototype,"portraitSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(v.prototype,"frameSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=r(v.prototype,"scoreFormatNumber",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=r(v.prototype,"selfBackgroundSpriteFrameName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=r(v.prototype,"otherBackgroundSpriteFrameName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=r(v.prototype,"selfFrameSpriteFrameName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=r(v.prototype,"otherFrameSpriteFrameName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=v))||_)||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol28.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"1b74aC/ub9NjqVIVr0REQCN","Protocol",void 0);var s=t("Protocol",(function(){}));s.LOGIN="login",s.LOGOUT="logout",s.USERINFO="userinfo",s.USER_KICK="user_kick",s.ERRORCODE="errorcode",s.MARQUEE="marquee",s.TIPS="tips",s.DEBUG_LOGIN="debug_login",s.MARK="mark",s.SLOT_INFO="slot_info",s.GM_SPIN="gm_slot",s.BET_SPIN="slot",s.FREE_SPIN="free_spin",s.CHANGE_BET="slot_bet",s.CHANGE_ROOM="slot_room",s.UPDATE_SPOTS="add_spot",s.LAST_MAP="last_map",s.COLLECT_JACKPOT="slot_bet_refresh";t("PageData",(function(){this.bingo_map=[],this.bingo_refresh_map=[],this.bingo_respin_map=[],this.map=[],this.lines=[],this.line_add=0,this.bingo_lines=[],this.top_bingo_lines=[],this.bottom_bingo_lines=[],this.add=0,this.jackpot_before=[],this.jackpot_after=[],this.wild_mul=0})),t("RespinPageData",(function(){this.top_map=[],this.bottom_map=[]})),t("BonusPageData",(function(){this.before_map=[],this.map=[],this.bingo_lines=[],this.spin_count=0,this.old_flower=0,this.cur_flower=0,this.cur_team_mul=0,this.cur_spot_win=0,this.add_extra_spin=0})),t("PaylineData",(function(){this.line_id=0,this.symbol=0,this.line_score=0,this.col=0})),t("BingoData",(function(){this.line_id=0,this.jackpot_reward=[],this.line_score=0})),t("SymbolData",(function(){this.pos=0,this.icon_id=0,this.jackpot_type=0,this.num=0})),t("BonusSymbolData",(function(){this.pos=0,this.uid="",this.icon=0,this.image=0,this.num=0,this.is_flower=0})),t("JackpotBonus",(function(){this.id=0,this.num=0})),t("SpotData",(function(){this.uid="",this.image=0,this.spot_win=0})),t("SeatData",(function(){this.pos=0,this.uid="",this.image=0})),t("RankData",(function(){this.rank=0,this.uid="",this.image=0,this.spot_win=0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/ReelLayer6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./Symbol6.ts"],(function(t){var e,i,n,s,o,a,r,l,_,h,m,d,S,c,u,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,r=t._decorator,l=t.Prefab,_=t.Node,h=t.instantiate,m=t.easing,d=t.math},function(t){S=t.SubGameData},function(t){c=t.common},function(t){u=t.DisplayTaskManager,p=t.Display},function(t){g=t.Symbol}],execute:function(){var y,N,b,f,I,E,L,T,v,P,R,M,B,O,C,x,Y,D;a._RF.push({},"f3537VPbylDuKLhHg9FqqS1","ReelLayer",void 0);var A=r.ccclass,G=r.menu,U=r.property,F=function(t){return t[t.IDLE=0]="IDLE",t[t.ACCELERATING=1]="ACCELERATING",t[t.CONSTANT_SPINNING=2]="CONSTANT_SPINNING",t[t.DECELERATING=3]="DECELERATING",t[t.BOUNCING_OUT=4]="BOUNCING_OUT",t[t.BOUNCING_IN=5]="BOUNCING_IN",t}(F||{});t("ReelLayer",(y=A("ReelLayer"),N=G(S.module+"/layers/ReelLayer"),b=U(l),f=U(_),I=U(_),E=U(_),L=U(_),T=U({visible:!0}),v=U({visible:!0}),y(P=N((M=e((R=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"symbolPrefab",M,s(e)),n(e,"externalSpinningSymbolsRootNode",B,s(e)),n(e,"externalShowingNormalSymbolsRootNode",O,s(e)),n(e,"externalShowingLavaSymbolsRootNode",C,s(e)),n(e,"externalShowingScatterSymbolsRootNode",x,s(e)),n(e,"_rowIndex",Y,s(e)),n(e,"_columnIndex",D,s(e)),e._gameMode=c.EGameMode.NORMAL,e._isTopReel=!1,e._state=F.IDLE,e._spinningIndex=-1,e._spinSpeedType=c.ESpinSpeedType.DEFAULT,e._spinProcessConfig=S.SPIN_CONFIGURATION.default[0],e._elapsedTime=0,e._constantSpinningTimeout=0,e._targetSymbolInfosList=null,e._manualStopping=!1,e._currentTargetIndex=-999,e._symbolNodes=[],e._maxPositionYForPlace=0,e._minPositionYForPlace=0,e._maxPositionYForShow=0,e._minPositionYForShow=0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this);var e=S.SYMBOL_NUMBERS_IN_REEL+2;this._minPositionYForPlace=-.5*S.SYMBOL_SIZE.height,this._maxPositionYForPlace=S.SYMBOL_SIZE.height*(e-1+.5),this._minPositionYForShow=-.5*S.SYMBOL_SIZE.height,this._maxPositionYForShow=S.SYMBOL_SIZE.height*(S.SYMBOL_NUMBERS_IN_REEL+1-1+.5);for(var i=0;i<e;++i){var n=h(this.symbolPrefab);this._symbolNodes.push(n)}},a.onDestroy=function(){this._symbolNodes.length=0,t.prototype.onDestroy.call(this)},a.reset=function(t,e,i){var n=this;this.stopAllDisplays(),this._gameMode=t,this._isTopReel=e,this._state=F.IDLE,this._spinningIndex=-1,this._spinSpeedType=c.ESpinSpeedType.DEFAULT,this._elapsedTime=0,this._constantSpinningTimeout=0,this._targetSymbolInfosList=null!=i?i:this._targetSymbolInfosList,this._manualStopping=!1;for(var s=S.SYMBOL_NUMBERS_IN_REEL+2-1;s>=0;--s){var o=s-1,a=this._getSymbolInfoFrom(this._targetSymbolInfosList,o),r=o>=0&&o<S.SYMBOL_NUMBERS_IN_REEL,l=this._symbolNodes[s];l.setParent(this._inferSymbolParent(a.id,r)),l.setSiblingIndex(999);var _=l.getComponent(g);_&&(_.info=a)}for(var h=this._symbolNodes.length-1;h>=S.SYMBOL_NUMBERS_IN_REEL+2;--h){var m=this._symbolNodes[h],d=m.getComponent(g);if(!d)return;m.setParent(this._inferSymbolParent(d.info.id,!1))}this._symbolNodes.forEach((function(t,e){t.setPosition(0,S.SYMBOL_SIZE.height*(e-1+.5),0),n._updateSymbolPositionX(t)}))},a.startSpinning=function(t){var e;return this._spinningIndex=-1,this._state===F.IDLE&&(this._gameMode!==c.EGameMode.RESPIN||0===(null==(e=this._targetSymbolInfosList)||null==(e=e[0])?void 0:e.id))&&(this._gameMode!==c.EGameMode.NORMAL&&this._gameMode!==c.EGameMode.FREE||this.index!==S.WILD_REEL_INDEX)&&(this._spinningIndex=t,this._beforeAccelerating(),!0)},a.stopSpinning=function(t,e){if(this._state!==F.ACCELERATING&&this._state!==F.CONSTANT_SPINNING)return 0;if(this.startDisplay(),this._constantSpinningTimeout=e,this._targetSymbolInfosList=t,this._state===F.CONSTANT_SPINNING){var i=this._elapsedTime-this._spinProcessConfig.constant.duration;this._constantSpinningTimeout=Math.max(e,i)}return this._manualStopping&&this._jumpToBouncingInProcessing(),this._constantSpinningTimeout},a.manuallyStop=function(){this._manualStopping||this._spinSpeedType!==c.ESpinSpeedType.DEFAULT||this._state===F.IDLE||this._state===F.BOUNCING_IN||(this._manualStopping=!0,this._jumpToBouncingInProcessing())},a.update=function(t){if(this._state!==F.IDLE){var e=this._elapsedTime;switch(this._elapsedTime+=t,this._state){case F.ACCELERATING:var i,n,s=this._spinProcessConfig.acceleration,o=null!=(i=m[null!=(n=s.easing)?n:"linear"])?i:m.linear,a=0===s.duration?0:o(e/s.duration),r=0===s.duration?1:o(d.clamp01(this._elapsedTime/s.duration)),l=d.lerp(0,s.distance,a),_=d.lerp(0,s.distance,r);if(this._moveSymbols(_-l),this._elapsedTime>=s.duration){var h=this._elapsedTime-s.duration;this._afterAccelerating(),this._beforeConstantSpinning(),h>0&&this.update(h)}break;case F.CONSTANT_SPINNING:var S=this._spinProcessConfig.constant,c=0===S.duration?S.distance:S.distance/S.duration;this._moveSymbols(c*t),this._elapsedTime>=S.duration+this._constantSpinningTimeout&&this._targetSymbolInfosList&&(this._afterConstantSpinning(),this._beforeDecelerating());break;case F.DECELERATING:var u,p,g=this._spinProcessConfig.deceleration,y=null!=(u=m[null!=(p=g.easing)?p:"linear"])?u:m.linear,N=0===g.duration?0:y(e/g.duration),b=0===g.duration?1:y(d.clamp01(this._elapsedTime/g.duration)),f=g.distance>0?Math.floor:Math.ceil,I=.1*f(10*d.lerp(0,g.distance,N)),E=.1*f(10*d.lerp(0,g.distance,b));if(this._moveSymbols(E-I),this._elapsedTime>=g.duration){var L=this._elapsedTime-g.duration;this._afterDecelerating(),this._beforeBouncingOut(),L>0&&this.update(L)}break;case F.BOUNCING_OUT:var T=this._spinProcessConfig.bounce,v=m.sineOut,P=0===T.duration?0:v(e/T.duration),R=0===T.duration?1:v(d.clamp01(this._elapsedTime/T.duration)),M=d.lerp(0,T.distance,P),B=d.lerp(0,T.distance,R);if(this._moveSymbols(B-M),this._elapsedTime>=T.duration){var O=this._elapsedTime-T.duration;this._afterBouncingOut(),this._beforeBouncingIn(),O>0&&this.update(O)}break;case F.BOUNCING_IN:var C=this._spinProcessConfig.bounce,x=m.sineIn,Y=0===C.duration?0:x(e/C.duration),D=0===C.duration?1:x(d.clamp01(this._elapsedTime/C.duration)),A=d.lerp(0,-C.distance,Y),G=d.lerp(0,-C.distance,D);this._moveSymbols(G-A),this._elapsedTime>=C.duration&&this._afterBouncingIn()}}},a._beforeAccelerating=function(){var t,e=this;this.startDisplay(),this._state=F.ACCELERATING,this._spinSpeedType=c.ESpinSpeedType.DEFAULT,this._elapsedTime=0,this._constantSpinningTimeout=0,this._targetSymbolInfosList=null,this._manualStopping=!1;var i=S.SPIN_CONFIGURATION.default;(S.turboSpin||S.quickSpin)&&(this._spinSpeedType=c.ESpinSpeedType.FAST,i=S.SPIN_CONFIGURATION.fast),this._spinProcessConfig=null!=(t=i[this._spinningIndex])?t:i[0],this._symbolNodes.forEach((function(t){t.setParent(e.externalSpinningSymbolsRootNode),e._updateSymbolPositionX(t)}))},a._afterAccelerating=function(){this.endDisplay()},a._beforeConstantSpinning=function(){this._state=F.CONSTANT_SPINNING,this._elapsedTime=0},a._afterConstantSpinning=function(){this._constantSpinningTimeout=0},a._beforeDecelerating=function(){this._state=F.DECELERATING,this._elapsedTime=0;var t=this._spinProcessConfig.deceleration,e=t.distance%S.SYMBOL_SIZE.height;if(this._sortSymbolNodes(),this._symbolNodes.forEach((function(t,e){return t.setPosition(0,S.SYMBOL_SIZE.height*(e-1+.5),0)})),t.distance>0){var i=Math.ceil(t.distance/S.SYMBOL_SIZE.height);if(i<S.SYMBOL_NUMBERS_IN_REEL+1+1){this._currentTargetIndex=i-1;for(var n=0;n<S.SYMBOL_NUMBERS_IN_REEL+1-i+1;++n){var s=this._symbolNodes[n];if(s){var o=this._currentTargetIndex++,a=this._getSymbolInfoFrom(this._targetSymbolInfosList,o),r=this._inferSymbolParent(a.id,!1);s.setParent(r),s.setSiblingIndex(999);var l=s.getComponent(g);l&&(l.info=a)}}}else this._currentTargetIndex=i-1-1;0!==e&&this._moveSymbols(S.SYMBOL_SIZE.height-e)}else if(t.distance<0){var _=Math.ceil(-t.distance/S.SYMBOL_SIZE.height);if(_<S.SYMBOL_NUMBERS_IN_REEL+1+1){this._currentTargetIndex=-1;for(var h=_+1-1;h<S.SYMBOL_NUMBERS_IN_REEL+2;++h){var m=this._symbolNodes[h];if(m){var d=this._currentTargetIndex++,c=this._getSymbolInfoFrom(this._targetSymbolInfosList,d),u=this._inferSymbolParent(c.id,!1);m.setParent(u),m.setSiblingIndex(0);var p=m.getComponent(g);p&&(p.info=c)}}}else this._currentTargetIndex=S.SYMBOL_NUMBERS_IN_REEL+1-_;0!==e&&this._moveSymbols(-S.SYMBOL_SIZE.height-e)}else for(var y=S.SYMBOL_NUMBERS_IN_REEL+1;y>=0;--y){var N=y-1,b=this._getSymbolInfoFrom(this._targetSymbolInfosList,N),f=this._symbolNodes[y];f.setParent(this._inferSymbolParent(b.id,!1)),f.setSiblingIndex(999);var I=f.getComponent(g);I&&(I.info=b)}},a._afterDecelerating=function(){this.endDisplay()},a._beforeBouncingOut=function(){this.startDisplay(),this._state=F.BOUNCING_OUT,this._elapsedTime=0},a._afterBouncingOut=function(){},a._beforeBouncingIn=function(){this._state=F.BOUNCING_IN,this._elapsedTime=0},a._afterBouncingIn=function(){var t;this._state=F.IDLE,this._elapsedTime=0,this._sortSymbolNodes();for(var e=S.SYMBOL_SIZE.height*S.SYMBOL_NUMBERS_IN_REEL,i=this._symbolNodes.length-1;i>=0;--i){var n,s,o=this._symbolNodes[i];if(!(o.position.y<=0||o.position.y>=e)){var a=null!=(n=null==(s=o.getComponent(g))?void 0:s.info.id)?n:0;o.setParent(this._inferSymbolParent(a,!0)),this._updateSymbolPositionX(o),(this._spinSpeedType===c.ESpinSpeedType.FAST||this._manualStopping)&&o.setSiblingIndex(this._columnIndex)}}this.endDisplay(),u.runTask("reelStop",{row:this._rowIndex,column:this._columnIndex,spinningIndex:this._spinningIndex,isTopReel:this._isTopReel,spinSpeedType:this._spinSpeedType,manualStop:this._manualStopping,symbolsList:null!=(t=this._targetSymbolInfosList)?t:[]})},a._jumpToBouncingInProcessing=function(){if(this._targetSymbolInfosList){this._sortSymbolNodes();for(var t=this._symbolNodes.length-1;t>=0;--t){var e=t-1,i=this._getSymbolInfoFrom(this._targetSymbolInfosList,e),n=this._symbolNodes[t];n.setParent(this._inferSymbolParent(i.id,!1)),n.setPosition(0,S.SYMBOL_SIZE.height*(e+.5),0),n.setSiblingIndex(999);var s=n.getComponent(g);s&&(s.info=i)}this._moveSymbols(this._spinProcessConfig.bounce.distance),this._beforeBouncingIn()}},a._moveSymbols=function(t){var e=this;if(!(0===t||this._symbolNodes.length<=0)){var i;if(t>0){for(var n=this._symbolNodes.length-1,s=0;s<this._symbolNodes.length&&!(this._symbolNodes[s].position.y>=this._minPositionYForShow);++s)n=s;var o=-this._clampInCycle(this._symbolNodes[n].position.y-.5*S.SYMBOL_SIZE.height,-S.SYMBOL_SIZE.height,0),a=0===o?Math.floor(t/S.SYMBOL_SIZE.height):Math.floor(1+(t-o)/S.SYMBOL_SIZE.height);if(a>0){if(a>this._symbolNodes.length){var r=a%this._symbolNodes.length-n-1;i=r>0?this._symbolNodes.slice(this._symbolNodes.length-r,this._symbolNodes.length).concat(this._symbolNodes.slice(0,this._symbolNodes.length-r)).reverse():this._symbolNodes.slice(-r,this._symbolNodes.length).concat(this._symbolNodes.slice(0,-r)).reverse(),this._state===F.DECELERATING&&(this._currentTargetIndex-=a-this._symbolNodes.length)}else{var l=a-n-1;i=l>0?this._symbolNodes.slice(this._symbolNodes.length-l,this._symbolNodes.length).slice(0,n+1).reverse():this._symbolNodes.slice(-l,n+1).reverse()}i.forEach((function(t){var i=e._state===F.DECELERATING?e._currentTargetIndex--:999,n=e._getSymbolInfoFrom(e._targetSymbolInfosList,i);t.setParent(e._inferSymbolParent(n.id,!1)),t.setSiblingIndex(999);var s=t.getComponent(g);s&&(s.info=n)}))}}else{for(var _=0,h=this._symbolNodes.length-1;h>=0&&!(this._symbolNodes[h].position.y<=this._maxPositionYForShow);--h)_=h;var m=-this._clampInCycle(this._symbolNodes[_].position.y-.5*S.SYMBOL_SIZE.height,0,S.SYMBOL_SIZE.height),d=0===m?Math.floor(-t/S.SYMBOL_SIZE.height):Math.floor(1+(m-t)/S.SYMBOL_SIZE.height);if(d>0){if(d>this._symbolNodes.length){var c=d%this._symbolNodes.length,u=_+c-this._symbolNodes.length;i=u>0?this._symbolNodes.slice(u,_).concat(this._symbolNodes.slice(_,this._symbolNodes.length)).concat(this._symbolNodes.slice(0,u)):this._symbolNodes.slice(_+c,this._symbolNodes.length).concat(this._symbolNodes.slice(0,_+c)),this._state===F.DECELERATING&&(this._currentTargetIndex+=d-this._symbolNodes.length)}else{var p=_+d-this._symbolNodes.length;i=p>0?this._symbolNodes.slice(_,this._symbolNodes.length).concat(this._symbolNodes.slice(0,p)):this._symbolNodes.slice(_,_+d)}i.forEach((function(t){var i=e._state===F.DECELERATING?e._currentTargetIndex++:-999,n=e._getSymbolInfoFrom(e._targetSymbolInfosList,i);t.setParent(e._inferSymbolParent(n.id,!1)),t.setSiblingIndex(0);var s=t.getComponent(g);s&&(s.info=n)}))}}var y=!1;this._symbolNodes.forEach((function(i){var n=i.position.y+t;(n<e._minPositionYForPlace||n>=e._maxPositionYForPlace)&&(y=!0,n=e._clampInCycle(n,e._minPositionYForPlace,e._maxPositionYForPlace)),i.setPosition(0,n,0)})),y&&this._sortSymbolNodes()}},a._sortSymbolNodes=function(){this._symbolNodes.sort((function(t,e){return t.position.y-e.position.y}))},a._clampInCycle=function(t,e,i){if(e===i)return t;var n=e,s=i;e>i&&(n=i,s=e);var o=s-n;return n+((t-n)%o+o)%o},a._inferSymbolParent=function(t,e){return e?S.isScatterSymbol(t)?this.externalShowingScatterSymbolsRootNode:S.isLavaSymbol(t)?this.externalShowingLavaSymbolsRootNode:this.externalShowingNormalSymbolsRootNode:this.externalSpinningSymbolsRootNode},a._getSymbolInfoFrom=function(t,e){var i;return this._state===F.BOUNCING_IN||-1===e||e===S.SYMBOL_NUMBERS_IN_REEL?S.generateRandomSymbol(this._gameMode,this._isTopReel,!0):null!=(i=null==t?void 0:t[e])?i:S.generateRandomSymbol(this._gameMode,this._isTopReel,!1)},a._updateSymbolPositionX=function(t){t.getParent()===this.externalSpinningSymbolsRootNode?t.setPosition(0,t.position.y,0):t.setPosition((S.SYMBOL_SIZE.width+S.REEL_SPACING.width)*(this._columnIndex-.5*S.REELS_COLUMN_NUMBER+.5),t.position.y,0)},o(e,[{key:"index",get:function(){return this._columnIndex*S.REELS_NUMBER_PER_COLUMN+this._rowIndex}},{key:"rowIndex",get:function(){return this._rowIndex}},{key:"columnIndex",get:function(){return this._columnIndex}},{key:"spinningIndex",get:function(){return this._spinningIndex}}]),e}(p)).prototype,"symbolPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(R.prototype,"externalSpinningSymbolsRootNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(R.prototype,"externalShowingNormalSymbolsRootNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(R.prototype,"externalShowingLavaSymbolsRootNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(R.prototype,"externalShowingScatterSymbolsRootNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(R.prototype,"_rowIndex",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),D=e(R.prototype,"_columnIndex",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),P=R))||P)||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/RespinFooterLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberRoller.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./AudioHelper6.ts"],(function(e){var t,i,n,o,r,l,a,s,u,c,h,p,m,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.Node,s=e.sp,u=e.Label},function(e){c=e.NumberRoller},function(e){h=e.SubGameData},function(e){p=e.common},function(e){m=e.DisplayTaskManager,b=e.Display},function(e){d=e.AudioHelper}],execute:function(){var g,f,y,T,S,R,k,L,_,N,v,D,A,E;r._RF.push({},"18ab2u+kqNCHbi35uIDcEKd","RespinFooterLayer",void 0);var G=l.ccclass,z=l.menu,w=l.property;e("RespinFooterLayer",(g=G("RespinFooterLayer"),f=z(h.module+"/layers/RespinFooterLayer"),y=w(a),T=w(c),S=w(s.Skeleton),R=w(u),k=w(u),g(L=f((N=t((_=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"placeholderNode",N,o(t)),n(t,"scoreNumberRoller",v,o(t)),n(t,"highlightSkeleton",D,o(t)),n(t,"currentTimesLabel",A,o(t)),n(t,"totalTimesLabel",E,o(t)),t._currentTimes=0,t._totalTimes=0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),m.addHandler(this),this.highlightSkeleton.setCompleteListener(this._onHighlightSkeletonAnimationComplete.bind(this))},r.onTaskInitialize=function(e,t){this.stopAllDisplays(),this.node.active=!1,this.scoreNumberRoller.stopRollingAndShowNumber(0)},r.onTaskSpinStart=function(e,t){this.node.active&&(this.currentTimesLabel.string=""+ ++this._currentTimes)},r.onTaskRespinGameTrigger=function(e,t){this._currentTimes=0,this._totalTimes=t.spinsNumber},r.onTaskRespinGameSettle=function(e,t){var i=this;this.startDisplay(),this.placeholderNode.active=!1,this.scoreNumberRoller.node.parent.active=!0,this.scoreNumberRoller.startRolling(0,t.score,.35,(function(){return i.endDisplay()})),this.highlightSkeleton.enabled=!0,this.highlightSkeleton.clearTracks(),this.highlightSkeleton.setAnimation(0,"animation",!1),d.instance.playSoundEffect(h.AUDIO_URLS.SE_RESPIN_GAME_SETTLE)},r.onTaskChangeGame=function(e,t){t.nextGameMode===p.EGameMode.RESPIN?(this.node.active=!0,this.placeholderNode.active=!0,this.scoreNumberRoller.node.parent.active=!1,this.highlightSkeleton.enabled=!1,this.currentTimesLabel.string=""+this._currentTimes,this.totalTimesLabel.string=""+this._totalTimes):(this.node.active=!1,this._currentTimes=0,this._totalTimes=0)},r._onHighlightSkeletonAnimationComplete=function(e){this.highlightSkeleton.enabled=!1},t}(b)).prototype,"placeholderNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(_.prototype,"scoreNumberRoller",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(_.prototype,"highlightSkeleton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(_.prototype,"currentTimesLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(_.prototype,"totalTimesLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=_))||L)||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/RespinPopupLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberRoller.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./CountdownableButton2.ts","./AudioHelper6.ts"],(function(t){var i,e,o,n,s,a,l,p,r,u,c,h,S,y,_,b,T,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,l=t.Node,p=t.sp,r=t.UIOpacity,u=t.Tween,c=t.tween},function(t){h=t.NumberRoller},function(t){S=t.SubGameData},function(t){y=t.common},function(t){_=t.DisplayTaskManager,b=t.Display},function(t){T=t.CountdownableButton},function(t){m=t.AudioHelper}],execute:function(){var d,E,f,I,O,N,k,A,R,U,D,L,P,G,H,v,M,g;s._RF.push({},"7ba99I/7G9CV4of/bOVG9yP","RespinPopupLayer",void 0);var B=a.ccclass,w=a.menu,C=a.property,W=function(t){return t[t.START=1]="START",t[t.SETTLE=2]="SETTLE",t}(W||{}),z=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t[t.SHOWN=2]="SHOWN",t[t.HIDING=3]="HIDING",t}(z||{});t("RespinPopupLayer",(d=B("RespinPopupLayer"),E=w(S.module+"/layers/RespinPopupLayer"),f=C(l),I=C(p.Skeleton),O=C(p.Skeleton),N=C(h),k=C(r),A=C(T),R=C(r),d(U=E((L=i((D=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,o(i,"inputBlockerNode",L,n(i)),o(i,"popupSkeleton",P,n(i)),o(i,"transitionSkeleton",G,n(i)),o(i,"scoreNumberRoller",H,n(i)),o(i,"scoreUIOpacity",v,n(i)),o(i,"button",M,n(i)),o(i,"buttonUIOpacity",g,n(i)),i._type=W.START,i._state=z.HIDDEN,i._score=0,i._previousGameMode=y.EGameMode.NORMAL,i._initialTopSymbolsList=void 0,i._initialBottomSymbolsList=void 0,i}e(i,t);var s=i.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),_.addHandler(this),this.inputBlockerNode.on(l.EventType.TOUCH_END,this._onTouchEnd,this),this.popupSkeleton.setCompleteListener(this._onPopupSkeletonAnimationComplete.bind(this))},s.onDestroy=function(){this.isValid&&this.inputBlockerNode.isValid&&this.inputBlockerNode.off(l.EventType.TOUCH_END,this._onTouchEnd,this),t.prototype.onDestroy.call(this)},s.onTaskInitialize=function(t,i){this.stopAllDisplays(),this._state=z.HIDDEN,this.node.active=!1,this.button.stopCountdown()},s.onTaskRespinGameTransit=function(t,i){this._previousGameMode=i.previousGameMode,this._initialTopSymbolsList=i.initialTopSymbolsList,this._initialBottomSymbolsList=i.initialBottomSymbolsList,"enter"===i.type?(this._type=W.START,this._show(0)):(this._type=W.SETTLE,this._show(i.score))},s.onButtonClick=function(){this._hide(),m.instance.playSoundEffect(S.AUDIO_URLS.SE_COMMON_BUTTON_CLICK)},s._show=function(t){var i=this;this.stopAllDisplays(),this.startDisplay(),this._state=z.SHOWING,this._score=t,this.node.active=!0,u.stopAllByTarget(this.popupSkeleton),this.popupSkeleton.enabled=!1,u.stopAllByTarget(this.scoreUIOpacity),this.scoreUIOpacity.opacity=0,u.stopAllByTarget(this.buttonUIOpacity),this.buttonUIOpacity.opacity=0,this.button.interactable=!1,this.button.stopCountdown(),c(this.popupSkeleton).delay(.03).call((function(){i.popupSkeleton.enabled=!0,i.popupSkeleton.clearTracks(),i.popupSkeleton.setAnimation(0,"animation"+i._type+"_"+i._state,!1),m.instance.playSoundEffect(i._type===W.SETTLE?S.AUDIO_URLS.SE_RESPIN_GAME_SETTLEMENT_POPUP_SHOW:S.AUDIO_URLS.SE_RESPIN_GAME_START_POPUP_SHOW)})).delay(.56).call((function(){i._type===W.SETTLE&&(i.scoreUIOpacity.opacity=255,i.scoreNumberRoller.startRolling(0,t,2),i.buttonUIOpacity.opacity=255,i.button.interactable=!0)})).start(),this.transitionSkeleton.enabled=!0,this.transitionSkeleton.clearTracks(),this.transitionSkeleton.setAnimation(0,"animation1",!1),this.transitionSkeleton.addAnimation(0,"animation2",!0),m.instance.playSoundEffect(S.AUDIO_URLS.SE_RESPIN_GAME_START_POPUP_TRANSIT)},s._hide=function(){var t=this;this._state===z.SHOWN&&(this._state=z.HIDING,u.stopAllByTarget(this.popupSkeleton),this.popupSkeleton.clearTracks(),this.popupSkeleton.setAnimation(0,"animation"+this._type+"_"+this._state,!1),c(this.popupSkeleton).delay(.333333).call((function(){var i=t._previousGameMode,e=y.EGameMode.RESPIN;t._type===W.SETTLE&&(i=y.EGameMode.RESPIN,e=t._previousGameMode),_.runTask("changeGame",{previousGameMode:i,nextGameMode:e,initialTopSymbolsList:t._initialTopSymbolsList,initialBottomSymbolsList:t._initialBottomSymbolsList})})).start(),this.transitionSkeleton.clearTracks(),this.transitionSkeleton.setAnimation(0,"animation3",!1),this._type===W.SETTLE&&this.scoreNumberRoller.stopRollingAndShowNumber(this._score),u.stopAllByTarget(this.scoreUIOpacity),this.scoreUIOpacity.opacity>0&&c(this.scoreUIOpacity).to(.7,{opacity:0}).start(),u.stopAllByTarget(this.buttonUIOpacity),this.buttonUIOpacity.opacity>0&&(this.button.interactable=!1,this.button.stopCountdown(),c(this.buttonUIOpacity).to(.7,{opacity:0}).start()),m.instance.stopEffect(S.AUDIO_URLS.SE_RESPIN_GAME_START_POPUP_SHOW),m.instance.stopEffect(S.AUDIO_URLS.SE_RESPIN_GAME_SETTLEMENT_POPUP_SHOW),m.instance.playSoundEffect(S.AUDIO_URLS.SE_COMMON_POPUP_HIDE))},s._onTouchEnd=function(){this._type===W.START&&this.onButtonClick()},s._onPopupSkeletonAnimationComplete=function(t){var i=this,e=t.animation.name.split("_");e.length<2||(e[1]===""+z.SHOWING?(this._state=z.SHOWN,this.popupSkeleton.clearTracks(),this.popupSkeleton.setAnimation(0,"animation"+this._type+"_"+this._state,!0),this.button.interactable=!0,this.button.startCountdown(4,(function(){return i._hide()}))):e[1]===""+z.HIDING&&(this._state=z.HIDDEN,this.node.active=!1,this.button.stopCountdown(),this.endDisplay()))},i}(b)).prototype,"inputBlockerNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(D.prototype,"popupSkeleton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(D.prototype,"transitionSkeleton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(D.prototype,"scoreNumberRoller",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(D.prototype,"scoreUIOpacity",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(D.prototype,"button",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i(D.prototype,"buttonUIOpacity",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=D))||U)||U));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoomLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./EventComponent.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./Portrait.ts","./AudioHelper6.ts"],(function(t){var n,i,o,a,e,r,s,u,c,l,p,f,m,d,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){e=t.cclegacy,r=t._decorator,s=t.Animation,u=t.Label},function(t){c=t.Global},function(t){l=t.default},function(t){p=t.SubGameData},function(t){f=t.common},function(t){m=t.DisplayTaskManager},function(t){d=t.Portrait},function(t){h=t.AudioHelper}],execute:function(){var y,L,b,g,_,D,S,k,v,I;e._RF.push({},"346d8i5ZCBP+6+Y2p3Idyqb","RoomLayer",void 0);var R=r.ccclass,T=r.menu,G=r.property;t("RoomLayer",(y=R("RoomLayer"),L=T(p.module+"/layers/RoomLayer"),b=G(s),g=G(u),_=G([d]),y(D=L((k=n((S=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return n=t.call.apply(t,[this].concat(e))||this,o(n,"animation",k,a(n)),o(n,"roomIDLabel",v,a(n)),o(n,"roomPortraitsList",I,a(n)),n._spinning=!1,n}i(n,t);var e=n.prototype;return e.onLoad=function(){t.prototype.onLoad.call(this),m.addHandler(this)},e.onTaskInitialize=function(t,n){this._spinning=n.gameMode!==f.EGameMode.NORMAL,this._updateLayout(n.gameMode),this.roomIDLabel.string=""+n.roomID,this._updateSeats(n.seatsList)},e.onTaskSpinStart=function(t,n){this._spinning=!0},e.onTaskUpdateSeats=function(t,n){this._updateSeats(n.seatsList)},e.onTaskBonusGameTrigger=function(t,n){this._spinning=!0},e.onTaskRoundEnd=function(t,n){this._spinning=!1},e.onTaskChangeRoom=function(t,n){this.roomIDLabel.string=""+n.roomID,this._updateSeats(n.seatsList)},e.onTaskChangeGame=function(t,n){this._updateLayout(n.nextGameMode)},e.onButtonClick=function(){h.instance.playSoundEffect(p.AUDIO_URLS.SE_COMMON_BUTTON_CLICK),this._spinning||c.playback||m.runTask("changeRoomPopup",null)},e._updateSeats=function(t){this.roomPortraitsList.forEach((function(n,i){var o;n.info=null!=(o=t[i])?o:{uid:"",avatarID:0,score:0}}))},e._updateLayout=function(t){switch(t){case f.EGameMode.RESPIN:this.node.active=!0,this.animation.play("respin");break;case f.EGameMode.BONUS:this.node.active=!1;break;default:this.node.active=!0,this.animation.play("default")}},n}(l)).prototype,"animation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(S.prototype,"roomIDLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(S.prototype,"roomPortraitsList",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=S))||D)||D));e._RF.pop()}}}));

System.register("chunks:///_virtual/ScatterAnimationLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./AnimatedSymbol4.ts","./AudioHelper6.ts","./AnimatedSymbolNodePool4.ts"],(function(n){var t,e,i,o,a,c,s,r,l,E,S,_;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,o=n.math,a=n.v3},function(n){c=n.SubGameData},function(n){s=n.common},function(n){r=n.DisplayTaskManager,l=n.Display},function(n){E=n.AnimatedSymbol},function(n){S=n.AudioHelper},function(n){_=n.AnimatedSymbolNodePool}],execute:function(){var f;e._RF.push({},"a8420zavfZA2ZH2U0JWl7fK","ScatterAnimationLayer",void 0);var p=i.ccclass,u=i.menu,d=(i.property,[c.AUDIO_URLS.SE_FEATURE_TRIGGER_SPEECH_1,c.AUDIO_URLS.SE_FEATURE_TRIGGER_SPEECH_2,c.AUDIO_URLS.SE_FEATURE_TRIGGER_SPEECH_3]);n("ScatterAnimationLayer",p("ScatterAnimationLayer")(f=u(c.module+"/layers/ScatterAnimationLayer")(f=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this)._cachedPosition=a(),t._playedSoundEffectFlagsMap=new Map,t}t(e,n);var i=e.prototype;return i.onLoad=function(){n.prototype.onLoad.call(this),r.addHandler(this)},i.onTaskInitialize=function(n,t){this._playedSoundEffectFlagsMap.forEach((function(n){return n.clear()})),this._clearAllAnimations()},i.onTaskSpinStart=function(n,t){this._playedSoundEffectFlagsMap.forEach((function(n){return n.clear()})),this._clearAllAnimations()},i.onTaskSpinEnd=function(n,t){var e=0,i=0;this.node.children.forEach((function(n){var t,o=null==(t=n.getComponent(E))?void 0:t.info.id;12===o?++e:13===o&&++i})),(e>=3||i>=3)&&S.instance.playSoundEffect(d[o.randomRangeInt(0,d.length)])},i.onTaskFreeGameTrigger=function(n,t){var e=this,i=!1;this.node.children.forEach((function(n){var t=n.getComponent(E);12===t.info.id&&(e.startDisplay(),console.log("text001"),t.play("win",!1,(function(n){n.play("highlight",!1),e.endDisplay()})),i=!0)})),i&&(S.instance.playSoundEffect(c.AUDIO_URLS.SE_SCATTER_FEVER),S.instance.playSoundEffect(c.AUDIO_URLS.SE_FREE_GAME_TRIGGER))},i.onTaskSpotTrigger=function(n,t){var e=this,i=!1;this.node.children.forEach((function(n){var t=n.getComponent(E);13===t.info.id&&(e.startDisplay(),t.play("win",!1,(function(n){n.play("highlight",!1),e.endDisplay()})),i=!0)})),i&&S.instance.playSoundEffect(c.AUDIO_URLS.SE_HOT_VOLCANO_FEVER)},i.onTaskReelStop=function(n,t){var e,i=t.symbolsList[0];if(i&&c.isScatterSymbol(i.id)){var o=_.instance.pop();if(o){o.setPosition(this._getPositionForReelIndex(t.column,t.row)),o.setParent(this.node);var a=o.getComponent(E);a.info=i,a.play("appear",!1,(function(n){return n.play("highlight",!0)}));var r=t.spinningIndex;(t.spinSpeedType===s.ESpinSpeedType.FAST||t.manualStop)&&(r=-1);var l=null!=(e=this._playedSoundEffectFlagsMap.get(r))?e:new Map;this._playedSoundEffectFlagsMap.set(r,l),12===i.id?l.get(c.AUDIO_URLS.SE_SCATTER_APPEAR)||(l.set(c.AUDIO_URLS.SE_SCATTER_APPEAR,!0),S.instance.playOneShotSoundEffect(c.AUDIO_URLS.SE_LAVA_APPEAR)):13===i.id&&(l.get(c.AUDIO_URLS.SE_HOT_VOLCANO_APPEAR)||(l.set(c.AUDIO_URLS.SE_HOT_VOLCANO_APPEAR,!0),S.instance.playOneShotSoundEffect(c.AUDIO_URLS.SE_LAVA_APPEAR)))}}},i._getPositionForReelIndex=function(n,t){return this._cachedPosition.x=(c.SYMBOL_SIZE.width+c.REEL_SPACING.width)*(n-.5*c.REELS_COLUMN_NUMBER+.5),this._cachedPosition.y=(c.SYMBOL_SIZE.height+c.REEL_SPACING.height)*(.5*c.REELS_NUMBER_PER_COLUMN-t-.5),this._cachedPosition.z=0,this._cachedPosition},i._clearAllAnimations=function(){this.node.children.slice().forEach((function(n){return _.instance.push(n)}))},e}(l))||f)||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenHelper9.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(e){var r,n,t,i;return{setters:[function(e){r=e.createClass},function(e){n=e.cclegacy,t=e.size},function(e){i=e.Global}],execute:function(){n._RF.push({},"ba253JLi6BG3I3DWQDh7DMJ","ScreenHelper",void 0),e("ScreenHelper",function(){function e(){}return r(e,null,[{key:"renderSize",get:function(){return"portrait"===App.utils.getOrientation()?this._renderSize.set(Math.min(i.real_screen_width,i.background_height),Math.min(i.real_screen_height,i.background_width)):this._renderSize.set(Math.min(i.real_screen_width,i.background_width),Math.min(i.real_screen_height,i.background_height)),this._renderSize}}]),e}())._renderSize=t(0,0),n._RF.pop()}}}));

System.register("chunks:///_virtual/slot390000022",["./BigWinDefines8.ts","./BigWinLayer16.ts","./GamePlay9.ts","./PageChange9.ts","./GameEntry27.ts","./GameLogic27.ts","./AutoFittableBackground6.ts","./DebugVersion6.ts","./ExBannerContentProvider12.ts","./LoadingInputBlocker4.ts","./Sticker7.ts","./SubGameData27.ts","./SubGameDefines27.ts","./SubGameLanguage27.ts","./Defines6.ts","./Display6.ts","./AnimatedSymbol4.ts","./BingoReelsBackground.ts","./BonusSymbol.ts","./CountdownableButton2.ts","./Flower.ts","./Jackpot7.ts","./LavaBonus.ts","./Portrait.ts","./Symbol6.ts","./SymbolHighlight.ts","./AudioHelper6.ts","./LoadingHelper6.ts","./ScreenHelper9.ts","./BackgroundLayer6.ts","./BigWinControllerLayer6.ts","./BingoAnimationLayer.ts","./BonusBodyLayer.ts","./BonusFooterLayer.ts","./BonusHeaderLayer.ts","./BonusReelLayer.ts","./BonusResultLayer.ts","./BonusSettleLayer.ts","./BonusSlotEffectLayer.ts","./BonusSlotLayer.ts","./BonusStartLayer.ts","./ControllerLayer6.ts","./FrameLayer2.ts","./FreeGamePopupLayer2.ts","./FreeTimesLayer4.ts","./JackpotWinningLayer2.ts","./JackpotsLayer2.ts","./MessageBoxLayer.ts","./PaylineAnimationLayer.ts","./ReelLayer6.ts","./RespinFooterLayer.ts","./RespinPopupLayer.ts","./RoomLayer.ts","./ScatterAnimationLayer2.ts","./SlotLayer6.ts","./SpotWinLayer.ts","./SpotsLayer.ts","./GameHandler27.ts","./GameSender27.ts","./Protocol28.ts","./AnimatedSymbolNodePool4.ts","./BonusSymbolNodePool.ts","./FlowerNodePool.ts","./LavaBonusNodePool.ts","./SymbolHighlightNodePool.ts","./SymbolNodePool6.ts","./BaseView6.ts","./IntroView6.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SlotLayer6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./AudioHelper6.ts","./ReelLayer6.ts"],(function(e){var t,o,n,i,s,a,l,r,p,u,h,c,d,m,R,y,_,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,l=e.Animation,r=e.Node,p=e.sp,u=e.Tween,h=e.tween},function(e){c=e.CommonEvent},function(e){d=e.SubGameData},function(e){m=e.common},function(e){R=e.DisplayTaskManager,y=e.Display},function(e){_=e.AudioHelper},function(e){f=e.ReelLayer}],execute:function(){var S,L,E,g,b,T,M,N,v,k,A,D,I,O,C,U;s._RF.push({},"92768Srk4hLkaYVFvr3sI+S","SlotLayer",void 0);var B=a.ccclass,G=a.menu,F=a.property,P="animation1_1",w="animation1_3";e("SlotLayer",(S=B("SlotLayer"),L=G(d.module+"/layers/SlotLayer"),E=F(l),g=F(r),b=F(r),T=F(r),M=F(r),N=F(p.Skeleton),S(v=L((A=t((k=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(t,"animation",A,i(t)),n(t,"topReelsRootNode",D,i(t)),n(t,"bottomReelsRootNode",I,i(t)),n(t,"topReelLayersRootNode",O,i(t)),n(t,"bottomReelLayersRootNode",C,i(t)),n(t,"bingoSkeleton",U,i(t)),t._topReelLayersList=[],t._bottomReelLayersList=[],t._gameMode=m.EGameMode.NORMAL,t._playedSoundEffectFlagsMap=new Map,t}o(t,e);var s=t.prototype;return s.onLoad=function(){var t=this;e.prototype.onLoad.call(this),R.addHandler(this),this.topReelsRootNode.on(r.EventType.TOUCH_END,this._onSlotTouchEnd,this),this.bottomReelsRootNode.on(r.EventType.TOUCH_END,this._onSlotTouchEnd,this),this.bingoSkeleton.setCompleteListener(this._onBingoSkeletonAnimationComplete.bind(this)),this._topReelLayersList.length=0,this._bottomReelLayersList.length=0,this.topReelLayersRootNode.children.forEach((function(e){return t._topReelLayersList.push(e.getComponent(f))})),this.bottomReelLayersRootNode.children.forEach((function(e){return t._bottomReelLayersList.push(e.getComponent(f))}))},s.onDestroy=function(){this.topReelsRootNode.isValid&&this.topReelsRootNode.off(r.EventType.TOUCH_END,this._onSlotTouchEnd,this),this.bottomReelsRootNode.isValid&&this.bottomReelsRootNode.off(r.EventType.TOUCH_END,this._onSlotTouchEnd,this),e.prototype.onDestroy.call(this)},s.onTaskInitialize=function(e,t){this.stopAllDisplays(),this._gameMode=t.gameMode,this._playedSoundEffectFlagsMap.forEach((function(e){return e.clear()})),u.stopAllByTarget(this),this._updateLayout(t.gameMode),this._resetReels(this._topReelLayersList,!0,t.topSymbolsList),this._resetReels(this._bottomReelLayersList,!1,t.bottomSymbolsList),this.bingoSkeleton.node.active=!1,u.stopAllByTarget(this.bingoSkeleton.node)},s.onTaskSpinStart=function(e,t){var o;(this._playedSoundEffectFlagsMap.forEach((function(e){return e.clear()})),t.spinType===m.ESpinType.FREE)&&(null==(o=d.spinRequestor)||o.request(m.ESpinRequestType.FREE_SPIN));var n=0;this._gameMode!==m.EGameMode.NORMAL&&this._gameMode!==m.EGameMode.FREE&&this._gameMode!==m.EGameMode.RESPIN||(this._gameMode===m.EGameMode.RESPIN&&(n=this._startReels(this._topReelLayersList,n)),this._startReels(this._bottomReelLayersList,n))},s.onTaskSpinStop=function(e,t){this._stopReels(this._topReelLayersList,!0,t.topSymbolsList),this._stopReels(this._bottomReelLayersList,!1,t.bottomSymbolsList)},s.onTaskCollectLavas=function(e,t){var o=this;u.stopAllByTarget(this),h(this).delay(.5).call((function(){return o._resetReels(o._topReelLayersList,!0,t.topSymbolsList)})).start()},s.onTaskBingoTransit=function(e,t){this.startDisplay(),this.bingoSkeleton.node.active=!0,u.stopAllByTarget(this.bingoSkeleton.node),this.bingoSkeleton.clearTracks(),this.bingoSkeleton.setAnimation(0,P,!1),_.instance.playSoundEffect(d.AUDIO_URLS.SE_BINGO_TRANSIT)},s.onTaskBingoReset=function(e,t){var o=this;u.stopAllByTarget(this),h(this).delay(.35).call((function(){return o._resetReels(o._topReelLayersList,!0,t.topSymbolsList)})).start()},s.onTaskChangeBet=function(e,t){this._resetReels(this._topReelLayersList,!0,t.topSymbolsList)},s.onTaskChangeGame=function(e,t){this._gameMode=t.nextGameMode,this._updateLayout(t.nextGameMode),this._resetReels(this._topReelLayersList,!0,t.initialTopSymbolsList),this._resetReels(this._bottomReelLayersList,!1,t.initialBottomSymbolsList)},s.onTaskManualStop=function(e,t){this._topReelLayersList.forEach((function(e){return e.manuallyStop()})),this._bottomReelLayersList.forEach((function(e){return e.manuallyStop()}))},s.onTaskReelStop=function(e,t){var o,n=t.spinningIndex;(t.spinSpeedType===m.ESpinSpeedType.FAST||t.manualStop)&&(n=-1);var i=null!=(o=this._playedSoundEffectFlagsMap.get(n))?o:new Map;this._playedSoundEffectFlagsMap.set(n,i),i.get(d.AUDIO_URLS.SE_REEL_STOP)||(i.set(d.AUDIO_URLS.SE_REEL_STOP,!0),_.instance.playOneShotSoundEffect(d.AUDIO_URLS.SE_REEL_STOP))},s._updateLayout=function(e){switch(e){case m.EGameMode.RESPIN:this.node.active=!0,this.animation.play("respin");break;case m.EGameMode.BONUS:this.node.active=!1;break;default:this.node.active=!0,this.animation.play("default")}},s._getTargetSymbolInfosList=function(e,t,o){var n=[];if(t!==d.WILD_REEL_INDEX||this._gameMode!==m.EGameMode.NORMAL&&this._gameMode!==m.EGameMode.FREE){var i=e[t];i&&n.push(i)}else n.push(o?{id:102,score:0}:{id:101,score:0});return n},s._resetReels=function(e,t,o){var n=this;null==o?e.forEach((function(e){return e.reset(n._gameMode,t)})):e.forEach((function(e){var i=n._getTargetSymbolInfosList(o,e.index,t);e.reset(n._gameMode,t,i)}))},s._startReels=function(e,t){for(var o=!1,n=0;n<d.REELS_COLUMN_NUMBER;++n){o=!1;for(var i=0;i<d.REELS_NUMBER_PER_COLUMN;++i){var s=e[n*d.REELS_NUMBER_PER_COLUMN+i];if(s){var a=s.startSpinning(t);o||(o=a)}}o&&++t}return t},s._stopReels=function(e,t,o){var n=this,i=0;e.forEach((function(e){var s=n._getTargetSymbolInfosList(o,e.index,t);i=Math.max(i,e.stopSpinning(s,i))}))},s._onSlotTouchEnd=function(e){e.target!==this.bottomReelsRootNode&&this._gameMode!==m.EGameMode.RESPIN||dispatch(c.NOTIFY_CLICK_SPIN)},s._onBingoSkeletonAnimationComplete=function(e){var t=this;e.animation.name===P?(u.stopAllByTarget(this.bingoSkeleton.node),h(this.bingoSkeleton.node).delay(.45).call((function(){t.bingoSkeleton.clearTracks(),t.bingoSkeleton.setAnimation(0,w,!1)})).start(),this.bingoSkeleton.clearTracks(),this.bingoSkeleton.setAnimation(0,"animation1_2",!0)):e.animation.name===w&&(this.bingoSkeleton.node.active=!1,this.endDisplay())},t}(y)).prototype,"animation",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(k.prototype,"topReelsRootNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(k.prototype,"bottomReelsRootNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(k.prototype,"topReelLayersRootNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(k.prototype,"bottomReelLayersRootNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(k.prototype,"bingoSkeleton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=k))||v)||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/SpotsLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./SubGameDefines27.ts","./Display6.ts","./Portrait.ts","./AudioHelper6.ts"],(function(t){var e,i,o,s,a,r,n,l,p,u,c,h,S,m,d,f,b,g,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,n=t.ScrollView,l=t.Node,p=t.Label,u=t.Sprite,c=t.sp,h=t.v2,S=t.UITransform},function(t){m=t.SubGameData},function(t){d=t.common},function(t){f=t.DisplayTaskManager,b=t.Display},function(t){g=t.Portrait},function(t){L=t.AudioHelper}],execute:function(){var T,y,_,k,P,x,N,v,G,M,D,E,R,A,F,H,w,z;a._RF.push({},"6f94cWDABxGm4156FrylJxu","SpotsLayer",void 0);var I=r.ccclass,O=r.menu,U=r.property;t("SpotsLayer",(T=I("SpotsLayer"),y=O(m.module+"/layers/SpotsLayer"),_=U(n),k=U(l),P=U(p),x=U(u),N=U(c.Skeleton),v=U(c.Skeleton),T(G=y((D=e((M=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"spotsScrollView",D,s(e)),o(e,"spotPortraitsRootNode",E,s(e)),o(e,"spotsNumberLabel",R,s(e)),o(e,"spotsTextSprite",A,s(e)),o(e,"lastSpotHighlightSkeleton",F,s(e)),o(e,"firePillarSkeleton",H,s(e)),o(e,"spotTextSpriteFrameName",w,s(e)),o(e,"spotsTextSpriteFrameName",z,s(e)),e._spotPortraitsList=[],e._portraitItemHeight=0,e._cachePosition=h(),e}i(e,t);var a=e.prototype;return a.onLoad=function(){var e=this;t.prototype.onLoad.call(this),f.addHandler(this),this.firePillarSkeleton.setCompleteListener(this._onFirePillarSkeletonAnimationComplete.bind(this)),this.spotPortraitsRootNode.children.forEach((function(t){e._spotPortraitsList.push(t.getComponent(g))})),this._portraitItemHeight=this.spotPortraitsRootNode.getComponent(S).contentSize.height/this.spotPortraitsRootNode.children.length},a.onTaskInitialize=function(t,e){this.stopAllDisplays(),this.node.active=e.gameMode===d.EGameMode.NORMAL||e.gameMode===d.EGameMode.FREE,this._updateSpotsText(e.spotsList.length),this._updateSpotsList(e.spotsList,!1),this.firePillarSkeleton.enabled=!1},a.onTaskUpdateSpots=function(t,e){this._updateSpotsList(e.spotsList,!0),this._updateSpotsText(e.spotsList.length)},a.onTaskBonusGameTrigger=function(t,e){this.startDisplay(),this.firePillarSkeleton.enabled=!0,this.firePillarSkeleton.clearTracks(),this.firePillarSkeleton.setAnimation(0,"animation",!1),L.instance.playSoundEffect(m.AUDIO_URLS.SE_BONUS_GAME_TRIGGER)},a.onTaskChangeRoom=function(t,e){this._updateSpotsText(e.spotsList.length),this._updateSpotsList(e.spotsList,!1)},a.onTaskChangeGame=function(t,e){this.node.active=e.nextGameMode===d.EGameMode.NORMAL||e.nextGameMode===d.EGameMode.FREE,e.nextGameMode===d.EGameMode.BONUS&&(this._updateSpotsText(0),this._updateSpotsList([],!1))},a._updateSpotsText=function(t){var e=Math.max(0,m.SPOTS_TOTAL_NUMBER-t);e<=0?(this.spotsNumberLabel.node.active=!1,this.spotsTextSprite.node.active=!1):(this.spotsNumberLabel.node.active=!0,this.spotsTextSprite.node.active=!0,this.spotsNumberLabel.string=""+e,this.spotsTextSprite.changeSpriteFrameFromAtlas(e>1?this.spotsTextSpriteFrameName:this.spotTextSpriteFrameName)),1===e?(this.lastSpotHighlightSkeleton.enabled=!0,this.lastSpotHighlightSkeleton.clearTracks(),this.lastSpotHighlightSkeleton.setAnimation(0,"animation",!0)):(this.lastSpotHighlightSkeleton.clearTracks(),this.lastSpotHighlightSkeleton.enabled=!1)},a._updateSpotsList=function(t,e){var i=0;this._spotPortraitsList.forEach((function(e,o){var s;e.info=null!=(s=t[o])?s:{uid:"",avatarID:0,score:0},m.isValidUserID(e.info.uid)&&(i=o)})),this._cachePosition.x=0,this._cachePosition.y=this._portraitItemHeight*(i-4),this.spotsScrollView.scrollToOffset(this._cachePosition,e?.3:void 0)},a._onFirePillarSkeletonAnimationComplete=function(t){this.firePillarSkeleton.enabled=!1,this.endDisplay()},e}(b)).prototype,"spotsScrollView",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(M.prototype,"spotPortraitsRootNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(M.prototype,"spotsNumberLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(M.prototype,"spotsTextSprite",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(M.prototype,"lastSpotHighlightSkeleton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(M.prototype,"firePillarSkeleton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(M.prototype,"spotTextSpriteFrameName",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=e(M.prototype,"spotsTextSpriteFrameName",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),G=M))||G)||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/SpotWinLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FormatNumber.ts","./SubGameData27.ts","./Display6.ts","./AudioHelper6.ts"],(function(t){var e,n,i,a,o,r,s,l,c,u,p,m,d,h,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.sp,l=t.Node,c=t.Tween,u=t.tween},function(t){p=t.FormatNumber},function(t){m=t.SubGameData},function(t){d=t.DisplayTaskManager,h=t.Display},function(t){y=t.AudioHelper}],execute:function(){var f,S,b,k,v,_,A,D,L,N;o._RF.push({},"85ff9FdbDBLwqkePQ0Fc+gU","SpotWinLayer",void 0);var g=r.ccclass,F=r.menu,P=r.property,T="animation1_1",w="animation1_3";t("SpotWinLayer",(f=g("SpotWinLayer"),S=F(m.module+"/layers/SpotWinLayer"),b=P(s.Skeleton),k=P(l),v=P(p),f(_=S((D=e((A=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"skeleton",D,a(e)),i(e,"avatarNode",L,a(e)),i(e,"scoreFormatNumber",N,a(e)),e}n(e,t);var o=e.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),d.addHandler(this),this.skeleton.setStartListener(this._onSkeletonAnimationStart.bind(this)),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this))},o.onTaskInitialize=function(t,e){this.stopAllDisplays(),c.stopAllByTarget(this.node),this.node.active=!1},o.onTaskWinSpot=function(t,e){this.stopAllDisplays(),this.startDisplay(),c.stopAllByTarget(this.node),this.node.active=!0,this.avatarNode.active=!0,this.scoreFormatNumber.node.parent.active=!0,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,T,!1),this.skeleton.addAnimation(0,"animation1_2",!1),this.skeleton.addAnimation(0,w,!1),this.scoreFormatNumber.updateNumber(e.spot.score)},o._onSkeletonAnimationStart=function(t){var e=this;switch(t.animation.name){case T:y.instance.playSoundEffect(m.AUDIO_URLS.SE_SPOT_POPUP_SHOW);break;case w:c.stopAllByTarget(this.node),u(this.node).delay(.4).call((function(){e.avatarNode.active=!1,e.scoreFormatNumber.node.parent.active=!1})).start(),y.instance.playSoundEffect(m.AUDIO_URLS.SE_SPOT_POPUP_HIDE)}},o._onSkeletonAnimationComplete=function(t){t.animation.name===w&&(this.node.active=!1,this.endDisplay())},e}(h)).prototype,"skeleton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(A.prototype,"avatarNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(A.prototype,"scoreFormatNumber",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=A))||_)||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/Sticker7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Global.ts","./CommonEvent.ts","./SubGameData27.ts","./ScreenHelper9.ts"],(function(i){var t,o,n,e,s,r,a,h,l,c,g,_,P,d;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,n=i.initializerDefineProperty,e=i.assertThisInitialized,s=i.createClass},function(i){r=i.cclegacy,a=i._decorator,h=i.Enum,l=i.v3},function(i){c=i.default},function(i){g=i.Global},function(i){_=i.CommonEvent},function(i){P=i.SubGameData},function(i){d=i.ScreenHelper}],execute:function(){var u,p,y,O,f,T,S,z;r._RF.push({},"4c56d/tNSNPjYP46m1UcO6R","Sticker",void 0);var b=a.ccclass,m=a.executeInEditMode,k=a.menu,w=a.property,E=function(i){return i[i.TOP=0]="TOP",i[i.RIGHT=1]="RIGHT",i[i.BOTTOM=2]="BOTTOM",i[i.LEFT=3]="LEFT",i}(E||{});i("Sticker",(u=b("Sticker"),p=k(P.module+"/components/Sticker"),y=m(!0),O=w({type:h(E)}),f=w({type:h(E)}),u(T=p(T=y((t((S=function(i){function t(){for(var t,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,n(t,"_location",z,e(t)),t._originalPosition=l(),t}o(t,i);var r=t.prototype;return r.onLoad=function(){i.prototype.onLoad.call(this),this.onD(_.SWITCH_SCREEN,this._onOrientationChange),this._originalPosition.set(this.node.position)},r.onEnable=function(){var t;null==(t=i.prototype.onEnable)||t.call(this),this._onOrientationChange(App.utils.getOrientation())},r.updateOriginalPosition=function(i,t,o){i===this._originalPosition.x&&t===this._originalPosition.y&&o===this._originalPosition.z||(this._originalPosition.set(i,t,o),this._onOrientationChange(App.utils.getOrientation()))},r._onOrientationChange=function(i){if("portrait"===i)switch(this._location){case E.TOP:this.node.setPosition(this._originalPosition.x,this._originalPosition.y-.5*(g.design_width-d.renderSize.height),this._originalPosition.z);break;case E.RIGHT:this.node.setPosition(this._originalPosition.x-.5*(g.design_height-d.renderSize.width),this._originalPosition.y,this._originalPosition.z);break;case E.BOTTOM:this.node.setPosition(this._originalPosition.x,this._originalPosition.y+.5*(g.design_width-d.renderSize.height),this._originalPosition.z);break;case E.LEFT:this.node.setPosition(this._originalPosition.x+.5*(g.design_height-d.renderSize.width),this._originalPosition.y,this._originalPosition.z)}else switch(this._location){case E.TOP:this.node.setPosition(this._originalPosition.x,this._originalPosition.y-.5*(g.design_height-d.renderSize.height),this._originalPosition.z);break;case E.RIGHT:this.node.setPosition(this._originalPosition.x-.5*(g.design_width-d.renderSize.width),this._originalPosition.y,this._originalPosition.z);break;case E.BOTTOM:this.node.setPosition(this._originalPosition.x,this._originalPosition.y+.5*(g.design_height-d.renderSize.height),this._originalPosition.z);break;case E.LEFT:this.node.setPosition(this._originalPosition.x+.5*(g.design_width-d.renderSize.width),this._originalPosition.y,this._originalPosition.z)}},s(t,[{key:"location",get:function(){return this._location},set:function(i){i!==this._location&&(this._location=i,this._onOrientationChange(App.utils.getOrientation()))}}]),t}(c)).prototype,"location",[O],Object.getOwnPropertyDescriptor(S.prototype,"location"),S.prototype),z=t(S.prototype,"_location",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.TOP}}),T=S))||T)||T)||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameData27.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./GameData.ts","./SubGameDefines27.ts"],(function(n){var i,e,a,t,o,s,d,c,_;return{setters:[function(n){i=n.inheritsLoose,e=n.createClass,a=n.createForOfIteratorHelperLoose},function(n){t=n.cclegacy,o=n.size,s=n.math},function(n){d=n.Global},function(n){c=n.GameData},function(n){_=n.common}],execute:function(){var r,u,E,l;t._RF.push({},"37fbdSV56pK1pQMcV5ApHVK","SubGameData",void 0);var S=n("SubGameData",function(n){function t(){return n.apply(this,arguments)||this}return i(t,n),t.setLoadingTaskProgress=function(n,i){this._loadingTasks[n]=Math.min(Math.max(0,i),1)},t.generateRandomSymbol=function(n,i,e){var a={id:0,score:0};switch(n){case _.EGameMode.RESPIN:var t=e?this.RANDOM_SYMBOL_IDS_POOL_WITHOUT_SPECIALS_IN_RESPIN_GAME:this.RANDOM_SYMBOL_IDS_POOL_IN_RESPIN_GAME;a.id=t[s.randomRangeInt(0,t.length)];break;default:if(!i){var o=e?this.RANDOM_SYMBOL_IDS_POOL_WITHOUT_SPECIALS_IN_NORMAL_AND_FREE_GAME:this.RANDOM_SYMBOL_IDS_POOL_IN_NORMAL_AND_FREE_GAME;a.id=o[s.randomRangeInt(0,o.length)]}}return this.isLavaSymbol(a.id)&&(a.score=s.randomRangeInt(1,11)),a},t.isLavaSymbol=function(n){return 11===n},t.isScatterSymbol=function(n){return 12===n||13===n},t.isAlohaSymbol=function(n){return 60===n},t.isValidUserID=function(n){return""!==n&&"0"!==n},t.getPaylineMask=function(n){var i;return null!=(i=this.PAYLINE_MASKS_HASH[n])?i:33554431},t.getJackpotType=function(n){return this.JACKPOT_ID_FROM_SERVER_TO_JACKPOT_TYPE[n]},t.isJackpotLocked=function(n){var i,e=n;if(d.playback)return 1===(null!=(i=this.jackpotsLockedStatesWhenPlayBack[e])?i:this.jackpotsLockedStatesWhenPlayBack[this.jackpotsLockedStatesWhenPlayBack.length-1]);if(!t.isJackpotsLockable)return!1;var a=Math.floor(t.slotInfo.bet.length/3),o=t.slotInfo.bet.indexOf(t.totalBet);return e>Math.max(0,Math.floor(o/a))},t.getFreeTimes=function(n){for(var i,e=a(this.FREE_TIME_CONFIGURATIONS_SORTED_LIST);!(i=e()).done;){var t=i.value;if(n>=t.scattersNumber)return t.freeTimes}return 0},e(t,null,[{key:"loadingProgress",get:function(){var n=0,i=0;for(var e in this._loadingTasks){var a=e;n+=this._loadingTasks[a],++i}return n/i}}]),t}(c));r=S,S.module="slot390000022",S.INITIAL_TOP_SYMBOLS_LIST=[{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:102,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0},{id:0,score:0}],S.INITIAL_BOTTOM_SYMBOLS_LIST=[{id:5,score:0},{id:5,score:0},{id:5,score:0},{id:5,score:0},{id:5,score:0},{id:1,score:0},{id:1,score:0},{id:1,score:0},{id:1,score:0},{id:1,score:0},{id:6,score:0},{id:6,score:0},{id:101,score:0},{id:6,score:0},{id:6,score:0},{id:2,score:0},{id:2,score:0},{id:2,score:0},{id:2,score:0},{id:2,score:0},{id:5,score:0},{id:5,score:0},{id:5,score:0},{id:5,score:0},{id:5,score:0}],S.INITIAL_BONUS_SPINS_NUMBER=10,S.JACKPOT_SCORE_CONFIGURATIONS=((u={})[_.EJackpotType.MINOR]={maxMultiple:16,startingMultiple:10,multipleIncreaseRate:.002},u[_.EJackpotType.MAJOR]={maxMultiple:80,startingMultiple:50,multipleIncreaseRate:.001},u[_.EJackpotType.GRAND]={maxMultiple:530,startingMultiple:300,multipleIncreaseRate:5e-4},u),S.FREE_TIME_CONFIGURATIONS_SORTED_LIST=[{scattersNumber:5,freeTimes:24},{scattersNumber:4,freeTimes:16},{scattersNumber:3,freeTimes:8}],S.SEATS_NUMBER=6,S.SPOTS_TOTAL_NUMBER=30,S.BINGO_BLAST_TRIGGERING_INDEXES=[2,6,11],S.REELS_NUMBER_PER_COLUMN=5,S.REELS_COLUMN_NUMBER=5,S.REELS_TOTAL_NUMBER=r.REELS_NUMBER_PER_COLUMN*r.REELS_COLUMN_NUMBER,S.WILD_REEL_INDEX=Math.floor(.5*r.REELS_TOTAL_NUMBER),S.REEL_SPACING=o(6,5),S.BONUS_REEL_SPACING=o(5,4),S.SYMBOL_NUMBERS_IN_REEL=1,S.SYMBOL_TOTAL_NUMBER=r.REELS_TOTAL_NUMBER*r.SYMBOL_NUMBERS_IN_REEL,S.SYMBOL_SIZE=o(90,74),S.BONUS_SYMBOL_SIZE=o(118,100),S.SPIN_CONFIGURATION={default:[{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:.05,distance:-375},deceleration:{duration:.466667,distance:-675,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:.383333,distance:-875},deceleration:{duration:.466667,distance:-675,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:.716667,distance:-1375},deceleration:{duration:.466667,distance:-675,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:1.05,distance:-1875},deceleration:{duration:.466667,distance:-675,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:1.383333,distance:-2375},deceleration:{duration:.466667,distance:-675,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:1.716667,distance:-2875},deceleration:{duration:.466667,distance:-675,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:2.05,distance:-3375},deceleration:{duration:.466667,distance:-675,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:2.383333,distance:-3875},deceleration:{duration:.466667,distance:-675,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:2.716667,distance:-4375},deceleration:{duration:.466667,distance:-675,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:3.05,distance:-4875},deceleration:{duration:.466667,distance:-675,easing:"linear"},bounce:{duration:.1,distance:-25}}],fast:[{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:.2,distance:-300},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:.2,distance:-300},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:.2,distance:-300},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:.2,distance:-300},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:.2,distance:-300},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:.2,distance:-300},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:.2,distance:-300},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:.2,distance:-300},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:.2,distance:-300},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-75,easing:"sineIn"},constant:{duration:.2,distance:-300},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}}]},S.BONUS_SPIN_CONFIGURATION={default:[{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:.25,distance:-495},deceleration:{duration:.566667,distance:-891,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:.583333,distance:-1155},deceleration:{duration:.566667,distance:-891,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:.916667,distance:-1815},deceleration:{duration:.566667,distance:-891,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:1.25,distance:-2475},deceleration:{duration:.566667,distance:-891,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:1.583333,distance:-3135},deceleration:{duration:.566667,distance:-891,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:1.916667,distance:-3795},deceleration:{duration:.566667,distance:-891,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:2.25,distance:-4455},deceleration:{duration:.566667,distance:-891,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:2.583333,distance:-5115},deceleration:{duration:.566667,distance:-891,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:2.916667,distance:-5775},deceleration:{duration:.566667,distance:-891,easing:"linear"},bounce:{duration:.1,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:3.25,distance:-6435},deceleration:{duration:.566667,distance:-891,easing:"linear"},bounce:{duration:.1,distance:-25}}],fast:[{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:.2,distance:-396},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:.2,distance:-396},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:.2,distance:-396},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:.2,distance:-396},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:.2,distance:-396},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:.2,distance:-396},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:.2,distance:-396},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:.2,distance:-396},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:.2,distance:-396},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}},{acceleration:{duration:.15,distance:-99,easing:"sineIn"},constant:{duration:.2,distance:-396},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-25}}]},S.SYMBOL_IDS=[1,2,3,4,5,6,7,8,9,10,11,12,13,60,101,102],S.RANDOM_SYMBOL_IDS_POOL_IN_NORMAL_AND_FREE_GAME=[1,2,3,4,5,6,7,8,9,10,11,12,13],S.RANDOM_SYMBOL_IDS_POOL_WITHOUT_SPECIALS_IN_NORMAL_AND_FREE_GAME=[2,3,4,5,6,7,8,9,10],S.RANDOM_SYMBOL_IDS_POOL_IN_RESPIN_GAME=[0,11],S.RANDOM_SYMBOL_IDS_POOL_WITHOUT_SPECIALS_IN_RESPIN_GAME=[0],S.SYMBOL_PAYLINE_BITS_LIST=[1082401,2164802,4329604,8659208,17318416,4473092,17043728,8523912,8929800,17309828,4334096,8528008,8921608,17047812,4464912,17043720,4473096,4460804,17056016,4341892,17306128,8536200,8917512,4723204,16924816,4735492,16912528,4727300,16916624,8667400,8655112,8655364,1118273,4260932,2130978,2232450,4327457,1083524,2132002,2230402,4261953,1116228,4260930,1118274,1115201,4264004,1085473,4326532,2134050,2229378],S.BINGO_PAYLINES_BITS_LIST=[1082401,2164802,4329604,8659208,17318416,31,992,31744,1015808,32505856,17043521,1118480],S.PAYLINE_MASKS_HASH=((E={})[1]=31,E[2]=1023,E[3]=32767,E[4]=1048575,E),S.JACKPOT_ID_FROM_SERVER_TO_JACKPOT_TYPE=((l={})[1]=_.EJackpotType.MINOR,l[2]=_.EJackpotType.MAJOR,l[3]=_.EJackpotType.GRAND,l),S.AUDIO_URLS={BGM_NORMAL_GAME:"audios/base_bgm",BGM_RESPIN_GAME:"audios/respin_bgm",BGM_FREE_GAME:"audios/free_bgm",BGM_BONUS_GAME:"audios/social_bgm",SE_BIG_WIN_BIG:"commonmodule/bigwin/audio/sound_big_win_01",SE_BIG_WIN_SUPER:"commonmodule/bigwin/audio/sound_super_win_01",SE_BIG_WIN_EPIC:"commonmodule/bigwin/audio/sound_epic_win_01",SE_BIG_WIN_MEGA:"commonmodule/bigwin/audio/sound_mega_win_01",SE_BIG_WIN_ULTIMATE:"commonmodule/bigwin/audio/sound_ultimate_win_01",SE_BIG_WIN_EXIT_BIG:"commonmodule/bigwin/audio/sound_big_win_02",SE_BIG_WIN_EXIT_SUPER:"commonmodule/bigwin/audio/sound_super_win_02",SE_BIG_WIN_EXIT_EPIC:"commonmodule/bigwin/audio/sound_epic_win_02",SE_BIG_WIN_EXIT_MEGA:"commonmodule/bigwin/audio/sound_mega_win_02",SE_BIG_WIN_EXIT_ULTIMATE:"commonmodule/bigwin/audio/sound_ultimate_win_02",SE_BIG_WIN_END_BIG:"commonmodule/bigwin/audio/sound_big_win_03",SE_BIG_WIN_END_SUPER:"commonmodule/bigwin/audio/sound_super_win_03",SE_BIG_WIN_END_EPIC:"commonmodule/bigwin/audio/sound_epic_win_03",SE_BIG_WIN_END_MEGA:"commonmodule/bigwin/audio/sound_mega_win_03",SE_BIG_WIN_END_ULTIMATE:"commonmodule/bigwin/audio/sound_ultimate_win_03",SE_BIG_WIN_SPEECH_BIG:"commonmodule/bigwin/audio/big",SE_BIG_WIN_SPEECH_SUPER:"commonmodule/bigwin/audio/super",SE_BIG_WIN_SPEECH_EPIC:"commonmodule/bigwin/audio/epic",SE_BIG_WIN_SPEECH_MEGA:"commonmodule/bigwin/audio/mega",SE_BIG_WIN_SPEECH_ULTIMATE:"commonmodule/bigwin/audio/ultimate",SE_COMMON_BUTTON_CLICK:"audios/click",SE_COMMON_POPUP_SHOW:"audios/other_dialog",SE_COMMON_POPUP_HIDE:"audios/dialog_withdraw",SE_REEL_STOP:"audios/reel_stop",SE_LAVA_APPEAR:"audios/bingo_land1",SE_LAVA_COLLECT:"audios/bingo_land2",SE_LAVA_FEVER:"audios/bingo_win",SE_BINGO_TRANSIT:"audios/bingo_dialog",SE_BINGO_SETTLE:"audios/bingo_collect",SE_BINGO_RESET:"audios/bingo_renew",SE_RESPIN_GAME_TRIGGER:"audios/blue_win",SE_RESPIN_GAME_SETTLE:"audios/respin_collect",SE_RESPIN_GAME_START_POPUP_TRANSIT:"audios/transition_respin",SE_RESPIN_GAME_START_POPUP_SHOW:"audios/respin_dialog_start",SE_RESPIN_GAME_SETTLEMENT_POPUP_SHOW:"audios/respin_dialog_collect",SE_SCATTER_APPEAR:"audios/scatter_land",SE_SCATTER_FEVER:"audios/scatter_win",SE_FREE_GAME_TRIGGER:"audios/bell",SE_FREE_GAME_SHOW_MULTIPLIER:"audios/mul_wild",SE_FREE_GAME_START_POPUP_SHOW:"audios/free_dialog_start",SE_FREE_GAME_EXTRA_POPUP_SHOW:"audios/free_dialog_restart",SE_FREE_GAME_SETTLEMENT_POPUP_SHOW:"audios/free_dialog_collect",SE_HOT_VOLCANO_APPEAR:"audios/bonus_land",SE_HOT_VOLCANO_FEVER:"audios/bonus_win",SE_UNCLAIMED_REWARD_POPUP_SHOW:"audios/unclaimed_dialog_collect",SE_SPOT_POPUP_SHOW:"audios/spot_win",SE_SPOT_POPUP_HIDE:"audios/spot_take",SE_BONUS_GAME_TRIGGER:"audios/spot_full",SE_BONUS_GAME_TRANSITION_POPUP_SHOW:"audios/social_dialog_start",SE_BONUS_GAME_SETTLEMENT_POPUP_SHOW:"audios/social_dialog_collect1",SE_BONUS_GAME_RANK_POPUP_SHOW:"audios/social_dialog_collect2",SE_BONUS_GAME_RESULT_POPUP_SHOW:"audios/social_dialog_collect3",SE_BONUS_GAME_BINGO_BLAST:"audios/blast_dialog",SE_BONUS_GAME_EXTRA_SPIN:"audios/extra_dialog",SE_BONUS_GAME_FLOWER_COLLECT:"audios/flower_collect",SE_BONUS_GAME_FLOWER_SHOW:"audios/small_light",SE_BONUS_GAME_FLOWER_HIGHLIGHT:"audios/flower_win",SE_BONUS_GAME_ALOHA_HIGHLIGHT:"audios/aloha_win",SE_BONUS_GAME_UPDATE_MULTIPLIER:"audios/mul_show",SE_BONUS_GAME_REEL_HIGHLIGHT:"audios/notify_reel",SE_BONUS_GAME_BONUS_APPEAR:"audios/player_land",SE_BONUS_GAME_BURN_SYMBOL:"audios/player_out",SE_BONUS_GAME_HIT_PAYLINE:"audios/player_win",SE_BONUS_GAME_UPDATE_TOTAL_SPIN:"audios/spin_add",SE_FEATURE_TRIGGER_SPEECH_1:"audios/anti_success1",SE_FEATURE_TRIGGER_SPEECH_2:"audios/anti_success2",SE_FEATURE_TRIGGER_SPEECH_3:"audios/anti_success3",SE_WIN_SCORE:"audios/win1",SE_WIN_BIG_SCORE:"audios/win2",SE_JACKPOT_LOCK:"audios/jp_lock",SE_JACKPOT_UNLOCK:"audios/jp_unlock",SE_POPUP_JACKPOT_MINOR_UNLOCKED:"audios/minor_dialog_collect",SE_POPUP_JACKPOT_MINOR_LOCKED:"audios/jplock_dialog_collect",SE_POPUP_JACKPOT_MAJOR_UNLOCKED:"audios/major_dialog_collect",SE_POPUP_JACKPOT_MAJOR_LOCKED:"audios/jplock_dialog_collect",SE_POPUP_JACKPOT_GRAND_UNLOCKED:"audios/grand_dialog_collect",SE_POPUP_JACKPOT_GRAND_LOCKED:"audios/jplock_dialog_collect"},S.spinRequestor=null,S.slotInfo=null,S.lastMap=null,S.lastMapTimestamp=0,S.spinTimestamp=0,S.changeBetTimestamp=0,S.changeBetRequestTypesQueue=[],S.currentChangeBetType=_.EChangeBetRequestType.CHANGE_BET,S.balance=0,S.totalBet=0,S.anteBetEnabled=!1,S.autoPlaying=!1,S.quickSpin=!1,S.turboSpin=!1,S.skipScreens=!0,S.gmEnabled=!1,S.isJackpotsLockable=!1,S.jackpotsLockedStatesWhenPlayBack=[],S._loadingTasks={resource:0,network:0,preloadLavaBonus:0,preloadSymbol:0,preloadFlower:0,preloadAnimatedSymbol:0,preloadBonusSymbol:0,preloadSymbolHighlight:0},t._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameDefines27.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var E;e("common",void 0),n._RF.push({},"31b09RMi3pIsKuM3POAgo5/","SubGameDefines",void 0),function(e){var n=function(e){return e[e.NORMAL=0]="NORMAL",e[e.FREE=1]="FREE",e[e.RESPIN=2]="RESPIN",e[e.BONUS=3]="BONUS",e}({});e.EGameMode=n;var E=function(e){return e[e.GM_SPIN=0]="GM_SPIN",e[e.SPIN=1]="SPIN",e[e.FREE_SPIN=2]="FREE_SPIN",e[e.PICK_JACKPOT_SYMBOL=3]="PICK_JACKPOT_SYMBOL",e}({});e.ESpinRequestType=E;var S=function(e){return e[e.CHANGE_BET=0]="CHANGE_BET",e[e.SYNCHRONISE_JACKPOTS=1]="SYNCHRONISE_JACKPOTS",e}({});e.EChangeBetRequestType=S;var t=function(e){return e[e.BET=0]="BET",e[e.FREE=1]="FREE",e[e.RESPIN=2]="RESPIN",e}({});e.ESpinType=t;var r=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.FAST=1]="FAST",e}({});e.ESpinSpeedType=r;var u=function(e){return e[e.MINOR=0]="MINOR",e[e.MAJOR=1]="MAJOR",e[e.GRAND=2]="GRAND",e}({});e.EJackpotType=u}(E||(E=e("common",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameLanguage27.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageDelegate.ts","./Enums.ts","./SubGameData27.ts"],(function(a){var e,n,t,u,g,r;return{setters:[function(a){e=a.inheritsLoose},function(a){n=a.cclegacy},function(a){t=a.injectLanguageData,u=a.LanguageDelegate},function(a){g=a.sys_Language},function(a){r=a.SubGameData}],execute:function(){var i;n._RF.push({},"dc868mvu8VBH7/mr0UmRy70","SubGameLanguage",void 0);var o={language:g.CHINESE,data:{}},c={language:g.ENGLISH,data:{}},l={language:g.Indonesian,data:{}},s={language:g.Malay,data:{}},d={language:g.Portuguese,data:{}},f={language:g.Thai,data:{}},m={language:g.Vietnamese,data:{}};a("SubGameLanguage",t(i=function(a){function n(){for(var e,n=arguments.length,t=new Array(n),u=0;u<n;u++)t[u]=arguments[u];return(e=a.call.apply(a,[this].concat(t))||this).bundle=r.module,e}return e(n,a),n.prototype.init=function(){var a=this;[o,c,l,s,d,f,m].forEach((function(e){return a.add(e)}))},n}(u))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/Symbol6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./LavaBonusNodePool.ts","./LavaBonus.ts"],(function(e){var t,s,o,r,i,n,m,u,h,_,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass},function(e){n=e.cclegacy,m=e._decorator,u=e.Sprite,h=e.Component},function(e){_=e.SubGameData},function(e){a=e.LavaBonusNodePool},function(e){c=e.LavaBonus}],execute:function(){var l,p,y,f,b,d,v;n._RF.push({},"03b31Ov3L5BEaip+4DtdO27","Symbol",void 0);var x=m.ccclass,S=m.menu,L=m.property,g=((l={})[1]="theme_resource/theme398/textures/symbols/theme398_s_2",l[2]="theme_resource/theme398/textures/symbols/theme398_s_3",l[3]="theme_resource/theme398/textures/symbols/theme398_s_4",l[4]="theme_resource/theme398/textures/symbols/theme398_s_5",l[5]="theme_resource/theme398/textures/symbols/theme398_s_6",l[6]="theme_resource/theme398/textures/symbols/theme398_s_7",l[7]="theme_resource/theme398/textures/symbols/theme398_s_8",l[8]="theme_resource/theme398/textures/symbols/theme398_s_9",l[9]="theme_resource/theme398/textures/symbols/theme398_s_10",l[10]="theme_resource/theme398/textures/symbols/theme398_s_11",l[11]="theme_resource/theme398/textures/symbols/theme398_s_18",l[12]="theme_resource/theme398/textures/symbols/theme398_s_14",l[13]="theme_resource/theme398/textures/symbols/theme398_s_15",l[60]="theme_resource/theme398/textures/symbols/theme398_s_132",l[101]="theme_resource/theme398/textures/symbols/theme398_s_1",l[102]="theme_resource/theme398/textures/symbols/theme398_s_16",l);e("Symbol",(p=x("Symbol"),y=S(_.module+"/elements/Symbol"),f=L(u),p(b=y((v=t((d=function(e){function t(){for(var t,s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return t=e.call.apply(e,[this].concat(i))||this,o(t,"sprite",v,r(t)),t._info={id:0,jackpotType:void 0,score:0},t}s(t,e);var n=t.prototype;return n.onLoad=function(){this._updateSymbol()},n.reset=function(){this._info.id=0,this._info.jackpotType=void 0,this._info.score=0,this._updateSymbol()},n._updateSymbol=function(){var e;this.sprite.changeSpriteFrameFromAtlas(null!=(e=g[this._info.id])?e:"");var t=this.node.getChildByName("LavaBonus");if(_.isLavaSymbol(this._info.id)){if(!t){if(!(t=a.instance.pop()))return;this.node.addChild(t)}var s=t.getComponent(c);if(!s)return;s.updateBonus(this._info.score,this._info.jackpotType)}else t&&a.instance.push(t)},i(t,[{key:"info",get:function(){return this._info},set:function(e){e.id===this._info.id&&e.jackpotType===this._info.jackpotType&&e.score===this._info.score||(this._info.id=e.id,this._info.jackpotType=e.jackpotType,this._info.score=e.score,this._updateSymbol())}}]),t}(h)).prototype,"sprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b)||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/SymbolHighlight.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts"],(function(e){var t,n,o,i,l,s,a,r,c,u,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,o=e.inheritsLoose,i=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,a=e.Enum,r=e.sp,c=e.Vec3,u=e.v3,h=e.Component},function(e){f=e.SubGameData}],execute:function(){var p,k,b,y,g,m,S,I,N,D,_,R,d,H,v,A,B,W,L;l._RF.push({},"d56c4NDN6lDILr6oojcY6vF","SymbolHighlight",void 0);var w=s.ccclass,E=s.menu,O=s.property,P=function(e){return e[e.PAYLINE_WIN=0]="PAYLINE_WIN",e[e.BINGO_DRAW=1]="BINGO_DRAW",e[e.RESPIN_DRAW=2]="RESPIN_DRAW",e[e.BONUS_DRAW=3]="BONUS_DRAW",e[e.BONUS_WIN=4]="BONUS_WIN",e[e.BONUS_BURN=5]="BONUS_BURN",e}(P||{}),z=e("SymbolHighlightSkeletonInfo",(p=w("SymbolHighlightSkeletonInfo"),k=O({type:a(P)}),b=O(r.SkeletonData),y=O(c),p((S=t((m=function(){n(this,"type",S,this),n(this,"skeletonData",I,this),n(this,"scale",N,this),n(this,"offset",D,this)}).prototype,"type",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.PAYLINE_WIN}}),I=t(m.prototype,"skeletonData",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(m.prototype,"scale",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=t(m.prototype,"offset",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u()}}),g=m))||g));e("SymbolHighlight",(_=w("SymbolHighlight"),R=E(f.module+"/elements/SymbolHighlight"),d=O(r.Skeleton),H=O([z]),_(v=R(((L=function(e){function t(){for(var t,o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,n(t,"skeleton",B,i(t)),n(t,"skeletonInfosList",W,i(t)),t.column=-1,t.row=-1,t._skeletonInfosHash={},t}o(t,e);var l=t.prototype;return l.onLoad=function(){var e=this;this.skeletonInfosList.forEach((function(t){e._skeletonInfosHash[t.type]={skeletonData:t.skeletonData,scale:t.scale,offset:t.offset}}))},l.reset=function(){this.column=-1,this.row=-1,this.skeleton.node.setScale(1,1,1),this.skeleton.node.setPosition(c.ZERO),this.skeleton.clearTracks(),this.skeleton.skeletonData=null},l.play=function(e){var t=this._skeletonInfosHash[e];t&&(this.skeleton.node.setScale(t.scale,t.scale,1),this.skeleton.node.setPosition(t.offset),this.skeleton.clearTracks(),this.skeleton.skeletonData=t.skeletonData,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"animation",!0))},t}(h)).EHighlightType=P,B=t((A=L).prototype,"skeleton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(A.prototype,"skeletonInfosList",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=A))||v)||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/SymbolHighlightNodePool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./SymbolHighlight.ts"],(function(e){var t,n,i,a,l,r,o,s;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy,l=e.instantiate,r=e.Prefab},function(e){o=e.SubGameData},function(e){s=e.SymbolHighlight}],execute:function(){a._RF.push({},"289d4/zkf5BWowHgara3nFy","SymbolHighlightNodePool",void 0),e("SymbolHighlightNodePool",function(){function e(){this._prefab=null,this._pool=[],this._availableIndex=0}var a=e.prototype;return a.preload=function(){var e=n(i().mark((function e(){var t,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Log.d("preload symbol highlight prefab"),e.next=4,App.cache.getCacheByAsync("prefabs/elements/SymbolHighlight",r,o.module);case 4:(n=e.sent)[0],(a=n[1]).addRef(),null==(t=this._prefab)||t.decRef(),this._prefab=a,o.setLoadingTaskProgress("preloadSymbolHighlight",1),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),Log.e("failed to preload symbol highlight prefab: "+(e.t0?e.t0.toString():"unknown reason")),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),a.push=function(e){var t=this._pool.indexOf(e);if(t<0)return!1;if(!e.isValid)return this._pool.splice(t,1),t<=this._availableIndex&&this._availableIndex>0&&--this._availableIndex,!1;e.removeFromParent();var n=e.getComponent(s);return!!n&&(n.reset(),t<this._availableIndex&&(--this._availableIndex,this._pool[t]=this._pool[this._availableIndex],this._pool[this._availableIndex]=e),!0)},a.pop=function(){var e;if(this._pool.length<=0||this._pool.length<=this._availableIndex){if(!this._prefab)return null;this._pool[this._availableIndex]=l(this._prefab)}return null!=(e=this._pool[this._availableIndex++])?e:null},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,a._RF.pop()}}}));

System.register("chunks:///_virtual/SymbolNodePool6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./Symbol6.ts"],(function(e){var t,n,a,o,r,i,l,s;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.instantiate,i=e.Prefab},function(e){l=e.SubGameData},function(e){s=e.Symbol}],execute:function(){o._RF.push({},"fe4c5AdskVL3Z1ZfGoXKbUO","SymbolNodePool",void 0),e("SymbolNodePool",function(){function e(){this._prefab=null,this._pool=[],this._availableIndex=0}var o=e.prototype;return o.preload=function(){var e=n(a().mark((function e(){var t,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Log.d("preload symbol prefab"),e.next=4,App.cache.getCacheByAsync("prefabs/elements/Symbol",i,l.module);case 4:(n=e.sent)[0],(o=n[1]).addRef(),null==(t=this._prefab)||t.decRef(),this._prefab=o,l.setLoadingTaskProgress("preloadSymbol",1),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),Log.e("failed to preload symbol prefab: "+(e.t0?e.t0.toString():"unknown reason")),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),o.push=function(e){var t=this._pool.indexOf(e);if(t<0)return!1;if(!e.isValid)return this._pool.splice(t,1),t<=this._availableIndex&&this._availableIndex>0&&--this._availableIndex,!1;e.removeFromParent();var n=e.getComponent(s);return!!n&&(n.reset(),t<this._availableIndex&&(--this._availableIndex,this._pool[t]=this._pool[this._availableIndex],this._pool[this._availableIndex]=e),!0)},o.pop=function(){var e;if(this._pool.length<=0||this._pool.length<=this._availableIndex){if(!this._prefab)return null;this._pool[this._availableIndex]=r(this._prefab)}return null!=(e=this._pool[this._availableIndex++])?e:null},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/slot390000022', 'chunks:///_virtual/slot390000022'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});