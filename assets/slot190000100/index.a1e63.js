System.register("chunks:///_virtual/BaseCombosFish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseFish.ts","./SubGameData2.ts","./ResourceConst.ts","./ObjectPool.ts","./SubGameConstants2.ts","./FishEvent.ts"],(function(t){var n,e,s,o,i,l,a,h,u,r,c,p,g;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy,o=t.Collider2D,i=t.UITransform,l=t.Animation,a=t.Sprite},function(t){h=t.BaseFish},function(t){u=t.SubGameData},function(t){r=t.getResConfig},function(t){c=t.ObjectPool},function(t){p=t.getConfig},function(t){g=t.FishEvent}],execute:function(){s._RF.push({},"f5c5b/JgepBMo0rL+sExDfm","BaseCombosFish",void 0);t("BaseCombosFish",function(t){function s(){for(var n,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return(n=t.call.apply(t,[this].concat(s))||this).subConfig=null,n.bgs=[],n.subFishes=[],n}n(s,t);var b=s.prototype;return b.init=function(n,e){var s=this;t.prototype.init.call(this,n,e);var o=""+r().FISHES_PREFAB_DIR+this.subConfig.prefab;this.bgs=this.node.children.concat();for(var i=this.bgs.length,l=function(t){c.getInstance().popPrefabNode(o,(function(n){s.enabledSubFishComponents(n,!1),s.setSubFishScale(n);var e=s.bgs[t].position;n.setPosition(e.x,e.y,e.z),n.angle=0,s.node.addChild(n),s.subFishes.push(n)}),s)},a=0;a<i;++a)l(a)},b.enabledSubFishComponents=function(t,n){t.getComponent(h)&&(t.getComponent(h).enabled=n),t.getComponents(o).forEach((function(t){t.enabled=n}))},b.setSubFishScale=function(t){var n,e=null==(n=t.getComponent(i))?void 0:n.contentSize,s=Math.max(e.width,e.height),o=p().BG_SIZE/s;t.setScale(o,o,o)},b.onEnable=function(){for(var t=this.bgs.length,n="fish"+this.subConfig.subtype+"Swim",e=0;e<t;++e){var s,o;null==(s=this.bgs[e].getComponent(l))||s.play(),null==(o=this.subFishes[e])||null==(o=o.getComponent(l))||o.play(n)}},b.playDieEff=function(){for(var t=this.bgs.length,n="fish"+this.subConfig.subtype+"Die",e=0;e<t;++e){var s,o;null==(s=this.bgs[e].getComponent(l))||s.stop(),null==(o=this.subFishes[e])||null==(o=o.getComponent(l))||o.play(n)}dispatch(g.DISPATCH_ADD_GOLD,this.node.position)},b.clear=function(){t.prototype.clear.call(this);for(var n=this.bgs.length-1;n>=0;--n){var e;if(null==(e=this.bgs[n].getComponent(l))||e.stop(),this.subFishes.length){var s,o=this.subFishes.pop();o.removeFromParent(),null==(s=o.getComponent(l))||s.stop(),o.setScale(1,1,1),this.enabledSubFishComponents(o,!0),c.getInstance().push(o)}}},b.lock=function(t){this.setAllSpriteColor(p().LOCK_COLOR)},b.setAllSpriteColor=function(t){for(var n=this.bgs.length,e=0;e<n;++e)this.bgs[e].getComponent(a).color=t,e<this.subFishes.length&&(this.subFishes[e].getComponent(a).color=t)},b.unlock=function(){this.setAllSpriteColor(p().UNLOCK_COLOR),t.prototype.unlock.call(this)},e(s,[{key:"data",get:function(){return App.dataCenter.get(u)}}]),s}(h));s._RF.pop()}}}));

System.register("chunks:///_virtual/BaseFish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RouteFactory.ts","./SubGameData2.ts","./SubGameConstants2.ts","./FishModel.ts","./EventComponent.ts","./FishEvent.ts","./BatterModel.ts","./GameService2.ts"],(function(t){var e,i,n,o,s,a,r,h,c,l,u,d,f,p,g,m,v,y,C,S,F,b;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t._decorator,s=t.Animation,a=t.Collider2D,r=t.Sprite,h=t.Node,c=t.Label,l=t.Color,u=t.Vec3,d=t.UITransform,f=t.UIOpacity,p=t.tween},function(t){g=t.RouteFactory},function(t){m=t.SubGameData},function(t){v=t.getConfig},function(t){y=t.FishModel},function(t){C=t.default},function(t){S=t.FishEvent},function(t){F=t.BatterModel},function(t){b=t.GameService}],execute:function(){var E;n._RF.push({},"5725du0QR9JUbq4HgLDQSAX","BaseFish",void 0);var A=o.ccclass;t("BaseFish",A("BaseFish")(E=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).sprite=null,e.config=null,e.killFishVo=void 0,e.score=0,e.route=null,e.state=null,e._dieActionTime=0,e.lockNode=null,e.labelNode=null,e.speed=0,e.isKeep=!1,e.direction=2,e.ani=null,e.shade=null,e.needClear=!1,e.animationCom=void 0,e.colliders=void 0,e}e(n,t);var o=n.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),this.animationCom=this.getComponent(s),this.colliders=this.getComponents(a)},o.addEvents=function(){this.onD(S.DISPATCH_CHANGE_SCENE,this.changeScene)},o.init=function(t,e){this.sprite=t,this.config=e,this.state=1,this.route=g.getInstance().getRoute(t.offsettype,t.routeid,t.offsetx,t.offsety,t.offsetr);var i=this.gameService.heartTimeNow;this.updatePosition(i),this.getAni()},o.getAni=function(){var t,e=null==(t=this.node.getChildByName("ani"))?void 0:t.getComponent(r);e&&(this.ani=e)},o.createLabel=function(){var t=new h("DynamicLabel"),e=t.addComponent(c);e.string="Hello, World!",e.fontSize=40,e.color=l.WHITE,e.horizontalAlign=c.HorizontalAlign.CENTER,e.verticalAlign=c.VerticalAlign.CENTER,this.animationCom&&this.animationCom.node.addChild(t),t.setPosition(0,0)},o.onEnable=function(){this.playSwim()},o.update=function(t){var e=this.gameService.heartTimeNow;this.isKeep||this.onFrame(e)},o.onFrame=function(t){this.sprite&&this.sprite.dead_time&&(this.sprite.dead_time<=t||this.isOut()?y.getInstance().cleanFish(this.sprite.uid):(this.shade&&0==this.shade.active&&(this.shade.active=!0),this.updatePosition(t)))},o.updatePosition=function(t){var e=t-this.sprite.born_time;if(e<0)return 0;this.speed>0&&(e+=this.speed,this.speed+=300);var i=this.route.getNextStep(e),n=this.route.getNextStep(e+.001),o=F.getInstance().getMyOldPos()||1;return[3,4].indexOf(o)>-1?(this.node.setPosition(i.x,-i.y,0),this.node.angle=-i.r,this.shade&&(this.shade.setPosition(i.x-20,-i.y-20,0),this.shade.angle=-i.r)):(this.node.setPosition(i.x,i.y,0),this.node.angle=i.r,this.shade&&(this.shade.setPosition(i.x-20,i.y-20,0),this.shade.angle=i.r)),n.x<i.x?(this.node.setScale(1,-1),this.shade&&this.shade.setScale(1,-1),this.direction=1):this.direction=2,i.x},o.getPositionByDealyTime=function(t){var e=this.gameService.heartTimeNow+t,i=this.route.getNextStep(e-this.sprite.born_time);return new u(i.x,i.y,0)},o.isOut=function(){var t=y.getInstance().getSburvivalPercent(this.sprite.uid),e=this.node.getComponent(d).width,i=this.node.getComponent(d).height,n=this.node.getPosition().x,o=this.node.getPosition().y,s=!1;return n<=-640-e/2-0||n>=640+e/2+0||o>=360+i/2+0||o<=-360-i/2-0?s=!0:n>-640&&o<360&&o>-360&&n<640&&t<.5&&y.getInstance().addRateFun(this.sprite),s&&t>.5},o.changeScene=function(){var t,e=this;this.sprite?this.scheduleOnce((function(){e.speed=1,e.scheduleOnce((function(){y.getInstance().cleanFish(e.sprite.uid)}),2)}),2.3):null==(t=this.node)||t.destroy()},o.onDestroy=function(){this.shade&&(this.shade.removeFromParent(),this.shade.destroy())},o.playKill=function(){var t=this;this.isKeep=!0,this.fadeOut(this.node,(function(){t.node&&(t.node.removeFromParent(),t.node.destroy())}))},o.fadeOut=function(t,e){var i=t.getComponent(f);i||t.addComponent(f),i.opacity=255,p(i).to(.5,{opacity:0}).call((function(){null==e||e()})).start()},o.killFishes=function(t){},o.beKilled=function(t,e){this.killFishVo=t,this.state=v().FishState.Killed,this.sprite.dead_time=e+v().DIE_ACTION_TIME,this.unlock(),this.setColliderEnable(!1)},o.setColliderEnable=function(t){this.colliders.forEach((function(e){e.enabled=t}))},o.playSwim=function(){},o.playSpecialSwim=function(){},o.playDieAnimation=function(){},o.stopDieAnimation=function(){},o.playDieEff=function(){},o.playDieBubble=function(){},o.playSimilarBubble=function(){},o.playDieSound=function(){},o.moveToBattery=function(){},o.showScore=function(){},o.clear=function(){this.state=3,this.unlock(),this.setColliderEnable(!0)},o.unlock=function(){},o.lock=function(t){},o.hit=function(){var t=this;this.ani&&(this.ani.color=v().LOCK_COLOR,this.scheduleOnce((function(){t.ani.color=v().UNLOCK_COLOR}),.05))},i(n,[{key:"gameService",get:function(){return App.serviceManager.get(b)}},{key:"data",get:function(){return App.dataCenter.get(m)}},{key:"isAlive",get:function(){return 1==this.state}},{key:"fishType",get:function(){return this.sprite.classid}}]),n}(C))||E);n._RF.pop()}}}));

System.register("chunks:///_virtual/Batter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent.ts","./BatterModel.ts","./BatterScoinList.ts","./SubGameDefines2.ts","./SubGameData2.ts","./BulletModel.ts","./GameSender2.ts","./SubGameConstants2.ts","./FishModel.ts","./Fish.ts"],(function(t){var i,e,s,n,o,a,h,r,u,l,c,d,p,f,g,v,b,m,A,D,y,S,C,I,N,_,L,P,T,x,E,k;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass,a=t.asyncToGenerator,h=t.regeneratorRuntime},function(t){r=t.cclegacy,u=t._decorator,l=t.Node,c=t.SpriteAtlas,d=t.SpriteFrame,p=t.CCInteger,f=t.Game,g=t.UITransform,v=t.v3,b=t.Label,m=t.Sprite,A=t.tween,D=t.Vec3,y=t.sp},function(t){S=t.default},function(t){C=t.FishEvent},function(t){I=t.BatterModel},function(t){N=t.BatterScoinList},function(t){_=t.EventName},function(t){L=t.SubGameData},function(t){P=t.BulletModel},function(t){T=t.GameSender},function(t){x=t.SubGameConstants},function(t){E=t.FishModel},function(t){k=t.Fish}],execute:function(){var w,M,j,B,F,O,z,U,H,G,R,W,V,Y,Z,Q,q,K,X,J,$,tt,it,et,st,nt,ot,at,ht,rt,ut,lt,ct,dt,pt,ft,gt,vt,bt,mt,At,Dt,yt,St,Ct,It,Nt;r._RF.push({},"f0a4axcdMVNCL5hc9s6Zbm3","Batter",void 0);var _t=u.ccclass,Lt=u.property;t("Batter",(w=_t("Batter"),M=Lt({type:l}),j=Lt({type:l}),B=Lt({type:l}),F=Lt({type:l}),O=Lt({type:l}),z=Lt({type:l}),U=Lt({type:l}),H=Lt({type:l}),G=Lt({type:l}),R=Lt({type:l}),W=Lt({type:l}),V=Lt({type:l}),Y=Lt({type:l}),Z=Lt({type:l}),Q=Lt({type:l}),q=Lt({type:l}),K=Lt({type:l,tooltip:"位置提示"}),X=Lt({type:l,tooltip:"转头轨道"}),J=Lt({type:l,tooltip:"转头轨道"}),$=Lt({type:c}),tt=Lt({displayName:"位置图片",type:[d]}),it=Lt({type:p,tooltip:"炮台编号"}),w((nt=i((st=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,s(i,"ani",nt,n(i)),s(i,"shootPos",ot,n(i)),s(i,"waitNode",at,n(i)),s(i,"cost",ht,n(i)),s(i,"score",rt,n(i)),s(i,"posIdxNode",ut,n(i)),s(i,"addNode",lt,n(i)),s(i,"jianNode",ct,n(i)),s(i,"scoreNode",dt,n(i)),s(i,"scoinList",pt,n(i)),s(i,"aniDi",ft,n(i)),s(i,"headNode",gt,n(i)),s(i,"mainBox",vt,n(i)),s(i,"lockEff",bt,n(i)),s(i,"lineBox",mt,n(i)),s(i,"effQiu",At,n(i)),s(i,"jiantouNode",Dt,n(i)),s(i,"daojishi",yt,n(i)),s(i,"dantouguidao",St,n(i)),s(i,"posIdxAtlas",Ct,n(i)),s(i,"posSfs",It,n(i)),i.lv=1,i.musicStep=0,i.aniName="1",i.gunid=1,i.bulletCount=0,i.isMe=!1,i.shootCd=!0,s(i,"posIdx",Nt,n(i)),i.daojishiNum=9,i}e(i,t);var r=i.prototype;return r.onLoad=function(){var i;t.prototype.onLoad.call(this),this.model.battleDatas&&(this.model.battleDatas[this.posIdx].worldPos=this.node.getWorldPosition()),null==(i=this.scoinList.getComponent(N))||i.init(this.posIdx)},r.addEvents=function(){this.onD(C.DISPATCH_SHOOT,this.shoot),this.onD(C.DISPATCH_BATTLE_GUNID,this.changeGun),this.onD(C.DISPATCH_ADD_SCOIN,this.playscoinList),this.onD(C.DISPATCH_INIT_BATTLE,this.initView),this.onD(C.DISPATCH_UPDATA_BATTLE,this.updataView),this.onD(C.DISPATCH_LOCK_DATA_CHANGE,this.changeLock),this.onD(C.DISPATCH_GET_ZHUANGTOU,this.getZhuanTou),this.onD(C.DISPATCH_MOUSE_MOVE,this.onMouseMove),this.onD(C.DISPATCH_UPDATE_SCORE,this.updateScore),this.onD(C.DISPATCH_LEAVE_BATTLE,this.otherLeave),this.onD(C.DISPATCH_EXIT,this.leave),this.onD(C.DISPATCH_TEST,this.test),this.onD(C.DISPATCH_ONLYONLOCK,this.onUnlock),this.onG(f.EVENT_HIDE,this.onEnterBackground)},r.test=function(t){this.lockEff.active||(this.lockEff.active=!0);var i=this.lockEff.parent.getComponent(g).convertToNodeSpaceAR(t),e=this.lockEff.getPosition(),s=i.x-e.x,n=i.y-e.y,o=s*s+n*n,a=parseInt(Math.sqrt(o)+"");this.lineBox.getComponent(g).height=a,this.effQiu.setPosition(0,a)},r.onEnable=function(){},r.initView=function(){var t;(this.isMe=this.battleData.isMe,this.lv=this.battleData.lv,this.gunid=this.battleData.gunid,this.setPosIdxNode(),this.setBtn(),this.setWait(),this.lockEff.active=!1,1==this.battleData.state&&(this.setAni(),this.setCost(),this.setScore()),this.isMe&&I.getInstance().getMyData().canShootZhuan)&&(1==this.gunid&&(null==(t=this.sender)||t.gunChange(3)));this.isMe?this.jiantouNode.active=!0:this.jiantouNode&&(this.jiantouNode.active=!1),this.unscheduleAllCallbacks()},r.updataView=function(t){this.isActive&&this.posIdx==t&&(this.lv=this.battleData.lv,this.setPosIdxNode(),this.setBtn(),this.setWait(),1==this.battleData.state&&(this.setAni(),this.setCost(),this.setScore()))},r.sitDown=function(){this.battleData.state=2,this.setWait()},r.otherLeave=function(t){this.posIdx==t&&this.leave()},r.leave=function(){this.jiantouNode&&(this.jiantouNode.active=!1),this.battleData.isMe=!1,this.battleData.state=2,this.ani.eulerAngles=v(0,0,0),this.battleData.bombIng=!1,this.battleData.BombVo={},this.battleData.gunid=1,this.daojishi&&(this.daojishi.active=!1),this.dantouguidao&&(this.dantouguidao.active=!1),this.battleData.canShootZhuan=!1,this.unscheduleAllCallbacks(),this.setWait(),dispatch(_.STOP_EFFECT,x.AudioSource.Fish_suoding)},r.setWait=function(){var t=this.battleData.state;this.waitNode.active=2==this.battleData.state,this.cost.active=1==this.battleData.state,this.score.active=1==this.battleData.state,this.ani.active=1==t,this.aniDi.active=1==t,this.mainBox.active=1==t},r.updateScore=function(){if(this.isActive&&this.isMe){var t=this.formatNumberWithW(this.battleData.score*I.getInstance().coinRate);this.score.getComponent(b).string!=t&&(this.score.getComponent(b).string=t+"")}},r.setPosIdxNode=function(){this.posIdxNode.active=!0,this.posIdxNode.getComponent(m).spriteFrame=this.posSfs[this.posIdx-1]},r.setCost=function(){if(this.cost.getComponent(b).string!=this.battleData.cost+""){var t=this.battleData.cost*I.getInstance().coinRate;Math.round(100*t)/100===Math.round(t)?this.cost.getComponent(b).string=Math.round(t).toString():this.cost.getComponent(b).string=t.toFixed(1)}},r.setScore=function(){var t=this.formatNumberWithW(this.battleData.score*I.getInstance().coinRate);this.score.getComponent(b).string!=t&&(this.score.getComponent(b).string=t+"")},r.formatNumberWithW=function(t){return t.toFixed(2)},r.setBtn=function(){this.addNode.active=this.isMe,this.jianNode.active=this.isMe},r.setAni=function(){var t="";1==this.gunid?this.aniName!="lv"+this.lv&&(t="lv"+this.lv,this.aniName=t,this.playAni(t+"_loop")):2==this.gunid&&"jiguang"!=this.aniName&&(t="jiguang",this.aniName=t,this.playAni(t+"_loop"))},r.changeGun=function(t){var i=this;if(this.posIdx==t.pos){var e=t.gunid;1==e?this.changeAniFun("jiguang","lv"+this.lv):2==e?this.changeAniFun("lv"+this.lv,"jiguang"):3==e&&(this.aniName="zuantou",this.playAni("zuantou_loop"),this.isMe&&(this.scheduleOnce((function(){i.battleData.isChangePao=!1}),.5),this.dantouguidao.active=!0,this.daojishi.active=!0,this.daojishiNum=9,this.unschedule(this.startDaojishi),this.schedule(this.startDaojishi,1),this.startDaojishi(),dispatch(_.PLAY_SOUND,x.AudioSource.Fish_Drill01))),this.gunid=e}},r.startDaojishi=function(){this.daojishiNum-=1,this.daojishi.getComponent(b).string="h"+this.daojishiNum,0==this.daojishiNum&&(this.unschedule(this.startDaojishi),dispatch(C.DISPATCH_ZHUANGTOU_AUTOSHOOT))},r.clickUp=function(){var t,i=this;if(3!=this.gunid&&this.shootCd&&(this.shootCd=!1,this.scheduleOnce((function(){i.shootCd=!0}),.2),!this.data.isLockIng&&!this.data.isAuto)){var e=this.battleData.step+1;e>=this.model.betList.length&&(e=0);var s=this.model.getLvByStep(e);if(this.battleData.step=e,this.battleData.cost=this.model.betList[e]/1e6,this.lv!=s&&(this.isMe&&dispatch(_.PLAY_SOUND,x.AudioSource.Fish_Upgrade),this.changeAniFun("lv"+this.lv,"lv"+s)),this.battleData.lv=s,this.lv=s,this.setCost(),this.playCostChangeAni(),null==(t=this.sender)||t.c2sChangeRate(this.model.betList[e]),this.isMe){var n=this.getAudioSourceByIndex(!0);dispatch(_.PLAY_SOUND,n)}}},r.playCostChangeAni=function(){A(this.cost).to(.05,{scale:new D(2,2,1)}).to(.1,{scale:new D(1,1,1)}).start()},r.getAudioSourceByIndex=function(t){var i=Object.keys(x.AudioBtnSource);t?(this.musicStep++,this.musicStep>i.length-1&&(this.musicStep=0)):(this.musicStep--,this.musicStep<0&&(this.musicStep=i.length-1));var e=i;return x.AudioBtnSource[e[this.musicStep]]},r.clickDown=function(){var t,i=this;if(3!=this.gunid&&this.shootCd&&(this.shootCd=!1,this.scheduleOnce((function(){i.shootCd=!0}),.2),!this.data.isLockIng&&!this.data.isAuto)){var e=this.battleData.step-1;e<0&&(e=this.model.betList.length-1);var s=this.model.getLvByStep(e);if(this.battleData.step=e,this.battleData.cost=this.model.betList[e]/1e6,this.lv!=s&&(this.isMe&&dispatch(_.PLAY_SOUND,x.AudioSource.Fish_Upgrade),this.changeAniFun("lv"+this.lv,"lv"+s)),this.battleData.lv=s,this.lv=s,this.setCost(),this.playCostChangeAni(),null==(t=this.sender)||t.c2sChangeRate(this.model.betList[e]),this.isMe){var n=this.getAudioSourceByIndex(!1);dispatch(_.PLAY_SOUND,n)}}},r.changeAniFun=function(){var t=a(h().mark((function t(i,e){var s;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.ani.getComponent(y.Skeleton),t.next=3,this.playAnimation(s,i+"_disappear");case 3:return t.next=5,this.playAnimation(s,e+"_appear");case 5:this.aniName=e,this.playAnimation(s,e+"_loop");case 7:case"end":return t.stop()}}),t,this)})));return function(i,e){return t.apply(this,arguments)}}(),r.playAnimation=function(t,i,e){var s=this;return new Promise((function(e){var n=function(){};t.setCompleteListener(n);t.setCompleteListener((function(){t.setCompleteListener(n),e()})),s.playAni(i)}))},r.shoot=function(t,i){if(void 0===i&&(i=1),this.isActive){var e=I.getInstance().getTruePosByPos(Number(t.pos));if(e==this.posIdx){var s=v(t.x,t.y);this.jiantouNode&&1==this.jiantouNode.active&&(this.jiantouNode.active=!1),this.playShootAni();var n=I.getInstance().battleDatas[e].target_id;if(!this.isMe&&n>0){var o=E.getInstance().getNodeFish(n);if(null==o)this.showLock(s);else{var a,h=null==(a=o.getComponent(k))?void 0:a.getLockPos();this.showLock(h)}}else this.showLock(s);if(!this.isMe){var r=this.posChange(s);this.setRotate(r)}var u=P.getInstance().getIdByUid(t.uid+""),l={startPosition:this.shootPos.getWorldPosition(),targetPosition:s,type:i,own:this.posIdx,uid:u};dispatch(C.DISPATCH_ADD_BULL,l),this.isMe&&3==i&&(this.unschedule(this.startDaojishi),this.dantouguidao&&(this.dantouguidao.active=!1,this.daojishi.active=!1,this.playAni("zuantou_disappear")))}}},r.posChange=function(t){var i=v(t.x,t.y),e=this.node.parent.getComponent(g),s=e.convertToNodeSpaceAR(i);return this.posIdx>2&&(s.y=720-s.y),e.convertToWorldSpaceAR(s)},r.setRotate=function(t){var i,e=(null==(i=this.ani.parent)?void 0:i.getComponent(g)).convertToNodeSpaceAR(t),s=this.ani.getPosition(),n=new D;D.subtract(n,e,s),D.normalize(n,n);var o=Math.atan2(n.y,n.x)*(180/Math.PI);this.ani.eulerAngles=new D(0,0,o-90),this.lockEff.eulerAngles=this.ani.eulerAngles},r.playShootAni=function(){var t="";1==this.gunid?(t="lv"+this.lv,2==this.lv?this.isMe&&1==this.battleData.gunid&&dispatch(_.PLAY_SOUND,x.AudioSource.Fish_shooting02):3==this.lv?this.isMe&&1==this.battleData.gunid&&dispatch(_.PLAY_SOUND,x.AudioSource.Fish_shooting03):this.isMe&&1==this.battleData.gunid&&dispatch(_.PLAY_SOUND,x.AudioSource.Fish_shooting),this.playAni(t)):this.gunid},r.changeLock=function(t){this.isActive&&(t==this.posIdx&&0==I.getInstance().getLock(this.posIdx)&&(this.lockEff.active=!1,dispatch(_.STOP_EFFECT,x.AudioSource.Fish_suoding)))},r.onUnlock=function(){this.lockEff.active=!1},r.getZhuanTou=function(t){this.posIdx},r.onMouseMove=function(t){var i;if(this.isActive&&this.isMe&&!this.data.isLockIng){var e=(null==(i=this.ani.parent)?void 0:i.getComponent(g)).convertToNodeSpaceAR(v(t.x,t.y)),s=this.ani.getPosition(),n=new D;D.subtract(n,e,s),D.normalize(n,n);var o=Math.atan2(n.y,n.x)*(180/Math.PI);this.ani.eulerAngles=new D(0,0,o-90),this.lockEff.eulerAngles=this.ani.eulerAngles}},r.showLock=function(t){var i=I.getInstance().battleDatas[this.posIdx].target_id;if(0!=i){if(t){var e=this.posChange(t);this.setRotate(e)}if(!E.getInstance().getNodeFish(i))return this.lockEff.active=!1,void(this.isMe&&dispatch(_.STOP_EFFECT,x.AudioSource.Fish_suoding));var s=this.lockEff.parent.getComponent(g).convertToNodeSpaceAR(t),n=this.lockEff.getPosition(),o=s.x-n.x,a=s.y-n.y,h=o*o+a*a,r=parseInt(Math.sqrt(h)+"");this.lineBox.getComponent(g).height=r,this.effQiu.setPosition(0,r),i>0&&!this.lockEff.active&&(this.lockEff.active=!0,this.isMe&&dispatch(_.PLAY_SOUND,x.AudioSource.Fish_suoding,!0))}else this.lockEff.active=!1},r.playAni=function(t){var i;this.ani.getComponent(y.Skeleton)&&(null==(i=this.ani.getComponent(y.Skeleton))||i.setAnimation(0,t,!1))},r.playscoinList=function(t){var i;t.battleIdx==this.posIdx&&(null==(i=this.scoinList.getComponent(N))||i.addScoreGroup(t.val))},r.onEnterBackground=function(){this.unschedule(this.startDaojishi),this.dantouguidao&&(this.dantouguidao.active=!1,this.daojishi.active=!1),this.lockEff.active&&(this.lockEff.active=!1),I.getInstance().battleDatas[this.posIdx].target_id=0},r.onEnterForgeground=function(){},o(i,[{key:"model",get:function(){return I.getInstance()}},{key:"battleData",get:function(){return this.model.battleDatas[this.posIdx]}},{key:"data",get:function(){return App.dataCenter.get(L)}},{key:"sender",get:function(){return App.senderManager.get(T)}},{key:"isActive",get:function(){return 1==this.battleData.state}}]),i}(S)).prototype,"ani",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(st.prototype,"shootPos",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i(st.prototype,"waitNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=i(st.prototype,"cost",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(st.prototype,"score",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=i(st.prototype,"posIdxNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i(st.prototype,"addNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i(st.prototype,"jianNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=i(st.prototype,"scoreNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=i(st.prototype,"scoinList",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=i(st.prototype,"aniDi",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=i(st.prototype,"headNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=i(st.prototype,"mainBox",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=i(st.prototype,"lockEff",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=i(st.prototype,"lineBox",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=i(st.prototype,"effQiu",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=i(st.prototype,"jiantouNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=i(st.prototype,"daojishi",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=i(st.prototype,"dantouguidao",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=i(st.prototype,"posIdxAtlas",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=i(st.prototype,"posSfs",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=i(st.prototype,"posIdx",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),et=st))||et));r._RF.pop()}}}));

System.register("chunks:///_virtual/BatterModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton4.ts","./FishEvent.ts","./SubGameData2.ts","./Global.ts"],(function(t){var s,a,e,i,o,n,r;return{setters:[function(t){s=t.inheritsLoose,a=t.createClass},function(t){e=t.cclegacy},function(t){i=t.Singleton},function(t){o=t.FishEvent},function(t){n=t.SubGameData},function(t){r=t.Global}],execute:function(){e._RF.push({},"1dab3UAXrRDspyVE3KP3NwM","BatterModel",void 0);t("BatterModel",function(t){function e(){var s;return(s=t.call(this)||this).battleDatas={},s.idToPos={},s.oldPosToId={},s.betList=[],s.defaultBetValue=0,s.coinRate=1,s.myPlayerInfo=null,s.init(),s}s(e,t);var i=e.prototype;return i.init=function(){for(var t=1;t<=4;t++)this.battleDatas[t]={posIdx:t,worldPos:null,score:1e4,lv:1,state:2,isMe:!1,cost:2,coins:[],uid:"0",is_lock:!1,target_id:0,gunid:1,gold:1e4,step:0,oldPos:1,BombVo:{},bombIng:!1,canShootZhuan:!1,isChangePao:!1}},i.resetInfo=function(){for(var t=1;t<=4;t++)this.battleDatas[t].isMe=!1,this.battleDatas[t].state=2,this.battleDatas[t].is_lock=!1,this.battleDatas[t].bombIng=!1,this.battleDatas[t].canShootZhuan=!1,this.battleDatas[t].isChangePao=!1,this.battleDatas[t].BombVo={},this.setTargetFish(t,0)},i.getMyOldPos=function(){var t;return(null==(t=this.myPlayerInfo)?void 0:t.pos)||null},i.setBattles=function(t){var s=this;t.forEach((function(t){s.inBattle(t)})),dispatch(o.DISPATCH_INIT_BATTLE),dispatch(o.DISPATCH_UPDATA_FISHVIEW)},i.inBattle=function(t){this.oldPosToId[t.pos]=t.uid,this.setPos(t),this.initBattleData(t)},i.updataBattle=function(t){this.updataBattleData(t)},i.setPos=function(t){var s=this.myPlayerInfo.pos,a=t.pos;if(3==s||4==s){this.idToPos[t.uid]=[3,4,1,2][a-1]}else this.idToPos[t.uid]=a;return this.idToPos[t.uid]},i.initBattleData=function(t){var s=this.idToPos[t.uid];if(this.battleDatas){if(!this.battleDatas[s])return;this.battleDatas[s].cost=t.reward_rate/1e6,this.battleDatas[s].score=t.score/1e6,this.battleDatas[s].uid=t.uid,this.battleDatas[s].state=1,this.battleDatas[s].isMe=r.userId==t.uid,this.battleDatas[s].oldPos=t.pos,this.battleDatas[s].gunid=t.gunid,this.setTargetFish(s,t.target_id);var a=this.betList.indexOf(t.reward_rate);this.battleDatas[s].lv=this.getLvByStep(a),this.battleDatas[s].step=a}},i.updataBattleData=function(t){var s=this.idToPos[t.uid];if(this.battleDatas){if(!this.battleDatas[s])return;this.battleDatas[s].cost=t.reward_rate/1e6,this.battleDatas[s].score=t.score/1e6,this.battleDatas[s].state=1;var a=this.betList.indexOf(t.reward_rate);this.battleDatas[s].lv=this.getLvByStep(a),this.battleDatas[s].step=a}},i.getTruePos=function(t){return this.idToPos[t]},i.getTruePosByPos=function(t){var s=this.oldPosToId[t];return this.idToPos[s]},i.getDataByOldPos=function(t){var s=this.getTruePosByPos(t);return this.battleDatas[s]},i.resetBattle=function(t){var s=this.idToPos[t.uid];this.battleDatas[s]&&(this.battleDatas[s].state=2,delete this.idToPos[t.uid],delete this.oldPosToId[t.pos],dispatch(o.DISPATCH_LEAVE_BATTLE,s))},i.getLvByStep=function(t){var s=t/e.getInstance().betList.length;return s<=.25?1:s<=.5||s<=.75?2:3},i.setLock=function(t){var s=t.message.pos,a=t.message.fishid,e=this.getTruePosByPos(s);this.battleDatas[e]&&(this.battleDatas[e].is_lock=a>0,this.setTargetFish(e,a),dispatch(o.DISPATCH_LOCK_DATA_CHANGE,e))},i.setTargetFish=function(t,s){this.battleDatas[t].target_id=s},i.getLock=function(t){return this.battleDatas[t].target_id},i.getMyData=function(){var t=this.idToPos[r.userId];return t&&this.battleDatas[t]?this.battleDatas[t]:null},i.getMyNewPos=function(){return this.idToPos[r.userId]},i.reset=function(){this.resetInfo(),this.idToPos={},this.oldPosToId={}},i.destroy=function(){this.battleDatas={},this.idToPos={},this.oldPosToId={}},a(e,[{key:"data",get:function(){return App.dataCenter.get(n)}}]),e}(i()));e._RF.pop()}}}));

System.register("chunks:///_virtual/BatterScoin.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,r,o,a,c,u,l,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,u=t.Label,l=t.Animation,p=t.Component}],execute:function(){var s,f,m,y,d;o._RF.push({},"d7115VmG9JLwoFRlj/bS3qU","BatterScoin",void 0);var h=a.ccclass,v=a.property;t("BatterScoin",(s=h("BatterScoin"),f=v({type:c}),s((d=n((y=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(n,"winNum",d,r(n)),n}e(n,t);var o=n.prototype;return o.addEvents=function(){},o.play=function(t){var n;this.winNum.getComponent(u).string="+"+t,null==(n=this.winNum.getComponent(l))||n.play("coinNum")},n}(p)).prototype,"winNum",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/BatterScoinGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BatterScoin.ts"],(function(t){var n,e,o,i,r,c,a,s,u,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Prefab,s=t.instantiate,u=t.Component},function(t){l=t.BatterScoin}],execute:function(){var h,p,d,f,v;r._RF.push({},"11a08TRA4hBopHdTG8eztVx","BatterScoinGroup",void 0);var y=c.ccclass,B=c.property;t("BatterScoinGroup",(h=y("BatterScoinGroup"),p=B({type:a}),h((v=n((f=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,o(n,"scorePf",v,i(n)),n.count=0,n.maxCount=20,n.callBack=null,n.val=0,n}e(n,t);var r=n.prototype;return r.addEvents=function(){},r.onEnable=function(){this.go()},r.init=function(t,n){this.callBack=t,this.val=n},r.go=function(){this.schedule(this.addScore,.1)},r.addScore=function(){var t,n=this,e=s(this.scorePf);if(this.node.addChild(e),e.setPosition(0,4*this.count),this.count++,this.count==this.maxCount)return this.unschedule(this.addScore),null==(t=e.getComponent(l))||t.play(this.val),void this.scheduleOnce((function(){n.callBack&&n.callBack(),n.node.removeFromParent(),n.node.destroy()}),1)},n}(u)).prototype,"scorePf",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/BatterScoinList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BatterScoinGroup.ts","./BatterModel.ts"],(function(t){var e,o,i,n,r,a,s,c,u,l,p,d,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Prefab,c=t.Node,u=t.instantiate,l=t.tween,p=t.v3,d=t.Component},function(t){f=t.BatterScoinGroup},function(t){h=t.BatterModel}],execute:function(){var v,m,g,b,y,B,G;r._RF.push({},"98a39VGQzhOKrdGVubUfNgm","BatterScoinList",void 0);var P=a.ccclass,S=a.property;t("BatterScoinList",(v=P("BatterScoinList"),m=S({type:s}),g=S({type:c}),v((B=e((y=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"scoreGroupPf",B,n(e)),i(e,"moveNode",G,n(e)),e.pos=0,e.addPosX=-13,e.idx=0,e.moveIdx=0,e}o(e,t);var r=e.prototype;return r.addEvents=function(){},r.onEnable=function(){},r.go=function(){},r.init=function(t){this.pos=t},r.addScoreGroup=function(t){var e,o=this;if(this.moveNode.children.length>=5)h.getInstance().battleDatas[this.pos].coins.push(t);else{var i=u(this.scoreGroupPf);i.setPosition(this.addPosX-29*this.idx,8),this.moveNode.addChild(i),this.idx++,null==(e=i.getComponent(f))||e.init((function(){o.moveIdx++,o.moveRight(1)}),t)}},r.moveRight=function(t){var e=this;l(this.moveNode).to(t,{position:p(29*this.moveIdx)}).call((function(){var t=h.getInstance().battleDatas[e.pos].coins.pop();t&&t>0&&e.addScoreGroup(t)})).start()},e}(d)).prototype,"scoreGroupPf",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(y.prototype,"moveNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/BgView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData2.ts","./EventComponent.ts","./FishEvent.ts","./SubGameDefines2.ts"],(function(t){var e,n,i,r,a,o,s,c,u,h,p,l,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,s=t._decorator,c=t.Node,u=t.Animation},function(t){h=t.SubGameData},function(t){p=t.default},function(t){l=t.FishEvent},function(t){g=t.EventName}],execute:function(){var d,f,b,v,m,I,S,y,A;o._RF.push({},"221beNXfqVIi4xCLGy5gNmO","BgView",void 0);var _=s.ccclass,D=s.property;t("BgView",(d=_("BgView"),f=D({type:c}),b=D({type:c}),v=D({type:c}),d((S=e((I=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"bg1",S,r(e)),i(e,"bg2",y,r(e)),i(e,"bg3",A,r(e)),e.bgArr=[],e.curIdx=0,e.time=1,e}n(e,t);var o=e.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad.call(this),this.bgArr=[this.bg1,this.bg2,this.bg3]},o.addEvents=function(){this.onD(l.DISPATCH_CHANGE_SCENE,this.changeScene),this.onD(l.DISPATCH_INIT_BG,this.showSceneNow),this.onD(l.DISPATCH_SHARE_BG,this.shareBg),this.onD(l.DISPATCH_SHARE_BG_STOP,this.shareBgStop)},o.onEnable=function(){var t=this.data.mapId,e=this.mapTo123(t);this.curIdx=e,this.bgArr.forEach((function(t,n){t.active=n==e}))},o.mapTo123=function(t){return t%3},o.shareBg=function(t){void 0===t&&(t=!1);var e=this.node.getComponent(u);if(e){var n=t?"zhenpingLoop":"zhenping";e.play(n)}},o.shareBgStop=function(){var t;null==(t=this.node.getComponent(u))||t.stop()},o.showSceneNow=function(){var t=this.bgArr[this.curIdx],e=this.data.mapId,n=this.mapTo123(e);t.active=!1,this.curIdx=n,this.bgArr[this.curIdx].active=!0,dispatch(g.PLAY_MUSIC,"audio/bgm_deep_sea0"+(e+1))},o.changeScene=function(){var t=this,e=this.bgArr[this.curIdx],n=this.data.mapId,i=this.mapTo123(n);this.scheduleOnce((function(){e.active=!1,t.curIdx=i,t.bgArr[t.curIdx].active=!0}),2.4)},a(e,[{key:"data",get:function(){return App.dataCenter.get(h)}}]),e}(p)).prototype,"bg1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(I.prototype,"bg2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(I.prototype,"bg3",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=I))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FishEvent.ts","./BatterModel.ts","./BaseFish.ts","./GameSender2.ts","./BulletModel.ts","./Global.ts","./FishModel.ts","./SpineFish.ts","./Fish.ts"],(function(t){var i,e,n,o,s,r,a,l,c,u,h,d,y,p,v,g,f,b,C,P,m,_,w;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,c=t.Vec3,u=t.BoxCollider2D,h=t.Contact2DType,d=t.UIOpacity,y=t.UITransform,p=t.Component},function(t){v=t.FishEvent},function(t){g=t.BatterModel},function(t){f=t.BaseFish},function(t){b=t.GameSender},function(t){C=t.BulletModel},function(t){P=t.Global},function(t){m=t.FishModel},function(t){_=t.SpineFish},function(t){w=t.Fish}],execute:function(){var M,B,T,I,x,F,D,S,z,A,k;r._RF.push({},"61864oPd0BLT6CqgYgsDLti","Bullet",void 0);var L=a.ccclass,N=a.property;t("Bullet",(M=L("Bullet"),B=N({type:l}),T=N({type:l}),I=N({type:l}),x=N({type:l}),M((S=i((D=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(i=t.call.apply(t,[this].concat(s))||this).startPosition=new c,i.targetPosition=new c,i.velocity=new c,i.speed=1e3,i.boundary=new c(1280,720,0),i.lvs=[],i.curLv=1,i.own=-1,i.uid=0,i.target_id=0,i.type=1,n(i,"lv_1",S,o(i)),n(i,"lv_2",z,o(i)),n(i,"lv_3",A,o(i)),n(i,"collider",k,o(i)),i.turnConut=0,i}e(i,t);var r=i.prototype;return r.start=function(){},r.onLoad=function(){var t=this.collider.getComponent(u);t&&t.on(h.BEGIN_CONTACT,this.onBeginContact,this)},r.init=function(t,i,e,n,o){var s;this.startPosition=t,this.targetPosition=i,this.own=n,this.uid=o,n>2&&(i.y=720-i.y),this.node.setPosition(this.startPosition),c.subtract(this.velocity,this.targetPosition,this.startPosition),c.normalize(this.velocity,this.velocity),c.multiplyScalar(this.velocity,this.velocity,this.speed),this.updateDirection(),this.type=e,this.target_id=null==(s=g.getInstance().battleDatas[this.own])?void 0:s.target_id;var r=this.getComponent(d);2==e?(r||(r=this.addComponent(d)),r.opacity=20):r&&(r.opacity=255),this.turnConut=0},r.update=function(t){this.lockMove();var i=this.node.getPosition(),e=c.multiplyScalar(new c,this.velocity,t);c.add(i,i,e),this.node.setPosition(i),this.updateDirection(),this.checkBoundaryCollision()},r.lockMove=function(){var t=this.target_id;if(0!=t){var i=m.getInstance().getNodeFish(t);if(i){var e,n,o=null;if(28==m.getInstance().getFish(t).classid)o=null==(e=i.getComponent(_))?void 0:e.getLockPos();else o=null==(n=i.getComponent(w))?void 0:n.getLockPos();var s=this.node.parent.getComponent(y);this.targetPosition=s.convertToNodeSpaceAR(o),this.startPosition=this.node.getPosition(),c.subtract(this.velocity,this.targetPosition,this.startPosition),c.normalize(this.velocity,this.velocity),c.multiplyScalar(this.velocity,this.velocity,2e3)}else this.target_id=0}},r.updateDirection=function(){var t=new c(this.velocity.x,this.velocity.y,0);c.normalize(t,t);var i=Math.atan2(t.y,t.x);i*=180/Math.PI,i-=90,this.node.eulerAngles=new c(0,0,i)},r.checkBoundaryCollision=function(){var t=this.node.getPosition();t.x<0?(this.velocity.x=Math.abs(this.velocity.x),this.changeTurn(1)):t.x>this.boundary.x&&(this.velocity.x=-Math.abs(this.velocity.x),this.changeTurn(2)),t.y>this.boundary.y?(this.velocity.y=-Math.abs(this.velocity.y),this.changeTurn(3)):t.y<0&&(this.velocity.y=Math.abs(this.velocity.y),this.changeTurn(4))},r.changeTurn=function(t){if(this.turnConut++,this.turnConut>5){var i,e=g.getInstance().getTruePos(P.userId);if(this.own==e)C.getInstance().reductCount(),null==(i=App.senderManager.get(b))||i.c2sHit([{fishids:[],bulletid:this.uid,x:1,y:1}]);this.turnConut=0,this.node.destroy()}},r.setType=function(t){this.lvs[t-1]&&this.lvs[t-1].forEach((function(t){t.active=!0}))},r.onBeginContact=function(t,i,e){var n=t.node,o=i.node,s=g.getInstance().getTruePos(P.userId),r=this.own==s,a=this.target_id;if(0==a||!o||Number(o.getComponent(f).sprite.uid)==a){var l=n.getWorldPosition();if(2!=this.type&&dispatch(v.DISPATCH_ADD_NET,{startPosition:l,own:this.own,target_id:this.target_id,uid:this.uid,isMe:r}),n.parent.destroy(),2==this.type){var c=n.getWorldPosition(),u=o.getComponent(f);if(!u)return;var h=u.sprite;if(!h)return;var d,y=Number(h.uid);if(o.getComponent(f).hit(),r)C.getInstance().reductCount(),null==(d=App.senderManager.get(b))||d.c2sHit([{fishids:[y],bulletid:this.uid,x:c.x,y:c.y}])}}},s(i,[{key:"sender",get:function(){return App.senderManager.get(b)}}]),i}(p)).prototype,"lv_1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=i(D.prototype,"lv_2",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=i(D.prototype,"lv_3",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=i(D.prototype,"collider",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=D))||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/BulletModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton4.ts"],(function(t){var n,o,e;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.Singleton}],execute:function(){o._RF.push({},"3f785MwaXtGTocwh94hXaUW","BulletModel",void 0);t("BulletModel",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),u=0;u<o;u++)e[u]=arguments[u];return(n=t.call.apply(t,[this].concat(e))||this).shootId=1,n.count=0,n}n(o,t);var e=o.prototype;return e.destroy=function(){this.count=0},e.addCount=function(){this.count++},e.reductCount=function(){this.count--,this.count<0&&(this.count=0)},e.customizeId=function(){return o.getInstance().shootId=++o.getInstance().shootId%1e4,o.getInstance().shootId},e.getIdByUid=function(t){var n=t.indexOf("_");return Number(t.substring(n+1))},e.getIdByPos=function(t){var n=t.indexOf("_");return Number(t.substring(0,n))},o}(e()));o._RF.pop()}}}));

System.register("chunks:///_virtual/BullView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent.ts","./Bullet.ts","./SubGameData2.ts","./ZhuangBullet.ts"],(function(t){var e,n,i,o,l,a,r,u,s,c,p,d,f,h,y,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,l=t.createClass},function(t){a=t.cclegacy,r=t._decorator,u=t.Prefab,s=t.Game,c=t.PhysicsSystem2D,p=t.UITransform,d=t.instantiate},function(t){f=t.default},function(t){h=t.FishEvent},function(t){y=t.Bullet},function(t){g=t.SubGameData},function(t){b=t.ZhuangBullet}],execute:function(){var v,B,m,D,P,C,w;a._RF.push({},"e2cbe7R7bNLkonAXzq9VkLy","BullView",void 0);var E=r.ccclass,A=r.property;t("BullView",(v=E("BullView"),B=A({type:u}),m=A({type:u}),v((C=e((P=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,i(e,"bullPf",C,o(e)),i(e,"ZhuangBullet",w,o(e)),e}n(e,t);var a=e.prototype;return a.addEvents=function(){this.onD(h.DISPATCH_ADD_BULL,this.addBull),this.onG(s.EVENT_HIDE,this.onEnterBackground)},a.onEnterBackground=function(){this.node.removeAllChildren()},a.onLoad=function(){t.prototype.onLoad.call(this),this.initPhysicsSystem2D()},a.onEnable=function(){},a.clickView=function(t){},a.initPhysicsSystem2D=function(){c.instance.enable=!0},a.addBull=function(t){var e=this.node.getComponent(p),n=e.convertToNodeSpaceAR(t.startPosition),i=e.convertToNodeSpaceAR(t.targetPosition);if(1==t.type||2==t.type){var o,l=d(this.bullPf);null==(o=l.getComponent(y))||o.init(n,i,t.type,t.own,t.uid),this.node.addChild(l)}else if(3==t.type){var a,r=d(this.ZhuangBullet);null==(a=r.getComponent(b))||a.init(n,i,t.type,t.own,t.uid),this.node.addChild(r)}},a.onDisable=function(){this.node.removeAllChildren()},l(e,[{key:"data",get:function(){return App.dataCenter.get(g)}}]),e}(f)).prototype,"bullPf",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(P.prototype,"ZhuangBullet",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=P))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/ClickView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent.ts","./GameSender2.ts","./BulletModel.ts","./SubGameConstants2.ts","./BatterModel.ts","./FishModel.ts","./SubGameData2.ts","./SubGameDefines2.ts","./SpineFish.ts","./Fish.ts"],(function(t){var i,e,s,n,o,c,h,a,u,l,r,d,T,f,C,g,k,S,D,_,A,m;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy,n=t._decorator,o=t.NodeEventType,c=t.Game,h=t.UITransform,a=t.v3,u=t.Vec3,l=t.v2},function(t){r=t.default},function(t){d=t.FishEvent},function(t){T=t.GameSender},function(t){f=t.BulletModel},function(t){C=t.getConfig,g=t.SubGameConstants},function(t){k=t.BatterModel},function(t){S=t.FishModel},function(t){D=t.SubGameData},function(t){_=t.EventName},function(t){A=t.SpineFish},function(t){m=t.Fish}],execute:function(){var E;s._RF.push({},"26d66RtlT1Dr6jeADwxrp1G","ClickView",void 0);var y=n.ccclass;t("ClickView",y("ClickView")(E=function(t){function s(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).cdTime=.2,i.clickPositionVec2=null,i.lock=!1,i}i(s,t);var n=s.prototype;return n.addEvents=function(){this.node.on(o.TOUCH_START,this.onTouchStart,this),this.node.on(o.TOUCH_MOVE,this.onTouchMove,this),this.node.on(o.TOUCH_END,this.onTouchEnd,this),this.node.on(o.TOUCH_CANCEL,this.onTouchEnd,this),this.onD(d.DISPATCH_CHANGE_LOCK,this.changeStateLock),this.onD(d.DISPATCH_LOCK_DATA_CHANGE,this.changeLock),this.onD(d.DISPATCH_CHANGE_AUTO,this.changeAuto),this.onD(d.DISPATCH_CANCEL_LOCK_AUTO,this.cancelFire),this.onD(d.DISPATCH_ZHUANGTOU_AUTOSHOOT,this.shootZT),this.onD(d.DISPATCH_CHANGE_SCENE,this.changeScene),this.onD("NetIsClose",this.cancelFire),this.onG(c.EVENT_HIDE,this.onEnterBackground)},n.onEnable=function(){},n.onTouchStart=function(t){var i=this;if(!this.lock&&(this.lock=!0,this.scheduleOnce((function(){i.lock=!1}),.15),console.log("------  点击"),dispatch(d.DISPATCH_CLOSE_MORE),!this.data.isLockIng)){var e=t.getUILocation();this.clickPositionVec2=e,dispatch(d.DISPATCH_MOUSE_MOVE,e),this.data.isAuto||(this.CheckTouchFish(e),this.fireTask(),this.schedule(this.fireTask,this.cdTime))}},n.CheckTouchFish=function(t){var i,e=S.getInstance().fishNodes;for(var s in e){var n=e[Number(s)];i||(i=n.parent.getComponent(h).convertToNodeSpaceAR(a(t.x,t.y,0))),u.distance(n.position,i);break}},n.onTouchMove=function(t){this.clickPositionVec2=t.getUILocation(),this.clickPositionVec2.y<85&&(this.clickPositionVec2.y=85),dispatch(d.DISPATCH_MOUSE_MOVE,this.clickPositionVec2)},n.onTouchEnd=function(){this.unschedule(this.fireTask),this.myData&&this.myData.canShootZhuan&&!this.myData.isChangePao&&this.shootZT()},n.fireTask=function(){this.clickView()},n.clickView=function(){this.chargeCanShoot()&&this.shootReq(this.clickPositionVec2.x,this.clickPositionVec2.y,1)},n.shootReq=function(t,i,e){var s;if(void 0===e&&(e=1),this.myData){var n=f.getInstance().customizeId(),o=Math.floor(100*t)/100,c=Math.floor(100*i)/100,h=2;3==e&&(h=3),null==(s=this.sender)||s.c2sFire({angle:1,id:n,btype:h,x:o,y:c});var a={};a.x=o,a.y=c,a.pos=this.myData.oldPos,a.uid=a.pos+"_"+n,this.myData.score-=this.myData.cost,dispatch(d.DISPATCH_UPDATE_SCORE,this.myData.score),dispatch(d.DISPATCH_SHOOT,a,e),3!=h&&f.getInstance().addCount()}},n.chargeCanShoot=function(){return(!this.myData||!this.myData.canShootZhuan)&&(f.getInstance().count>=C().MAX_BULLET_COUNT?(dispatch(d.DISPATCH_SHOW_TIP,"He bullet has reached its upper limit"),!1):!(this.myData&&this.myData.score<this.myData.cost)||(this.cancelFire(),null==(t=this.sender)||t.gunChange(1),dispatch(d.DISPATCH_SHOW_TIP,"GOLD SHORTAGE!"),!1));var t},n.lockFire=function(){if(this.chargeCanShoot()&&this.myData){var t=this.myData.target_id,i=S.getInstance().getFish(t);if(i){var e,s=S.getInstance().getNodeFish(t);if(!s)return this.myData.target_id=0,this.unschedule(this.lockFire),void(null==(e=this.sender)||e.c2sCancleLocking());var n,o,c=null;if(28==i.classid)c=null==(n=s.getComponent(A))?void 0:n.getLockPos();else c=null==(o=s.getComponent(m))?void 0:o.getLockPos();this.clickPositionVec2=l(c.x,c.y),this.shootReq(c.x,c.y,2)}else{var h,a,u=S.getInstance().getMaxRateId();if(null!=u)null==(h=this.sender)||h.c2sChangeLocking(Number(u));else null==(a=this.sender)||a.c2sCancleLocking()}}},n.changeStateLock=function(){this.node&&(this.data.isLockIng?this.node.pauseSystemEvents(!1):this.node.resumeSystemEvents(!1))},n.changeLock=function(t){if(t&&this.myData){var i=this.data.isLockIng,e=this.myData.target_id;i&&e>0?(this.schedule(this.lockFire,this.cdTime),this.unschedule(this.autoFire)):this.unschedule(this.lockFire)}},n.autoFire=function(){this.chargeCanShoot()&&this.data.mapState!=C().MapState.Changing&&(this.data.isAuto?(null==this.clickPositionVec2&&(this.clickPositionVec2=l(640,320)),dispatch(d.DISPATCH_MOUSE_MOVE,this.clickPositionVec2),this.shootReq(this.clickPositionVec2.x,this.clickPositionVec2.y,1)):this.unschedule(this.autoFire))},n.changeAuto=function(){this.data.isAuto?this.schedule(this.autoFire,this.cdTime):this.unschedule(this.autoFire)},n.cancelFire=function(){this.unschedule(this.autoFire),this.unschedule(this.lockFire),this.unschedule(this.fireTask),dispatch(d.DISPATCH_CANCEL_AUTO_LOCK),dispatch(_.STOP_EFFECT,g.AudioSource.Fish_suoding)},n.shootZT=function(){var t;this.myData.canShootZhuan=!1,this.shootReq(this.clickPositionVec2.x,this.clickPositionVec2.y,3),dispatch(_.PLAY_SOUND,g.AudioSource.Fish_Drill02),null==(t=this.sender)||t.gunChange(1)},n.changeScene=function(){var t;null==(t=this.sender)||t.c2sCancleLocking()},n.onEnterBackground=function(){this.cancelFire()},n.onDisable=function(){this.unschedule(this.autoFire),this.unschedule(this.lockFire),this.unschedule(this.fireTask),this.clickPositionVec2=null},n.onDestroy=function(){t.prototype.onDestroy.call(this),this.node.off(o.TOUCH_START,this.onTouchStart,this),this.node.off(o.TOUCH_MOVE,this.onTouchMove,this),this.node.off(o.TOUCH_END,this.onTouchEnd,this),this.node.off(o.TOUCH_CANCEL,this.onTouchEnd,this)},e(s,[{key:"sender",get:function(){return App.senderManager.get(T)}},{key:"data",get:function(){return App.dataCenter.get(D)}},{key:"myData",get:function(){return k.getInstance().getMyData()}}]),s}(r))||E);s._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigGetter.ts",["cc","./fish_Config.ts","./pao_Config.ts"],(function(n){var t,e,o;return{setters:[function(n){t=n.cclegacy},function(n){e=n.fish_Config},function(n){o=n.pao_Config}],execute:function(){n("getConfigClass",(function(n,t){switch(n){case i.fish:return e.getInstance().getConfig(t);case i.pao:return o.getInstance().getConfig(t);default:throw new Error("No configuration class found for type: "+n)}})),t._RF.push({},"b1232jvdnhOe7Xn8CtXxMW8","ConfigGetter",void 0);var i=n("ConfigType",function(n){return n[n.fish=0]="fish",n[n.pao=1]="pao",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/EaseFun.ts",["cc"],(function(n){var u;return{setters:[function(n){u=n.cclegacy}],execute:function(){u._RF.push({},"96be6MPyL5Bp4YAg1pTWT4N","EaseFun",void 0);n("default",function(){function n(){}return n.linearNone=function(n,u,t,c){return t*(n/c)+u},n.cubicIn=function(n,u,t,c){return t*(n/=c)*n*n+u},n.cubicInOut=function(n,u,t,c){return(n/=.5*c)<1?.5*t*n*n*n+u:.5*t*((n-=2)*n*n+2)+u},n.cubicOut=function(n,u,t,c){return t*((n=n/c-1)*n*n+1)+u},n.quintIn=function(n,u,t,c){return t*(n/=c)*n*n*n*n+u},n.quintInOut=function(n,u,t,c){return(n/=.5*c)<1?.5*t*n*n*n*n*n+u:.5*t*((n-=2)*n*n*n*n+2)+u},n.quintOut=function(n,u,t,c){return t*((n=n/c-1)*n*n*n*n+1)+u},n}());u._RF.pop()}}}));

System.register("chunks:///_virtual/EffView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData2.ts","./EventComponent.ts","./FishEvent.ts","./FishModel.ts","./SubGameDefines2.ts","./SubGameConstants2.ts","./Decorators.ts","./GameLogic2.ts","./ZhaDan.ts","./ZhuanBoom.ts","./ConfigGetter.ts","./BatterModel.ts"],(function(t){var e,n,i,o,a,s,r,l,f,u,h,c,m,g,p,d,b,y,v,C,S,B,w,I,A,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.Node,f=t.Prefab,u=t.sp,h=t.UITransform,c=t.instantiate,m=t.Label},function(t){g=t.SubGameData},function(t){p=t.default},function(t){d=t.FishEvent},function(t){b=t.FishModel},function(t){y=t.EventName},function(t){v=t.SubGameConstants},function(t){C=t.inject},function(t){S=t.GameLogic},function(t){B=t.ZhaDan},function(t){w=t.ZhuanBoom},function(t){I=t.getConfigClass,A=t.ConfigType},function(t){P=t.BatterModel}],execute:function(){var E,z,D,N,_,W,L,T,k,F,O,G,M,Z,V,H,R,U,x,Y,j;s._RF.push({},"5c1ecMUhxRPb5+C2947vn+Y","EffView",void 0);var q=r.ccclass,J=r.property;t("EffView",(E=q("EffView"),z=C({type:S,name:"logic"}),D=J({type:l}),N=J({type:l}),_=J({type:l}),W=J({type:l}),L=J({type:l}),T=J({type:l}),k=J({type:f}),F=J({type:f}),E((M=e((G=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"logic",M,o(e)),i(e,"boomEff",Z,o(e)),i(e,"samellBoomEff",V,o(e)),i(e,"bigwin",H,o(e)),i(e,"bigNum",R,o(e)),i(e,"zhadan",U,o(e)),i(e,"zhuanBoomView",x,o(e)),i(e,"zhadanAni",Y,o(e)),i(e,"ZhuanBoomItem",j,o(e)),e.bigWinIsPlayIng=new Map,e.bigWinList=[],e.effArr=[],e}n(e,t);var s=e.prototype;return s.update=function(t){},s.addEvents=function(){var t=this;this.onD(d.DISPATCH_BIG_BOOM,this.playBigBoom),this.onD(d.DISPATCH_BIG_WIN,this.addBigWin),this.onD(d.DISPATCH_ZHADAN,this.playZhadan2),this.onD(d.DISPATCH_SAMLL_BOOM,this.smallBoom),this.onD(d.DISPATCH_ZHUANGTOU_BOOM,this.zhuanboomAni),this.onD(d.DISPATCH_BIG_BOOM_SPE,this.addBigWin2),this.zhadan.getComponent(u.Skeleton).setCompleteListener((function(){t.zhadan.active=!1})),this.boomEff.getComponent(u.Skeleton).setCompleteListener((function(){t.boomEff.active=!1})),this.samellBoomEff.getComponent(u.Skeleton).setCompleteListener((function(){t.samellBoomEff.active=!1}))},s.onEnable=function(){window.EffView=this},s.playBigBoom=function(t){var e=t.fish,n=b.getInstance().getNodeFish(e.uid);if(n){var i=b.getInstance().getFish(e.uid),o=i.classid;i.fishid>0&&(o=i.fishid);var a=I(A.fish,o+"");if(i&&2==a.goldNum){var s=null==n?void 0:n.getWorldPosition(),r=this.node.getComponent(h).convertToNodeSpaceAR(s);this.boomEff.setPosition(r),this.boomEff.active=!0,this.boomEff.getComponent(u.Skeleton)&&(this.boomEff.getComponent(u.Skeleton).animation="boom")}}},s.zhuanboomAni=function(t,e,n,i){var o=this.node.getComponent(h).convertToNodeSpaceAR(t),a=c(this.ZhuanBoomItem);a.parent=this.zhuanBoomView,a.setPosition(o),a.getComponent(w).init(e,n,i),dispatch(y.PLAY_SOUND,v.AudioSource.Fish_Drill04)},s.smallBoom=function(t){var e=t.fish,n=b.getInstance().getNodeFish(e.uid);if(n){var i=b.getInstance().getFish(e.uid),o=i.classid;i.fishid>0&&(o=i.fishid);var a=I(A.fish,o+"");if(i&&1==a.goldNum){var s=null==n?void 0:n.getWorldPosition(),r=this.node.getComponent(h).convertToNodeSpaceAR(s);this.samellBoomEff.setPosition(r),this.samellBoomEff.active=!0,this.samellBoomEff&&this.samellBoomEff.getComponent(u.Skeleton)&&(this.samellBoomEff.getComponent(u.Skeleton).animation="boom"),dispatch(y.PLAY_SOUND,v.AudioSource.Fish_win)}}},s.playZhadan=function(){this.zhadan.active=!0,this.zhadan.getComponent(u.Skeleton).animation="boom"},s.playZhadan2=function(t,e,n){var i,o=this.node.getComponent(h).convertToNodeSpaceAR(t),a=c(this.zhadanAni);a.parent=this.zhuanBoomView,a.setPosition(o),a.active=!0,null==(i=a.getComponent(B))||i.init(n,e),dispatch(y.PLAY_SOUND,v.AudioSource.Fish_baozha)},s.addBigWin2=function(t){if(2==I(A.fish,t.fishType+"").goldNum){var e={fishType:t.fishType,own:t.pos,score:t.score,target:t.targetPos};this.bigWinIsPlayIng.get(t.pos)?this.bigWinList.push(e):(this.bigWinIsPlayIng.set(t.pos,!0),this.playBigWin(e))}},s.addBigWin=function(t){var e=b.getInstance().getFish(t.fish.uid),n=e.classid;e.fishid>0&&(n=e.fishid);var i=I(A.fish,n+"");if(e&&2==i.goldNum){var o={fishType:n,own:t.own,score:t.fish.score,target:t.targetPos};this.bigWinIsPlayIng.get(t.own)?this.bigWinList.push(o):(this.bigWinIsPlayIng.set(t.own,!0),this.playBigWin(o))}},s.playBigWin=function(t){var e,n=this,i=this.node.getComponent(h).convertToNodeSpaceAR(t.target);1==t.own||2==t.own?i.y+=150:i.y-=150,1==t.own||3==t.own?i.x+=35:i.x-=35;var o=c(this.bigwin);o.setPosition(i),o.active=!0,this.node.addChild(o),this.effArr.push(o),null==(e=o.getComponent(u.Skeleton))||e.setSkin(t.fishType+""),o.getComponent(u.Skeleton).animation="intro",this.bigNum.active=!0;var a=o.getChildByName("bigNum");a.active=!0;var s=this.formatNumber(t.score/1e6*P.getInstance().coinRate);a.getComponent(m).string=s,o.getComponent(u.Skeleton).setCompleteListener((function(){o.getComponent(u.Skeleton).animation="idle",o.getComponent(u.Skeleton).setCompleteListener((function(){o.getComponent(u.Skeleton).animation="end",a.active=!1,o.getComponent(u.Skeleton).setCompleteListener((function(){if(o.removeFromParent(),o.destroy(),n.bigWinList.length>0){var e=n.bigWinList.pop();n.playBigWin(e)}else n.bigWinIsPlayIng.set(t.own,!1)}))}))})),dispatch(y.PLAY_SOUND,v.AudioSource.Fish_win_Small_Prize)},s.formatNumber=function(t){return Number.isInteger(t)?t.toString():t.toFixed(1)},s.onDestroy=function(){},s.onDisable=function(){this.bigWinIsPlayIng.clear(),this.bigWinList=[],this.effArr.forEach((function(t){t&&(t.removeFromParent(),t.destroy())})),this.effArr=[],this.zhuanBoomView.removeAllChildren()},a(e,[{key:"data",get:function(){return App.dataCenter.get(g)}}]),e}(p)).prototype,"logic",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(G.prototype,"boomEff",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(G.prototype,"samellBoomEff",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(G.prototype,"bigwin",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(G.prototype,"bigNum",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(G.prototype,"zhadan",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(G.prototype,"zhuanBoomView",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(G.prototype,"zhadanAni",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(G.prototype,"ZhuanBoomItem",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=G))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/EntryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData2.ts","./Decorators.ts","./GameLogic2.ts","./EventComponent.ts","./FishEvent.ts"],(function(t){var e,i,n,r,a,o,u,l,c,s,p,f,m,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,u=t._decorator,l=t.Label,c=t.CCInteger},function(t){s=t.SubGameData},function(t){p=t.inject},function(t){f=t.GameLogic},function(t){m=t.default},function(t){y=t.FishEvent}],execute:function(){var g,d,b,h,v,E,D,I,w,z,C;o._RF.push({},"76909CwRElLurEXzauU08VN","EntryItem",void 0);var _=u.ccclass,x=u.property;t("EntryItem",(g=_("EntryItem"),d=x({type:l}),b=x({type:l}),h=p({type:f,name:"logic"}),v=x({type:c,tooltip:"编号"}),g((I=e((D=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"gum",I,r(e)),n(e,"limit",w,r(e)),n(e,"logic",z,r(e)),n(e,"idx",C,r(e)),e}i(e,t);var o=e.prototype;return o.addEvents=function(){this.onD(y.DISPATCH_ENTRY_UPDATE,this.updateView)},o.onEnable=function(){},o.updateView=function(){var t=this.data.roomTypeInfo.limit[this.idx],e=this.data.roomTypeInfo.limit[this.idx].coin_rate;if(t){var i=t.min,n=t.max;this.gum.string=i/1e6*e+"-"+n/1e6*e,this.limit.string=t.limitBalance/1e6*e+""}},a(e,[{key:"data",get:function(){return App.dataCenter.get(s)}}]),e}(m)).prototype,"gum",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(D.prototype,"limit",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(D.prototype,"logic",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(D.prototype,"idx",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=D))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/EntryView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData2.ts","./Decorators.ts","./GameLogic2.ts","./EventComponent.ts","./SubGameDefines2.ts","./SubGameConstants2.ts","./GameSender2.ts","./CommonEvent.ts","./SlotGameDefines.ts"],(function(t){var e,n,i,o,r,a,u,c,l,s,p,f,m,d,h,g,y,b,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,u=t._decorator,c=t.Node,l=t.SpriteFrame,s=t.NodeEventType},function(t){p=t.SubGameData},function(t){f=t.inject},function(t){m=t.GameLogic},function(t){d=t.default},function(t){h=t.EventName},function(t){g=t.SubGameConstants},function(t){y=t.GameSender},function(t){b=t.CommonEvent},function(t){_=t.SoundName}],execute:function(){var C,w,S,v,E,I,T,F,G,k,A,z,D,L,V,N,R,M,O;a._RF.push({},"ca73cG4ZuRJ4IDhF6T1Ry2k","EntryView",void 0);var U=u.ccclass,H=u.property;t("EntryView",(C=U("EntryView"),w=H({type:c}),S=f({type:m,name:"logic"}),v=H({type:c}),E=H({type:c}),I=H({type:c}),T=H({type:c}),F=H({type:c}),G=H({type:l}),C((z=e((A=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"testView",z,o(e)),i(e,"logic",D,o(e)),i(e,"enterItem_1",L,o(e)),i(e,"enterItem_2",V,o(e)),i(e,"enterItem_3",N,o(e)),i(e,"node_0",R,o(e)),i(e,"node_1",M,o(e)),i(e,"point",O,o(e)),e.items=[],e}n(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),this.items=[this.enterItem_1,this.enterItem_2,this.enterItem_3],this.initView()},a.addEvents=function(){this.node_0.on(s.TOUCH_START,this.click_1,this),this.node_1.on(s.TOUCH_START,this.click_2,this)},a.click_1=function(){},a.click_2=function(){console.log("2222")},a.onEnable=function(){dispatch(h.PLAY_MUSIC,g.AudioSource.bgm_hall)},a.clickMenuBtns=function(t,e){this.data.roomTypeInfo.limit[e]&&(this.data.roomType=Number(e),this.logic.onConnect(),App.loading.show("Enter the fishing ground...",(function(){}),50,"#FFFFFF"))},a.initView=function(){},a.clickTest=function(){this.testView.active=!0,this.node.active=!1},a.onExitGame=function(){App.loading.show("",(function(){}),5),App.utils.goBackHomeUrl(),dispatch(b.PLAY_EFFECT,_.SOUND_COMMON_CLICK)},a.setRouteConfig=function(t,e){"2"==e?this.data.routeConfig=this.data.routeConfig2:"3"==e&&(this.data.routeConfig=this.data.routeConfig3),"4"==e&&(this.data.routeConfig=this.data.routeConfig4)},r(e,[{key:"sender",get:function(){return App.senderManager.get(y)}},{key:"data",get:function(){return App.dataCenter.get(p)}}]),e}(d)).prototype,"testView",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(A.prototype,"logic",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(A.prototype,"enterItem_1",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(A.prototype,"enterItem_2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(A.prototype,"enterItem_3",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(A.prototype,"node_0",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(A.prototype,"node_1",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(A.prototype,"point",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=A))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/fish_Config.ts",["cc"],(function(a){var e;return{setters:[function(a){e=a.cclegacy}],execute:function(){e._RF.push({},"3c75c2pd8FHaJacn6uW0S7b","fish_Config",void 0),a("fish_Config",function(){function a(){this._config={1:{type:1,subtype:1,atlas:1,className:"Fish",prefab:"fish1/fish1",capturedScale:1,rate:2,goldNum:1,showComeTip:0},2:{type:2,subtype:2,atlas:1,className:"Fish",prefab:"fish2/fish2",capturedScale:1,rate:3,goldNum:1,showComeTip:0},3:{type:3,subtype:3,atlas:1,className:"Fish",prefab:"fish3/fish3",capturedScale:1,rate:4,goldNum:1,showComeTip:0},4:{type:4,subtype:4,atlas:1,className:"Fish",prefab:"fish4/fish4",capturedScale:1,rate:5,goldNum:1,showComeTip:0},5:{type:5,subtype:5,atlas:1,className:"Fish",prefab:"fish5/fish5",capturedScale:1,rate:6,goldNum:1,showComeTip:0},6:{type:6,subtype:6,atlas:1,className:"Fish",prefab:"fish6/fish6",capturedScale:1,rate:7,goldNum:1,showComeTip:0},7:{type:7,subtype:7,atlas:1,className:"Fish",prefab:"fish7/fish7",capturedScale:1,rate:8,goldNum:1,showComeTip:0},8:{type:8,subtype:8,atlas:1,className:"Fish",prefab:"fish8/fish8",capturedScale:1,rate:9,goldNum:1,showComeTip:0},9:{type:9,subtype:9,atlas:1,className:"Fish",prefab:"fish9/fish9",capturedScale:1,rate:10,goldNum:1,showComeTip:0},10:{type:10,subtype:10,atlas:1,className:"Fish",prefab:"fish10/fish10",capturedScale:1,rate:10,goldNum:1,showComeTip:0},11:{type:11,subtype:11,atlas:1,className:"Fish",prefab:"fish11/fish11",capturedScale:1,rate:12,goldNum:1,showComeTip:0},12:{type:12,subtype:12,atlas:1,className:"Fish",prefab:"fish12/fish12",capturedScale:.7,rate:15,goldNum:1,showComeTip:0},13:{type:13,subtype:13,atlas:1,className:"Fish",prefab:"fish13/fish13",capturedScale:1,rate:20,goldNum:1,showComeTip:0},14:{type:14,subtype:14,atlas:1,className:"Fish",prefab:"fish14/fish14",capturedScale:1,rate:25,goldNum:1,showComeTip:0},15:{type:15,subtype:15,atlas:2,className:"Fish",prefab:"fish15/fish15",capturedScale:1,rate:40,goldNum:1,showComeTip:0},16:{type:16,subtype:16,name:"Rocket Shark",atlas:2,className:"Fish",prefab:"fish16/fish16",capturedScale:.7,rate:50,goldNum:2,showComeTip:0,tipNamePath:"zp_rocketshark"},17:{type:17,subtype:17,name:"Glowmare",atlas:2,className:"Fish",prefab:"fish17/fish17",capturedScale:.6,rate:60,goldNum:2,showComeTip:0,tipNamePath:"zp_glowmare"},18:{type:18,subtype:18,name:"Devil Ray",atlas:2,className:"Fish",prefab:"fish18/fish18",capturedScale:.6,rate:65,goldNum:2,showComeTip:0,tipNamePath:"zp_devilray"},19:{type:19,subtype:19,name:"Megalodon",atlas:2,className:"Fish",prefab:"fish19/fish19",capturedScale:.6,rate:70,goldNum:2,showComeTip:0,tipNamePath:"zp_megalodon"},20:{type:20,subtype:20,name:"Golden Shark",atlas:3,className:"Fish",prefab:"fish20/fish20",capturedScale:.5,rate:80,goldNum:2,showComeTip:0,tipNamePath:"zp_goldenshark"},21:{type:21,subtype:21,name:"Golden Whale",atlas:4,className:"Fish",prefab:"fish21/fish21",capturedScale:.5,rate:90,goldNum:2,showComeTip:0,tipNamePath:"zp_glowmare"},22:{type:22,subtype:22,name:"Anglerfish",atlas:5,className:"Fish",prefab:"fish22/fish22",capturedScale:.6,rate:100,goldNum:2,showComeTip:0,tipNamePath:"zp_anglerfish"},23:{type:23,subtype:23,name:"Devil Ray",atlas:6,className:"Fish",prefab:"fish23/fish23",capturedScale:.4,rate:[200,400],goldNum:2,showComeTip:1,tipNamePath:"zp_devilray",tipImgPathIdx:1},24:{type:24,subtype:24,name:"Bomb Crab",atlas:7,className:"Fish",prefab:"fish24/fish24",capturedScale:.7,rate:[100,150],goldNum:2,showComeTip:1,tipNamePath:"zp_bombcrab",tipImgPathIdx:2},25:{type:25,subtype:25,name:"Drill Crab",atlas:8,className:"Fish",prefab:"fish25/fish25",capturedScale:.7,rate:[100,150],goldNum:2,showComeTip:1,tipNamePath:"zp_drillcrab",tipImgPathIdx:3},26:{type:26,subtype:26,name:"Godzilla",atlas:9,className:"Fish",prefab:"fish26/fish26",capturedScale:.3,rate:[200,400],goldNum:2,showComeTip:1,tipNamePath:"zp_godzilla",tipImgPathIdx:4},27:{type:27,subtype:27,name:"Glacius Crocodile",atlas:8,className:"Fish",prefab:"fish27/fish27",capturedScale:.3,rate:[200,400],goldNum:2,showComeTip:1,tipNamePath:"zp_glaciuscrocodile",tipImgPathIdx:5},28:{type:28,subtype:28,name:"Golden Dragon",atlas:10,className:"Fish",prefab:"fish30/fish30",capturedScale:1,rate:[300,1e3],goldNum:3,showComeTip:2,tipNamePath:"zp_goldendragon"},40:{type:40,subtype:40,name:"Golden Dragon",atlas:10,className:"Fish",prefab:"fish40/fish40",capturedScale:1,rate:[300,1e3],goldNum:3,showComeTip:0}}}return a.getInstance=function(){return a.instance||(a.instance=new a),a.instance},a.prototype.getConfig=function(a){return this._config[a]||null},a}()).instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/Fish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseFish.ts","./SubGameDefines2.ts","./ResourceConst.ts"],(function(t){var i,n,o,e,s,a,c,l,u;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,e=t.Animation,s=t.Tween,a=t.Vec3},function(t){c=t.BaseFish},function(t){l=t.EventName},function(t){u=t.getSoundConfig}],execute:function(){var r;n._RF.push({},"72c2fmel+lM77+3vROolbTb","Fish",void 0);var h=o.ccclass;t("Fish",h("Fish")(r=function(t){function n(){for(var i,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(i=t.call.apply(t,[this].concat(o))||this).dieBubble=null,i.similarBubble=null,i.bubbleTime=.5,i}i(n,t);var o=n.prototype;return o.addEvents=function(){t.prototype.addEvents.call(this)},o.playSwim=function(){this.animationCom||(this.animationCom=this.node.getComponent(e)),this.animationCom.play("fish"+this.config.subtype+"Swim")},o.playDieAnimation=function(){if(this.animationCom){this.animationCom.stop();var t="fish"+this.config.subtype+"Die";this.animationCom.getState(t)&&this.animationCom.play(t)}},o.stopDieAnimation=function(){var t;null==(t=this.animationCom)||t.stop()},o.playDieSound=function(){dispatch(l.PLAY_SOUND,u().JumpScore2)},o.getLockPos=function(){return this.ani.node.getWorldPosition()},o.clear=function(){var i;t.prototype.clear.call(this),s.stopAllByTarget(this.node),this.node.setScale(a.ONE),null==(i=this.animationCom)||i.stop()},o.lockChange=function(t){},o.lock=function(){this.lockNode&&(this.lockNode.active=!0)},o.unlock=function(){this.lockNode&&(this.lockNode.active=!1)},n}(c))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/fishClick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseFish.ts","./GameSender2.ts","./SubGameData2.ts","./FishEvent.ts","./EventComponent.ts"],(function(t){var n,e,i,s,a,o,c,r,u,h;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy,s=t._decorator,a=t.NodeEventType},function(t){o=t.BaseFish},function(t){c=t.GameSender},function(t){r=t.SubGameData},function(t){u=t.FishEvent},function(t){h=t.default}],execute:function(){var d;i._RF.push({},"4da8bdsQVJBFYcOZ8ThiO/j","fishClick",void 0);var l=s.ccclass;t("fishClick",l("fishClick")(d=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var s=i.prototype;return s.start=function(){},s.onEnable=function(){this.changeLock()},s.addEvents=function(){this.node.on(a.TOUCH_START,this.clickHandle,this),this.onD(u.DISPATCH_CHANGE_LOCK,this.changeLock)},s.clickHandle=function(){var t,n,e=this.node.parent,i=e.getComponent(o).sprite.uid;if(this.data.isLockIng){this.data.manualLockFish(i,!0),null==(t=this.sender)||t.c2sChangeLocking(i);var s=null==(n=e.getComponent(o))?void 0:n.lockNode;s&&(s.active=!0)}else dispatch(u.DISPATCH_MANUALOCK,i)},s.changeLock=function(){},s.onDestroy=function(){var t,n=null==(t=this.node)?void 0:t.parent;if(n){var e=n.getComponent(o).sprite.uid;e&&e==this.data.ManualLockFishId&&this.data.onManualLockFishDeleted()}this.node.off(a.TOUCH_START,this.clickHandle,this)},e(i,[{key:"data",get:function(){return App.dataCenter.get(r)}},{key:"sender",get:function(){return App.senderManager.get(c)}}]),i}(h))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/FishEvent.ts",["cc"],(function(A){var _;return{setters:[function(A){_=A.cclegacy}],execute:function(){_._RF.push({},"6db98WIdzBNr5E1CGJcSK+W","FishEvent",void 0);A("FishEvent",function(A){return A.DISPATCH_SHOOT="DISPATCH_SHOOT",A.DISPATCH_ADD_BULL="DISPATCH_ADD_BULL",A.DISPATCH_ADD_NET="DISPATCH_ADD_NET",A.DISPATCH_ADD_GOLD="DISPATCH_ADD_GOLD",A.DISPATCH_ADD_SCORE="DISPATCH_ADD_SCORE",A.DISPATCH_ADD_SCOIN="DISPATCH_ADD_SCOIN",A.DISPATCH_ADD_FISH="DISPATCH_ADD_FISH",A.DISPATCH_INIT_BATTLE="DISPATCH_INIT_BATTLE",A.DISPATCH_UPDATA_BATTLE="DISPATCH_UPDATA_BATTLE",A.DISPATCH_LEAVE_BATTLE="DISPATCH_LEAVE_BATTLE",A.DISPATCH_BIG_BOOM="DISPATCH_BIG_BOOM",A.DISPATCH_BIG_BOOM_SPE="DISPATCH_BIG_BOOM_SPE",A.DISPATCH_BOSS_COME="DISPATCH_BOSS_COME",A.DISPATCH_BIG_WIN="DISPATCH_BIG_WIN",A.DISPATCH_ZHADAN="DISPATCH_ZHADAN",A.DISPATCH_TOUCH_CLICKVIEW="DISPATCH_TOUCH_CLICKVIEW",A.DISPATCH_BATTLE_LOCK_HIDE="DISPATCH_BATTLE_LOCK_HIDE",A.DISPATCH_BATTLE_GUNID="DISPATCH_BATTLE_GUNID",A.DISPATCH_ZHUANGTOU_AUTOSHOOT="DISPATCH_ZHUANGTOU_AUTOSHOOT",A.DISPATCH_MOUSE_MOVE="DISPATCH_MOUSE_MOVE",A.DISPATCH_CHANGE_SCENE="DISPATCH_CHANGE_SCENE",A.DISPATCH_SAMLL_BOOM="DISPATCH_SAMLL_BOOM",A.DISPATCH_ZHUANGTOU_BOOM="DISPATCH_ZHUANGTOU_BOOM",A.DISPATCH_DRAGON_DIE="DISPATCH_DRAGON_DIE",A.DISPATCH_UPDATA_LOAD="DISPATCH_UPDATA_LOAD",A.DISPATCH_UPDATA_FISHVIEW="DISPATCH_UPDATA_FISHVIEW",A.DISPATCH_CANCEL_AUTO_LOCK="DISPATCH_CANCEL_AUTO_LOCK",A.DISPATCH_CHANGE_LOCK="DISPATCH_CHANGE_LOCK",A.DISPATCH_LOCK_DATA_CHANGE="DISPATCH_LOCK_DATA_CHANGE",A.DISPATCH_CHANGE_AUTO="DISPATCH_CHANGE_AUTO",A.DISPATCH_ENTRY_UPDATE="DISPATCH_ENTRY_UPDATE",A.DISPATCH_ENTER_ROOM="DISPATCH_ENTER_ROOM",A.DISPATCH_ADD_RATE="DISPATCH_ADD_RATE",A.DISPATCH_INIT_BG="DISPATCH_INIT_BG",A.DISPATCH_SHARE_BG="DISPATCH_SHARE_BG",A.DISPATCH_SHARE_BG_STOP="DISPATCH_SHARE_BG_STOP",A.DISPATCH_GET_ZHUANGTOU="DISPATCH_GET_ZHUANGTOU",A.DISPATCH_CANCEL_LOCK_AUTO="DISPATCH_CANCEL_LOCK_AUTO",A.DISPATCH_EXIT="DISPATCH_EXIT",A.DISPATCH_MARQUEE="DISPATCH_MARQUEE",A.DISPATCH_SMALL_BOSS="DISPATCH_SMALL_BOSS",A.DISPATCH_RETURNTOHOME="DISPATCH_RETURNTOHOME",A.DISPATCH_CLOSE_MORE="DISPATCH_CLOSE_MORE",A.DISPATCH_SHOW_TIP="DISPATCH_SHOW_TIP",A.DISPATCH_UPDATE_SCORE="DISPATCH_UPDATE_SCORE",A.DISPATCH_TEST="DISPATCH_TEST",A.DISPATCH_ONLYONLOCK="DISPATCH_ONLYONLOCK",A.DISPATCH_MANUALOCK="DISPATCH_MANUALOCK",A}({}));_._RF.pop()}}}));

System.register("chunks:///_virtual/FishFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseFish.ts","./Fish.ts","./SpineFish.ts","./Singleton4.ts","./SubGameData2.ts","./ResourceConst.ts","./ObjectPool.ts","./ShadeFish.ts","./TestFish.ts"],(function(t){var e,n,o,i,a,s,c,f,r,u,p,d,l,h,F,g,b;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy,i=t.UIOpacity,a=t.Button,s=t.Node,c=t.Label,f=t.Color},function(t){r=t.BaseFish},function(t){u=t.Fish},function(t){p=t.SpineFish},function(t){d=t.Singleton},function(t){l=t.SubGameData},function(t){h=t.getResConfig},function(t){F=t.ObjectPool},function(t){g=t.ShadeFish},function(t){b=t.TestFish}],execute:function(){o._RF.push({},"85acfgwNCdMq7je3Aay5eb2","FishFactory",void 0);t("FishFactory",function(t){function o(){return t.call(this)||this}e(o,t);var d=o.prototype;return d.getFish=function(t,e,n){if(t){var o=""+h().FISHES_PREFAB_DIR+t.prefab;t.prefab&&F.getInstance().popPrefabNode(o,(function(o){28==t.type?o.addComponent(p):o.addComponent(u),o.addComponent(i);var s=o.getChildByName("clickNode");if(s){var c=s.getComponent(a);c&&c.destroy()}e.call(n,o)}),this)}},d.getShadeFish=function(t,e,n){if(t){var o=""+h().FISHES_PREFAB_DIR+t.prefab;t.prefab&&F.getInstance().popPrefabNode(o,(function(o){o.addComponent(g).init(t.type),o.active=!1,o.parent=e,null==n||n(o)}),this)}},d.getTestFish=function(t,e,n){if(t){var o=""+h().FISHES_PREFAB_DIR+t.prefab;F.getInstance().popPrefabNode(o,(function(o){t.type,o.addComponent(b),e.call(n,o)}),this)}},d.getShowFish=function(t,e,n){if(t){var o=""+h().FISHES_PREFAB_DIR+t.prefab;t.prefab&&F.getInstance().popPrefabNode(o,(function(t){e.call(n,t)}),this)}},d.addLock=function(t){F.getInstance().popPrefabNode(""+h().Lock,(function(e){null!=e&&null!=t&&(e.parent=t,t.getComponent(r).lockNode=e)}),this)},d.addlabel=function(t){var e=new s,n=e.addComponent(c);n.fontSize=40,n.color=new f("#000000"),t.addChild(e),t.getComponent(r).labelNode=e},d.getConfigByType=function(t){return this.data._fishesConfig[t]},n(o,[{key:"data",get:function(){return App.dataCenter.get(l)}}]),o}(d()));o._RF.pop()}}}));

System.register("chunks:///_virtual/FishModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton4.ts","./ConfigGetter.ts","./SubGameData2.ts","./FishEvent.ts","./GameSender2.ts","./BaseFish.ts","./GameService2.ts"],(function(e){var s,t,i,n,r,h,o,a,u,f,l;return{setters:[function(e){s=e.inheritsLoose,t=e.createClass},function(e){i=e.cclegacy},function(e){n=e.Singleton},function(e){r=e.getConfigClass,h=e.ConfigType},function(e){o=e.SubGameData},function(e){a=e.FishEvent},function(e){u=e.GameSender},function(e){f=e.BaseFish},function(e){l=e.GameService}],execute:function(){i._RF.push({},"1f932KWDxZEPpVToLzzzSrL","FishModel",void 0);e("FishModel",function(e){function i(){for(var s,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return(s=e.call.apply(e,[this].concat(i))||this).fishs={},s.fishNodes={},s.lockFishId=null,s.fishMaxNum=1,s.sprites=[],s.spriteIds=[],s.rates=[],s.ratesIds=[],s}s(i,e);var n=i.prototype;return n.addRate=function(e,s){if(this.ratesIds.indexOf(Number(e))>-1)return null;var t={id:e,rate:s};return this.rates.push(t),this.ratesIds.push(Number(e)),this.rates.sort((function(e,s){return s.rate-e.rate})),dispatch(a.DISPATCH_ADD_RATE),this.rates[0].id},n.removeRate=function(e){var s=this.rates.findIndex((function(s){return s.id===e}));-1!==s&&this.rates.splice(s,1);var t=this.ratesIds.indexOf(Number(e));-1!==t&&this.ratesIds.splice(t,1)},n.getMaxRateId=function(){return 0===this.rates.length?null:this.rates[0].id},n.getFishs=function(){var e=[];for(var s in this.fishs)if(Object.prototype.hasOwnProperty.call(this.fishs,s)&&(e.push(Number(s)),e.length>=3))return e},n.getFish=function(e){return this.fishs[e]||null},n.pushFish=function(e,s){this.fishs[e]=s},n.addRateFun=function(e){if(!(this.ratesIds.indexOf(e.uid)>-1)){var s=e.classid;e.fishid>0&&(s=e.fishid);var t=r(h.fish,s+"").rate;"number"==typeof t?this.addRate(e.uid+"",t):Array.isArray(t)&&this.addRate(e.uid+"",Number(t[t.length-1]))}},n.getNodeFish=function(e){return this.fishNodes[e]||null},n.pushNodeFish=function(e,s){this.fishNodes[e]=s},n.clearFishs=function(e,s){var t=this;void 0===s&&(s=!1),e.forEach((function(e){var i,n,r,h=e.uid;if(null!=(i=t.fishNodes)&&i[h]){var o,a,u,l;if(s)null==(a=t.fishNodes)||null==(a=a[h].getComponent(f))||a.playKill();else null==(u=t.fishNodes)||u[h].removeFromParent(),null==(l=t.fishNodes)||l[h].destroy();null==(o=t.fishNodes)||delete o[h]}null!=(n=t.fishs)&&n[h]&&(t.removeRate(h+""),null==(r=t.fishs)||delete r[h])}))},n.cleanFish=function(e,s){var t,i,n;(void 0===s&&(s=!1),null!=(t=this.fishs)&&t[e])&&(this.removeRate(e+""),null==(n=this.fishs)||delete n[e]);if(null!=(i=this.fishNodes)&&i[e]){var r,h,o,a;if(s)null==(h=this.fishNodes)||null==(h=h[e].getComponent(f))||h.playKill();else null==(o=this.fishNodes)||o[e].removeFromParent(),null==(a=this.fishNodes)||a[e].destroy();null==(r=this.fishNodes)||delete r[e]}},n.getSburvivalPercent=function(e){if(!this.fishs[e])return 0;var s=this.fishs[e].born_time,t=this.fishs[e].dead_time-s;return(this.gameService.heartTimeNow-s)/t},n.clearRate=function(){this.rates=[],this.ratesIds=[]},n.destroy=function(){if(this.fishs={},this.rates=[],this.ratesIds=[],this.spriteIds=[],this.fishNodes){for(var e in this.fishNodes)if(Object.prototype.hasOwnProperty.call(this.fishNodes,e)){var s,t,i=Number(e);null==(s=this.fishNodes[i])||s.removeFromParent(),null==(t=this.fishNodes[i])||t.destroy(),delete this.fishNodes[i]}this.fishNodes={}}},t(i,[{key:"gameService",get:function(){return App.serviceManager.get(l)}},{key:"data",get:function(){return App.dataCenter.get(o)}},{key:"sender",get:function(){return App.senderManager.get(u)}}]),i}(n()));i._RF.pop()}}}));

System.register("chunks:///_virtual/FishTestItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(t){var e,n,i,o,s,h,c,r,d,a,u,l,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,h=t._decorator,c=t.Label,r=t.Vec3,d=t.Node,a=t.UITransform,u=t.v3,l=t.Color},function(t){f=t.default}],execute:function(){var T,p,g,v,_;s._RF.push({},"99073k/i/lAd42wZcDIOODQ","FishTestItem",void 0);var y=h.ccclass,E=h.property;t("FishTestItem",(T=y("FishTestItem"),p=E({type:c}),T((_=e((v=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),h=0;h<n;h++)s[h]=arguments[h];return(e=t.call.apply(t,[this].concat(s))||this)._isDragging=!1,e._startPos=new r,e._delta=new r,e.uid=0,i(e,"lab",_,o(e)),e}n(e,t);var s=e.prototype;return s.start=function(){this.node.on(d.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(d.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(d.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(d.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.addEvents=function(){this.onD("show_cancelSelect",this.resetHandle),this.onD("show_delect",this.delectHandle),this.onD("set_x",this.setX),this.onD("set_y",this.setY)},s.onEnable=function(){this.lab.string=this.node.getSiblingIndex()+1+""},s.onTouchStart=function(t){this._isDragging=!0;var e=t.getUILocation();this.node.parent.getComponent(a).convertToNodeSpaceAR(u(e.x,e.y),this._startPos),r.subtract(this._delta,this._startPos,this.node.position),this.select()},s.onTouchMove=function(t){if(this._isDragging){var e=t.getUILocation(),n=new r;this.node.parent.getComponent(a).convertToNodeSpaceAR(u(e.x,e.y),n),r.subtract(n,n,this._delta),this.node.setPosition(n)}},s.onTouchEnd=function(t){this._isDragging=!1,dispatch("show_select",this.uid,this.node.getPosition())},s.resetHandle=function(t){this.uid==t&&this.reset()},s.setX=function(t){this.uid==t.id&&this.node&&this.node.setPosition(t.x,this.node.getPosition().y)},s.setY=function(t){this.uid==t.id&&this.node&&this.node.setPosition(this.node.getPosition().x,t.y)},s.delectHandle=function(t){var e=this;this.uid==t&&this.node?(this.node.removeFromParent(),this.node.destroy()):this.scheduleOnce((function(){e.node&&(e.lab.string=e.node.getSiblingIndex()+1+"")}),.2)},s.select=function(){this.node&&(this.node.setScale(1.5,1.5),this.lab.color=new l("#ffff00"))},s.reset=function(){this.node&&(this.node.setScale(1,1),this.lab.color=new l("#ffffff"))},s.onDestroy=function(){this.node.off(d.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(d.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(d.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(d.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e}(f)).prototype,"lab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/FishTestView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData2.ts","./EventComponent.ts","./TestFish.ts","./FishFactory.ts","./LineRouteFactory.ts","./FishTestItem.ts","./ConfigGetter.ts","./GameService2.ts"],(function(t){var e,i,n,r,o,s,a,u,l,c,h,f,p,d,m,g,y,I,b,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,a=t._decorator,u=t.EditBox,l=t.Node,c=t.Prefab,h=t.instantiate},function(t){f=t.SubGameData},function(t){p=t.default},function(t){d=t.TestFish},function(t){m=t.FishFactory},function(t){g=t.RouteFactory},function(t){y=t.FishTestItem},function(t){I=t.getConfigClass,b=t.ConfigType},function(t){v=t.GameService}],execute:function(){var x,w,F,B,A,_,C,D,S,z,T,N,P,E,R,L,M,X,Y,G,V,k,H;s._RF.push({},"4f2a1sCUVpMNLmoQEreu1pI","FishTestView",void 0);var j=a.ccclass,O=a.property;t("FishTestView",(x=j("FishTestView"),w=O({type:u}),F=O({type:u}),B=O({type:l}),A=O({type:l}),_=O({type:l}),C=O({type:c}),D=O({type:l}),S=O({type:u}),z=O({type:u}),T=O({type:u}),x((E=e((P=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"fishIdInput",E,r(e)),n(e,"roInput",R,r(e)),n(e,"fishBox",L,r(e)),n(e,"showBox",M,r(e)),n(e,"toolBox",X,r(e)),n(e,"toolItem",Y,r(e)),n(e,"itemBox",G,r(e)),n(e,"timeInput",V,r(e)),n(e,"XInput",k,r(e)),n(e,"YInput",H,r(e)),e.isShow=!0,e.classid=1,e.routeid=1,e.curItem=null,e.id=0,e.route=[],e.posArr=[],e.jsonOutput=[],e.preAngle=0,e}i(e,t);var s=e.prototype;return s.addEvents=function(){this.onD("show_select",this.selectHandle)},s.onEnable=function(){},s.change=function(){this.isShow=!this.isShow,this.showBox.active=this.isShow,this.toolBox.active=!this.isShow,this.fishBox.removeAllChildren()},s.setX=function(){dispatch("set_x",{id:this.curItem,x:this.XInput.string})},s.setY=function(){dispatch("set_y",{id:this.curItem,y:this.YInput.string})},s.go=function(){var t=this;this.cleanFIsh();var e={uid:(0,1),type:(0,1),classid:0,fishid:0,born_time:0,routeid:0,offsettype:0,offsetx:0,offsety:0,offsetr:0,dead_time:0};e.classid=Number(this.fishIdInput.string),e.fishid=1,e.born_time=Date.now(),e.routeid=Number(this.roInput.string),e.offsettype=0,e.offsetx=0,e.offsety=0,e.offsetr=0;var i=g.getInstance().getTestLineById2(e.routeid),n=i[i.length-1].t;e.dead_time=Date.now()+n,this.createFish(e,i),i.forEach((function(e){t.addItem(e.x,e.y)})),this.timeInput.string=n+"",this.route=i},s.createFish2=function(t){var e={uid:(0,1),type:(0,1),classid:0,fishid:0,born_time:0,routeid:0,offsettype:0,offsetx:0,offsety:0,offsetr:0,dead_time:0};e.classid=Number(this.fishIdInput.string),e.fishid=1,e.born_time=Date.now(),e.offsettype=0,e.offsetx=0,e.offsety=0,e.offsetr=0;var i=t[t.length-1].t;e.dead_time=Date.now()+i,this.createFish(e,t)},s.yulan=function(){this.fishBox.removeAllChildren();var t=this.newData();t&&this.createFish2(t[0].line)},s.newData=function(){var t=this.itemBox.children;if(0!=t.length){t.forEach((function(t){t.getPosition()})),this.posArr=t.map((function(t){return t.getPosition()}));var e=this.addRoute(),i=e.map((function(t,e){return{x:parseInt(t.x+""),y:parseInt(t.y+""),r:parseInt(t.r+""),t:parseInt(t.t+"")}})),n=[{id:Number(this.roInput.string),line:i,alivetime:e[e.length-1].t}];return this.jsonOutput=n,n}App.alert.show({isRepeat:!1,title:App.getLanguage("90064"),text:"请生成节点",confirmCb:function(t){t&&App.utils.goBackHomeUrl()}})},s.addRoute=function(){for(var t=this.posArr,e=[],i=Number(this.timeInput.string),n=t.length-1,r=0,o=0;o<=n;o++){var s={x:0,y:0,r:0};if(s.x=t[o].x,s.y=t[o].y,o==n)s.r=r;else{var a=t[o+1].x,u=t[o+1].y;r=s.r=this.getAngle(s.x,s.y,a,u)}var l=Number(0==o?0:o==n?i:Math.floor(i/n*o));s.t=l,e.push(s)}return e},s.getAngle=function(t,e,i,n){var r=t-i,o=e-n,s=Math.atan2(o,r)*(180/Math.PI);return r>0?s=180+s:(s=180+s)-this.preAngle>100&&(s-=360),this.preAngle=s,s},s.outData=function(){var t=this.newData();console.log(JSON.stringify(t,null,4))},s.createFish=function(t,e){var i=this,n=I(b.fish,t.classid+"");m.getInstance().getTestFish(n,(function(r){var o;null==(o=r.getComponent(d))||o.init(t,n,e),i.fishBox.addChild(r)}),this)},s.addItem=function(t,e){var i=h(this.toolItem);this.id++,i.getComponent(y).uid=this.id,i.parent=this.itemBox,i.setPosition(t,e)},s.delectItem=function(){dispatch("show_delect",this.curItem)},s.selectHandle=function(t,e){t!=this.curItem&&dispatch("show_cancelSelect",this.curItem),this.curItem=t,this.XInput.string=parseInt(e.x+"")+"",this.YInput.string=parseInt(e.y+"")+""},s.cleanFIsh=function(){this.route=[],this.XInput.string="",this.YInput.string="",this.fishBox.removeAllChildren(),this.itemBox.removeAllChildren()},s.addPoint=function(){this.addItem(0,100)},o(e,[{key:"gameService",get:function(){return App.serviceManager.get(v)}},{key:"data",get:function(){return App.dataCenter.get(f)}}]),e}(p)).prototype,"fishIdInput",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(P.prototype,"roInput",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(P.prototype,"fishBox",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(P.prototype,"showBox",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(P.prototype,"toolBox",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(P.prototype,"toolItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(P.prototype,"itemBox",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(P.prototype,"timeInput",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(P.prototype,"XInput",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(P.prototype,"YInput",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=P))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/fishView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData2.ts","./BaseFish.ts","./FishFactory.ts","./EventComponent.ts","./FishEvent.ts","./FishModel.ts","./SubGameConstants2.ts","./ConfigGetter.ts","./SpineFish.ts","./SubGameDefines2.ts","./GameService2.ts"],(function(e){var t,i,n,s,a,o,c,r,u,h,l,p,d,f,g,v,S,F,m,_,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,c=e._decorator,r=e.Node},function(e){u=e.SubGameData},function(e){h=e.BaseFish},function(e){l=e.FishFactory},function(e){p=e.default},function(e){d=e.FishEvent},function(e){f=e.FishModel},function(e){g=e.getConfig,v=e.SubGameConstants},function(e){S=e.getConfigClass,F=e.ConfigType},function(e){m=e.SpineFish},function(e){_=e.EventName},function(e){y=e.GameService}],execute:function(){var C,A,b,w,D;o._RF.push({},"c613czoScdFD75SL7mM6U8Y","fishView",void 0);var E=c.ccclass,I=c.property;e("FishView",(C=E("FishView"),A=I({type:r}),C((D=t((w=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"shadeView",D,s(t)),t}i(t,e);var o=t.prototype;return o.addEvents=function(){},o.update=function(e){var t=this.gameService.heartTimeNow;if(t)for(var i=f.getInstance().sprites,n=i.length,s=0,a=g().MAX_CREATE_AMOUNT,o=0;o<n;){var c=i[o];if(t>=c.dead_time)i.splice(o,1),--n;else if(t>=c.born_time){if(i.splice(o,1),--n,this.createFish(c),++s>=a)break}else++o}},o.onEnable=function(){},o.createFish=function(e){var t=this;f.getInstance().pushFish(e.uid,e);var i=e.classid;e.fishid>0&&(i=e.fishid);var n=S(F.fish,i+"");n.name&&dispatch(d.DISPATCH_MARQUEE,2,n.name,n.rate),2==n.showComeTip&&1==e.boss_notice&&dispatch(d.DISPATCH_BOSS_COME),1==n.showComeTip&&1==e.boss_notice&&dispatch(d.DISPATCH_SMALL_BOSS,n),l.getInstance().getFish(n,(function(i){var s=null;28==n.type?(s=i.getComponent(m)).init(e,n):(s=i.getComponent(h)).init(e,n);var a=e.uid;f.getInstance().pushFish(a,e),f.getInstance().pushNodeFish(a,i),n&&(t.scheduleOnce((function(){try{var e;if(n&&t.node&&i&&t.node.getChildByName("group"+n.atlas))null==(e=t.node.getChildByName("group"+n.atlas))||e.addChild(i)}catch(e){return void console.log("Error in scheduleOnce callback:",e)}}),0),l.getInstance().getShadeFish(n,t.shadeView,(function(e){s.shade=e})),28==n.type?dispatch(_.PLAY_SOUND,v.AudioSource.Fish_long_voice):26==n.type?dispatch(_.PLAY_SOUND,v.AudioSource.Fish_gesila_voice):27==n.type&&dispatch(_.PLAY_SOUND,v.AudioSource.Fish_eyu_voice))}),this)},o.clickView=function(e){},a(t,[{key:"gameService",get:function(){return App.serviceManager.get(y)}},{key:"data",get:function(){return App.dataCenter.get(u)}}]),t}(p)).prototype,"shadeView",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameEntry2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entry.ts","./Decorators.ts","./MainGameView2.ts","./GameHandler2.ts","./SubGameLanguage2.ts","./GameService2.ts","./GameSender2.ts"],(function(){var e,n,t,a,r,o,u,i,c;return{setters:[function(n){e=n.inheritsLoose},function(e){n=e.cclegacy},function(e){t=e.Entry},function(e){a=e.registerEntry},function(e){r=e.default},function(e){o=e.default},function(e){u=e.SubGameLanguage},function(e){i=e.GameService},function(e){c=e.GameSender}],execute:function(){var s;n._RF.push({},"6cfa4zmRzNMWZk84Vc32wZU","GameEntry",void 0);a("GameEntry","slot190000100",r)(s=function(n){function t(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))||this).language=new u,e}e(t,n);var a=t.prototype;return a.addNetHandler=function(){App.handlerManager.get(o)},a.removeNetHandler=function(){},a.loadResources=function(e){App.utils.closeDocumentFrameAnimation(),e()},a.initData=function(){App.serviceManager.get(i,!0)},a.pauseMessageQueue=function(){},a.resumeMessageQueue=function(){},a.openGameView=function(){n.prototype.openGameView.call(this)},a.onUnloadBundle=function(){n.prototype.onUnloadBundle.call(this),App.serviceManager.destory(i),App.handlerManager.destory(o),App.senderManager.destory(c)},t}(t));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameHandler2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Handler.ts","./SubGameData2.ts","./SocketConst.ts","./Global.ts","./FishModel.ts","./FishEvent.ts","./BatterModel.ts","./GameSender2.ts","./SubGameDefines2.ts","./SubGameConstants2.ts","./Decorators.ts","./GameLogic2.ts","./GameService2.ts"],(function(e){var s,t,a,i,n,o,c,r,h,g,u,d,f,l,I,p,m,S,P,_,A,T;return{setters:[function(e){s=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy},function(e){c=e.Handler},function(e){r=e.SubGameData},function(e){h=e.getSocketConfig,g=e.FishingCommonProtocolId,u=e.GameProtocolId},function(e){d=e.Global},function(e){f=e.FishModel},function(e){l=e.FishEvent},function(e){I=e.BatterModel},function(e){p=e.GameSender},function(e){m=e.EventName},function(e){S=e.getConfig,P=e.SubGameConstants},function(e){_=e.inject},function(e){A=e.GameLogic},function(e){T=e.GameService}],execute:function(){var D,C,H,v;o._RF.push({},"748a4eyZ6hPP73HdwOXzMPK","GameHandler",void 0);e("default",(D=_({type:A,name:"logic"}),(v=function(e){function s(){for(var s,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return s=e.call.apply(e,[this].concat(n))||this,a(s,"logic",H,i(s)),s}t(s,e);var o=s.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),this.onS(h().HIT_SPRITES,this.s2cHitSprites,this),this.onS(h().INCREASE_BOMB,this.s2cincreasebomb,this),this.onS(h().BOMB_HIT,this.s2cbombOtherFish,this),this.onS(h().CHANGE_IMMOB,this.s2cImmob,this),this.onS(h().FIRE,this.s2cFire,this),this.onS(g.USERINFO,this.s2cUserInfo,this),this.onS(h().CHANGE_LOCK,this.s2cChangeLock,this),this.onS(h().BROAD_PLAYER,this.s2cBroadPlayer,this),this.onS(h().DECREASE_SPRIRES,this.s2cHit,this),this.onS(h().ENTER_ROOM,this.s2cEnterRoom,this),this.onS(h().INCREASE_SPRITES,this.s2cIncreaseSprites,this),this.onS(u.LOGIN,this.s2cLogin,this),this.onS(h().CHANGEGUNID,this.changeGun,this),this.onS(g.FISHINFO,this.s2cfishinfo,this),this.onS(h().CHANGE_SCENE,this.s2cChangeMap,this)},o.s2cFire=function(e){Log.d(e)},o.s2cUserInfo=function(e){this.data.money=e.message.money},o.s2cChangeLock=function(e){I.getInstance().setLock(e)},o.s2cBroadPlayer=function(e){if(e&&e.message&&e.succ){var s=function(){var s=e.message.player,t=e.message.type;if(1==t){I.getInstance().inBattle(s);var a=I.getInstance().getTruePosByPos(s.pos);dispatch(l.DISPATCH_UPDATA_BATTLE,a)}else if(2==t)I.getInstance().resetBattle(s);else if(3==t){var i=I.getInstance().getTruePosByPos(s.pos);I.getInstance().updataBattle(s),dispatch(l.DISPATCH_UPDATA_BATTLE,i)}};null==I.getInstance().myPlayerInfo?this.logic.view.help.enterAfterHandle.push(s):s()}else Log.e("s2cBroadPlayer:"+e.errinfo)},o.s2cHit=function(e){},o.unlockManual=function(){this.data.onManualLockFishDeleted()},o.s2cHitSprites=function(e){var s=this;if(e&&e.message&&e.succ){e.message.bulletid;var t=e.message.pos,a=I.getInstance().getTruePosByPos(t),i=e.message.fishes;if(I.getInstance().battleDatas[a]){var n=I.getInstance().battleDatas[a].worldPos;if(i.length>0){var o=I.getInstance().idToPos[d.userId]==a;i.forEach((function(e){s.data.ManualLockFishId==e.uid&&s.unlockManual();var t=f.getInstance().getFish(e.uid);if(t){var i=t.classid;if(t.fishid>0&&(i=t.fishid),24!=i&&25!=i&&(dispatch(l.DISPATCH_ADD_GOLD,{targetPos:n,fish:e,isMe:o}),dispatch(l.DISPATCH_ADD_SCORE,{fish:e,isMe:o}),dispatch(l.DISPATCH_BIG_BOOM,{fish:e,isMe:o}),dispatch(l.DISPATCH_SAMLL_BOOM,{fish:e,isMe:o}),dispatch(l.DISPATCH_BIG_WIN,{targetPos:n,fish:e,own:a,isMe:o})),24==i){var c=f.getInstance().getNodeFish(e.uid);if(c){var r=c.getWorldPosition();dispatch(l.DISPATCH_ZHADAN,r,o)}}28==i&&(Log.d("龙的倍率 "+e.rate),dispatch(l.DISPATCH_DRAGON_DIE,{fish:e,isMe:o})),24!=i&&25!=i&&setTimeout((function(){f.getInstance().cleanFish(e.uid,!0)}),0)}}))}}}else Log.e("s2cHitSprites:"+e.errinfo)},o.s2cImmob=function(e){console.log(e)},o.s2cincreasebomb=function(e){var s=e.message.type,t=e.message.bomb,a=e.message.pos;if(1==s){var i=f.getInstance().getNodeFish(t[0].fish_id);if(i){var n=i.getWorldPosition(),o=I.getInstance().getTruePosByPos(a),c=I.getInstance().battleDatas[o].worldPos,r=I.getInstance().idToPos[d.userId]==o;dispatch(l.DISPATCH_ZHADAN,n,t[0].id,r);var h=Number(t[0].rate*t[0].brate);dispatch(l.DISPATCH_BIG_BOOM_SPE,{targetPos:c,fishType:24,score:h,pos:o}),setTimeout((function(){f.getInstance().cleanFish(t[0].fish_id,!0)}),0)}}else if(2==s){var g=I.getInstance().getTruePosByPos(a),u=I.getInstance().battleDatas[g];u.BombVo=t[0];var p,m=t[0].uid;if(d.userId==m+"")u.canShootZhuan=!0,u.isChangePao=!0,dispatch(l.DISPATCH_CANCEL_LOCK_AUTO),null==(p=this.sender)||p.gunChange(3);setTimeout((function(){f.getInstance().cleanFish(t[0].fish_id,!0)}),0)}},o.s2cbombOtherFish=function(e){var s=this;Log.d("炸弹播放完毕"+e.message.fishes);var t=e.message.pos,a=I.getInstance().getTruePosByPos(t),i=e.message.fishes;if(I.getInstance().battleDatas[a]){var n=I.getInstance().battleDatas[a].worldPos;i.length>0&&(i.forEach((function(e){s.data.ManualLockFishId==e.uid&&s.unlockManual();var t=f.getInstance().getFish(e.uid);if(t){var i=t.classid;if(t.fishid>0&&(i=t.fishid),24!=i&&25!=i){var o=I.getInstance().idToPos[d.userId]==a;dispatch(l.DISPATCH_ADD_GOLD,{targetPos:n,fish:e,isMe:o}),dispatch(l.DISPATCH_ADD_SCORE,{fish:e,isMe:o}),dispatch(l.DISPATCH_BIG_BOOM,{fish:e,isMe:o}),dispatch(l.DISPATCH_SAMLL_BOOM,{fish:e,isMe:o}),dispatch(l.DISPATCH_BIG_WIN,{targetPos:n,fish:e,own:a,isMe:o})}}})),setTimeout((function(){f.getInstance().clearFishs(i,!0)}),0))}},o.s2cLogin=function(e){var s;e&&e.message&&1==e.message.issucc?(d.account=e.message.account,d.currency=e.message.mtype,d.userId=e.message.uid+"",console.log("登录返回:"+e.message),console.log("登录获取到的GlobalUserId :"+d.userId),null==(s=this.sender)||s.c2sUserInfo()):Log.e("s2cLogin:"+e.errinfo)},o.getGmameList=function(e){},o.s2cChangeMap=function(e){if(e&&e.message&&e.succ){var s=e.message.sceneid,t=e.message.state;this.data.mapId=s,this.data.mapState=t,this.data.changeStateTime=e.message.servtime,t==S().MapState.Changing?dispatch(l.DISPATCH_CHANGE_SCENE):t==S().MapState.Normal?dispatch(m.PLAY_MUSIC,"audio/bgm_deep_sea0"+(s+1)):t==S().MapState.FishGroup?dispatch(m.PLAY_MUSIC,P.AudioSource.bgm_fish_wave):t==S().MapState.BossTip&&console.log("展示boss出场动画")}else Log.e("changeScene:"+e.errinfo)},o.s2cfishinfo=function(e){var s;e&&e.message&&e.succ?(Log.d("s2cfishinfo: "+this.data.reqRoomType+" min: "+e.message.betList[0]+" max: "+e.message.betList[e.message.betList.length-1]),I.getInstance().betList=e.message.betList,I.getInstance().defaultBetValue=e.message.defaultBetValue,I.getInstance().coinRate=e.message.coin_rate,null==(s=this.sender)||s.c2squickenterroom(Number(this.data.roomType))):Log.e("s2cfishinfo:"+e.errinfo)},o.changeGun=function(e){if(e&&e.message&&e.succ){var s=e.message;I.getInstance().battleDatas[s.pos].gunid=s.gunid;var t=I.getInstance().getTruePosByPos(s.pos);s.pos=t,dispatch(l.DISPATCH_BATTLE_GUNID,s)}},o.s2cEnterRoom=function(e){var s,t=this;e.succ&&0!=e.message.result?null==(s=this.logic.view.help)||s.clickEnter((function(){App.loading.hide(),t.data.roomData=e,f.getInstance().sprites=[];var s=e.message.players;s.forEach((function(e){e.uid==d.userId&&(I.getInstance().myPlayerInfo=e)})),null!=I.getInstance().myPlayerInfo?I.getInstance().setBattles(s):console.log("没有我的数据!!!!!!!!!!!!!!!!!!"),t.data.mapId=e.message.sceneid,t.data.mapState=e.message.scenestate,t.data.mapState==S().MapState.Normal?dispatch(m.PLAY_MUSIC,"audio/bgm_deep_sea0"+(t.data.mapId+1)):t.data.mapState==S().MapState.FishGroup&&dispatch(m.PLAY_MUSIC,P.AudioSource.bgm_fish_wave),dispatch(l.DISPATCH_INIT_BG);var a=e.message.sprites;a&&a.forEach((function(e){if(1==e.type){var s=e.uid,t=f.getInstance().fishs[s],a=f.getInstance().spriteIds.indexOf(s)>-1;t||a||(f.getInstance().sprites.push(e),f.getInstance().spriteIds.push(s))}}))})):Log.e("s2cEnterRoom:"+e.errinfo)},o.s2cIncreaseSprites=function(e){if(e&&e.message&&e.succ){var s=e.message;s&&s.forEach((function(e){1==e.type?f.getInstance().sprites.push(e):2==e.type?dispatch(l.DISPATCH_SHOOT,e):3==e.type&&dispatch(l.DISPATCH_SHOOT,e,3)}))}else Log.e("s2cIncreaseSprites:"+e.errinfo)},o.errHandle=function(e){40004==e.message.code?dispatch(l.DISPATCH_SHOW_TIP,"He bullet has reached its upper limit"):10002==e.message.code?dispatch(l.DISPATCH_SHOW_TIP,"GOLD SHORTAGE!"):App.alert.show({isRepeat:!1,title:App.getLanguage("90064"),text:e.errinfo,confirmCb:function(e){e&&dispatch(l.DISPATCH_RETURNTOHOME)}})},n(s,[{key:"sender",get:function(){return App.senderManager.get(p)}},{key:"gameService",get:function(){return App.serviceManager.get(T)}},{key:"data",get:function(){return App.dataCenter.get(r)}},{key:"service",get:function(){return App.serviceManager.get(T)}}]),s}(c)).module="Game_190000100",H=s((C=v).prototype,"logic",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logic.ts","./CommonEvent.ts","./GameSender2.ts","./Global.ts","./SubGameData2.ts","./SubGameDefines2.ts","./ResourceLoader.ts","./Resource.ts","./SubGameConstants2.ts","./ResourceUtils.ts","./ResourceConst.ts","./FishModel.ts","./BatterModel.ts","./BulletModel.ts","./ObjectPool.ts","./FishEvent.ts","./HttpClient.ts","./Http.ts","./Config.ts","./GameService2.ts"],(function(e){var u,o,t,n,i,s,l,r,d,a,c,p,h,m,f,y,b,S,g,A,_,v,F,C,E,w,B;return{setters:[function(e){u=e.inheritsLoose,o=e.createClass,t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e.Prefab,l=e.AudioClip},function(e){r=e.Logic},function(e){d=e.CommonEvent},function(e){a=e.GameSender},function(e){c=e.Global},function(e){p=e.SubGameData},function(e){h=e.EventName},function(e){m=e.default},function(e){f=e.Resource},function(e){y=e.SubGameConstants},function(e){b=e.ResourceUtils},function(e){S=e.getResConfig},function(e){g=e.FishModel},function(e){A=e.BatterModel},function(e){_=e.BulletModel},function(e){v=e.ObjectPool},function(e){F=e.FishEvent},function(e){C=e.HttpPackage},function(e){E=e.Http},function(e){w=e.Config},function(e){B=e.GameService}],execute:function(){i._RF.push({},"8c7f70iuM5Jda4R/GS8eipx","GameLogic",void 0);e("GameLogic",function(e){function i(){for(var u,o=arguments.length,t=new Array(o),n=0;n<o;n++)t[n]=arguments[n];return(u=e.call.apply(e,[this].concat(t))||this)._view=null,u.loader=new m,u.netCloseHandle=null,u}u(i,e);var r=i.prototype;return r.addEvents=function(){e.prototype.addEvents.call(this),this.onD(d.GAME_SERVICE_CONNECTED,this.onNetConnected),this.onD(d.GAME_SERVICE_CLOSE,this.onNetClose),this.onD(h.LoadDataFinish,this.enterMainGameView),this.onD(h.PLAY_SOUND,this.onPlaySound),this.onD(h.PLAY_MUSIC,this.onPlayMusic),this.onD(h.STOP_EFFECT,this.onStopEffect)},r.onLoad=function(){var u=t(n().mark((function u(o){return n().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return e.prototype.onLoad.call(this,o),this.view.init(),w.isDebugLogin?this.getEntryDebugData():this.getEntryData(),u.next=5,this.loadRouteConfig();case 5:return u.next=7,this.loadResources();case 7:case"end":return u.stop()}}),u,this)})));return function(e){return u.apply(this,arguments)}}(),r.loadResources=function(){var e=t(n().mark((function e(){var u=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loader=new m,this.loader.getLoadResources=function(){var e=[];e.push({url:"prefabs/slotgame/Alert",type:s,bundle:u.module}),e.push({url:y.AudioSource.bgm_deep_sea02,type:l,bundle:u.module}),e.push({url:y.AudioSource.bgm_boss_battle,type:l,bundle:u.module}),e.push({url:y.AudioSource.bgm_deep_sea03,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_shooting,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_Kill,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_win,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_win_Small_Prize,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_Button,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_BOOS_Warning,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_Frenzy,type:l,bundle:u.module}),e.push({url:y.AudioSource.bgm_hall,type:l,bundle:u.module}),e.push({url:y.AudioSource.bgm_fish_wave,type:l,bundle:u.module}),e.push({url:y.AudioSource.bgm_boss_battle01,type:l,bundle:u.module}),e.push({url:y.AudioSource.bgm_boss_battle02,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_suoding,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_baozha,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_shooting03,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_shooting02,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_Upgrade,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_Drill04,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_Drill03,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_Drill02,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_Drill01,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_coin_hit,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_long_voice,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_gesila_voice,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_Boss_attack,type:l,bundle:u.module}),e.push({url:y.AudioBossSource.Fish_shuzilg_1,type:l,bundle:u.module}),e.push({url:y.AudioBossSource.Fish_shuzilg_2,type:l,bundle:u.module}),e.push({url:y.AudioBossSource.Fish_shuzilg_3,type:l,bundle:u.module}),e.push({url:y.AudioBossSource.Fish_shuzilg_4,type:l,bundle:u.module}),e.push({url:y.AudioBossSource.Fish_shuzilg_5,type:l,bundle:u.module}),e.push({url:y.AudioSource.Fish_Boss_baozha,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet1,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet2,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet3,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet4,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet5,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet6,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet7,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet8,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet9,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet10,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet11,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet12,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet13,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet14,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet15,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet16,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet17,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet18,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet19,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet20,type:l,bundle:u.module}),e.push({url:y.AudioBtnSource.bet21,type:l,bundle:u.module}),e.push({url:S().Lock,type:s,bundle:u.module}),e.push({url:S().NET,type:s,bundle:u.module}),e.push({url:S().GoldAni,type:s,bundle:u.module}),e.push({url:S().GoldItem,type:s,bundle:u.module}),e.push({url:S().ScoreItem,type:s,bundle:u.module}),e.push({url:"prefabs/view/RoomView",type:s,bundle:u.module}),e.push({url:"prefabs/view/RoomMenu",type:s,bundle:u.module});for(var o=1;o<=10;o++)e.push({url:S().FISHES_PREFAB_DIR+"fish"+o+"/fish"+o,type:s,bundle:u.module});return e},this.loader.onLoadComplete=function(e){e==f.LoaderError.SUCCESS&&(u.data.loadFinish=!0,u.enterMainGameView())},this.loader.onLoadProgress=function(e,o){var t=Math.ceil(e/o*100);u.view.updataLoading(t,e,o),App.utils.onDocumentProgress(t)},this.loader.loadResources(),App.utils.clearHtmlTimer();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.startLoad=function(){},r.onDestroy=function(){for(var u,o=arguments.length,t=new Array(o),n=0;n<o;n++)t[n]=arguments[n];(u=e.prototype.onDestroy).call.apply(u,[this].concat(t))},r.onConnect=function(){var e=this.gameService;if(e.isConnected)return Log.d(e.module+" 断开连接中..."),void e.close();Log.d(e.module+" 连接中..."),e.connect()},r.closeSocket=function(e){var u=this.gameService;Log.d(u.module+" 断开连接中..."),u.close()},r.onNetConnected=function(e){var u=this;console.log("捕鱼连接成功");var o=App.senderManager.get(a);o&&(console.log("链接成功 游戏ID :"+c.gameId),o.c2sLogin(c.gameId),setTimeout((function(){console.log("请求下注列表"),o.c2sfishinfo(u.data.roomType)}),1e3))},r.onNetClose=function(e){Log.d(e.module+" 断开连接!"),this.netCloseHandle&&this.netCloseHandle(),dispatch("NetIsClose")},r.enterMainGameView=function(){this.data.loadFinish&&this.data.loadDataFinish&&(dispatch(d.NOTIFY_USERINFO_SCORE,this.data.money),this.view.showMain(),this.data.bHasLoadedRes||(this.onAfterGameLoadResources(),this.data.bHasLoadedRes=!0))},r.onAfterGameLoadResources=function(){var e=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loader=new m,this.loader.getLoadResources=function(){return[]},this.loader.onLoadComplete=function(e){f.LoaderError.SUCCESS},this.loader.onLoadProgress=function(e,u){},this.loader.loadResources();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onPlaySound=function(e,u,o){void 0===u&&(u=!1),void 0===o&&(o=!1),o?this.view.audioHelper.playEffectOneShot(e,this.module,!1):this.view.audioHelper.playEffect(e,this.module,u)},r.onStopEffect=function(e){this.view.audioHelper.stopEffect(e,this.module)},r.onPlayMusic=function(e){this.view.audioHelper.playMusic(e,this.module)},r.playAllSound=function(){this.data.openAllSound=!0,this.playMusic(),this.playAudio()},r.stopAllSound=function(){this.data.openAllSound=!1,this.stopMusic(),this.stopAudio()},r.stopMusic=function(){this.data.openMusic=!1,this.view.audioHelper.musicVolume=0},r.playMusic=function(){this.data.openMusic=!0,this.view.audioHelper.musicVolume=1},r.stopAudio=function(){this.data.openAudio=!1,this.view.audioHelper.effectVolume=0},r.playAudio=function(){this.data.openAudio=!0,this.view.audioHelper.effectVolume=1},r.loadRouteConfig=function(){var e=t(n().mark((function e(){var u=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,o){b.getInstance().loadDir("config",(function(o){o&&(o.forEach((function(e){null!==e.json?"fishes"==e.name?u.data._fishesConfig=e.json:"routes"==e.name&&(u.data.routeConfig=e.json):console.warn("JSON file "+e.name+" is null.")})),e())}),u)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.getEntryData=function(){var e=this,u=new C;u.data.url=c.httpSvr+"/api/v1/game/fishRoomTypeInfo?uid="+c.userId+"&gameId=190000100",u.data.isAutoAttachCurrentTime=!1,u.data.type=E.Type.GET,u.data.requestHeader={name:"Content-Type",value:"application/json"},u.send((function(u){var o,t=JSON.parse(u);200==t.code&&null!=t.data&&(e.data.roomTypeInfo=null!=(o=t.data)&&o.roomTypeInfo?t.data.roomTypeInfo:null);dispatch(F.DISPATCH_ENTRY_UPDATE)}),(function(){Log.d("数据错误")}))},r.getEntryDebugData=function(){var e=this,u=new C;u.data.url=c.httpSvr+"/api/v1/game/fishRoomTypeInfo?uid=204700026200255362&gameId=190000100",u.data.isAutoAttachCurrentTime=!1,u.data.type=E.Type.GET,u.data.requestHeader={name:"Content-Type",value:"application/json"},u.send((function(u){var o,t=JSON.parse(u);200==t.code&&null!=t.data&&(e.data.roomTypeInfo=null!=(o=t.data)&&o.roomTypeInfo?t.data.roomTypeInfo:null);dispatch(F.DISPATCH_ENTRY_UPDATE)}),(function(){Log.d("数据错误")}))},r.onEnterBackground=function(){},r.onEnterForgeground=function(){var e;null!=(e=this.view.help)&&e.isInRoom&&(App.loading.show("Enter the fishing ground...",(function(){}),10,"#FFFFFF"),this.onConnect())},r.exitRoom=function(){g.getInstance().destroy(),A.getInstance().reset(),_.getInstance().destroy(),v.getInstance().destroy()},o(i,[{key:"data",get:function(){return App.dataCenter.get(p)}},{key:"gameService",get:function(){return App.serviceManager.get(B)}},{key:"_sender",get:function(){return App.senderManager.get(a)}},{key:"view",get:function(){return this._view}}]),i}(r));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameSender2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sender.ts","./Config.ts","./Global.ts","./Protocol3.ts","./SocketConst.ts","./GameService2.ts","./SubGameData2.ts"],(function(e){var n,s,t,i,a,c,o,r,u,g,d;return{setters:[function(e){n=e.inheritsLoose,s=e.createClass},function(e){t=e.cclegacy},function(e){i=e.Sender},function(e){a=e.Config},function(e){c=e.Global},function(e){o=e.Protocol},function(e){r=e.getSocketConfig,u=e.FishingCommonProtocolId},function(e){g=e.GameService},function(e){d=e.SubGameData}],execute:function(){t._RF.push({},"b2c3bFqdF1BLaVp0+gOkQov","GameSender",void 0),e("GameSender",function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.c2sLogin=function(e){a.isDebugLogin&&!a.isMyHall?this.c2sDebug_login({uid:c.userId,game_id:e,money:Number(c.money),money_type:c.currency}):this.c2sOfficial_login({token:c.token,gameid:e,direct:c.direct_login})},i.c2sDebug_login=function(e){var n,s={type:o.DEBUG_LOGIN,message:e};null==(n=this.service)||n.sendMessage(o.DEBUG_LOGIN,s)},i.c2sOfficial_login=function(e){var n,s={type:o.LOGIN,message:e};null==(n=this.service)||n.sendMessage(o.LOGIN,s)},i.c2sMark=function(e){var n,s={type:o.MARK,message:e};null==(n=this.service)||n.sendMessage(o.MARK,s)},i.sendPack=function(e,n){var s;null==(s=this.service)||s.sendMessage(e,n)},i.c2sFire=function(e){var n={type:r().FIRE,message:{angel:e.angle,bid:e.id,btype:e.btype,x:e.x,y:e.y}};this.sendPack(r().FIRE,n)},i.c2sBomb=function(e){var n={type:r().BOMB_HIT,message:e};this.sendPack(r().BOMB_HIT,n)},i.c2sChangeLocking=function(e){if(0==this.data.ManualLockFishId||this.data.ManualLockFishId==e){var n={type:r().CHANGE_LOCKING,message:{fishid:e}};this.sendPack(r().CHANGE_LOCKING,n)}},i.c2sCancleLocking=function(){var e={type:r().CANCLE_LOCKING,message:{}};this.sendPack(r().CANCLE_LOCKING,e)},i.gunChange=function(e){var n={type:r().CHANGE_GUNID,message:{gunid:e}};this.sendPack(r().CHANGE_GUNID,n)},i.c2sfishinfo=function(e){console.log("请求下注列表");var n={type:u.FISHINFO,message:{roomtype:e}};this.sendPack(u.FISHINFO,n)},i.c2senterroom=function(e,n){var s={type:r().ENTER_ROOM,message:{roomid:e,pos:n}};this.sendPack(r().ENTER_ROOM,s)},i.c2sUserInfo=function(){var e,n={type:o.USERINFO,message:{}};null==(e=this.service)||e.sendMessage(o.USERINFO,n)},i.c2squickenterroom=function(e){var n={type:u.QUICK_ENTER_ROOM,message:{roomtype:e}};this.sendPack(u.QUICK_ENTER_ROOM,n)},i.c2sChangeRate=function(e){var n={type:u.CHANGE_RATE,message:{rewardrate:e}};this.sendPack(u.CHANGE_RATE,n)},i.c2sHit=function(e){var n={type:r().HIT,message:{fblist:e}};this.sendPack(r().HIT,n)},i.c2sLeaveRoom=function(){var e={type:r().LEAVE_ROOM,message:{}};this.sendPack(r().LEAVE_ROOM,e)},s(t,[{key:"data",get:function(){return App.dataCenter.get(d)}},{key:"service",get:function(){return App.serviceManager.get(g)}}]),t}(i)).module="Game_190000100",t._RF.pop()}}}));

System.register("chunks:///_virtual/GameService2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./CommonEvent.ts","./CommonService.ts"],(function(e){var t,o,n,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},function(e){n=e.NetPriority},function(e){i=e.CommonEvent},function(e){c=e.CommonService}],execute:function(){o._RF.push({},"0066e1fdwtEspoKCl3KcYI8","GameService",void 0),e("GameService",function(e){function o(){for(var t,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).priority=n.Game,t}t(o,e);var c=o.prototype;return c.onOpen=function(t){e.prototype.onOpen.call(this,t),dispatch(i.GAME_SERVICE_CONNECTED,this)},c.onClose=function(t){e.prototype.onClose.call(this,t),dispatch(i.GAME_SERVICE_CLOSE,this)},o}(c)).module="service_190000100",o._RF.pop()}}}));

System.register("chunks:///_virtual/GoldAni.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./GoldItem.ts","./SubGameConstants2.ts","./SubGameDefines2.ts","./ObjectPool.ts","./ResourceConst.ts","./FishModel.ts"],(function(t){var n,e,s,i,o,u,a,r,c,h,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,i=t.UITransform},function(t){o=t.default},function(t){u=t.GoldItem},function(t){a=t.SubGameConstants},function(t){r=t.EventName},function(t){c=t.ObjectPool},function(t){h=t.getResConfig},function(t){l=t.FishModel}],execute:function(){var d;e._RF.push({},"d8d1fmcfTVNupjVaZVWLYZl","GoldAni",void 0);var m=s.ccclass;t("GoldAni",m("GoldAni")(d=function(t){function e(){for(var n,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return(n=t.call.apply(t,[this].concat(s))||this).isMe=!0,n.currentCount=0,n.curStartPos=null,n.targetPos=null,n.finishCount=0,n.maxNum=8,n.maxJl=20,n}n(e,t);var s=e.prototype;return s.addEvents=function(){},s.onEnable=function(){},s.addGold=function(t,n,e,s){var o=this.node.getComponent(i);this.curStartPos=o.convertToNodeSpaceAR(t);var u=this.node.getComponent(i);this.targetPos=u.convertToNodeSpaceAR(n);var c=l.getInstance().getFish(e.uid);if(c){var h=c.classid;c.fishid>0&&(h=c.fishid),h<10?(this.maxNum=5,this.maxJl=20):h<20?(this.maxNum=8,this.maxJl=30):h<=30&&(this.maxNum=15,this.maxJl=40)}else this.maxNum=5;this.maxNum>=8&&dispatch(r.PLAY_SOUND,a.AudioSource.Fish_Kill),this.isMe=s,this.schedule(this.spawnChild,.1)},s.spawnChild=function(){var t=this;if(this.currentCount>=this.maxNum)this.unschedule(this.spawnChild);else{var n=""+h().GoldItem;c.getInstance().popPrefabNode(n,(function(n){var e;null==(e=n.getComponent(u))||e.init(t.curStartPos,t.targetPos,t.isMe,t.currentCount,t.maxJl,(function(){t.finishCount++,t.finishCount>=t.maxNum&&(t.reset(),c.getInstance().push(t.node))})),t.node.addChild(n)}),this),this.currentCount++}},s.reset=function(){this.finishCount=0,this.currentCount=0,this.node.removeAllChildren(),this.node.removeFromParent(),this.unschedule(this.spawnChild)},e}(o))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/GoldItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts"],(function(t){var n,o,i,e,s,l,a,r,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,e=t.Animation,s=t.tween,l=t.Vec3,a=t.Tween,r=t.Component},function(t){c=t.ObjectPool}],execute:function(){var u;o._RF.push({},"ebc9bJDXfhLo7DoQ3kQpkMj","GoldItem",void 0);var p=i.ccclass;t("GoldItem",p("GoldItem")(u=function(t){function o(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this).startPosition=new l,n.endPosition=new l,n.isMe=!1,n.callFun=null,n}n(o,t);var i=o.prototype;return i.init=function(t,n,o,i,e,s){void 0===i&&(i=1),this.startPosition=t,this.endPosition=n,this.isMe=o,this.callFun=s;var l=Math.random()*(e- -e)-e;this.startPosition.x+=i*l,this.node.setPosition(this.startPosition)},i.onEnable=function(){this.playAni(this.isMe)},i.playAni=function(t){var n,o=t?"gold":"gold2";null==(n=this.node.getComponent(e))||n.play(o),this.nodeJump(this.node)},i.fly=function(){var t=this,n=this.node;s(n).to(.4,{position:this.endPosition},{easing:"sineInOut"}).call((function(){null==t.callFun||t.callFun(),t.reset(),c.getInstance().push(t.node)})).start()},i.nodeJump=function(t){var n=this;s(t).repeat(2,s().to(.3,{position:new l(t.position.x,t.position.y+60,t.position.z)},{easing:"sineOut"}).to(.3,{position:new l(t.position.x,t.position.y,t.position.z)},{easing:"sineIn"})).call((function(){n.fly()})).start()},i.reset=function(){var t;a.stopAllByTarget(this.node),null==(t=this.node.getComponent(e))||t.stop(),this.callFun=null,this.node.removeFromParent()},o}(r))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/GoldView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent.ts","./GoldAni.ts","./ResourceConst.ts","./ObjectPool.ts","./FishModel.ts"],(function(t){var o,e,n,i,r,s,l,a,c,d,u,f,h,p,g;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.Prefab,a=t.Game,c=t.UITransform},function(t){d=t.default},function(t){u=t.FishEvent},function(t){f=t.GoldAni},function(t){h=t.getResConfig},function(t){p=t.ObjectPool},function(t){g=t.FishModel}],execute:function(){var v,P,G,A,b;r._RF.push({},"27b96la5KVNBLQUoPtyMPKp","GoldView",void 0);var y=s.ccclass,m=s.property;t("GoldView",(v=y("GoldView"),P=m({type:l}),v((b=o((A=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return o=t.call.apply(t,[this].concat(r))||this,n(o,"goldAniPf",b,i(o)),o.curStartPos=null,o.targetPos=null,o}e(o,t);var r=o.prototype;return r.addEvents=function(){this.onD(u.DISPATCH_ADD_GOLD,this.addGold),this.onG(a.EVENT_HIDE,this.onEnterBackground)},r.onEnable=function(){},r.addGold=function(t){var o=this,e=this.node.getComponent(c),n=g.getInstance().getNodeFish(t.fish.uid);if(n){this.curStartPos=e.convertToNodeSpaceAR(n.getWorldPosition());var i=this.node.getComponent(c);this.targetPos=i.convertToNodeSpaceAR(t.targetPos);var r=""+h().GoldAni;p.getInstance().popPrefabNode(r,(function(e){var i;o.node.addChild(e),null==(i=e.getComponent(f))||i.addGold(n.getWorldPosition(),t.targetPos,t.fish,t.isMe)}),this)}else console.error("播放金币错误"+t.fish)},r.onEnterBackground=function(){this.node.removeAllChildren()},r.onDisable=function(){this.node.removeAllChildren()},o}(d)).prototype,"goldAniPf",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=A))||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/HelpFish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Fish.ts"],(function(t){var n,i,o,e,s;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t.Collider2D,e=t.Animation},function(t){s=t.Fish}],execute:function(){i._RF.push({},"3e335Xc0B9Jd7VGBWzolx+K","HelpFish",void 0);t("HelpFish",function(t){function i(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this).type=0,n}n(i,t);var s=i.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),this.colliders=[];for(var n=this.node.getComponents(o),i=0;i<n.length;i++)n[i].destroy();var e=this.node.getChildByName("clickNode");e&&this.node.removeChild(e)},s.setType=function(t){this.type=t},s.lateUpdate=function(t){},s.playSwim=function(){this.animationCom||(this.animationCom=this.node.getComponent(e)),this.animationCom.play("fish"+this.type+"Swim")},s.addEvents=function(){},s.update=function(t){},i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/HelpFishBigtable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData2.ts","./EventComponent.ts","./ConfigGetter.ts"],(function(t){var e,n,i,a,r,o,c,l,s,u,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,c=t._decorator,l=t.Label},function(t){s=t.SubGameData},function(t){u=t.default},function(t){p=t.getConfigClass,f=t.ConfigType}],execute:function(){var g,h,d,y,b;o._RF.push({},"df8ccwzz9VKCoYIXVCyMjXE","HelpFishBigtable",void 0);var v=c.ccclass,C=c.property;t("HelpFishBigtable",(g=v("HelpFishBigtable"),h=C({type:l}),g((b=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"rate",b,a(e)),e}n(e,t);var o=e.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad.call(this)},o.addEvents=function(){},o.onEnable=function(){this.init()},o.init=function(){var t=p(f.fish,"28").rate;this.rate.getComponent(l).string="X"+t[0]+"-"+t[1]},r(e,[{key:"data",get:function(){return App.dataCenter.get(s)}}]),e}(u)).prototype,"rate",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/HelpFishtable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData2.ts","./EventComponent.ts","./HelpItem.ts"],(function(t){var e,n,i,r,a,o,l,u,c,p,s,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,l=t._decorator,u=t.Prefab,c=t.Node,p=t.instantiate},function(t){s=t.SubGameData},function(t){f=t.default},function(t){h=t.HelpItem}],execute:function(){var b,d,m,y,v,g,C,H,I;o._RF.push({},"de9f4bn0q9IDqmu1JgjRYG1","HelpFishtable",void 0);var w=l.ccclass,D=l.property;t("HelpFishtable",(b=w("HelpFishtable"),d=D({type:u}),m=D({type:c}),y=D({type:c}),b((C=e((g=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"fishItem",C,r(e)),i(e,"itemContent",H,r(e)),i(e,"aniView",I,r(e)),e}n(e,t);var o=e.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad.call(this)},o.addEvents=function(){},o.onEnable=function(){},o.init=function(t){var e=this;this.itemContent.removeAllChildren(),t.forEach((function(t){if(28!=t){var n,i=p(e.fishItem);null==(n=i.getComponent(h))||n.init(t),e.itemContent.addChild(i)}}))},a(e,[{key:"data",get:function(){return App.dataCenter.get(s)}}]),e}(f)).prototype,"fishItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(g.prototype,"itemContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(g.prototype,"aniView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/HelpFishView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./HelpFishtable.ts"],(function(e){var t,n,i,r,a,l,o,s,u,c,p,g,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Prefab,s=e.Node,u=e.Label,c=e.PageView,p=e.instantiate},function(e){g=e.default},function(e){h=e.HelpFishtable}],execute:function(){var f,d,m,b,v,y,C,F,H,P,w;a._RF.push({},"95cc9l8U+FLdKIHE6dbCEH7","HelpFishView",void 0);var x=l.ccclass,I=l.property;e("HelpFishView",(f=x("HelpFishView"),d=I({type:o}),m=I({type:s}),b=I({type:o}),v=I({type:u}),f((F=t((C=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"FishTable",F,r(t)),i(t,"itemContent",H,r(t)),i(t,"HelpFishBigtable",P,r(t)),i(t,"pageNum",w,r(t)),t.maxPage=0,t}n(t,e);var a=t.prototype;return a.update=function(e){},a.onLoad=function(){e.prototype.onLoad.call(this),this.createItems()},a.addEvents=function(){},a.onEnable=function(){},a.clickLeft=function(){var e=this.node.getComponent(c);if(e){var t=e.getCurrentPageIndex(),n=e.getPages().length;if(t>0){var i=t-1;e.scrollToPage(i),this.pageNum.string=i+1+"/"+n}}},a.clickRight=function(){var e=this.node.getComponent(c);if(e){var t=e.getCurrentPageIndex(),n=e.getPages().length;if(t<n-1){var i=t+1;e.scrollToPage(i),this.pageNum.string=i+1+"/"+n}}},a.createItems=function(){var e=this,t=Array.from({length:27},(function(e,t){return t+1})),n=t.indexOf(23),i=t.indexOf(24),r=t.splice(n,1)[0];t.splice(i+1,0,r);for(var a=[],l=0;l<t.length;l+=8)a.push(t.slice(l,l+8));this.itemContent.removeAllChildren(),a.forEach((function(t,n){var i,r=p(e.FishTable);null==(i=r.getComponent(h))||i.init(t),e.itemContent.addChild(r)}));var o=p(this.HelpFishBigtable);this.itemContent.addChild(o),this.pageNum.string="1/"+(a.length+1)},a.pageScrollHandle=function(){var e=this.node.getComponent(c),t=e.getCurrentPageIndex(),n=e.getPages().length,i=t;this.pageNum.string=i+1+"/"+n},t}(g)).prototype,"FishTable",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(C.prototype,"itemContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(C.prototype,"HelpFishBigtable",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(C.prototype,"pageNum",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/HelpItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData2.ts","./FishFactory.ts","./HelpFish.ts","./ConfigGetter.ts"],(function(t){var e,n,i,r,o,a,s,c,u,l,p,f,y,h,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,c=t.Label,u=t.Node,l=t.Component},function(t){p=t.SubGameData},function(t){f=t.FishFactory},function(t){y=t.HelpFish},function(t){h=t.getConfigClass,g=t.ConfigType}],execute:function(){var d,b,m,C,v,F,H;a._RF.push({},"1a65bU7AJlIp56bC6WOZn3X","HelpItem",void 0);var I=s.ccclass,A=s.property;t("HelpItem",(d=I("HelpItem"),b=A({type:c}),m=A({type:u}),d((F=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"rate",F,r(e)),i(e,"aniBox",H,r(e)),e.type=0,e}n(e,t);var a=e.prototype;return a.update=function(t){},a.onLoad=function(){},a.onEnable=function(){},a.init=function(t){var e=this;this.type=t;var n=h(g.fish,t+"");f.getInstance().getShowFish(n,(function(i){i.addComponent(y).setType(t),e.aniBox.addChild(i),i.setPosition(0,0);var r=n.capturedScale;i.setScale(r,r)}),this);var i=n.rate;"number"==typeof i?this.rate.getComponent(c).string="X "+i:Array.isArray(i)&&(this.rate.getComponent(c).string="X"+i[0]+"-"+i[1])},a.getAniPos=function(){return this.aniBox.getWorldPosition()},o(e,[{key:"data",get:function(){return App.dataCenter.get(p)}}]),e}(l)).prototype,"rate",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(v.prototype,"aniBox",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=v))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/HelpSpecialFishItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData2.ts","./EventComponent.ts","./ConfigGetter.ts"],(function(t){var e,n,i,a,r,o,c,l,s,p,u,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,c=t._decorator,l=t.Label},function(t){s=t.SubGameData},function(t){p=t.default},function(t){u=t.getConfigClass,f=t.ConfigType}],execute:function(){var g,h,d,y,v;o._RF.push({},"40532vDs/JC37jFb190JqAg","HelpSpecialFishItem",void 0);var m=c.ccclass,b=c.property;t("HelpSpecialFishItem",(g=m("HelpSpecialFishItem"),h=b({type:l}),g((v=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"rate",v,a(e)),e}n(e,t);var o=e.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad.call(this)},o.addEvents=function(){},o.onEnable=function(){},o.init=function(t){var e=u(f.fish,"28").rate;this.rate.getComponent(l).string="X"+e[0]+"-"+e[1]},r(e,[{key:"data",get:function(){return App.dataCenter.get(s)}}]),e}(p)).prototype,"rate",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/HelpSpecialFishView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./HelpSpecialFishItem.ts"],(function(e){var t,i,n,a,r,o,l,c,p,u,s,g,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Prefab,c=e.Node,p=e.Label,u=e.PageView,s=e.instantiate},function(e){g=e.default},function(e){f=e.HelpSpecialFishItem}],execute:function(){var h,m,d,v,y,b,F,I,P;r._RF.push({},"5fa471IzvNMBaTtlgNYnMVa","HelpSpecialFishView",void 0);var C=o.ccclass,H=o.property;e("HelpSpecialFishView",(h=C("HelpSpecialFishView"),m=H({type:l}),d=H({type:c}),v=H({type:p}),h((F=t((b=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"HelpSpecialFishItem",F,a(t)),n(t,"itemContent",I,a(t)),n(t,"pageNum",P,a(t)),t.maxPage=0,t}i(t,e);var r=t.prototype;return r.update=function(e){},r.onLoad=function(){e.prototype.onLoad.call(this),this.createItems()},r.addEvents=function(){},r.onEnable=function(){},r.clickLeft=function(){var e=this.node.getComponent(u);if(e){var t=e.getCurrentPageIndex(),i=e.getPages().length;if(t>0){var n=t-1;e.scrollToPage(n),this.pageNum.string=n+1+"/"+i}}},r.clickRight=function(){var e=this.node.getComponent(u);if(e){var t=e.getCurrentPageIndex(),i=e.getPages().length;if(t<i-1){var n=t+1;e.scrollToPage(n),this.pageNum.string=n+1+"/"+i}}},r.createItems=function(){var e=this,t=[30];t.forEach((function(t,i){var n,a=s(e.HelpSpecialFishItem);null==(n=a.getComponent(f))||n.init(t),e.itemContent.addChild(a)})),this.pageNum.string="1/"+t.length},t}(g)).prototype,"HelpSpecialFishItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(b.prototype,"itemContent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(b.prototype,"pageNum",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/HelpView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,l,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Node,c=t.Component}],execute:function(){var u,p,s,m,f,h,b,y,C,_,g,w,d,v,z;o._RF.push({},"2980915TfBKiobDb8r7cNqC","HelpView",void 0);var H=l.ccclass,V=l.property;t("HelpView",(u=H("HelpView"),p=V({type:a}),s=V({type:a}),m=V({type:a}),f=V({type:a}),h=V({type:a}),b=V({type:a}),u((_=e((C=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"item_1",_,r(e)),n(e,"item_2",g,r(e)),n(e,"item_3",w,r(e)),n(e,"itemContent",d,r(e)),n(e,"itemContent2",v,r(e)),n(e,"itemContent3",z,r(e)),e.items=[],e.contents=[],e}i(e,t);var o=e.prototype;return o.update=function(t){},o.onLoad=function(){this.items=[this.item_1,this.item_2,this.item_3],this.contents=[this.itemContent,this.itemContent2,this.itemContent3]},o.onEnable=function(){this.clickTap(null,1)},o.clickTap=function(t,e){this.items.forEach((function(t,i){t.getChildByName("anniu").active=e-1!=i,t.getChildByName("anniu02").active=e-1==i})),this.contents.forEach((function(t,i){t.active=e-1==i}))},o.closeView=function(){this.node.active=!1},e}(c)).prototype,"item_1",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(C.prototype,"item_2",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(C.prototype,"item_3",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(C.prototype,"itemContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(C.prototype,"itemContent2",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(C.prototype,"itemContent3",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/LineRouteFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton4.ts","./SubGameData2.ts","./LineToolRoute.ts"],(function(t){var e,n,o,i,u,r,a,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy},function(t){i=t.Singleton},function(t){u=t.SubGameData},function(t){r=t.Spiral,a=t.CustomizedCurve,c=t.BrokenLine}],execute:function(){o._RF.push({},"b18bfJ4RqJB95lzRKa6j+pD","LineRouteFactory",void 0);t("RouteFactory",function(t){function o(){return t.call(this)||this}e(o,t);var i=o.prototype;return i.getRoute=function(t,e,n,o,i,u){return 3===t?new r(e,n,o,i):4===t?new a(e,n,o,i):new c(e,t,n,o,i,u)},i.getTestLineById=function(t){return this.data.textRouteConfig[t-1]?this.data.textRouteConfig[t-1].line:(console.log(t),console.log("错误路径ID"),[])},i.getTestLineById2=function(t){return this.data.routeConfig[t-1]?this.data.routeConfig[t-1].line:(console.log(t),console.log("错误路径ID"),[])},n(o,[{key:"data",get:function(){return App.dataCenter.get(u)}}]),o}(i()));o._RF.pop()}}}));

System.register("chunks:///_virtual/LineTooleView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./LineToolItem.ts","./SubGameData2.ts","./FishFactory.ts","./TestBaseFish.ts","./ConfigGetter.ts"],(function(t){var e,n,i,r,o,a,s,u,l,c,f,p,h,d,g,m,y,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,u=t.Prefab,l=t.Node,c=t.EditBox,f=t.instantiate},function(t){p=t.default},function(t){h=t.LineToolItem},function(t){d=t.SubGameData},function(t){g=t.FishFactory},function(t){m=t.TestBaseFish},function(t){y=t.getConfigClass,b=t.ConfigType}],execute:function(){var I,v,x,w,A,B,F,D,T,C,z,L,_,P,E,N,M;a._RF.push({},"4ce21fOX+JBPrKnGVOAp9E8","LineTooleView",void 0);var O=s.ccclass,S=s.property;t("LineTooleView",(I=O("LineTooleView"),v=S({type:u}),x=S({type:l}),w=S({type:l}),A=S({type:l}),B=S({type:c}),F=S({type:c}),D=S({type:c}),I((z=e((C=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).classid=1,e.routeid=1,i(e,"toolItem",z,r(e)),i(e,"itemBox",L,r(e)),i(e,"textBox",_,r(e)),i(e,"fishBox",P,r(e)),i(e,"fishIdInput",E,r(e)),i(e,"roInput",N,r(e)),i(e,"timeInput",M,r(e)),e.curItem=null,e.id=0,e.posArr=[],e.jsonOutput=[],e.preAngle=0,e}n(e,t);var a=e.prototype;return a.onEnable=function(){},a.addEvents=function(){this.onD("select",this.selectHandle)},a.addItem=function(){var t=f(this.toolItem);this.id++,t.getComponent(h).uid=this.id,t.parent=this.itemBox},a.delectItem=function(){dispatch("delect",this.curItem)},a.selectHandle=function(t){dispatch("cancelSelect",this.curItem),this.curItem=t},a.go=function(){this.preAngle=0;var t=this.newData();this.createFish2(t[0].line)},a.newData=function(){var t=this.itemBox.children;t.forEach((function(t){t.getPosition()})),this.posArr=t.map((function(t){return t.getPosition()}));var e=this.addRoute(),n=e.map((function(t,e){return{x:parseInt(t.x+""),y:parseInt(t.y+""),r:parseInt(t.r+""),t:parseInt(t.t+"")}})),i=[{id:Number(this.roInput.string),line:n,alivetime:e[e.length-1].t}];return this.jsonOutput=i,i},a.outData=function(){var t=this.newData();console.log(JSON.stringify(t,null,4))},a.addRoute=function(){for(var t=this.posArr,e=[],n=Number(this.timeInput.string),i=t.length-1,r=0,o=0;o<=i;o++){var a={x:0,y:0,r:0};if(a.x=t[o].x,a.y=t[o].y,o==i)a.r=r;else{var s=t[o+1].x,u=t[o+1].y;r=a.r=this.getAngle(a.x,a.y,s,u)}var l=Number(0==o?0:o==i?n:Math.floor(n/i*o));a.t=l,e.push(a)}return e},a.getAngle=function(t,e,n,i){var r=t-n,o=e-i,a=Math.atan2(o,r)*(180/Math.PI);return r>0?a=180+a:(a=180+a)-this.preAngle>100&&(a-=360),this.preAngle=a,a},a.getAngle2=function(t,e,n,i){var r=0;if(n-t==0)r=i>e?90:270;else{var o=this.getAngle(t,e,n,i);r=i>e?n>t?o:180-o:n>t?(360-o)%360:270+o}return Math.floor(r)},a.createFish2=function(t){var e={uid:(0,1),type:(0,1),classid:0,fishid:0,born_time:0,routeid:0,offsettype:0,offsetx:0,offsety:0,offsetr:0,dead_time:0};e.classid=Number(this.fishIdInput.string),e.fishid=1,e.born_time=Date.now(),e.offsettype=0,e.offsetx=0,e.offsety=0,e.offsetr=0;var n=t[t.length-1].t;e.dead_time=Date.now()+n,this.createFish(e,t)},a.createFish=function(t,e){var n=this,i=y(b.fish,t.classid+"");g.getInstance().getTestFish(i,(function(r){var o;null==(o=r.getComponent(m))||o.init(t,i,e),n.fishBox.addChild(r)}),this)},o(e,[{key:"data",get:function(){return App.dataCenter.get(d)}}]),e}(p)).prototype,"toolItem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(C.prototype,"itemBox",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(C.prototype,"textBox",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(C.prototype,"fishBox",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(C.prototype,"fishIdInput",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(C.prototype,"roInput",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(C.prototype,"timeInput",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=C))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/LineToolItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(t){var e,n,o,i,s,h,r,c,a,d,l,u,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,h=t._decorator,r=t.Label,c=t.Vec3,a=t.Node,d=t.UITransform,l=t.v3,u=t.Color},function(t){f=t.default}],execute:function(){var T,p,g,v,y;s._RF.push({},"d7d2cMS+5NHF6IXHu16Yk3u","LineToolItem",void 0);var E=h.ccclass,_=h.property;t("LineToolItem",(T=E("LineToolItem"),p=_({type:r}),T((y=e((v=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),h=0;h<n;h++)s[h]=arguments[h];return(e=t.call.apply(t,[this].concat(s))||this)._isDragging=!1,e._startPos=new c,e._delta=new c,e.uid=0,o(e,"lab",y,i(e)),e}n(e,t);var s=e.prototype;return s.start=function(){this.node.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.addEvents=function(){this.onD("cancelSelect",this.resetHandle),this.onD("delect",this.delectHandle)},s.onEnable=function(){this.lab.string=this.node.getSiblingIndex()+1+""},s.onTouchStart=function(t){this._isDragging=!0;var e=t.getUILocation();this.node.parent.getComponent(d).convertToNodeSpaceAR(l(e.x,e.y),this._startPos),c.subtract(this._delta,this._startPos,this.node.position),dispatch("select",this.uid),this.select()},s.onTouchMove=function(t){if(this._isDragging){var e=t.getUILocation(),n=new c;this.node.parent.getComponent(d).convertToNodeSpaceAR(l(e.x,e.y),n),c.subtract(n,n,this._delta),this.node.setPosition(n)}},s.onTouchEnd=function(t){this._isDragging=!1},s.resetHandle=function(t){this.uid==t&&this.reset()},s.delectHandle=function(t){var e=this;this.uid==t&&this.node?(this.node.removeFromParent(),this.node.destroy()):this.scheduleOnce((function(){e.node&&(e.lab.string=e.node.getSiblingIndex()+1+"")}),.2)},s.select=function(){this.node&&(this.node.setScale(1.5,1.5),this.lab.color=new u("#ffff00"))},s.reset=function(){this.node&&(this.node.setScale(1,1),this.lab.color=new u("#ffffff"))},s.onDestroy=function(){this.node.off(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e}(f)).prototype,"lab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/LineToolRoute.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MathUtils.ts"],(function(t){var e,i,n,s,r;return{setters:[function(t){e=t.createClass,i=t.inheritsLoose},function(t){n=t.cclegacy,s=t.Vec2},function(t){r=t.MathUtils}],execute:function(){n._RF.push({},"f5fdd9FCkVCAY9xtfMUoWWv","LineToolRoute",void 0);var o=t("Route",function(){function t(t,e,i,n){this._routeId=void 0,this.offsetX=void 0,this.offsetY=void 0,this.offsetR=void 0,this._routeId=t,this.offsetX=e,this.offsetY=i,this.offsetR=n}return t.prototype.getNextStep=function(t){return{x:0,y:0,r:0}},e(t,[{key:"routeId",get:function(){return this._routeId}}]),t}());t("Spiral",function(t){function e(e,i,n,s){var o;return(o=t.call(this,e,i,n,s)||this)._offsetRadian=void 0,o._offsetRadian=r.getInstance().getRadian(s),o}i(e,t);var n=e.prototype;return n.getNextStep=function(t){var e;if(t>0){var i=this.calcCoordinate(t-1),n=this.calcCoordinate(t),s=r.getInstance().getAngle2(i.x,i.y,n.x,n.y);e={x:n.x,y:n.y,r:s}}else e={x:0,y:0,r:0};return e},n.calcCoordinate=function(t){var e=20*(t/=1e3),i=t%(2*Math.PI)+this._offsetRadian,n=e*Math.cos(i),r=e*Math.sin(i);return new s(n,r)},e}(o)),t("CustomizedCurve",function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.getNextStep=function(t){var e;if(t>0){var i=700,n=90*t/35e3,s=r.getInstance().getRadian(n-90),o=i*Math.cos(s),f=i*Math.sin(s)+i;i=r.getInstance().getDistance(0,0,o,f),s=r.getInstance().getRadian2(0,0,o,f)+r.getInstance().getRadian(this.offsetR),o=i*Math.cos(s),f=i*Math.sin(s),e={x:Math.round(o),y:Math.round(f),r:n+this.offsetR}}else e={x:0,y:0,r:0};return e},e}(o)),t("BrokenLine",function(t){function n(e,i,n,s,r,o){var f;return(f=t.call(this,e,n,s,r)||this)._offsetType=void 0,f._line=void 0,f._index=void 0,f._offsetType=i,f._line=o,f._index=0,f}i(n,t);var s=n.prototype;return s.getNextStep=function(t){var e;if(t>=0){for(var i=this._line.length;this._index<i-1;){var n=this._line[this._index],s=this._line[this._index+1];if(!(s.t<=t)){var r=s.t-n.t;if(r<0)return this.lineError();if(0==r)return s;var o=Math.ceil(t-n.t),f=this.calcTimeOutValue(n.x,s.x,r,o),a=this.calcTimeOutValue(n.y,s.y,r,o),h=this.calcTimeOutValue(n.r,s.r,r,o);return this.handleOffset(f,a,h)}++this._index}e=this._line[this._index]}else e=this._line[0];return this.handleOffset(e.x,e.y,e.r)},s.handleOffset=function(t,e,i){if(1===this._offsetType)t+=this.offsetX,e+=this.offsetY;else if(2===this._offsetType){var n=t-this.offsetX,s=e-this.offsetY,o=r.getInstance().getRadian2(0,0,n,s)+r.getInstance().getRadian(this.offsetR),f=Math.sqrt(n*n+s*s);t=f*Math.cos(o)+this.offsetX,e=f*Math.sin(o)+this.offsetY,i+=this.offsetR}return{x:t,y:e,r:i}},s.calcTimeOutValue=function(t,e,i,n){return Math.round(t+(e-t)/i*n)},s.lineError=function(){Log.e("曲线配置错误，请检查id = "+this.routeId+"的曲线,"+JSON.stringify(this._line));return{x:0,y:0,r:0}},e(n,[{key:"index",get:function(){return this._index}}]),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData2.ts","./EventComponent.ts"],(function(e){var t,r,n,i,a,o,l,s,u,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,l=e._decorator,s=e.ProgressBar,u=e.Label},function(e){c=e.SubGameData},function(e){p=e.default}],execute:function(){var b,f,g,d,y,h,m,v,L;o._RF.push({},"950211LpbRCAYkPW/XsZ14j","LoadingView",void 0);var w=l.ccclass,P=l.property;e("LoadingView",(b=w("LoadingView"),f=P({type:s}),g=P({type:u}),d=P({type:u}),b((m=t((h=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"ProgressBar",m,i(t)),n(t,"lab",v,i(t)),n(t,"lab2",L,i(t)),t.items=[],t}r(t,e);var o=t.prototype;return o.addEvents=function(){},o.onEnable=function(){},o.updata=function(e,t,r){this.ProgressBar.progress=e/100,this.lab.string=Number(t/r/100*1e4).toFixed(0)+"%",this.lab2.string="Loding Resources... ["+t+" / "+r+"]"},a(t,[{key:"data",get:function(){return App.dataCenter.get(c)}}]),t}(p)).prototype,"ProgressBar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(h.prototype,"lab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(h.prototype,"lab2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/Lock.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,i,o,e,r,a,c,l;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,c=n.Animation,l=n.Component}],execute:function(){var s,p,u,f,y;r._RF.push({},"cc367anWdVG9JSLjS53S47c","Lock",void 0);var h=a.ccclass,L=a.property;n("Lock",(s=h("Lock"),p=L({type:c}),s((y=t((f=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,o(t,"ani",y,e(t)),t}i(t,n);var r=t.prototype;return r.playSwim=function(){},r.onEnable=function(){this.ani.play("start")},r.startLoop=function(){this.ani.play("loop")},r.onDisable=function(){this.ani.stop()},t}(l)).prototype,"ani",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=f))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/MainGameHelp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./ResourceUtils.ts"],(function(e){var i,t,n,o,r,l,s;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,o=e.find,r=e.instantiate},function(e){l=e.default},function(e){s=e.ResourceUtils}],execute:function(){var a;t._RF.push({},"adbc6q9fmFElounm8Alx7So","MainGameHelp",void 0);var h=n.ccclass;e("MainGameHelp",h("MainGameHelp")(a=function(e){function t(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(i=e.call.apply(e,[this].concat(n))||this).content=null,i.roomEffView=null,i.roomView=null,i.entryView=null,i.roomMenuView=null,i.helpAlert=null,i.isInRoom=!1,i.handle=null,i.enterAfterHandle=[],i.roomViewed=!1,i.menuEd=!1,i.roomEffEd=!1,i.helpEd=!1,i}i(t,e);var n=t.prototype;return n.onLoad=function(){e.prototype.onLoad.call(this),this.content=o("content",this.node),this.entryView=o("content/EntryView",this.node)},n.update=function(e){},n.clickEnter=function(e){App.loading.show("Loading fishing ground...",(function(){}),20,"#FFFFFF"),this.handle=e,this.canEnter()||(null==this.roomView&&this.addRoomView(!0),null==this.roomMenuView&&this.addMenuView(!0))},n.canEnter=function(){var e=this;return null!=this.roomView&&null!=this.roomMenuView&&(this.roomView.active=!0,this.roomMenuView.active=!0,this.entryView.active=!1,this.roomEffView&&(this.roomEffView.active=!0),App.loading.hide(),this.scheduleOnce((function(){null==e.handle||e.handle(),e.enterAfterHandle&&e.enterAfterHandle.forEach((function(e){e()})),e.isInRoom=!0,e.addRoomEffView(),e.addHelp()}),0),!0)},n.preLoadAdd=function(){null==this.roomView&&this.addRoomView(),null==this.roomMenuView&&this.addMenuView()},n.addRoomView=function(e){var i=this;void 0===e&&(e=!1),this.roomViewed||null==this.roomView&&(this.roomViewed=!0,s.getInstance().parsePrefab("prefabs/view/RoomView",(function(t){var n=r(t);i.roomView=n,i.content.insertChild(n,0),e&&i.canEnter(),console.log("RoomView 加载完成")}),this))},n.addMenuView=function(e){var i=this;void 0===e&&(e=!1),this.menuEd||null==this.roomMenuView&&(this.menuEd=!0,s.getInstance().parsePrefab("prefabs/view/RoomMenu",(function(t){var n=r(t);i.roomMenuView=n,i.content.insertChild(n,1),e&&i.canEnter(),console.log("RoomMenu 加载完成")}),this))},n.addRoomEffView=function(){var e=this;this.roomEffEd||null==this.roomEffView&&(this.roomEffEd=!0,s.getInstance().parsePrefab("prefabs/view/RoomEffView",(function(i){var t=r(i);e.roomEffView=t,e.content.insertChild(t,2),e.roomEffView.active=e.roomView.active,console.log("RoomEffView 加载完成")}),this))},n.addHelp=function(e){var i=this;if(void 0===e&&(e=!1),!this.helpEd)return null==this.helpAlert&&(this.helpEd=!0,s.getInstance().parsePrefab("prefabs/view/HelpView",(function(t){var n=r(t);return i.helpAlert=n,i.content.insertChild(n,4),i.helpAlert.active=e,console.log("HelpView 加载完成"),e&&App.loading.hide(),n}),this)),null},n.openHelp=function(){null==this.helpAlert?this.addHelp(!0):this.helpAlert.active=!0},n.exit=function(){this.roomView&&(this.roomView.active=!1),this.helpAlert&&(this.helpAlert.active=!1),this.roomMenuView&&(this.roomMenuView.active=!1),this.roomEffView&&(this.roomEffView.active=!1),this.entryView&&(this.entryView.active=!0),this.handle=null,this.enterAfterHandle=[],this.isInRoom=!1},n.onDestroy=function(){e.prototype.onDestroy.call(this)},t}(l))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/MainGameView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameView.ts","./GameLogic2.ts","./Decorators.ts","./LoadingView2.ts","./GameHandler2.ts","./MainGameHelp.ts","./GameService2.ts"],(function(n){var e,t,i,o,a,r,c,l,s,u,g,d,p,f,h,y,m;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized,a=n.createClass},function(n){r=n.cclegacy,c=n._decorator,l=n.Node,s=n.Game,u=n.find},function(n){g=n.default},function(n){d=n.GameLogic},function(n){p=n.inject},function(n){f=n.LoadingView},function(n){h=n.default},function(n){y=n.MainGameHelp},function(n){m=n.GameService}],execute:function(){var w,v,V,E,G,M,H;r._RF.push({},"1f986Lm8QpNsoxh2wcApalY","MainGameView",void 0);var L=c.ccclass,b=c.property;n("default",(w=p({type:d,name:"logic"}),v=b({type:l}),L(((H=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,i(e,"logic",G,o(e)),i(e,"main",M,o(e)),e.content=null,e.loadingView=null,e}t(e,n),e.getPrefabUrl=function(){return"prefabs/MainGameView"};var r=e.prototype;return r.onLoad=function(){n.prototype.onLoad.call(this)},r.addEvents=function(){n.prototype.addEvents.call(this),this.onG(s.EVENT_HIDE,this.onEnterBackground),this.onG(s.EVENT_SHOW,this.onEnterForgeground)},r.init=function(){var n=this;this.content=u("content",this.node),this.loadingView=u("content/loadingView",this.node),this.setMsgHandle((function(e){var t;null==(t=n.handle)||t.errHandle(e)}))},r.setMsgHandle=function(n){this.service.msgHandle=n},r.showMain=function(){},r.onEnterBackground=function(){console.log("进入后台"),this.logic.onEnterBackground()},r.onEnterForgeground=function(){console.log("进入后台 出现"),this.logic.onEnterForgeground()},r.onShow=function(){n.prototype.onShow.call(this)},r.updataLoading=function(n,e,t){this.loadingView&&(this.loadingView.getComponent(f).updata(n,e,t),n>=100&&(u("content/EntryView",this.node).active=!0,this.loadingView.active=!1))},r.onDestroy=function(){n.prototype.onDestroy.call(this)},a(e,[{key:"service",get:function(){return App.serviceManager.get(m)}},{key:"handle",get:function(){return App.handlerManager.get(h)}},{key:"help",get:function(){return this.node.getComponent(y)}}]),e}(g)).logicType=d,G=e((E=H).prototype,"logic",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(E.prototype,"main",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=E))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/MarqueeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent.ts","./ConfigGetter.ts"],(function(e){var t,i,n,a,r,o,s,h,c,u,l,f,d,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.RichText,h=e.UITransform,c=e.tween,u=e.Vec3,l=e.Tween},function(e){f=e.default},function(e){d=e.FishEvent},function(e){g=e.getConfigClass,p=e.ConfigType}],execute:function(){var m,v,M,y,x,T,q;r._RF.push({},"4b7082c7o1BSJcf5UrhxYbb","MarqueeManager",void 0);var R=o.ccclass,b=o.property;e("MarqueeManager",(m=R("MarqueeManager"),v=b(s),M=b(Node),m((T=t((x=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"marqueeRichText",T,a(t)),n(t,"mask",q,a(t)),t.messageQueue=[],t.isPlaying=!1,t.fishArr=[23,24,25,26,27,28],t}i(t,e);var r=t.prototype;return r.onLoad=function(){this.marqueeRichText.string="",this.marqueeRichText.node.parent.active=!1},r.onEnable=function(){var e=this;this.schedule((function(){var t=e.fishArr.length,i=Math.round(Math.random()*t);i>=t&&(i=t-1);var n=g(p.fish,e.fishArr[i]+""),a=n.name,r=n.rate;e.add(1,a,r)}),60)},r.addEvents=function(){this.onD(d.DISPATCH_MARQUEE,this.add)},r.test=function(){var e=this.fishArr.length,t=Math.round(Math.random()*e),i=g(p.fish,this.fishArr[t]+""),n=i.name,a=i.rate;this.add(1,n,a)},r.add=function(e,t,i){if(1==e){var n=Math.floor(9e3*Math.random())+1e3;if(t){var a=i[0],r=i[i.length-1],o="<color=#01ffff>[****"+n+"]</color> has defeated <color=#5df046> ["+t+"] </color> and obtained <color=#fcff00> ["+(Math.floor(Math.random()*(r-a))+a)+"] </color> rate!";this.addMessage(o)}}else{var s="<color=#5df046>（"+t+"</color> is coming! Defeat it to earn up to<color=#fcff00> "+i[i.length-1]+"x </color>rewards!";this.addMessage(s)}},r.addMessage=function(e){this.messageQueue.push(e),this.isPlaying||(this.marqueeRichText.node.parent.active=!0,this.playNext())},r.playNext=function(){if(0===this.messageQueue.length)return this.isPlaying=!1,void(this.marqueeRichText.node.parent.active=!1);this.isPlaying=!0;var e=this.messageQueue.shift();this.startMarqueeAnimation(e)},r.startMarqueeAnimation=function(e){var t=this,i=this.marqueeRichText.node,n=i.getComponent(h);this.marqueeRichText.string=e;var a=i.parent.getComponent(h).width/2+n.width/2,r=-a;i.setPosition(a,0);var o=5+.1*e.length;c(i).to(o,{position:new u(r,0,0)}).call((function(){t.playNext()})).start()},r.onDisable=function(){this.messageQueue=[],this.isPlaying=!1,this.marqueeRichText.string="",this.marqueeRichText.node.parent.active=!1,l.stopAllByTarget(this.marqueeRichText.node),this.unschedule(this.node)},t}(f)).prototype,"marqueeRichText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(x.prototype,"mask",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=x))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton4.ts"],(function(t){var n,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.Singleton}],execute:function(){e._RF.push({},"1a6d1DcItdImLlLqy9zUMr5","MathUtils",void 0);t("MathUtils",function(t){function e(){return t.call(this)||this}n(e,t);var i=e.prototype;return i.getAngle=function(t){return 180*t/Math.PI},i.getAngle2=function(t,n,e,i){var r=this.getRadian2(t,n,e,i);return this.getAngle(r)},i.getRadian=function(t){return t/180*Math.PI},i.getRadian2=function(t,n,e,i){var r=e-t,u=i-n;return Math.atan2(u,r)},i.getDistance=function(t,n,e,i){var r=e-t,u=i-n,a=r*r+u*u;return Math.sqrt(a)},i.getDistance2=function(t,n){return this.getDistance(t.x,t.y,n.x,n.y)},i.getElasticOut=function(t,n){void 0===n&&(n=-4.5);var e=2*Math.PI,i=.3/e*Math.asin(1);return 1*Math.pow(2,n*t)*Math.sin((t-i)*e/.3)+1},i.getBackOut=function(t,n){return void 0===n&&(n=10),--t*t*((n+1)*t+n)+1},i.getBackIn=function(t,n){return void 0===n&&(n=10),t*t*((n+1)*t-n)},i.getQuart=function(t,n){return void 0===n&&(n=1),n*(t=1-t)*t*t*t},i.getBounceOut=function(t){return t<1/2.75?1-7.5625*(t-=.5/2.75)*t*4:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)},e}(i()));e._RF.pop()}}}));

System.register("chunks:///_virtual/MouseFollower.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,i,n,r,s,l,c,a,u,p,f;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,c=e.view,a=e.input,u=e.Input,p=e.Vec3,f=e.Component}],execute:function(){var h,v,M,w,y;r._RF.push({},"4cfe4eUwRpImrrziUgUMBgo","MouseFollower",void 0);var d=s.ccclass,g=s.property;e("MouseFollower",(h=d("MouseFollower"),v=g(l),h((y=o((w=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return o=e.call.apply(e,[this].concat(r))||this,i(o,"followNode",y,n(o)),o._canvasSize=c.getVisibleSize(),o}t(o,e);var r=o.prototype;return r.onLoad=function(){a.on(u.EventType.MOUSE_MOVE,this.onMouseMove,this)},r.onDestroy=function(){a.off(u.EventType.MOUSE_MOVE,this.onMouseMove,this)},r.onMouseMove=function(e){if(this.followNode){var o=e.getLocation(),t=new p(o.x-this._canvasSize.width/2,o.y-this._canvasSize.height/2,0);this.followNode.setPosition(t)}},o}(f)).prototype,"followNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=w))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/NetItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts","./BatterModel.ts","./Global.ts","./BaseFish.ts","./GameSender2.ts","./BulletModel.ts"],(function(t){var e,n,i,o,s,r,l,a,c,u,d,h,p,f,g,m,y,v,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,l=t.Sprite,a=t.Node,c=t.Vec3,u=t.CircleCollider2D,d=t.Contact2DType,h=t.Animation,p=t.Component},function(t){f=t.ObjectPool},function(t){g=t.BatterModel},function(t){m=t.Global},function(t){y=t.BaseFish},function(t){v=t.GameSender},function(t){b=t.BulletModel}],execute:function(){var I,C,B,P,M,D,N;s._RF.push({},"deeb7SqpBtJkorok7scDCde","NetItem",void 0);var w=r.ccclass,_=r.property;t("NetItem",(I=w("NetItem"),C=_({type:l}),B=_({type:a}),I((D=e((M=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).startPosition=new c,e.lvs=[],i(e,"skin",D,o(e)),i(e,"collider",N,o(e)),e.own=-1,e.target_id=0,e.uid=0,e.rate=0,e.isMe=!1,e.fishId=[],e.pos=null,e}n(e,t);var s=e.prototype;return s.onLoad=function(){var t=this.collider.getComponent(u);t&&t.on(d.BEGIN_CONTACT,this.onBeginContact,this)},s.init=function(t,e,n,i,o){if(this.startPosition=t,this.node.setPosition(this.startPosition),this.own=e,this.target_id=n,this.uid=i,this.isMe=o,o){var s=g.getInstance().getMyData().cost,r=g.getInstance().betList,l=r.length,a=26.625*(s-r[0]/1e6)/((r[l-1]-r[0])/1e6)+63.25;this.collider.getComponent(u).radius=a}},s.onEnable=function(){this.playAni(),this.req()},s.update=function(t){},s.setType=function(t){this.lvs[t-1]&&(this.skin.spriteFrame=this.lvs[t-1])},s.playAni=function(){var t;null==(t=this.node.getComponent(h))||t.play("net")},s.scaleEnd=function(){this.reset(),f.getInstance().push(this.node)},s.reset=function(){var t;this.fishId=[],null==(t=this.node.getComponent(h))||t.stop(),this.node.removeFromParent()},s.onBeginContact=function(t,e,n){var i=t.node,o=e.node,s=g.getInstance().getTruePos(m.userId),r=this.own==s,l=i.getWorldPosition(),a=o.getComponent(y);if(a){var c=a.sprite;if(c){var u=Number(c.uid);o.getComponent(y).hit(),r&&(this.fishId.push(u),this.pos=l)}}},s.req=function(){var t=this;this.scheduleOnce((function(){var e;t.isMe&&(b.getInstance().reductCount(),null==(e=App.senderManager.get(v))||e.c2sHit([{fishids:t.fishId,bulletid:t.uid,x:t.pos.x,y:t.pos.y}]),console.log("bull.id: "+t.uid),console.log("fishUid: "+t.fishId))}),.15)},s.onDestroy=function(){},e}(p)).prototype,"skin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(M.prototype,"collider",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=M))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/NetView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent.ts","./NetItem.ts","./SubGameData2.ts","./ObjectPool.ts","./ResourceConst.ts"],(function(t){var n,e,o,i,r,a,s,c,u,d,l,f;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,i=t._decorator,r=t.Game,a=t.UITransform},function(t){s=t.default},function(t){c=t.FishEvent},function(t){u=t.NetItem},function(t){d=t.SubGameData},function(t){l=t.ObjectPool},function(t){f=t.getResConfig}],execute:function(){var p;o._RF.push({},"27f0e3l9pNGpp30uVrQYXia","NetView",void 0);var h=i.ccclass;i.property,t("NetView",h("NetView")(p=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var i=o.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this)},i.addEvents=function(){this.onD(c.DISPATCH_ADD_NET,this.addNet),this.onG(r.EVENT_HIDE,this.onEnterBackground)},i.onEnable=function(){},i.addNet=function(t){var n=this,e=""+f().NET;l.getInstance().popPrefabNode(e,(function(e){var o,i=n.node.getComponent(a).convertToNodeSpaceAR(t.startPosition);null==(o=e.getComponent(u))||o.init(i,t.own,t.target_id,t.uid,t.isMe),n.node.addChild(e)}),this)},i.onEnterBackground=function(){this.node.removeAllChildren()},i.onDisable=function(){this.node.removeAllChildren()},e(o,[{key:"data",get:function(){return App.dataCenter.get(d)}}]),o}(s))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton4.ts","./ResourceUtils.ts"],(function(t){var n,e,o,i,c,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t.isValid,i=t.instantiate},function(t){c=t.Singleton},function(t){r=t.ResourceUtils}],execute:function(){e._RF.push({},"e2354rQ1OVG44Jc9CiwKV5O","ObjectPool",void 0);t("ObjectPool",function(t){function e(){var n;return(n=t.call(this)||this)._content=void 0,n._content={},n}n(e,t);var c=e.prototype;return c.popPrefabNode=function(t,n,e){var c=t;this._content[c]||(this._content[c]=[]);var s=this._content[c];if(s.length){var l=s.pop();n.call(e,l)}else r.getInstance().parsePrefab(t,(function(r){if(o(e))if(r){var s=i(r);s.ObjectPoolKey=c,n.call(e,s)}else Log.d("instantiate null prefab",t)}),this)},c.getPoolLen=function(t){return this._content[t].length},c.push=function(t){if(null==t)return!1;var n=t.ObjectPoolKey;return!!this._content[n]&&(this._content[n].push(t),!0)},c.clearPool=function(t){this._content[t]&&(this._content[t]=[])},c.destroy=function(){for(var t in this._content){for(var n=this._content[t];n.length;){var e=n.pop();e&&e.destroy()}delete this._content[t]}this._content={}},e}(c()));e._RF.pop()}}}));

System.register("chunks:///_virtual/pao_Config.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"b60acmarRFNoKVugbjkbJn4","pao_Config",void 0),n("pao_Config",function(){function n(){this._config={25:{id:25,score:[500,1e4]},26:{id:26,score:[500,1e4]},27:{id:27,score:[500,1e4]}}}return n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n.prototype.getConfig=function(n){return this._config[n]||null},n}()).instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/PointView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,n,i,r,s,c,a,u,l,p;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,s=o._decorator,c=o.Node,a=o.NodeEventType,u=o.UITransform,l=o.v3,p=o.Component}],execute:function(){var f,h,v,y,M;r._RF.push({},"ef60dy3CDhBi7UePHZRZa2v","PointView",void 0);var d=s.ccclass,g=s.property;o("FollowMouse",(f=d("FollowMouse"),h=g({type:c}),f((M=e((y=function(o){function e(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=o.call.apply(o,[this].concat(r))||this,n(e,"icon",M,i(e)),e}t(e,o);var r=e.prototype;return r.start=function(){this.node.on(a.MOUSE_MOVE,this.onMouseMove,this)},r.onMouseMove=function(o){var e=o.getUILocation(),t=this.node.getComponent(u).convertToNodeSpaceAR(l(e.x,e.y));this.icon.setPosition(t.x,t.y)},r.onDestroy=function(){this.node.off(a.MOUSE_MOVE,this.onMouseMove,this)},e}(p)).prototype,"icon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol3.ts",["cc"],(function(o){var t;return{setters:[function(o){t=o.cclegacy}],execute:function(){t._RF.push({},"61dd4qKG+NL5qdm7bKjGfIw","Protocol",void 0);var e=o("Protocol",(function(){}));e.LOGIN="login",e.LOGOUT="logout",e.USERINFO="userinfo",e.USER_KICK="user_kick",e.ERRORCODE="errorcode",e.MARQUEE="marquee",e.TIPS="tips",e.DEBUG_LOGIN="debug_login",e.MARK="mark",e.SLOTINFO="slot_info",e.SLOTBET="slot",e.ANTASLOTBET="anta_slot",e.LASTMAP="last_map",e.SLOT_TEST="test",e.BUY="buy_free",e.FREESPIN="free_spin",e.GMSLOT="gm_slot",t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceConst.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){i({destroyResConfig:function(){o&&(o=null)},destroySoundConfig:function(){s&&(s=null)},getResConfig:function(){o||(o=new e);return o},getSoundConfig:function(){s||(s=new u);return s}}),t._RF.push({},"95c2eCYBDZBuqOUdQR5C/66","ResourceConst",void 0);var o,e=function(){this.BUNDLE="slot190000100",this.FISHES_PREFAB_DIR="prefabs/item/fishes/",this.NET="prefabs/item/net/net",this.Lock="prefabs/item/lock/Lock",this.GoldAni="prefabs/item/GoldAni",this.GoldItem="prefabs/item/Gold",this.ScoreItem="prefabs/item/ScoreItem",this.EFFECT_PREFAB_DIR="prefabs/effect/"};var s,u=function(){function i(){this.FullFishBGM="audio/bg_fullfish",this.ChangeMutiple="audio/ChangeMutiple",this.LaserShoot="audio/LaserShoot",this.BeforeBomb="audio/BeforeBomb",this.CrocodileAttack="audio/CrocodileAttack",this.HitBoss="audio/HitBoss",this.InScore="audio/InScore",this.Bomb="audio/Bomb",this.ChangeMapWave="audio/ChangeMapWave",this.Fire="audio/BatteryFire",this.HitSame="audio/HitSame",this.JumpScore2="audio/JumpScore2",this.RainbowScore="audio/RainbowScore",this.HitBig="audio/HitBig",this.HitFull="audio/HitFull",this.LaserAppear="audio/LaserAppear",this.HitLaser="audio/HitLaser",this.GetScore="audio/GetScore",this.DragonCross="audio/DragonCross",this.StabSame="audio/StabSame",this.FullScore="audio/FullScore",this.FullCoin="audio/FullCoin",this.OverJump="audio/OverJump",this.Jumping="audio/Jumping",this.FlyingCutter="audio/FlyingCutter"}var t=i.prototype;return t.getBGM=function(i){return"audio/bg_"+i},t.getBossBGM=function(i){return"audio/bg_boss_"+i},i}();t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton4.ts","./ResourceConst.ts"],(function(n){var t,e,o,s,i,u,a,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n.JsonAsset,s=n.isValid,i=n.Prefab,u=n.SpriteFrame},function(n){a=n.Singleton},function(n){c=n.getResConfig}],execute:function(){e._RF.push({},"379446hprVNTpsl738cJ0dP","ResourceUtils",void 0);n("ResourceUtils",function(n){function e(){var t;return(t=n.call(this)||this)._bundle=null,t}t(e,n);var a=e.prototype;return a.setBundle=function(n){this._bundle=n},a.clearBundle=function(){this._bundle=null},a.parseJsonAsset=function(n,t,e,i){App.asset.load(n,t,o,(function(){}),(function(n){s(i)&&e.call(i,n.data.json)}))},a.parsePrefab=function(n,t,e){App.asset.load(c().BUNDLE,n,i,(function(){}),(function(n){s(e)&&t.call(e,n.data)}))},a.loadDir=function(n,t,e){App.asset.loadDir(c().BUNDLE,n,o,(function(){}),(function(n){s(e)&&t.call(e,n.data)}))},a.parseImage=function(n,t,e){App.asset.load(c().BUNDLE,n,u,(function(){}),(function(n){s(e)&&t.call(e,n.data)}))},a.setSpriteFrame=function(n,t){App.asset.load(c().BUNDLE,t,u,(function(){}),(function(t){s(n)&&(n.spriteFrame=t.data)}))},a.getRes=function(n,t){var e;return null==(e=this._bundle)?void 0:e.get(n,t)},e}(a()));e._RF.pop()}}}));

System.register("chunks:///_virtual/RoomEffView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData2.ts","./EventComponent.ts","./FishEvent.ts","./SubGameDefines2.ts","./SubGameConstants2.ts","./Decorators.ts","./GameLogic2.ts"],(function(e){var i,n,t,o,a,s,r,l,c,u,p,m,h,S,b,f,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,l=e.Node,c=e.Label,u=e.sp},function(e){p=e.SubGameData},function(e){m=e.default},function(e){h=e.FishEvent},function(e){S=e.EventName},function(e){b=e.SubGameConstants},function(e){f=e.inject},function(e){g=e.GameLogic}],execute:function(){var A,d,j,C,_,v,y,E,B,D,k,O,L,P,w,z,I,G,H;s._RF.push({},"55448BPTmRFj7zqOJDWmTfI","RoomEffView",void 0);var R=r.ccclass,F=r.property;e("RoomEffView",(A=R("RoomEffView"),d=f({type:g,name:"logic"}),j=F({type:l}),C=F({type:l}),_=F({type:l}),v=F({type:l}),y=F({type:c}),E=F({type:l,tooltip:"龙来袭动画"}),B=F({type:l}),A((O=i((k=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=e.call.apply(e,[this].concat(a))||this,t(i,"logic",O,o(i)),t(i,"bossCome",L,o(i)),t(i,"bossEnd",P,o(i)),t(i,"jinbi_shouji",w,o(i)),t(i,"lianji",z,o(i)),t(i,"lianji_num",I,o(i)),t(i,"bossBoom",G,o(i)),t(i,"bg_changeEff",H,o(i)),i.lianjiArr=[],i.lianjiaArrStep=0,i.musicStep=0,i}n(i,e);var s=i.prototype;return s.update=function(e){},s.addEvents=function(){var e=this;this.onD(h.DISPATCH_BOSS_COME,this.playBossCome),this.onD(h.DISPATCH_DRAGON_DIE,this.playDragonDie),this.onD(h.DISPATCH_CHANGE_SCENE,this.changeScene),this.bg_changeEff.getComponent(u.Skeleton).setCompleteListener((function(){e.bg_changeEff.active=!1})),this.bossCome.getComponent(u.Skeleton).setCompleteListener((function(){e.bossCome.active=!1,e.data.openAllSound&&e.logic.playMusic();var i=Math.random()>.5?1:2;dispatch(S.PLAY_MUSIC,"audio/bgm_boss_battle_0"+i)})),this.bossEnd.getComponent(u.Skeleton).setCompleteListener((function(i){var n=i.animation.name;"ani3"==n?(e.bossEnd.active=!1,e.bossBoom.active=!0,e.lianjiaArrStep=0,e.lianjiArr=[],e.bossBoom.setScale(3,3),e.bossBoom.getComponent(u.Skeleton).setAnimation(0,"boom",!1),dispatch(S.PLAY_SOUND,b.AudioSource.Fish_Boss_baozha)):"ani1"==n&&dispatch(S.PLAY_SOUND,b.AudioSource.Fish_Boss_attack)})),this.lianji.getComponent(u.Skeleton).setCompleteListener((function(i){var n=i.animation.name;if("disappear"==n)e.lianji.active=!1;else if("loop"==n)if(e.lianji_num.string=""+e.lianjiArr[e.lianjiaArrStep],e.lianjiaArrStep<e.lianjiArr.length-1){if(e.lianjiaArrStep++,e.lianjiaArrStep%2==0){var t=e.getAudioSourceByIndex(!1);dispatch(S.PLAY_SOUND,t)}e.lianjiaArrStep==e.lianjiArr.length-4&&e.bossEnd.getComponent(u.Skeleton).setAnimation(0,"ani3",!1),e.lianjiaArrStep%6==0?e.scheduleOnce((function(){e.lianji.getComponent(u.Skeleton).setAnimation(0,"loop",!1)}),.5):e.lianji.getComponent(u.Skeleton).setAnimation(0,"loop",!1)}else dispatch(h.DISPATCH_SHARE_BG_STOP),e.jinbi_shouji.active=!1,e.lianji_num.string=""+e.lianjiArr[e.lianjiaArrStep],e.lianji.getComponent(u.Skeleton).setAnimation(0,"disappear",!1)})),this.bossBoom.getComponent(u.Skeleton).setCompleteListener((function(){e.bossBoom.active=!1,e.bossBoom.setScale(1,1,1)}))},s.onEnable=function(){this.hideAll()},s.generateArray=function(e,i){for(var n=[],t=e/i,o=1;o<=i;o++){var a=parseInt(String(o*t));n.push(a)}return n},s.changeScene=function(){this.bg_changeEff.active=!0,this.bg_changeEff.getComponent(u.Skeleton).animation="ani",dispatch(S.PLAY_SOUND,b.AudioSource.Fish_Frenzy)},s.playBossCome=function(){this.logic.stopMusic(),this.bossCome.active=!0,this.bossCome.getComponent(u.Skeleton).animation="animation",dispatch(S.PLAY_SOUND,b.AudioSource.Fish_BOOS_Warning)},s.test=function(){var e=this;this.lianjiArr=[],this.lianjiArr=this.generateArray(450,20),this.lianji_num.string="",this.bossBoom.active=!0,this.bossBoom.setScale(6,6),this.bossBoom.getComponent(u.Skeleton).animation="boom",this.musicStep=0,this.scheduleOnce((function(){e.bossEnd.active=!0,e.bossEnd.getComponent(u.Skeleton).setAnimation(0,"ani1",!1),e.bossEnd.getComponent(u.Skeleton).addAnimation(0,"ani2",!0)}),.8),this.scheduleOnce((function(){dispatch(h.DISPATCH_SHARE_BG,!0),e.jinbi_shouji.active=!0,e.jinbi_shouji.getComponent(u.Skeleton).setAnimation(0,"animation",!0),e.lianji.active=!0,e.lianji.getComponent(u.Skeleton).setAnimation(0,"appear",!1),e.lianji.getComponent(u.Skeleton).addAnimation(0,"loop",!1)}),4)},s.playDragonDie=function(e){var i=this,n=e.fish.rate;this.lianjiArr=[],this.lianjiArr=this.generateArray(n,20),this.lianji_num.string="",this.bossBoom.active=!0,this.bossBoom.setScale(6,6),this.bossBoom.getComponent(u.Skeleton).animation="boom",this.musicStep=0,this.scheduleOnce((function(){i.bossEnd.active=!0,i.bossEnd.getComponent(u.Skeleton).setAnimation(0,"ani1",!1),i.bossEnd.getComponent(u.Skeleton).addAnimation(0,"ani2",!0)}),.8),this.scheduleOnce((function(){dispatch(h.DISPATCH_SHARE_BG,!0),i.jinbi_shouji.active=!0,i.jinbi_shouji.getComponent(u.Skeleton).setAnimation(0,"animation",!0),i.lianji.active=!0,i.lianji.getComponent(u.Skeleton).setAnimation(0,"appear",!1),i.lianji.getComponent(u.Skeleton).addAnimation(0,"loop",!0)}),4)},s.getAudioSourceByIndex=function(e){var i=Object.keys(b.AudioBossSource);e?(this.musicStep++,this.musicStep>i.length-1&&(this.musicStep=0)):(this.musicStep--,this.musicStep<0&&(this.musicStep=i.length-1));var n=i;return b.AudioBossSource[n[this.musicStep]]},s.hideAll=function(){this.node.children.forEach((function(e){e.active=!1}))},s.onDestroy=function(){},a(i,[{key:"data",get:function(){return App.dataCenter.get(p)}}]),i}(m)).prototype,"logic",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(k.prototype,"bossCome",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(k.prototype,"bossEnd",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(k.prototype,"jinbi_shouji",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(k.prototype,"lianji",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(k.prototype,"lianji_num",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(k.prototype,"bossBoom",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(k.prototype,"bg_changeEff",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=k))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoomMenuView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData2.ts","./GameSender2.ts","./FishEvent.ts","./SubGameDefines2.ts","./SubGameConstants2.ts","./EventComponent.ts","./Decorators.ts","./GameLogic2.ts","./BatterModel.ts","./FishModel.ts"],(function(t){var i,n,e,o,s,a,c,r,l,u,h,p,d,g,m,f,b,_,A,v,k,C,y,B;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,c=t._decorator,r=t.Node,l=t.Sprite,u=t.SpriteFrame,h=t.Label,p=t.Game,d=t.Animation},function(t){g=t.SubGameData},function(t){m=t.GameSender},function(t){f=t.FishEvent},function(t){b=t.EventName},function(t){_=t.SubGameConstants,A=t.getConfig},function(t){v=t.default},function(t){k=t.inject},function(t){C=t.GameLogic},function(t){y=t.BatterModel},function(t){B=t.FishModel}],execute:function(){var L,S,I,D,T,E,w,M,O,H,P,F,N,z,R,x,G,U,V,j,K,Y,X,q,W,Z,J,Q,$,tt,it,nt,et,ot,st,at,ct,rt,lt;a._RF.push({},"25f78VoOAlOR64BxTEB/AR+","RoomMenuView",void 0);var ut=c.ccclass,ht=c.property;t("RoomMenuView",(L=ut("RoomMenuView"),S=ht({type:r}),I=ht({type:r}),D=ht({type:r}),T=ht({type:r}),E=ht({type:r}),w=ht({type:r}),M=ht({type:l}),O=ht({type:u}),H=ht({type:r}),P=ht({type:r,tooltip:"小boss来袭"}),F=ht({type:r,tooltip:"小boss来袭图标"}),N=ht({type:r,tooltip:"小boss来袭名字"}),z=ht({type:r,tooltip:"小boss来袭倍率"}),R=ht({type:u,tooltip:"小boss来袭图片"}),x=ht({type:u,tooltip:"小boss来袭名字图片"}),G=ht({type:r,tooltip:"提示框"}),U=ht({type:h,tooltip:"提示框文本"}),V=k({type:C,name:"logic"}),L((Y=i((K=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,e(i,"menuBtns",Y,o(i)),e(i,"moreBtn",X,o(i)),e(i,"lockBtn",q,o(i)),e(i,"autoBtn",W,o(i)),e(i,"lockBtnEd",Z,o(i)),e(i,"autoBtnEd",J,o(i)),e(i,"musicIcon",Q,o(i)),e(i,"musicSfArr",$,o(i)),e(i,"btnsBox",tt,o(i)),e(i,"miniboss_di",it,o(i)),e(i,"miniboss_di_icon",nt,o(i)),e(i,"miniboss_di_name",et,o(i)),e(i,"miniboss_di_Label",ot,o(i)),e(i,"miniboss_sp_arr",st,o(i)),e(i,"miniboss_name_sp_arr",at,o(i)),e(i,"startTip",ct,o(i)),e(i,"tipText",rt,o(i)),e(i,"logic",lt,o(i)),i.isOpen=!1,i.shootCd=!0,i.type=22,i}n(i,t);var a=i.prototype;return a.addEvents=function(){this.onD(f.DISPATCH_CANCEL_AUTO_LOCK,this.cancel),this.onD(f.DISPATCH_ADD_RATE,this.judgeAutoLock),this.onD(f.DISPATCH_INIT_BATTLE,this.initView),this.onD(f.DISPATCH_CANCEL_LOCK_AUTO,this.cancelAll),this.onD(f.DISPATCH_SMALL_BOSS,this.smallBossShow),this.onD(f.DISPATCH_RETURNTOHOME,this.clickReturn),this.onD(f.DISPATCH_CLOSE_MORE,this.closeMore),this.onD(f.DISPATCH_SHOW_TIP,this.showTip),this.onD(f.DISPATCH_MANUALOCK,this.onManuaLock),this.onG(p.EVENT_HIDE,this.onEnterBackground)},a.onEnable=function(){this.showTip("CLICK ON A SHELL TO CHANG IT!");var t=this.data.openMusic?1:0;this.musicIcon.spriteFrame=this.musicSfArr[t],this.test()},a.onDisable=function(){this.data.isAuto=!1,this.data.isLockIng=!1},a.smallBossShow=function(t){this.startTip.active,this.unschedule(this.hideBossDi);var i=t.rate,n=this.miniboss_di_icon.getComponent(l),e=this.miniboss_di_name.getComponent(l),o=i[0],s=i[i.length-1];this.miniboss_di_Label.getComponent(h).string=o+"-"+s,n.spriteFrame=this.miniboss_sp_arr[Number(t.tipImgPathIdx)-1],n.node.setScale(Number(t.capturedScale),Number(t.capturedScale)),e.spriteFrame=this.miniboss_name_sp_arr[Number(t.tipImgPathIdx)-1],this.miniboss_di.active=!0,this.scheduleOnce(this.hideBossDi,2)},a.test=function(){},a.hideBossDi=function(){this.miniboss_di.active=!1},a.shoot=function(t){y.getInstance().getMyNewPos()==t.pos&&this.startTip.active&&(this.startTip.active=!1)},a.showTip=function(t){var i;this.startTip.active=!0,this.tipText.string=t,null==(i=this.startTip.getComponent(d))||i.play()},a.initView=function(){var t;1==(null==(t=this.myData)?void 0:t.posIdx)?this.btnsBox.setPosition(565,-480):this.btnsBox.setPosition(640,-480)},a.clickMore=function(){this.test(),this.isOpen=!this.isOpen,this.menuBtns.active=this.isOpen,dispatch(b.PLAY_SOUND,_.AudioSource.Fish_Button)},a.closeMore=function(){this.menuBtns.active=!1},a.cancelAll=function(){this.lockBtnEd.active=!1,this.lockBtn.active=!0,this.autoBtnEd.active=!1,this.autoBtn.active=!0,this.data.isLockIng=!1,this.data.isAuto=!1},a.clickMenuBtns=function(){},a.onManuaLock=function(t){var i=null!=t,n=this.data.isLockIng;if(this.data.isLockIng=i,this.lockBtnEd.active=this.data.isLockIng,this.lockBtn.active=!this.data.isLockIng,this.data.isLockIng){var e,o;if(null==(e=this.sender)||e.gunChange(2),null!=t)this.data.manualLockFish(t,n),null==(o=this.sender)||o.c2sChangeLocking(t);this.data.isAuto&&(this.data.isAuto=!1,this.autoBtnEd.active=!1,this.autoBtn.active=!0)}else{var s,a;null==(s=this.sender)||s.c2sCancleLocking(),null==(a=this.sender)||a.gunChange(1)}dispatch(b.PLAY_SOUND,_.AudioSource.Fish_Button)},a.clickLock=function(){if(this.canClick()){if(this.data.isLockIng=!this.data.isLockIng,this.lockBtnEd.active=this.data.isLockIng,this.lockBtn.active=!this.data.isLockIng,this.data.isLockIng){var t;null==(t=this.sender)||t.gunChange(2);var i,n=B.getInstance().getMaxRateId();if(null!=n)null==(i=this.sender)||i.c2sChangeLocking(Number(n));this.data.isAuto&&(this.data.isAuto=!1,this.autoBtnEd.active=!1,this.autoBtn.active=!0)}else{var e,o;null==(e=this.sender)||e.c2sCancleLocking(),null==(o=this.sender)||o.gunChange(1)}dispatch(b.PLAY_SOUND,_.AudioSource.Fish_Button)}},a.clickAuto=function(){if(this.canClick()){var t,i;if(this.data.isAuto=!this.data.isAuto,this.autoBtnEd.active=this.data.isAuto,this.autoBtn.active=!this.data.isAuto,this.data.isAuto)this.data.isLockIng=!1,this.lockBtnEd.active=!1,this.lockBtn.active=!0,null==(t=this.sender)||t.c2sCancleLocking(),null==(i=this.sender)||i.gunChange(1);dispatch(f.DISPATCH_CHANGE_AUTO),dispatch(b.PLAY_SOUND,_.AudioSource.Fish_Button)}},a.canClick=function(){var t=this;return!!this.myData&&(this.data.mapState!=A().MapState.Changing&&(!this.myData.canShootZhuan&&(!!this.shootCd&&(this.shootCd=!1,this.scheduleOnce((function(){t.shootCd=!0}),.5),!0))))},a.clickMusic=function(){this.data.openAllSound?(this.logic.stopAllSound(),this.musicIcon.spriteFrame=this.musicSfArr[0]):(this.logic.playAllSound(),this.musicIcon.spriteFrame=this.musicSfArr[1])},a.judgeAutoLock=function(){if(!this.myData)return!1;if(0==this.myData.target_id&&this.data.isLockIng){var t,i=B.getInstance().getMaxRateId()||0;null==(t=this.sender)||t.c2sChangeLocking(Number(i))}},a.reqExit=function(){},a.onEnterBackground=function(){var t,i;this.cancel(),null==(t=this.sender)||t.gunChange(1),null==(i=this.sender)||i.c2sLeaveRoom(),this.logic.exitRoom(),dispatch(f.DISPATCH_EXIT),this.logic.netCloseHandle=function(){},this.logic.closeSocket()},a.clickReturn=function(){var t=this;this.logic.netCloseHandle=function(){var i,n,e;t.cancel(),null==(i=t.sender)||i.gunChange(1),null==(n=t.sender)||n.c2sLeaveRoom(),null==(e=t.logic.view.help)||e.exit(),t.clickMore(),dispatch(f.DISPATCH_EXIT),t.logic.exitRoom(),t.logic.netCloseHandle=function(){}},this.logic.closeSocket()},a.showHelp=function(){var t,i;null==(null==(t=this.logic.view.help)?void 0:t.helpAlert)&&App.loading.show("Loading Help...",(function(){}),20,"#FFFFFF"),null==(i=this.logic.view.help)||i.openHelp(),this.clickMore()},a.cancel=function(){var t;this.data.isAuto=!1,this.data.isLockIng=!1,null==(t=this.sender)||t.c2sCancleLocking(),this.lockBtnEd.active=!1,this.lockBtn.active=!0,this.autoBtnEd.active=!1,this.autoBtn.active=!0},s(i,[{key:"data",get:function(){return App.dataCenter.get(g)}},{key:"sender",get:function(){return App.senderManager.get(m)}},{key:"myData",get:function(){return y.getInstance().getMyData()}}]),i}(v)).prototype,"menuBtns",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(K.prototype,"moreBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(K.prototype,"lockBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(K.prototype,"autoBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(K.prototype,"lockBtnEd",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(K.prototype,"autoBtnEd",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(K.prototype,"musicIcon",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(K.prototype,"musicSfArr",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=i(K.prototype,"btnsBox",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(K.prototype,"miniboss_di",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(K.prototype,"miniboss_di_icon",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(K.prototype,"miniboss_di_name",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(K.prototype,"miniboss_di_Label",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(K.prototype,"miniboss_sp_arr",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=i(K.prototype,"miniboss_name_sp_arr",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=i(K.prototype,"startTip",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(K.prototype,"tipText",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i(K.prototype,"logic",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=K))||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/RoomView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData2.ts","./ObjectPool.ts"],(function(e){var t,n,o,i,a,c,f;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy,i=e._decorator},function(e){a=e.default},function(e){c=e.SubGameData},function(e){f=e.ObjectPool}],execute:function(){var r;o._RF.push({},"471b7bftOZKnrFCAnP0RUyK","RoomView",void 0);var s=i.ccclass;e("RoomView",s("RoomView")(r=function(e){function o(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).effView=null,t.effViewEd=!1,t}t(o,e);var i=o.prototype;return i.addEvents=function(){},i.onLoad=function(){e.prototype.onLoad.call(this),this.addRoomView()},i.onEnable=function(){},i.addRoomView=function(){var e=this;this.effViewEd||null==this.effView&&(this.effViewEd=!0,f.getInstance().popPrefabNode("prefabs/view/EffView",(function(t){e.effView=t,e.node.insertChild(t,8)}),this))},i.onDisable=function(){},n(o,[{key:"data",get:function(){return App.dataCenter.get(c)}}]),o}(a))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/Route.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RouteFactory.ts","./MathUtils.ts"],(function(t){var e,i,n,s,r,o;return{setters:[function(t){e=t.createClass,i=t.inheritsLoose},function(t){n=t.cclegacy,s=t.Vec2},function(t){r=t.RouteFactory},function(t){o=t.MathUtils}],execute:function(){n._RF.push({},"a0aa4kQDoVOQYt+iL0trCJs","Route",void 0);var a=t("Route",function(){function t(t,e,i,n){this._routeId=void 0,this.offsetX=void 0,this.offsetY=void 0,this.offsetR=void 0,this._routeId=t,this.offsetX=e,this.offsetY=i,this.offsetR=n}return t.prototype.getNextStep=function(t){return{x:0,y:0,r:0}},e(t,[{key:"routeId",get:function(){return this._routeId}}]),t}());t("Spiral",function(t){function e(e,i,n,s){var r;return(r=t.call(this,e,i,n,s)||this)._offsetRadian=void 0,r._offsetRadian=o.getInstance().getRadian(s),r}i(e,t);var n=e.prototype;return n.getNextStep=function(t){var e;if(t>0){var i=this.calcCoordinate(t-1),n=this.calcCoordinate(t),s=o.getInstance().getAngle2(i.x,i.y,n.x,n.y);e={x:n.x,y:n.y,r:s}}else e={x:0,y:0,r:0};return e},n.calcCoordinate=function(t){var e=20*(t/=1e3),i=t%(2*Math.PI)+this._offsetRadian,n=e*Math.cos(i),r=e*Math.sin(i);return new s(n,r)},e}(a)),t("CustomizedCurve",function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.getNextStep=function(t){var e;if(t>0){var i=700,n=90*t/35e3,s=o.getInstance().getRadian(n-90),r=i*Math.cos(s),a=i*Math.sin(s)+i;i=o.getInstance().getDistance(0,0,r,a),s=o.getInstance().getRadian2(0,0,r,a)+o.getInstance().getRadian(this.offsetR),r=i*Math.cos(s),a=i*Math.sin(s),e={x:Math.round(r),y:Math.round(a),r:n+this.offsetR}}else e={x:0,y:0,r:0};return e},e}(a)),t("BrokenLine",function(t){function n(e,i,n,s,o){var a;return(a=t.call(this,e,n,s,o)||this)._offsetType=void 0,a._line=void 0,a._index=void 0,a._offsetType=i,a._line=r.getInstance().getLineById(e),a._index=0,a}i(n,t);var s=n.prototype;return s.getNextStep=function(t){var e;if(t>=0){for(var i=this._line.length;this._index<i-1;){var n=this._line[this._index],s=this._line[this._index+1];if(!(s.t<=t)){var r=s.t-n.t;if(r<0)return this.lineError();if(0==r)return s;var o=Math.ceil(t-n.t),a=this.calcTimeOutValue(n.x,s.x,r,o),f=this.calcTimeOutValue(n.y,s.y,r,o),u=this.calcTimeOutValue(n.r,s.r,r,o);return this.handleOffset(a,f,u)}++this._index}e=this._line[this._index]}else e=this._line[0];return e||console.log(this._line),this.handleOffset(e.x,e.y,e.r)},s.handleOffset=function(t,e,i){if(1===this._offsetType)t+=this.offsetX,e+=this.offsetY;else if(2===this._offsetType){var n=t-this.offsetX,s=e-this.offsetY,r=o.getInstance().getRadian2(0,0,n,s)+o.getInstance().getRadian(this.offsetR),a=Math.sqrt(n*n+s*s);t=a*Math.cos(r)+this.offsetX,e=a*Math.sin(r)+this.offsetY,i+=this.offsetR}return{x:t,y:e,r:i}},s.calcTimeOutValue=function(t,e,i,n){return Math.round(t+(e-t)/i*n)},s.lineError=function(){Log.e("曲线配置错误，请检查id = "+this.routeId+"的曲线,"+JSON.stringify(this._line));return{x:0,y:0,r:0}},e(n,[{key:"index",get:function(){return this._index}}]),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/RouteFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Route.ts","./Singleton4.ts","./SubGameData2.ts"],(function(t){var e,n,o,i,u,r,a,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy},function(t){i=t.Spiral,u=t.CustomizedCurve,r=t.BrokenLine},function(t){a=t.Singleton},function(t){c=t.SubGameData}],execute:function(){o._RF.push({},"42cad6PUEdAEq1crplWvLSi","RouteFactory",void 0);t("RouteFactory",function(t){function o(){return t.call(this)||this}e(o,t);var a=o.prototype;return a.getRoute=function(t,e,n,o,a){return 3===t?new i(e,n,o,a):4===t?new u(e,n,o,a):new r(e,t,n,o,a)},a.getLineById=function(t){return this.data.routeConfig[t-1]?this.data.routeConfig[t-1].line:(console.log(t),console.log("错误路径ID"),[])},a.getTestLineById=function(t){return this.data.textRouteConfig[t-1]?this.data.textRouteConfig[t-1].line:(console.log(t),console.log("错误路径ID"),[])},n(o,[{key:"data",get:function(){return App.dataCenter.get(c)}}]),o}(a()));o._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts"],(function(t){var e,i,n,o,r,s,a,l,c,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Label,l=t.Vec3,c=t.Animation,u=t.Component},function(t){p=t.ObjectPool}],execute:function(){var h,b,f,d,y,v,g;r._RF.push({},"7ca9b9jpdROeaUIyXzLWP49","ScoreItem",void 0);var m=s.ccclass,P=s.property;t("ScoreItem",(h=m("ScoreItem"),b=P({type:a}),f=P({type:a}),h((v=e((y=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"lab",v,o(e)),n(e,"lab1",g,o(e)),e.isMe=!1,e.startPosition=new l,e}i(e,t);var r=e.prototype;return r.init=function(t,e,i){this.startPosition=t,this.isMe=i,this.lab.string="",this.lab1.string="",this.lab.node.active=!1,this.lab1.node.active=!1,this.node.setPosition(this.startPosition),this.isMe?(this.lab.node.active=!0,this.lab.string=""+e):(this.lab1.node.active=!0,this.lab1.string=""+e)},r.onEnable=function(){this.playAni()},r.playAni=function(){var t,e=this.isMe?"score":"score01";null==(t=this.node.getComponent(c))||t.play(e)},r.scaleEnd=function(){this.reset(),p.getInstance().push(this.node)},r.reset=function(){var t;null==(t=this.node.getComponent(c))||t.stop(),this.node.removeFromParent()},e}(u)).prototype,"lab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(y.prototype,"lab1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent.ts","./SubGameData2.ts","./ObjectPool.ts","./ResourceConst.ts","./ScoreItem.ts","./FishModel.ts","./BatterModel.ts"],(function(e){var t,n,o,i,r,c,a,s,u,l,f,d,p,h,v,g,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){c=e.cclegacy,a=e._decorator,s=e.Prefab,u=e.UITransform},function(e){l=e.default},function(e){f=e.FishEvent},function(e){d=e.SubGameData},function(e){p=e.ObjectPool},function(e){h=e.getResConfig},function(e){v=e.ScoreItem},function(e){g=e.FishModel},function(e){S=e.BatterModel}],execute:function(){var b,m,y,C,D;c._RF.push({},"32ab7o8dKNBJrQvrYVl29D5","ScoreView",void 0);var P=a.ccclass,I=a.property;e("ScoreView",(b=P("ScoreView"),m=I({type:s}),b((D=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,o(t,"scorePf",D,i(t)),t}n(t,e);var c=t.prototype;return c.onLoad=function(){e.prototype.onLoad.call(this)},c.addEvents=function(){this.onD(f.DISPATCH_ADD_SCORE,this.addScore)},c.onEnable=function(){},c.addScore=function(e){var t=this,n=e.fish,o=""+h().ScoreItem;p.getInstance().popPrefabNode(o,(function(o){var i=t.node.getComponent(u),r=g.getInstance().getNodeFish(n.uid);if(r){var c,a=i.convertToNodeSpaceAR(r.getWorldPosition()),s=n.score*S.getInstance().coinRate/1e6;null==(c=o.getComponent(v))||c.init(a,s,e.isMe),t.node.addChild(o)}}),this)},c.onDisable=function(){this.node.removeAllChildren()},r(t,[{key:"data",get:function(){return App.dataCenter.get(d)}}]),t}(l)).prototype,"scorePf",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/ShadeFish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameConstants2.ts"],(function(t){var e,n,o,i,s,r,a,c,h,d;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Animation,s=t.sp,r=t.Sprite,a=t.BoxCollider2D,c=t.UIOpacity,h=t.Component},function(t){d=t.getConfig}],execute:function(){var p;n._RF.push({},"53580vO4xtLCoUGKdth9vbp","ShadeFish",void 0);var l=o.ccclass;t("ShadeFish",l("ShadeFish")(p=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).type=0,e}e(n,t);var o=n.prototype;return o.addEvents=function(){},o.init=function(t){this.type=t},o.onEnable=function(){this.node.getComponent(i)&&this.node.getComponent(i).play("fish"+this.type+"Swim"),28==this.type?this.node.getComponentInChildren(s.Skeleton).color=d().SHADE:this.node.getChildByName("ani").getComponent(r).color=d().SHADE;var t=this.node.getChildByName("clickNode");t&&(t.removeFromParent(),t.destroy());var e=this.node.getComponent(a);e&&e.destroy(),this.node.addComponent(c).opacity=100},n}(h))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/ShadeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(e){var n,t,o,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator},function(e){i=e.default}],execute:function(){var c;t._RF.push({},"0c3c3TjAF1DF6i26YMqj71o","ShadeView",void 0);var r=o.ccclass;e("ShadeView",r("ShadeView")(c=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.addEvents=function(){},o.update=function(e){},o.onEnable=function(){},o.onDisable=function(){this.node.removeAllChildren()},t}(i))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton4.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n("Singleton",(function(){var n=function(){function n(){}return n.getInstance=function(){return null==n._instance&&(n._instance=new this),n._instance},n.clearInstance=function(){n._instance=null},n}();return n._instance=null,n})),t._RF.push({},"d1247wrji9JzoCTCKn2BE8c","Singleton",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/slot190000100",["./ConfigGetter.ts","./fish_Config.ts","./pao_Config.ts","./ResourceConst.ts","./SocketConst.ts","./MathUtils.ts","./ObjectPool.ts","./ResourceUtils.ts","./Singleton4.ts","./FishEvent.ts","./SubLanguageComp.ts","./EaseFun.ts","./GameEntry2.ts","./SubGameConstants2.ts","./SubGameData2.ts","./SubGameDefines2.ts","./SubGameLanguage2.ts","./FishTestItem.ts","./FishTestView.ts","./LineRouteFactory.ts","./LineToolItem.ts","./LineToolRoute.ts","./LineTooleView.ts","./TestBaseFish.ts","./TestFish.ts","./TestSpineFish.ts","./GameLogic2.ts","./Batter.ts","./BatterModel.ts","./BatterScoin.ts","./BatterScoinGroup.ts","./BatterScoinList.ts","./ClickView.ts","./BullView.ts","./Bullet.ts","./BulletModel.ts","./ZhuangBullet.ts","./ZhaDan.ts","./ZhuanBoom.ts","./BaseCombosFish.ts","./BaseFish.ts","./Fish.ts","./FishFactory.ts","./FishModel.ts","./HelpFish.ts","./Lock.ts","./Route.ts","./RouteFactory.ts","./ShadeFish.ts","./SpineFish.ts","./GoldAni.ts","./GoldItem.ts","./GoldView.ts","./NetItem.ts","./NetView.ts","./ScoreItem.ts","./ScoreView.ts","./GameHandler2.ts","./GameSender2.ts","./GameService2.ts","./Protocol3.ts","./BgView.ts","./EffView.ts","./EntryItem.ts","./EntryView.ts","./HelpFishBigtable.ts","./HelpFishView.ts","./HelpFishtable.ts","./HelpItem.ts","./HelpSpecialFishItem.ts","./HelpSpecialFishView.ts","./HelpView.ts","./LoadingView2.ts","./MainGameHelp.ts","./MainGameView2.ts","./MarqueeManager.ts","./MouseFollower.ts","./PointView.ts","./RoomEffView.ts","./RoomMenuView.ts","./RoomView.ts","./ShadeView.ts","./fishClick.ts","./fishView.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SocketConst.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t({destroySocketConfig:function(){o&&(o=null)},getSocketConfig:function(){o||(o=new i);return o}}),e._RF.push({},"69752qto/BFBaFFoawGjXSB","SocketConst",void 0);var o,i=function(){this.ROOM_LIST="roomlist",this.HEART="heart",this.LOGIN="login",this.FISH_INFO="fishinfo",this.QUICK_ENTER_ROOM="quickenterroom",this.ENTER_ROOM="enterroom",this.CHANGE_GUNID="change_gunid",this.CHANGEGUNID="changegunid",this.INCREASE_SPRITES="increasesprites",this.DECREASE_SPRIRES="decreasesprites",this.FIRE="fire",this.HIT="hit",this.HIT_SPRITES="hitsprites",this.BOMB_HIT="bombhit",this.INCREASE_BOMB="increasebomb",this.ENERGY="energy",this.BROAD_PLAYER="broadplayer",this.CHANGE_SCENE="changescene",this.CHANGE_RATE="changerate",this.LEAVE_ROOM="leaveroom",this.CHANGE_LOCKING="changelocking",this.CANCLE_LOCKING="canclelocking",this.CHANGE_LOCK="changelock",this.CHANGE_IMMOB="changeimmob",this.CHANGE_BACKSTAGE="changbackstage"};var s=t("FishingCommonProtocolId",(function(){}));s.FISHINFO="fishinfo",s.ROOM_LIST="roomlist",s.ROOM_DETAIL="roomdetail",s.QUICK_ENTER_ROOM="quickenterroom",s.CHANGE_RATE="changerate",s.USERINFO="userinfo";var n=t("GameProtocolId",(function(){}));n.HEART="heart",n.LOGIN="login",n.LOGOUT="logout",n.USERINFO="userinfo",n.USER_KICK="user_kick",n.ERRORCODE="errorcode",n.MARQUEE="marquee",n.TIPS="tips",n.GETMAJMIN="getmajmin",n.GETBONUS="getbonus",n.SLOTINFO="slot_info",n.SLOTBET="slot",n.FREESLOT="freeslot",n.PAYOUTBONUS="payoutbonus",n.GETPROGRESSBAR="getprogressbar",n.GET_ACTIVE_BONUS="get_active_bonus",n.ADD_SCORE="addscore",n.HOOK_PROGRAM_INOUT="hook_program_inout",e._RF.pop()}}}));

System.register("chunks:///_virtual/SpineFish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseFish.ts","./SubGameConstants2.ts"],(function(t){var e,n,o,i,s,l,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Tween,s=t.sp},function(t){l=t.BaseFish},function(t){r=t.getConfig}],execute:function(){var c;n._RF.push({},"d170caSaWZI1JjpIWzNB1gz","SpineFish",void 0);var h=o.ccclass;t("SpineFish",h("SpineFish")(c=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).node_1=null,e.node_2=null,e.node_3=null,e.long_ske=null,e}e(n,t);var o=n.prototype;return o.clear=function(){i.stopAllByTarget(this.node),this.setColliderEnable(!0)},o.onLoad=function(){this.node_1=this.node.getChildByName("node_1"),this.node_2=this.node.getChildByName("node_2"),this.node_3=this.node.getChildByName("node_3"),this.long_ske=this.node.getChildByName("long_ske"),t.prototype.onLoad.call(this)},o.addEvents=function(){t.prototype.addEvents.call(this)},o.getAni=function(){},o.getLockPos=function(){var t=this.node.getPosition();if(-1==this.node.getScale().y){if(t.x<-640)return this.node_3.getWorldPosition();if(t.x>=-640&&t.x<=0)return this.node_2.getWorldPosition();if(t.x>0)return this.node_1.getWorldPosition()}else{if(t.x<0)return this.node_1.getWorldPosition();if(t.x>=0&&t.x<=640)return this.node_2.getWorldPosition();if(t.x>640)return this.node_3.getWorldPosition()}return null},o.lockChange=function(t){this.sprite&&(this.sprite.uid==t?this.lock():this.unlock())},o.lock=function(){this.lockNode&&(this.lockNode.active=!0)},o.unlock=function(){this.lockNode&&(this.lockNode.active=!1)},o.hit=function(){var t=this;this.long_ske&&(this.long_ske.getComponent(s.Skeleton).color=r().LOCK_COLOR_SPIN,this.scheduleOnce((function(){t.long_ske.getComponent(s.Skeleton).color=r().UNLOCK_COLOR}),.05))},n}(l))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameConstants2.ts",["cc"],(function(i){var s,_;return{setters:[function(i){s=i.cclegacy,_=i.Color}],execute:function(){i("getConfig",(function(){o||(o=new h);return o})),s._RF.push({},"d553352OVVOVIONeYEfhaxX","SubGameConstants",void 0);var o,t=function(i){return i.bgm_boss_battle="audio/bgm_boss_battle",i.bgm_deep_sea02="audio/bgm_deep_sea02",i.bgm_deep_sea03="audio/bgm_deep_sea03",i.Fish_shooting="audio/Fish_shooting",i.Fish_Kill="audio/Fish_Kill",i.Fish_win="audio/Fish_win",i.Fish_win_Small_Prize="audio/Fish_win_Small_Prize",i.Fish_Button="audio/Fish_Button",i.Fish_BOOS_Warning="audio/Fish_BOOS_Warning",i.Fish_Frenzy="audio/Fish_Frenzy",i.bgm_hall="audio/bgm_hall",i.Fish_Drill01="audio/Fish_Drill01",i.Fish_Drill02="audio/Fish_Drill02",i.Fish_Drill03="audio/Fish_Drill03",i.Fish_Drill04="audio/Fish_Drill04",i.Fish_Upgrade="audio/Fish_Upgrade",i.Fish_shooting02="audio/Fish_shooting02",i.Fish_shooting03="audio/Fish_shooting03",i.Fish_baozha="audio/Fish_baozha",i.Fish_suoding="audio/Fish_suoding",i.bgm_fish_wave="audio/bgm_fish_wave",i.bgm_boss_battle01="audio/bgm_boss_battle_01",i.bgm_boss_battle02="audio/bgm_boss_battle_02",i.Fish_coin_hit="audio/Fish_coin_hit",i.Fish_Boss_attack="audio/Fish_Boss_attack",i.Fish_Boss_baozha="audio/Fish_Boss_baozha",i.Fish_long_voice="audio/Fish_long_voice",i.Fish_gesila_voice="audio/Fish_gesila_voice",i.Fish_eyu_voice="audio/Fish_eyu_voice",i}(t||{}),e=function(i){return i.Fish_shuzilg_1="audio/Fish_shuzilg_1",i.Fish_shuzilg_2="audio/Fish_shuzilg_2",i.Fish_shuzilg_3="audio/Fish_shuzilg_3",i.Fish_shuzilg_4="audio/Fish_shuzilg_4",i.Fish_shuzilg_5="audio/Fish_shuzilg_5",i}(e||{}),a=function(i){return i.bet1="audio/bet1",i.bet2="audio/bet2",i.bet3="audio/bet3",i.bet4="audio/bet4",i.bet5="audio/bet5",i.bet6="audio/bet6",i.bet7="audio/bet7",i.bet8="audio/bet8",i.bet9="audio/bet9",i.bet10="audio/bet10",i.bet11="audio/bet11",i.bet12="audio/bet12",i.bet13="audio/bet13",i.bet14="audio/bet14",i.bet15="audio/bet15",i.bet16="audio/bet16",i.bet17="audio/bet17",i.bet18="audio/bet18",i.bet19="audio/bet19",i.bet20="audio/bet20",i.bet21="audio/bet21",i}(a||{}),h=i("SubGameConstants",(function(){this.BG_SIZE=84,this.LOCK_COLOR=new _("FF7070"),this.LOCK_COLOR_SPIN=new _("FFDFDF"),this.UNLOCK_COLOR=new _("FFFFFF"),this.SHADE=new _("000000"),this.ESCAPE_SPEED=-.5,this.FishState={Alive:1,Killed:2,Idle:3},this.MAP_NUM=3,this.MapState={FishGroup:0,Normal:1,BossTip:2,BossFish:3,Changing:4},this.DIE_ACTION_TIME=2e3,this.GOLD_MAX_COUNT=5,this.Net_MAX_COUNT=20,this.Gold_MAX_COUNT=20,this.BULL_MAX_COUNT=20,this.MAX_BULLET_COUNT=15,this.MAX_CREATE_AMOUNT=20}));h.AudioSource=t,h.AudioBtnSource=a,h.AudioBossSource=e,h.preloadAudio=[t.bgm_boss_battle],s._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameData2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./NodePoolManager.ts","./FishEvent.ts"],(function(n){var t,i,o,e,a,s;return{setters:[function(n){t=n.inheritsLoose,i=n.createClass},function(n){o=n.cclegacy},function(n){e=n.GameData},function(n){a=n.NodePoolManager},function(n){s=n.FishEvent}],execute:function(){o._RF.push({},"03dadXYT9xFBKxOT9NQRtzz","SubGameData",void 0),n("SubGameData",function(n){function o(){for(var t,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(t=n.call.apply(n,[this].concat(o))||this).INITNEWCELL=!1,t.roomData=null,t.loadDataFinish=!1,t.loadFinish=!1,t.bHasLoadedRes=!1,t.nodePoolManager=new a,t.openAllSound=!0,t.openMusic=!0,t.openAudio=!0,t.mapId=0,t.changeStateTime=0,t.mapState=0,t.isHide=!1,t.roomTypeInfo={limit:[{min:1e5,max:1e7,coin_rate:"1",limitBalance:1e5},{min:1e7,max:1e9,coin_rate:"1",limitBalance:1e7},{min:1e9,max:1e10,coin_rate:"1",limitBalance:1e9}]},t.m_money=0,t.m_isLockIng=!1,t.isAutoOnManual=!1,t.nManualLockFish=0,t.m_isAuto=!1,t.routeConfig=void 0,t.routeConfig2=void 0,t.routeConfig3=void 0,t.routeConfig4=void 0,t.textRouteConfig=void 0,t._fishesConfig=void 0,t.MAX_BULLET_COUNT=15,t.BULLET_SPEED=1,t.BULLET_CONTACT_GROUP=2,t._sprites=[],t.roomType=0,t.reqRoomType=0,t}t(o,n);var e=o.prototype;return e.OnlyChangeLockStatus=function(n){this.m_isLockIng=n},e.manualLockFish=function(n,t){this.nManualLockFish=n,this.isAutoOnManual=t},e.onManualLockFishDeleted=function(){this.nManualLockFish=0,this.isAutoOnManual||(this.isAutoOnManual=!1,dispatch(s.DISPATCH_MANUALOCK))},i(o,[{key:"money",get:function(){return this.m_money},set:function(n){this.m_money=n}},{key:"isLockIng",get:function(){return this.m_isLockIng},set:function(n){this.m_isLockIng=n,dispatch(s.DISPATCH_CHANGE_LOCK)}},{key:"ManualLockFishId",get:function(){return this.nManualLockFish}},{key:"isAuto",get:function(){return this.m_isAuto},set:function(n){this.m_isAuto=n}},{key:"sprites",get:function(){return this._sprites},set:function(n){this._sprites=n}}]),o}(e)).module="fish10000100",o._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameDefines2.ts",["cc"],(function(E){var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"29819oQ7jpIWZOronTuy32W","SubGameDefines",void 0);E("POOL_PREFAB_URL",["prefabs/symbols/symbol01","prefabs/symbols/symbol02","prefabs/symbols/symbol03","prefabs/symbols/symbol04","prefabs/symbols/symbol05","prefabs/symbols/symbol06","prefabs/symbols/symbol07","prefabs/symbols/symbol08","prefabs/symbols/symbol09","prefabs/symbols/symbol_Multiplier","prefabs/symbols/symbol_Scatter"]),E("EventName",function(E){return E.OnReceiveSlotBet="OnReceiveSlotBet",E.OnReceiveLastMap="OnReceiveLastMap",E.LoadDataFinish="LoadDataFinish",E.PLAY_SOUND="PLAY_SOUND",E.PLAY_MUSIC="PLAY_MUSIC",E.STOP_EFFECT="STOP_EFFECT",E.RESET_TIP_SCORE="RESET_TIP_SCORE",E.ENTER_NORMAL_MODEL="ENTER_NORMAL_MODEL",E.START_FREE_MODEL="START_FREE_MODEL",E.FREE_MODE_SPIN_END="FREE_MODE_SPIN_END",E.REFRESH_TUMBLE_WIN="REFRESH_TUMBLE_WIN",E.REFRESH_TUMBLE_WIN_MULTIPLE="REFRESH_TUMBLE_WIN_MULTIPLE",E.REFRESH_TUMBLE_WIN_FINAL="REFRESH_TUMBLE_WIN_FINAL",E.S2C_FREE_SPIN="S2C_FREE_SPIN",E.FREE_SPINS_LEFT="FREE_SPINS_LEFT",E.SHOW_WIN_SCORE="SHOW_WIN_SCORE",E.SHOW_WIN_MULTIPILER_SCORE="SHOW_WIN_MULTIPILER_SCORE",E.SHOW_MAIN_BOX_EFFCT="SHOW_MAIN_BOX_EFFCT",E.ON_AFTER_TRANS_ANIAMTIONS="ON_AFTER_TRANS_ANIAMTIONS",E.ON_SHOW_FREE_SPINS_LEFT="ON_SHOW_FREE_SPINS_LEFT",E}({})),E("JackpotType",function(E){return E[E.NONE=0]="NONE",E[E.BIG=1]="BIG",E[E.NICE=2]="NICE",E[E.MEGA=3]="MEGA",E[E.SUPER=4]="SUPER",E[E.SENSATIONAL=5]="SENSATIONAL",E}({})),E("beilv_Multiple",[2,3,4,5,6,8,10,12,15,20,25,50,100,250,500]);_._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameLanguage2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageDelegate.ts","./SubGameData2.ts","./Enums.ts"],(function(e){var u,t,n,_,a,i;return{setters:[function(e){u=e.inheritsLoose},function(e){t=e.cclegacy},function(e){n=e.injectLanguageData,_=e.LanguageDelegate},function(e){a=e.SubGameData},function(e){i=e.sys_Language}],execute:function(){var r;t._RF.push({},"ba1bbJ8P3dBIbVGse9PAaIu","SubGameLanguage",void 0);var g={language:i.CHINESE,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},o={language:i.ENGLISH,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},l={language:i.Indonesian,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},x={language:i.Malay,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},b={language:i.Portuguese,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},s={language:i.Thai,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},f={language:i.Vietnamese,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}};e("slot3000505_Lan",o),e("SubGameLanguage",n(r=function(e){function t(){for(var u,t=arguments.length,n=new Array(t),_=0;_<t;_++)n[_]=arguments[_];return(u=e.call.apply(e,[this].concat(n))||this).bundle=a.module,u}return u(t,e),t.prototype.init=function(){this.add(g),this.add(o),this.add(l),this.add(x),this.add(b),this.add(s),this.add(f)},t}(_))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/SubLanguageComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageComp.ts"],(function(u){var e,n,o,t;return{setters:[function(u){e=u.inheritsLoose},function(u){n=u.cclegacy,o=u._decorator},function(u){t=u.LanguageComp}],execute:function(){var a;n._RF.push({},"ab12c5RxzdDub6k5usGqSeA","SubLanguageComp",void 0);var c=o.ccclass;o.property,u("SubLanguageComp",c("SubLanguageComp")(a=function(u){function n(){return u.call(this)||this}return e(n,u),n}(t))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/TestBaseFish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData2.ts","./FishEvent.ts","./SubGameConstants2.ts","./FishModel.ts","./BatterModel.ts","./LineRouteFactory.ts","./GameService2.ts"],(function(t){var e,n,i,o,s,a,r,c,l,u,h,d,f,p,g,m,y,C,v,S,b,F;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,o=t._decorator,s=t.Animation,a=t.Collider2D,r=t.Node,c=t.Label,l=t.Color,u=t.Vec3,h=t.UITransform,d=t.UIOpacity,f=t.tween,p=t.Sprite},function(t){g=t.default},function(t){m=t.SubGameData},function(t){y=t.FishEvent},function(t){C=t.getConfig},function(t){v=t.FishModel},function(t){S=t.BatterModel},function(t){b=t.RouteFactory},function(t){F=t.GameService}],execute:function(){var E;i._RF.push({},"cc47afg5rhMI4gXtDLo1aYL","TestBaseFish",void 0);var k=o.ccclass;o.property,t("TestBaseFish",k("TestBaseFish")(E=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).sprite=null,e.config=null,e.killFishVo=void 0,e.score=0,e.route=null,e.state=null,e._dieActionTime=0,e.lockNode=null,e.labelNode=null,e.speed=0,e.isKeep=!1,e.needClear=!1,e.animationCom=void 0,e.colliders=void 0,e}e(i,t);var o=i.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),this.animationCom=this.getComponent(s),this.colliders=this.getComponents(a)},o.addEvents=function(){this.onD(y.DISPATCH_CHANGE_SCENE,this.changeScene)},o.init=function(t,e,n){if(this.sprite=t,null!=t){this.config=e,this.state=1,this.route=b.getInstance().getRoute(t.offsettype,t.routeid,t.offsetx,t.offsety,t.offsetr,n);var i=Date.now();this.updatePosition(i)}},o.createLabel=function(){var t=new r("DynamicLabel"),e=t.addComponent(c);e.string="Hello, World!",e.fontSize=40,e.color=l.WHITE,e.horizontalAlign=c.HorizontalAlign.CENTER,e.verticalAlign=c.VerticalAlign.CENTER,this.animationCom&&this.animationCom.node.addChild(t),t.setPosition(0,0)},o.onEnable=function(){this.playSwim()},o.update=function(t){var e=Date.now(),n=this.data.mapState==C().MapState.Changing;this.isKeep||this.onFrame(e,n,0)},o.onFrame=function(t,e,n){this.sprite.dead_time<=t?v.getInstance().cleanFish(this.sprite.uid):this.updatePosition(t)},o.updatePosition=function(t){var e=t-this.sprite.born_time;if(e<0)return 0;this.speed>0&&(e+=this.speed,this.speed+=300);var n=this.route.getNextStep(e),i=this.route.getNextStep(e+.001),o=S.getInstance().getMyOldPos();return[3,4].indexOf(o)>-1?(this.node.setPosition(n.x,-n.y,0),this.node.angle=-n.r):(this.node.setPosition(n.x,n.y,0),this.node.angle=n.r),i.x<n.x&&this.node.setScale(1,-1),console.log(n.x),n.x},o.getPositionByDealyTime=function(t){var e=this.gameService.heartTimeNow+t,n=this.route.getNextStep(e-this.sprite.born_time);return new u(n.x,n.y,0)},o.isOut=function(){var t=v.getInstance().getSburvivalPercent(this.sprite.uid),e=this.node.getComponent(h).width,n=this.node.getComponent(h).height,i=this.node.getPosition().x,o=this.node.getPosition().y,s=!1,a=3;return 28==this.sprite.type&&(a=2),(i<=-640-e/a||i>=640+e/a||o>=360+n/a||o<=-360-n/a)&&(s=!0),s&&t>.5},o.changeScene=function(){var t=this;this.sprite?this.scheduleOnce((function(){t.speed=1,t.scheduleOnce((function(){v.getInstance().cleanFish(t.sprite.uid)}),2)}),2.3):this.node&&this.node.destroy()},o.onDestroy=function(){},o.playKill=function(){var t=this;this.isKeep=!0,this.fadeOut(this.node,(function(){t.node&&(t.node.removeFromParent(),t.node.destroy())}))},o.fadeOut=function(t,e){var n=t.getComponent(d);n||t.addComponent(d),n.opacity=255,f(n).to(.5,{opacity:0}).call((function(){e&&e()})).start()},o.killFishes=function(t){},o.beKilled=function(t,e,n){this.killFishVo=t,this.state=C().FishState.Killed,this.sprite.dead_time=e+C().DIE_ACTION_TIME,this.unlock(),this.setColliderEnable(!1)},o.setColliderEnable=function(t){this.colliders.forEach((function(e){e.enabled=t}))},o.playSwim=function(){},o.playSpecialSwim=function(){},o.playDieAnimation=function(){},o.stopDieAnimation=function(){},o.playDieEff=function(){},o.playDieBubble=function(){},o.playSimilarBubble=function(){},o.playDieSound=function(){},o.moveToBattery=function(){},o.showScore=function(){},o.clear=function(){this.state=3,this.unlock(),this.setColliderEnable(!0)},o.unlock=function(){},o.lock=function(t){},o.hit=function(){var t=this;this.getComponent(p)&&(this.getComponent(p).color=C().LOCK_COLOR,this.scheduleOnce((function(){t.getComponent(p).color=C().UNLOCK_COLOR}),.05))},n(i,[{key:"gameService",get:function(){return App.serviceManager.get(F)}},{key:"data",get:function(){return App.dataCenter.get(m)}},{key:"explosionRange",get:function(){return this.config.explosionRange}},{key:"isAlive",get:function(){return 1==this.state}},{key:"fishType",get:function(){return this.sprite.classid}},{key:"kind",get:function(){return this.config.kind}}]),i}(g))||E);i._RF.pop()}}}));

System.register("chunks:///_virtual/TestFish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TestBaseFish.ts","./SubGameDefines2.ts","./ResourceConst.ts"],(function(t){var i,n,o,e,s,a,c,l,u;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,e=t.Animation,s=t.Tween,a=t.Vec3},function(t){c=t.TestBaseFish},function(t){l=t.EventName},function(t){u=t.getSoundConfig}],execute:function(){var h;n._RF.push({},"40df2Wil9tBcZBVakYD9xlY","TestFish",void 0);var r=o.ccclass;o.property,t("TestFish",r("TestFish")(h=function(t){function n(){for(var i,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(i=t.call.apply(t,[this].concat(o))||this).dieBubble=null,i.similarBubble=null,i.bubbleTime=.5,i}i(n,t);var o=n.prototype;return o.addEvents=function(){t.prototype.addEvents.call(this)},o.playSwim=function(){this.animationCom||(this.animationCom=this.node.getComponent(e)),this.animationCom&&this.animationCom.play("fish"+this.config.subtype+"Swim")},o.playDieAnimation=function(){if(this.animationCom){this.animationCom.stop();var t="fish"+this.config.subtype+"Die";this.animationCom.getState(t)&&this.animationCom.play(t)}},o.stopDieAnimation=function(){this.animationCom&&this.animationCom.stop()},o.playDieSound=function(){dispatch(l.PLAY_SOUND,u().JumpScore2)},o.clear=function(){var i;t.prototype.clear.call(this),s.stopAllByTarget(this.node),this.node.setScale(a.ONE),null==(i=this.animationCom)||i.stop()},o.lockChange=function(t){this.sprite&&(this.sprite.uid==t?this.lock():this.unlock())},o.lock=function(){this.lockNode.active=!0},o.unlock=function(){this.lockNode.active=!1},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/TestSpineFish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TestBaseFish.ts"],(function(t){var e,i,s,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator},function(t){n=t.TestBaseFish}],execute:function(){var r;i._RF.push({},"48ce5hR5GBJerCuCxJbT+Kz","TestSpineFish",void 0);var o=s.ccclass;s.property,t("TestSpineFish",o("TestSpineFish")(r=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i.prototype.init=function(e,i,s){t.prototype.init.call(this,e,i,s)},i}(n))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/ZhaDan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FishEvent.ts","./BaseFish.ts","./GameSender2.ts"],(function(e){var n,t,i,o,s,r,a,h,l,c,u,d,p,f,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,a=e._decorator,h=e.Node,l=e.CircleCollider2D,c=e.Contact2DType,u=e.sp,d=e.Component},function(e){p=e.FishEvent},function(e){f=e.BaseFish},function(e){g=e.GameSender}],execute:function(){var m,b,y,C,v,D,_;r._RF.push({},"21070K6DVFOJamnDxceDwnO","ZhaDan",void 0);var B=a.ccclass,F=a.property;e("ZhaDan",(m=B("ZhaDan"),b=F({type:h}),y=F({type:h}),m((D=n((v=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return n=e.call.apply(e,[this].concat(s))||this,i(n,"collider",D,o(n)),i(n,"ani",_,o(n)),n.isMe=!1,n.bomb_id=0,n.fishs=[],n}t(n,e);var r=n.prototype;return r.start=function(){},r.onLoad=function(){var e=this.collider.getComponent(l);e&&e.on(c.BEGIN_CONTACT,this.onBeginContact,this)},r.init=function(e,n){var t,i=this;this.isMe=e,this.bomb_id=n,this.fishs=[],null==(t=this.ani.getComponent(u.Skeleton))||t.setAnimation(0,"bomb2",!1),this.ani.getComponent(u.Skeleton).setCompleteListener((function(){i.node.removeFromParent(),i.node.destroy()})),dispatch(p.DISPATCH_SHARE_BG),this.scheduleOnce(this.send,.6)},r.sendBoom=function(){Log.d("炸弹播放完毕结束"+this.fishs.length),this.send()},r.send=function(){var e;0!=this.fishs.length&&(null==(e=this.sender)||e.c2sBomb({fishids:this.fishs,bombid:this.bomb_id,angle:1,x:this.node.getWorldPosition().x,y:this.node.getWorldPosition().y}))},r.onBeginContact=function(e,n,t){var i=n.node,o=i.getComponent(f).sprite.uid;-1==this.fishs.indexOf(o)&&(this.fishs.push(o),Log.d("炸弹播放完毕添加鱼: "+o+" 长度: "+this.fishs.length)),i.getComponent(f).hit()},s(n,[{key:"sender",get:function(){return App.senderManager.get(g)}}]),n}(d)).prototype,"collider",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(v.prototype,"ani",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=v))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZhuanBoom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseFish.ts","./GameSender2.ts"],(function(e){var t,n,i,o,s,r,l,a,h,c,u,p,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,l=e._decorator,a=e.Node,h=e.sp,c=e.CircleCollider2D,u=e.Contact2DType,p=e.Component},function(e){d=e.BaseFish},function(e){f=e.GameSender}],execute:function(){var m,g,y,b,C,v,B;r._RF.push({},"5796dlrrdlCNJVuCcJztHYw","ZhuanBoom",void 0);var L=l.ccclass,_=l.property;e("ZhuanBoom",(m=L("ZhuanBoom"),g=_({type:a}),y=_({type:a}),m((v=t((C=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(t,"collider",v,o(t)),i(t,"ani",B,o(t)),t.isMe=!1,t.pos=null,t.bomb_id=0,t.type=0,t.fishs=[],t}n(t,e);var r=t.prototype;return r.onLoad=function(){},r.init=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0),this.isMe=t,this.bomb_id=n,this.type=e,this.fishs=[],this.showInit()},r.onEnable=function(){},r.showInit=function(){var e,t=this;if(1==this.type)null==(e=this.ani.getComponent(h.Skeleton))||e.setAnimation(0,"bomb",!1),this.ani.getComponent(h.Skeleton).setCompleteListener((function(){t.node.removeFromParent(),t.node.destroy()}));else if(2==this.type){var n;this.collider.active=!0;var i=this.collider.getComponent(c);i&&i.on(u.BEGIN_CONTACT,this.onBeginContact,this),null==(n=this.ani.getComponent(h.Skeleton))||n.setAnimation(0,"bomb2",!1),this.ani.getComponent(h.Skeleton).setCompleteListener((function(){t.sendBoom(),t.node.removeFromParent(),t.node.destroy()}))}},r.sendBoom=function(){Log.d("炸弹播放完毕结束"+this.fishs.length),this.send()},r.send=function(){var e;0!=this.fishs.length&&this.isMe&&(Log.d("ppp End:"+this.fishs.length),null==(e=this.sender)||e.c2sBomb({fishids:this.fishs,bombid:this.bomb_id,angle:1,x:this.node.getWorldPosition().x,y:this.node.getWorldPosition().y}))},r.onBeginContact=function(e,t,n){var i=t.node,o=i.getComponent(d).sprite.uid;-1==this.fishs.indexOf(o)&&(this.fishs.push(o),Log.d("ppp:"+this.fishs.length)),i.getComponent(d).hit()},s(t,[{key:"sender",get:function(){return App.senderManager.get(f)}}]),t}(p)).prototype,"collider",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(C.prototype,"ani",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=C))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZhuangBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bullet.ts","./BatterModel.ts","./Global.ts","./BaseFish.ts","./FishEvent.ts","./SubGameDefines2.ts","./SubGameConstants2.ts"],(function(t){var e,i,n,s,o,a,r,u,h,c,l,d,p,f,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,r=t._decorator,u=t.Node,h=t.Animation},function(t){c=t.Bullet},function(t){l=t.BatterModel},function(t){d=t.Global},function(t){p=t.BaseFish},function(t){f=t.FishEvent},function(t){m=t.EventName},function(t){g=t.SubGameConstants}],execute:function(){var b,y,B,D,P;a._RF.push({},"48799GguOhBP7sc4q6JsFHn","ZhuangBullet",void 0);var _=r.ccclass,v=r.property;t("ZhuangBullet",(b=_("ZhuangBullet"),y=v({type:u}),b((P=e((D=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"ani",P,s(e)),e.fishs=[],e.turnNum=0,e.maxNum=8,e.bombData={},e.state=1,e.speed=2e3,e.turnType=0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this)},a.onEnable=function(){},a.init=function(e,i,n,s,o){t.prototype.init.call(this,e,i,n,s,o);var a=l.getInstance().battleDatas[this.own];this.bombData=JSON.parse(JSON.stringify(a.BombVo))},a.onBeginContact=function(t,e,i){if(1==this.state){var n=e.node,s=l.getInstance().getTruePos(d.userId),o=this.own==s,a=n.getComponent(p);if(a&&a.sprite){var r=a.sprite.uid;o&&-1==this.fishs.indexOf(r)&&this.fishs.push(r),n.getComponent(p).hit()}}},a.send=function(){var t;if(0!=this.fishs.length){var e=l.getInstance().getMyData();e&&(null==(t=this.sender)||t.c2sBomb({fishids:this.fishs,bombid:e.BombVo.id,angle:1,x:this.node.getWorldPosition().x,y:this.node.getWorldPosition().y}),this.fishs=[],Log.d("砖头发送碰撞:"+this.turnNum))}else this.turnNum--},a.changeTurn=function(t){if(t!=this.turnType)if(this.turnNum++,dispatch(f.DISPATCH_SHARE_BG),dispatch(f.DISPATCH_ZHUANGTOU_BOOM,this.node.getWorldPosition(),1),dispatch(m.PLAY_SOUND,g.AudioSource.Fish_Drill03,!1),this.turnNum<this.maxNum){var e=l.getInstance().getTruePos(d.userId);this.own==e&&this.send()}else this.turnNum==this.maxNum?(this.state=2,this.node.getComponent(h).stop(),this.node.getComponent(h).play("zizhuan")):this.turnNum==this.maxNum+5&&this.playEndAni()},a.playEndAni=function(){var t=l.getInstance().battleDatas[this.own],e=t.BombVo.id,i=l.getInstance().getTruePos(d.userId),n=this.own==i;n&&dispatch(m.PLAY_SOUND,g.AudioSource.Fish_coin_hit),dispatch(f.DISPATCH_ZHUANGTOU_BOOM,this.node.getWorldPosition(),2,n,e),dispatch(f.DISPATCH_SHARE_BG),dispatch(f.DISPATCH_BIG_BOOM_SPE,{targetPos:t.worldPos,fishType:25,score:this.bombData.rate*this.bombData.brate,pos:this.own}),this.state=1,this.bombData={},t.bombIng=!1,this.remove()},a.remove=function(){this.node.destroy(),this.node.removeFromParent(),dispatch(m.STOP_EFFECT,g.AudioSource.Fish_Drill03)},o(e,[{key:"battleData",get:function(){}}]),e}(c)).prototype,"ani",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=D))||B));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/slot190000100', 'chunks:///_virtual/slot190000100'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});