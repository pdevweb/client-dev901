System.register("chunks:///_virtual/AnteBet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./CommonEvent.ts","./NumberCurrency.ts","./SubGameData42.ts","./AudioHelper11.ts","./Display13.ts"],(function(t){var e,n,i,r,a,o,u,s,c,l,h,f,p,d,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,u=t.UIOpacity,s=t.Button,c=t.Node},function(t){l=t.default},function(t){h=t.CommonEvent},function(t){f=t.NumberCurrency},function(t){p=t.SubGameData},function(t){d=t.AudioHelper},function(t){_=t.DisplayTaskManager}],execute:function(){var y,b,B,g,O,T,m,A,E,N,S,v,C,k;a._RF.push({},"f286eI1Yi9HtZ3HlwEbAurB","AnteBet",void 0);var D=o.ccclass,w=o.menu,I=o.property;t("AnteBet",(y=D("AnteBet"),b=w(p.module+"/display/AnteBet"),B=I(u),g=I(s),O=I(f),T=I(c),m=I(c),y(A=b((N=e((E=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"uiOpacity",N,r(e)),i(e,"backgroundButton",S,r(e)),i(e,"betNumberCurrency",v,r(e)),i(e,"anteBetOffNode",C,r(e)),i(e,"anteBetOnNode",k,r(e)),e._spinning=!1,e._autoPlaying=!1,e}n(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),_.addHandler(this),this.onD(h.DISPATCH_TOTAL_BET,this._refreshBet),this.onD(h.DISPATCH_START_AUTOPLAY,this._onAutoPlayStateChange),this._spinning=!1,this.betNumberCurrency.updateNumber(0),this.anteBetOnNode.active=!1,this.anteBetOffNode.active=!this.anteBetOnNode.active},a.onTaskInit=function(t,e){this._spinning=!1,this.node.active=!0,this._refreshOpacity(),this._refreshBet(),this._refreshSwitch()},a.onTaskSpinStart=function(t,e){this._spinning=!0,this._refreshOpacity()},a.onTaskSpinEnd=function(t,e){this._spinning=!1,this._autoPlaying||this._refreshOpacity()},a.onTaskTransit=function(t,e){this.node.active="exitFreeMode"===e.type},a.onTaskRestore=function(t,e){this._spinning="exited"!==e.freeModeStatus,this.node.active="entered"!==e.freeModeStatus,this._refreshOpacity(),this._refreshBet(),this._refreshSwitch()},a.onBackgroundButtonClick=function(){d.instance.playSoundEffect(p.AUDIO_URLS.SE_COMMON_UI),p.anteBetEnabled=!p.anteBetEnabled,this._refreshSwitch(),dispatch(h.NOTIFY_SWITCH_DOUBLE_FEATURE,p.anteBetEnabled?p.ANTE_BET_RATE:1)},a._onAutoPlayStateChange=function(t){this._autoPlaying=t,this._spinning||this._refreshOpacity()},a._refreshOpacity=function(){this._spinning?(this.uiOpacity.opacity=127,this.backgroundButton.interactable=!1):(this.uiOpacity.opacity=255,this.backgroundButton.interactable=!0)},a._refreshSwitch=function(){this.anteBetOnNode.active=p.anteBetEnabled,this.anteBetOffNode.active=!p.anteBetEnabled},a._refreshBet=function(t){this.betNumberCurrency.updateNumber((null!=t?t:p.totalBet)*p.ANTE_BET_RATE)},e}(l)).prototype,"uiOpacity",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(E.prototype,"backgroundButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(E.prototype,"betNumberCurrency",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(E.prototype,"anteBetOffNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(E.prototype,"anteBetOnNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=E))||A)||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/AudioHelper11.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData42.ts"],(function(t){var i,u,e,n,s;return{setters:[function(t){i=t.createClass},function(t){u=t.cclegacy,e=t.Tween,n=t.tween},function(t){s=t.SubGameData}],execute:function(){u._RF.push({},"d5a8b9i4EtGb6206NpFwkZR","AudioHelper",void 0);var o=function(t){return t[t.PLAYING=0]="PLAYING",t[t.FADING_OUT=1]="FADING_OUT",t[t.FADING_IN=2]="FADING_IN",t}(o||{});t("AudioHelper",function(){function t(){this._audioImpl=null,this._state=o.PLAYING,this._currentBackgroundMusic=null}var u=t.prototype;return u.playBackgroundMusic=function(t,i){var u=this;if(void 0===i&&(i=1),t===this._currentBackgroundMusic){if(this._state===o.PLAYING)return;this._state===o.FADING_OUT&&(this._state=o.FADING_IN)}else this._state===o.FADING_IN&&(this._state=o.FADING_OUT);e.stopAllByTarget(this);var l=n(this),a=i;if(this._state===o.FADING_IN)a=i*(1-this.musicVolume);else{var c=i;this._state===o.FADING_OUT&&(c=i*this.musicVolume),l.to(this._currentBackgroundMusic?c:0,{musicVolume:0},{onStart:function(){return u._state=o.FADING_OUT}})}l.to(t?a:0,{musicVolume:1},{onStart:function(){var i;if(u._state=o.FADING_IN,t){if(t!==u._currentBackgroundMusic){var e;null==(e=u._audioImpl)||e.playMusic(t,s.module,!0)}}else null==(i=u._audioImpl)||i.stopMusic();u._currentBackgroundMusic=t},onComplete:function(){return u._state=o.PLAYING}}).start()},u.playSoundEffect=function(t,i){var u;void 0===i&&(i=!1),null==(u=this._audioImpl)||u.playEffect(t,s.module,i)},u.playOneShotSoundEffect=function(t){var i;null==(i=this._audioImpl)||i.playEffectOneShot(t,s.module)},u.stopEffect=function(t){var i;null==(i=this._audioImpl)||i.stopEffect(t,s.module)},i(t,[{key:"audioImpl",set:function(t){this._audioImpl=t}},{key:"musicVolume",get:function(){var t,i;return null!=(t=null==(i=this._audioImpl)?void 0:i.musicVolume)?t:1},set:function(t){this._audioImpl&&(this._audioImpl.musicVolume=t)}},{key:"effectVolume",get:function(){var t,i;return null!=(t=null==(i=this._audioImpl)?void 0:i.effectVolume)?t:1},set:function(t){this._audioImpl&&(this._audioImpl.effectVolume=t)}},{key:"isEffectOn",get:function(){var t,i;return null==(t=null==(i=this._audioImpl)?void 0:i.isEffectOn)||t},set:function(t){this._audioImpl&&(this._audioImpl.isEffectOn=t)}},{key:"isMusicOn",get:function(){var t,i;return null==(t=null==(i=this._audioImpl)?void 0:i.isMusicOn)||t},set:function(t){this._audioImpl&&(this._audioImpl.isMusicOn=t)}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null,u._RF.pop()}}}));

System.register("chunks:///_virtual/AutoFittableBackground11.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData42.ts"],(function(t){var n,o,e,i,a,s,u,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Node,a=t.sys,s=t.UITransform,u=t.Component},function(t){r=t.SubGameData}],execute:function(){var c;o._RF.push({},"eff26vE645E3JroZApxdWO8","AutoFittableBackground",void 0);var h=e.ccclass,l=e.menu;e.property,t("AutoFittableBackground",h("AutoFittableBackground")(c=l(r.module+"/components/AutoFittableBackground")(c=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.onLoad=function(){this.node.on(i.EventType.SIZE_CHANGED,this._onSizeChange,this),this.node.active=!a.isMobile},e.onDestroy=function(){this.isValid&&this.node.off(i.EventType.SIZE_CHANGED,this._onSizeChange,this)},e.onEnable=function(){this._onSizeChange()},e._onSizeChange=function(){var t,n=null==(t=this.node.getComponent(s))?void 0:t.contentSize;if(n){var o=2560/n.width;this.node.setScale(o,o,1)}},o}(u))||c)||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/Avatar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SubGameData42.ts","./AudioHelper11.ts","./Display13.ts"],(function(t){var e,n,i,r,s,o,a,l,u,c,h,_,f,p,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,a=t.sp,l=t.Tween,u=t.math,c=t.tween},function(t){h=t.CommonEvent},function(t){_=t.SubGameData},function(t){f=t.AudioHelper},function(t){p=t.DisplayTaskManager,S=t.Display}],execute:function(){var k,m,d,T,E,C,D,A;s._RF.push({},"f7fc5C/i+FPLr02uFK6kx/b","Avatar",void 0);var I=o.ccclass,L=o.menu,N=o.property,v=function(t){return t[t.IDLE=0]="IDLE",t[t.THUNDERING=1]="THUNDERING",t[t.UNLOCKING=2]="UNLOCKING",t}(v||{}),y="ani_idle",g="ani_idle2";t("Avatar",(k=I("Avatar"),m=L(_.module+"/display/Avatar"),d=N(a.Skeleton),T=N(a.Skeleton),k(E=m((D=e((C=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,i(e,"skeleton",D,r(e)),i(e,"effectSkeleton",A,r(e)),e._state=v.IDLE,e._currentMultiplierCount=0,e._spinStartTime=0,e._freeMode=!1,e._isPortrait=!1,e}n(e,t);var s=e.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),p.addHandler(this),this.onD(h.SWITCH_SCREEN,this._onOrientationChange),this._isPortrait="portrait"===App.utils.getOrientation(),this.skeleton.setStartListener(this._onSkeletonAnimationStart.bind(this)),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this)),this.skeleton.clearTracks(),this.skeleton.setAnimation(0,y,!0),this._refreshSmoke()},s.onTaskInit=function(t,e){this._spinStartTime=0,this._freeMode=!1,this._changeState(v.IDLE),this._refreshSmoke()},s.onTaskRestore=function(t,e){this._spinStartTime=0,this._freeMode="entered"===e.freeModeStatus,this._changeState(v.IDLE),this._refreshSmoke()},s.onTaskSpinStart=function(t,e){this._spinStartTime=Date.now(),this._currentMultiplierCount=0},s.onTaskSpinStop=function(t,e){var n=this._currentMultiplierCount;if(this._currentMultiplierCount=this._getMultipliersCount(e.symbolsGroups),this._currentMultiplierCount>n){var i=.001*(Date.now()-this._spinStartTime),r=Math.max(0,(_.quickSpin?.316667:.416667)-i);this._changeState(v.THUNDERING,r)}},s.onTaskReplenish=function(t,e){var n=this._currentMultiplierCount;this._currentMultiplierCount=this._getMultipliersCount(e.symbolsGroups),this._currentMultiplierCount>n&&this._changeState(v.THUNDERING)},s.onTaskThunderOnLock=function(t,e){++this._currentMultiplierCount,this._changeState(v.THUNDERING)},s.onTaskUnlock=function(t,e){this._changeState(v.UNLOCKING,.25)},s.onTaskTransit=function(t,e){this._freeMode="enterFreeMode"===e.type,this._refreshSmoke()},s._getMultipliersCount=function(t){return t.reduce((function(t,e){return e.reduce((function(t,e){return t+(_.getMultiple(e)>1?1:0)}),t)}),0)},s._changeState=function(t,e){var n=this;if(t!==this._state){this._state!==v.IDLE&&(this.endDisplay(),this.skeleton.clearTracks(),this.skeleton.setAnimation(0,y,!0)),this._state=t,l.stopAllByTarget(this.node);var i=null;if(this._state===v.THUNDERING?i=g:this._state===v.UNLOCKING&&(i="ani_idle3",f.instance.playSoundEffect(_.AUDIO_URLS["SE_ATHENA_SPEECH_UNLOCK_"+u.randomRangeInt(1,5)])),i){var r=function(){n.skeleton.clearTracks(),n.skeleton.setAnimation(0,i,!1)};this.startDisplay(),null!=e?c(this.node).delay(e).call(r).start():r()}}},s._refreshSmoke=function(){this._isPortrait?(this.effectSkeleton.node.active=!0,this._freeMode?this.effectSkeleton.setAnimation(0,"eff_free-scene_scene_ani_ver",!0):this.effectSkeleton.setAnimation(0,"eff_free-scene_scene_ani_ver1",!0)):this.effectSkeleton.node.active=!1},s._onOrientationChange=function(t){var e="portrait"===t;e!==this._isPortrait&&(this._isPortrait=e,this._refreshSmoke())},s._onSkeletonAnimationStart=function(t){switch(t.animation.name){case g:f.instance.playSoundEffect(_.AUDIO_URLS.SE_ATHENA_SPEECH_LIGHTNING),f.instance.playSoundEffect(_.AUDIO_URLS.SE_MULTIPLIER_APPEAR)}},s._onSkeletonAnimationComplete=function(t){switch(t.animation.name){case y:break;default:this._changeState(v.IDLE)}},e}(S)).prototype,"skeleton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(C.prototype,"effectSkeleton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=C))||E)||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/Background.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SubGameData42.ts","./SubGameDefines43.ts","./AudioHelper11.ts","./Display13.ts"],(function(e){var t,n,i,r,o,a,s,u,c,l,p,f,_,h,d,m,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Sprite,u=e.SpriteFrame,c=e.sp,l=e.Tween,p=e.tween},function(e){f=e.CommonEvent},function(e){_=e.SubGameData},function(e){h=e.common},function(e){d=e.AudioHelper},function(e){m=e.DisplayTaskManager,S=e.Display}],execute:function(){var y,k,M,g,D,b,F,I,A,B,E,T,L,O,R,w;o._RF.push({},"914d5sxR0FEQrEzNoNb/YHf","Background",void 0);var v=a.ccclass,P=a.menu,C=a.property;e("Background",(y=v("Background"),k=P(_.module+"/display/Background"),M=C(s),g=C(u),D=C(u),b=C(u),F=C(u),I=C(c.Skeleton),y(A=k((E=t((B=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"backgroundSprite",E,r(t)),i(t,"normalSpriteFrameInLandscape",T,r(t)),i(t,"normalSpriteFrameInPortrait",L,r(t)),i(t,"freeSpriteFrameInLandscape",O,r(t)),i(t,"freeSpriteFrameInPortrait",R,r(t)),i(t,"effectSkeleton",w,r(t)),t._freeMode=!1,t._isPortrait=!1,t._timeoutID=null,t}n(t,e);var o=t.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),m.addHandler(this),this.onD(f.SWITCH_SCREEN,this._onOrientationChange),this._freeMode=!1,this._isPortrait="portrait"===App.utils.getOrientation(),this._refresh()},o.onDestroy=function(){this._stopCountdown(),e.prototype.onDestroy.call(this)},o.onTaskInit=function(e,t){this.stopAllDisplays(),d.instance.playBackgroundMusic(_.AUDIO_URLS.BGM_NORMAL_MODE),this._freeMode=!1,l.stopAllByTarget(this.node),this._refresh()},o.onTaskRestore=function(e,t){this.stopAllDisplays(),this._freeMode="entered"===t.freeModeStatus,l.stopAllByTarget(this.node),d.instance.playBackgroundMusic(this._freeMode?_.AUDIO_URLS.BGM_FREE_MODE:_.AUDIO_URLS.BGM_NORMAL_MODE),this._refresh()},o.onTaskSpinStart=function(e,t){t.spinType!==h.ESpinType.FREE&&(this._stopCountdown(),d.instance.playBackgroundMusic(_.AUDIO_URLS.BGM_NORMAL_MODE))},o.onTaskEnterFreeMode=function(e,t){d.instance.playBackgroundMusic(_.AUDIO_URLS.BGM_FREE_MODE)},o.onTaskExitFreeMode=function(e,t){d.instance.playBackgroundMusic(null)},o.onTaskSpinEnd=function(e,t){this._startCountdown((function(){return d.instance.playBackgroundMusic(null)}),5)},o.onTaskTransit=function(e,t){var n=this;this.startDisplay(),l.stopAllByTarget(this.node),p(this.node).delay(.3).call((function(){"exitFreeMode"===t.type&&d.instance.playBackgroundMusic(_.AUDIO_URLS.BGM_NORMAL_MODE),n._freeMode="enterFreeMode"===t.type,n._refresh(),n.endDisplay()})).start()},o._startCountdown=function(e,t){this._stopCountdown(),this._timeoutID=setTimeout(e,1e3*t)},o._stopCountdown=function(){null!==this._timeoutID&&void 0!==this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},o._refresh=function(){this._freeMode?(this.effectSkeleton.clearTracks(),this._isPortrait?(this.backgroundSprite.spriteFrame=this.freeSpriteFrameInPortrait,this.effectSkeleton.setAnimation(0,"eff_free-scene_scene_ani_ver",!0)):(this.backgroundSprite.spriteFrame=this.freeSpriteFrameInLandscape,this.effectSkeleton.setAnimation(0,"eff_free-scene_scene_ani_hor",!0))):(this.effectSkeleton.clearTracks(),this._isPortrait?(this.backgroundSprite.spriteFrame=this.normalSpriteFrameInPortrait,this.effectSkeleton.setAnimation(0,"eff_free-scene_scene_ani_ver1",!0)):(this.backgroundSprite.spriteFrame=this.normalSpriteFrameInLandscape,this.effectSkeleton.setAnimation(0,"eff_free-scene_scene_ani_hor1",!0)))},o._onOrientationChange=function(e){var t="portrait"===e;t!==this._isPortrait&&(this._isPortrait=t,this._refresh())},t}(S)).prototype,"backgroundSprite",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(B.prototype,"normalSpriteFrameInLandscape",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(B.prototype,"normalSpriteFrameInPortrait",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(B.prototype,"freeSpriteFrameInLandscape",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(B.prototype,"freeSpriteFrameInPortrait",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(B.prototype,"effectSkeleton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=B))||A)||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/BigWin2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./CommonEvent.ts","./NumberRoller.ts","./SubGameData42.ts","./AudioHelper11.ts","./Display13.ts"],(function(t){var e,o,i,n,s,r,l,a,h,c,_,u,d,p,E,S,N,I,f,m,g,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,l=t.Node,a=t.sp,h=t.Animation,c=t.color,_=t.Tween,u=t.ParticleSystem2D,d=t.tween,p=t.math,E=t.v3},function(t){S=t.Global},function(t){N=t.CommonEvent},function(t){I=t.NumberRoller},function(t){f=t.SubGameData},function(t){m=t.AudioHelper},function(t){g=t.DisplayTaskManager,A=t.Display}],execute:function(){var U,b,C,y,D,B,R,T,G,O,L,W,k,M,v,H,x,P,w,z,F,V,X,j,q,J;s._RF.push({},"15fcbmnJ5pCtqdI+N+R7woM","BigWin",void 0);var K=r.ccclass,Q=r.menu,Y=r.property,Z=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t[t.SHOWN=2]="SHOWN",t[t.HIDING=3]="HIDING",t}(Z||{}),$=function(t){return t[t.NONE=0]="NONE",t[t.BIG=1]="BIG",t[t.NICE=2]="NICE",t[t.MEGA=3]="MEGA",t[t.SUPER=4]="SUPER",t[t.ULTIMATE=5]="ULTIMATE",t}($||{}),tt="ani_intro",et="ani_idle",ot=((U={})[$.NONE]="default",U[$.BIG]="big",U[$.NICE]="nice",U[$.MEGA]="mega",U[$.SUPER]="super",U[$.ULTIMATE]="ultimate",U),it=((b={})[$.NONE]=0,b[$.BIG]=3,b[$.NICE]=5,b[$.MEGA]=6,b[$.SUPER]=9,b[$.ULTIMATE]=12,b),nt={speech:(C={},C[$.BIG]=f.AUDIO_URLS.SE_BIG_WIN_SPEECH_BIG,C[$.NICE]=f.AUDIO_URLS.SE_BIG_WIN_SPEECH_NICE,C[$.MEGA]=f.AUDIO_URLS.SE_BIG_WIN_SPEECH_MEGA,C[$.SUPER]=f.AUDIO_URLS.SE_BIG_WIN_SPEECH_SUPER,C[$.ULTIMATE]=f.AUDIO_URLS.SE_BIG_WIN_SPEECH_ULTIMATE,C),enter:(y={},y[$.BIG]=f.AUDIO_URLS.SE_BIG_WIN_BIG,y[$.NICE]=f.AUDIO_URLS.SE_BIG_WIN_NICE,y[$.MEGA]=f.AUDIO_URLS.SE_BIG_WIN_MEGA,y[$.SUPER]=f.AUDIO_URLS.SE_BIG_WIN_SUPER,y[$.ULTIMATE]=f.AUDIO_URLS.SE_BIG_WIN_ULTIMATE,y),exit:(D={},D[$.BIG]=f.AUDIO_URLS.SE_BIG_WIN_EXIT_BIG,D[$.NICE]=f.AUDIO_URLS.SE_BIG_WIN_EXIT_NICE,D[$.MEGA]=f.AUDIO_URLS.SE_BIG_WIN_EXIT_MEGA,D[$.SUPER]=f.AUDIO_URLS.SE_BIG_WIN_EXIT_SUPER,D[$.ULTIMATE]=f.AUDIO_URLS.SE_BIG_WIN_EXIT_ULTIMATE,D),end:(B={},B[$.BIG]=f.AUDIO_URLS.SE_BIG_WIN_END_COMMON,B[$.NICE]=f.AUDIO_URLS.SE_BIG_WIN_END_COMMON,B[$.MEGA]=f.AUDIO_URLS.SE_BIG_WIN_END_COMMON,B[$.SUPER]=f.AUDIO_URLS.SE_BIG_WIN_END_COMMON,B[$.ULTIMATE]=f.AUDIO_URLS.SE_BIG_WIN_END_COMMON,B)};t("BigWin",(R=K("BigWin"),T=Q(f.module+"/display/BigWin"),G=Y(l),O=Y(a.Skeleton),L=Y(a.Skeleton),W=Y(a.Skeleton),k=Y(h),M=Y(l),v=Y(l),H=Y(I),R(x=T((w=e((P=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,i(e,"touchNode",w,n(e)),i(e,"middleLightskeleton",z,n(e)),i(e,"bottomLightskeleton",F,n(e)),i(e,"textskeleton",V,n(e)),i(e,"particalsAnimation",X,n(e)),i(e,"scoreFrameNode",j,n(e)),i(e,"scoreNumberRootNode",q,n(e)),i(e,"scoreNumberRoller",J,n(e)),e._state=Z.HIDDEN,e._type=$.NONE,e._updatingScore=!1,e._score=0,e._sharedColor=c(255,255,255,0),e}o(e,t);var s=e.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),g.addHandler(this),this.onD(N.SWITCH_SCREEN,this._onOrientationChange),this.touchNode.on(l.EventType.TOUCH_END,this._onTouchNodeTouchEnd,this),this.textskeleton.setCompleteListener(this._onTextSkeletonAnimationComplete.bind(this)),this._reset()},s.onDestroy=function(){this.isValid&&this.touchNode.isValid&&this.touchNode.off(l.EventType.TOUCH_END,this._onTouchNodeTouchEnd,this),t.prototype.onDestroy.call(this)},s.onDisable=function(){var e;m.instance.musicVolume=1,null==(e=t.prototype.onDisable)||e.call(this)},s.start=function(){var e;null==(e=t.prototype.start)||e.call(this),this._onOrientationChange(App.utils.getOrientation())},s.onTaskInit=function(t,e){this.stopAllDisplays(),this._state=Z.HIDDEN,this._type=$.NONE,this._updatingScore=!1,this._score=0,this.node.active=!1,this._reset()},s.onTaskRestore=function(t,e){this.stopAllDisplays(),this._state=Z.HIDDEN,this._type=$.NONE,this._updatingScore=!1,this._score=0,this.node.active=!1,this._reset()},s.onTaskBigWin=function(t,e){var o=f.totalBet*(f.anteBetEnabled?f.ANTE_BET_RATE:1),i=e.totalScore/o;if(i>=50)this._type=$.ULTIMATE;else if(i>=30)this._type=$.SUPER;else if(i>=15)this._type=$.MEGA;else if(i>=10)this._type=$.NICE;else{if(!(i>=5))return this._type=$.NONE,void(this.node.active=!1);this._type=$.BIG}this.startDisplay(),this._score=e.totalScore,this.node.active=!0,this._show()},s._reset=function(){var t;_.stopAllByTarget(this.node),_.stopAllByTarget(this.scoreNumberRootNode),this._sharedColor.set(255,255,255,0),this.middleLightskeleton.color=this._sharedColor,this.bottomLightskeleton.color=this._sharedColor,this.textskeleton.color=this._sharedColor,this.textskeleton.node.setScale(1,1,1),this.particalsAnimation.node.children.forEach((function(t){var e=t.getComponent(u);e&&e.stopSystem()})),this.particalsAnimation.stop(),this.scoreFrameNode.setScale(0,0,1),this.scoreNumberRoller.stopRollingAndShowNumber(0),null==(t=this.scoreNumberRoller.node.parent)||t.setScale(1,1,1)},s._show=function(){var t=this;m.instance.musicVolume=0,this._playBigWinSoundEffect("speech"),this._reset(),this._state=Z.SHOWING;var e=it[this._type];this.textskeleton.setSkin(ot[this._type]),this.textskeleton.setAnimation(0,tt,!1),f.turboSpin?(this._playBigWinSoundEffect("exit"),this._updatingScore=!1,this.scoreNumberRoller.stopRollingAndShowNumber(this._score)):(this._playBigWinSoundEffect("enter"),this._updatingScore=!0,this.scoreNumberRoller.startRolling(0,this._score,e,(function(){t.isValid&&(t._updatingScore=!1,t._state===Z.SHOWN&&t._highlightScoreAndAutoClose(!1))}))),d(this.node).to(.666667,{},{onUpdate:function(e,o){null!=o&&(t._sharedColor.set(255,255,255,p.lerp(0,255,o)),t.textskeleton.color=t._sharedColor)}}).call((function(){t.particalsAnimation.node.children.forEach((function(t){var e=t.getComponent(u);e&&e.resetSystem()})),t.particalsAnimation.play()})).delay(.333333).to(.5,{},{onUpdate:function(e,o){if(null!=o){t._sharedColor.set(255,255,255,p.lerp(0,255,o)),t.middleLightskeleton.color=t._sharedColor,t.bottomLightskeleton.color=t._sharedColor;var i=p.lerp(0,.93,o);t.scoreFrameNode.setScale(i,i,1)}}}).call((function(){t._state=Z.SHOWN,t._updatingScore||t._highlightScoreAndAutoClose(!1)})).to(e-1.5,{},{onUpdate:function(e,o){if(null!=o){var i=p.lerp(.93,1,o);t.scoreFrameNode.setScale(i,i,1)}}}).start()},s._hide=function(){var t=this;this._state=Z.HIDING,_.stopAllByTarget(this.node),d(this.node).to(.333333,{},{onStart:function(){t.particalsAnimation.node.children.forEach((function(t){var e=t.getComponent(u);e&&e.stopSystem()})),t.particalsAnimation.stop()},onUpdate:function(e,o){null!=o&&(t._sharedColor.set(255,255,255,p.lerp(255,0,o)),t.middleLightskeleton.color=t._sharedColor,t.bottomLightskeleton.color=t._sharedColor)}}).to(.166667,{},{onUpdate:function(e,o){if(null!=o){t._sharedColor.set(255,255,255,p.lerp(255,128,o)),t.middleLightskeleton.color=t._sharedColor,t.bottomLightskeleton.color=t._sharedColor;var i=p.lerp(1,1.5,o);t.textskeleton.node.setScale(i,i,1),t.scoreFrameNode.setScale(i,i,1)}}}).to(.166667,{},{onUpdate:function(e,o){if(null!=o){t._sharedColor.set(255,255,255,p.lerp(127,0,o)),t.middleLightskeleton.color=t._sharedColor,t.bottomLightskeleton.color=t._sharedColor;var i=p.lerp(1.5,0,o);t.textskeleton.node.setScale(i,i,1),t.scoreFrameNode.setScale(i,i,1)}}}).call((function(){t._state=Z.HIDDEN,t.node.active=!1,t._sharedColor.set(255,255,255,0),t.textskeleton.color=t._sharedColor,t.endDisplay()})).start()},s._onTouchNodeTouchEnd=function(){this._state!==Z.SHOWING&&this._state!==Z.SHOWN||(this._updatingScore?(this._state=Z.SHOWN,this._updatingScore=!1,_.stopAllByTarget(this.node),this._sharedColor.set(255,255,255,255),this.middleLightskeleton.color=this._sharedColor,this.bottomLightskeleton.color=this._sharedColor,this.textskeleton.color=this._sharedColor,this.textskeleton.animation!==et&&this.textskeleton.setAnimation(0,et,!0),this.scoreFrameNode.setScale(1,1,1),_.stopAllByTarget(this.scoreNumberRootNode),this.scoreNumberRootNode.setScale(1,1,1),this.scoreNumberRoller.stopRollingAndShowNumber(this._score),this._highlightScoreAndAutoClose(!0)):(this._stopBigWinSoundEffect("enter"),this._stopBigWinSoundEffect("exit"),this._playBigWinSoundEffect("end"),this._hide()))},s._highlightScoreAndAutoClose=function(t){var e=this;this._updatingScore||this._state!==Z.SHOWING&&this._state!==Z.SHOWN||(t&&(this._stopBigWinSoundEffect("enter"),this._playBigWinSoundEffect("exit")),_.stopAllByTarget(this.scoreNumberRootNode),d(this.scoreNumberRootNode).to(.1,{scale:E(1.4,1.4,1)},{easing:"sineIn"}).to(.4,{scale:E(1,1,1)}).union().repeat(3).start(),_.stopAllByTarget(this.node),d(this.node).delay(f.turboSpin?.15:1.1).call((function(){return e._hide()})).start())},s._onOrientationChange=function(t){var e=Math.min(S.real_screen_height,"portrait"===t?S.background_width:S.background_height),o=.5*(S.background_width-e);this.bottomLightskeleton.node.setPosition(this.bottomLightskeleton.node.position.x,o,0)},s._onTextSkeletonAnimationComplete=function(t){switch(t.animation.name){case tt:this.textskeleton.setAnimation(0,et,!0)}},s._playBigWinSoundEffect=function(t,e){void 0===e&&(e=!1);var o=nt[t][this._type];o&&m.instance.playSoundEffect(o,e)},s._stopBigWinSoundEffect=function(t){var e=nt[t][this._type];e&&m.instance.stopEffect(e)},e}(A)).prototype,"touchNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(P.prototype,"middleLightskeleton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(P.prototype,"bottomLightskeleton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(P.prototype,"textskeleton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(P.prototype,"particalsAnimation",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(P.prototype,"scoreFrameNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(P.prototype,"scoreNumberRootNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(P.prototype,"scoreNumberRoller",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=P))||x)||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/BubbleItemLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberCurrency.ts","./SubGameData42.ts"],(function(e){var t,r,o,n,i,a,s,l,u,c,d,p,y,b,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Tween,u=e.tween,c=e.v3,d=e.math,p=e.easing,y=e.Component},function(e){b=e.NumberCurrency},function(e){h=e.SubGameData}],execute:function(){var m,f,g,P,_,v;a._RF.push({},"7282cDW+BZK8rOTcEJHOfPG","BubbleItemLayer",void 0);var W=s.ccclass,B=s.menu,C=s.property;e("BubbleItemLayer",(m=W("BubbleItemLayer"),f=B(h.module+"/layer/BubbleItemLayer"),g=C(b),m(P=f((v=t((_=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"scoreNumberCurrency",v,n(t)),t._targetWorldPosition=null,t}r(t,e);var a=t.prototype;return a.reset=function(){l.stopAllByTarget(this.node),this.node.setScale(1,1,1)},a.bubble=function(e,t,r,o,n){var i=this;this._targetWorldPosition=o,this.scoreNumberCurrency.node.parent.active=!1,this.scoreNumberCurrency.updateNumber(e),this.node.setPosition(r),this.node.setScale(.3,.3,.3);var a=this.node.worldPosition;l.stopAllByTarget(this.node),u(this.node).delay(t).to(.2,{scale:c(1.2,1.2,1.2)},{easing:"quintOut",onStart:function(){return i.scoreNumberCurrency.node.parent.active=!0}}).to(.4,{},{onUpdate:function(e,t){null!=t&&i._targetWorldPosition&&i.node.setWorldPosition(d.lerp(a.x,i._targetWorldPosition.x,p.expoIn(t)),d.lerp(a.y,i._targetWorldPosition.y-20,p.expoIn(t)),0)}}).call((function(){i._targetWorldPosition=null,null==n||n(i)})).start()},i(t,[{key:"targetWorldPosition",set:function(e){this._targetWorldPosition&&!this._targetWorldPosition.equals(e)&&(this._targetWorldPosition=e)}}]),t}(y)).prototype,"scoreNumberCurrency",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=_))||P)||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/BubbleLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./CommonEvent.ts","./SubGameData42.ts","./BubbleItemLayer.ts","./Display13.ts"],(function(e){var t,n,r,o,i,a,l,u,s,c,d,f,b,p,h,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.UITransform,u=e.Prefab,s=e.Node,c=e.v3,d=e.instantiate},function(e){f=e.default},function(e){b=e.CommonEvent},function(e){p=e.SubGameData},function(e){h=e.BubbleItemLayer},function(e){m=e.DisplayTaskManager}],execute:function(){var I,y,v,g,P,_,L,M,S,C,w,E;i._RF.push({},"f02b3q/gGlCa5mPnfAOCqWd","BubbleLayer",void 0);var B=a.ccclass,q=a.menu,T=a.property;e("BubbleLayer",(I=B("BubbleLayer"),y=q(p.module+"/display/BubbleLayer"),v=T(l),g=T(u),P=T(s),_=T(s),I(L=y((S=t((M=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"uiTransform",S,o(t)),r(t,"itemPrefab",C,o(t)),r(t,"externalLandscapeMarquee",w,o(t)),r(t,"externalPortraitMarquee",E,o(t)),t._idleItemNodesPool=[],t}n(t,e);var i=t.prototype;return i.onLoad=function(){e.prototype.onLoad.call(this),m.addHandler(this),this.onD(b.SWITCH_SCREEN,this._onOrientationChange)},i.onTaskInit=function(e,t){var n=this;this.node.children.slice().forEach((function(e){return n._addIdleItem(e)}))},i.onTaskRestore=function(e,t){var n=this;this.node.children.slice().forEach((function(e){return n._addIdleItem(e)}))},i.onTaskTumble=function(e,t){var n=this,r="portrait"===App.utils.getOrientation()?this.externalPortraitMarquee.worldPosition:this.externalLandscapeMarquee.worldPosition,o=p.turboSpin?.083333:1.5;t.tumblesMap.forEach((function(e){var i=t.bubbleScoresCoordinatesHash[e.symbolID];if(i){var a=n._getIdleItem();a.setPosition((i.column+.5)*p.SYMBOL_SIZE.width,(i.row+.5)*p.SYMBOL_SIZE.height,0),n.node.addChild(a);var l=a.getComponent(h);if(l){var u=c((i.column+.5)*p.SYMBOL_SIZE.width,(i.row+.5)*p.SYMBOL_SIZE.height,0);l.bubble(e.score,o,u,r,(function(e){return n._addIdleItem(e.node)}))}}}))},i._getIdleItem=function(){var e,t,n=null!=(e=this._idleItemNodesPool.splice(-1,1)[0])?e:d(this.itemPrefab);return null==(t=n.getComponent(h))||t.reset(),n},i._addIdleItem=function(e){this._idleItemNodesPool.push(e),e.removeFromParent()},i._onOrientationChange=function(e){var t="portrait"===e?this.externalPortraitMarquee.worldPosition:this.externalLandscapeMarquee.worldPosition;this.node.children.forEach((function(e){var n=e.getComponent(h);n&&(n.targetWorldPosition=t)}))},t}(f)).prototype,"uiTransform",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(M.prototype,"itemPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(M.prototype,"externalLandscapeMarquee",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(M.prototype,"externalPortraitMarquee",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=M))||L)||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/Buy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./CommonEvent.ts","./NumberCurrency.ts","./SubGameData42.ts","./SubGameDefines43.ts","./Confirmation.ts","./Display13.ts"],(function(t){var e,n,i,o,r,u,a,s,c,h,l,p,y,f,b,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,a=t.UIOpacity,s=t.Node,c=t.Button},function(t){h=t.default},function(t){l=t.CommonEvent},function(t){p=t.NumberCurrency},function(t){y=t.SubGameData},function(t){f=t.common},function(t){b=t.Confirmation},function(t){_=t.DisplayTaskManager}],execute:function(){var d,m,v,T,g,B,C,A,S,N,D,E,F,P;r._RF.push({},"e7f8bk0ntpJTqD+mvZWOKUT","Buy",void 0);var O=u.ccclass,k=u.menu,I=u.property;t("Buy",(d=O("Buy"),m=k(y.module+"/display/Buy"),v=I(a),T=I(s),g=I(c),B=I(p),C=I(b),d(A=m((N=e((S=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,i(e,"uiOpacity",N,o(e)),i(e,"bonusActiveNode",D,o(e)),i(e,"buyButton",E,o(e)),i(e,"priceNumberCurrency",F,o(e)),i(e,"confirmation",P,o(e)),e._spinning=!1,e._buyFree=!1,e._autoPlaying=!1,e}n(e,t);var r=e.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),_.addHandler(this),this.onD(l.NOTIFY_SWITCH_DOUBLE_FEATURE,this._onAnteBetChange),this.onD(l.DISPATCH_TOTAL_BET,this._refreshPrice),this.onD(l.DISPATCH_START_AUTOPLAY,this._onAutoPlayStateChange),this.priceNumberCurrency.updateNumber(0)},r.onTaskInit=function(t,e){this._spinning=!1,this._buyFree=!1,this.node.active=!0,this._refresh(),this.confirmation.hide()},r.onTaskSpinStart=function(t,e){this._spinning=!0,this._buyFree=e.spinType===f.ESpinType.BOUGHT,this._refresh()},r.onTaskSpinEnd=function(t,e){this._spinning=!1,this._buyFree=!1,this._refresh()},r.onTaskTransit=function(t,e){this.node.active="exitFreeMode"===e.type},r.onTaskRestore=function(t,e){this._spinning="exited"!==e.freeModeStatus,this._buyFree=e.buyFree,this.node.active="entered"!==e.freeModeStatus,this._refresh(),this.confirmation.hide()},r.onBuyButtonClick=function(){this.confirmation.show()},r._refresh=function(){this._spinning||this._buyFree||y.anteBetEnabled||this._autoPlaying?(this.uiOpacity.opacity=127,this.buyButton.interactable=!1,this._buyFree?(this.bonusActiveNode.active=!0,this.buyButton.node.active=!1):(this.bonusActiveNode.active=!1,this.buyButton.node.active=!0)):(this.uiOpacity.opacity=255,this.bonusActiveNode.active=!1,this.buyButton.node.active=!0,this.buyButton.interactable=!0)},r._onAnteBetChange=function(){this._refresh()},r._onAutoPlayStateChange=function(t){this._autoPlaying=t,this._spinning||this._refresh()},r._refreshPrice=function(t){this.priceNumberCurrency.updateNumber(t*y.FREE_SPINS_PRICE_RATE)},e}(h)).prototype,"uiOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(S.prototype,"bonusActiveNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"buyButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(S.prototype,"priceNumberCurrency",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(S.prototype,"confirmation",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=S))||A)||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/Confirmation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./CommonEvent.ts","./NumberCurrency.ts","./SubGameData42.ts","./SubGameDefines43.ts","./AudioHelper11.ts"],(function(t){var e,n,i,o,a,r,s,c,u,l,p,h,N,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.sp,c=t.Node},function(t){u=t.default},function(t){l=t.CommonEvent},function(t){p=t.NumberCurrency},function(t){h=t.SubGameData},function(t){N=t.common},function(t){_=t.AudioHelper}],execute:function(){var f,d,m,E,I,S,C,b,k,D,y,v;a._RF.push({},"a8284qKCEdPjK6Eip5y+502","Confirmation",void 0);var B=r.ccclass,A=r.menu,H=r.property,O=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t[t.SHOWN=2]="SHOWN",t[t.HIDING=3]="HIDING",t}(O||{}),R="ani_Appear",T="ani_Disappear";t("Confirmation",(f=B("Confirmation"),d=A(h.module+"/display/Confirmation"),m=H(s.Skeleton),E=H(p),I=H(c),S=H(c),f(C=d((k=e((b=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"skeleton",k,o(e)),i(e,"priceNumberCurrency",D,o(e)),i(e,"okButtonNode",y,o(e)),i(e,"cancelButtonNode",v,o(e)),e._state=O.HIDDEN,e}n(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),this.onD(l.DISPATCH_TOTAL_BET,this._onTotalBetChange),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this)),this.skeleton.clearTracks(),this.priceNumberCurrency.updateNumber(0),this.node.active=!1,this.okButtonNode.active=!1,this.cancelButtonNode.active=!1},a.show=function(){this._state!==O.SHOWING&&this._state!==O.SHOWN&&(_.instance.playSoundEffect(h.AUDIO_URLS.SE_CONFIRMATION_SHOW),dispatch(l.NOTIFY_BUY_FEATURE,!0),this._state=O.SHOWING,this.priceNumberCurrency.updateNumber(h.totalBet*h.FREE_SPINS_PRICE_RATE),this.node.active=!0,this.okButtonNode.active=!1,this.cancelButtonNode.active=!1,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,R,!1))},a.hide=function(){this._state!==O.HIDDEN&&this._state!==O.HIDING&&(this._state=O.HIDING,this.node.active=!0,this.okButtonNode.active=!1,this.cancelButtonNode.active=!1,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,T,!1),dispatch(l.NOTIFY_BUY_FEATURE,!1))},a.onOKButtonClick=function(){var t;_.instance.playSoundEffect(h.AUDIO_URLS.SE_CONFIRMATION_BUY);var e=h.totalBet*h.FREE_SPINS_PRICE_RATE;App.utils.notEnoughScore(h.balance,e)||(null==(t=h.spinRequestor)||t.request(N.ESpinRequestType.BUY_FREE_SPINS),this.hide())},a.onCancelButtonClick=function(){_.instance.playSoundEffect(h.AUDIO_URLS.SE_CONFIRMATION_HIDE),this.hide()},a._onSkeletonAnimationComplete=function(t){switch(t.animation.name){case R:this._state=O.SHOWN,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"ani_Loop",!0),this.okButtonNode.active=!0,this.cancelButtonNode.active=!0;break;case T:this._state=O.HIDDEN,this.node.active=!1}},a._onTotalBetChange=function(t){this.priceNumberCurrency.updateNumber(t*h.FREE_SPINS_PRICE_RATE)},e}(u)).prototype,"skeleton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(b.prototype,"priceNumberCurrency",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(b.prototype,"okButtonNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(b.prototype,"cancelButtonNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=b))||C)||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/Controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SubGameData42.ts","./SubGameDefines43.ts","./AudioHelper11.ts","./Display13.ts"],(function(n){var t,e,i,o,s,a,r,_,c,T,S;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,o=n.Tween,s=n.tween},function(n){a=n.CommonEvent},function(n){r=n.SubGameData},function(n){_=n.common},function(n){c=n.AudioHelper},function(n){T=n.DisplayTaskManager,S=n.Display}],execute:function(){var p;e._RF.push({},"af7a67oMGRGFr/Hm95ITHq8","Controller",void 0);var l=i.ccclass,u=i.menu;i.property,n("Controller",l("Controller")(p=u(r.module+"/display/Controller")(p=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this)._spinnable=!0,t._scoreToPay=0,t._currentScoreInOneSpin=0,t._freeTimes=0,t}t(e,n);var i=e.prototype;return i.onLoad=function(){n.prototype.onLoad.call(this),T.addHandler(this),this.onD(a.DISPATCH_SPIN_START,this._onControllerSpinStart),this.onD(a.DISPATCH_SPIN_STOP,this._onControllerSpinStop),this.onD(a.DISPATCH_TOTAL_BET,this._onTotalBetChange),this.onD(a.DISPATCH_START_AUTOPLAY,this._onAutoPlayStateChange),this.onD(a.DISPATCH_QUICK_SPIN,this._onQuickSpinChange),this.onD(a.DISPATCH_TURBO_SPIN,this._onTurboSpinChange),this.onD(a.DISPATCH_SKIP_SCREENS,this._onSkipScreensChange),dispatch(a.NOTIFY_NO_INTRO)},i.start=function(){var t,e;null==(t=n.prototype.start)||t.call(this),dispatch(a.NOTIFY_GMTOOL_VISIBLE,r.gmEnabled);var i=null!=(e=r.slotInfo.mode)?e:0;1===i?dispatch(a.NOTIFY_QUICK_SPIN,!0):2===i?dispatch(a.NOTIFY_TURBO_SPIN,!0):(dispatch(a.NOTIFY_QUICK_SPIN,!1),dispatch(a.NOTIFY_TURBO_SPIN,!1))},i.onTaskInit=function(n,t){this.stopAllDisplays(),this._spinnable=!0,this._scoreToPay=0,this._currentScoreInOneSpin=0,this._freeTimes=0,o.stopAllByTarget(this),dispatch(a.NOTIFY_USERINFO_SCORE,r.balance),dispatch(a.NOTIFY_SLOT_INFO,r.slotInfo)},i.onTaskSpinStart=function(n,t){this._spinnable=!1,this._currentScoreInOneSpin=0,t.spinType===_.ESpinType.FREE?dispatch(a.NOTIFY_SPIN_STOP_NORMAL):(this._scoreToPay=0,t.spinType===_.ESpinType.BOUGHT&&dispatch(a.NOTIFY_FREE_MODE))},i.onTaskSpinStop=function(n,t){t.spinType===_.ESpinType.FREE&&(this._freeTimes=Math.max(0,this._freeTimes-1)),null!==t.balance&&void 0!==t.balance&&dispatch(a.NOTIFY_BALANCE_SCORE,t.balance)},i.onTaskSpinComplete=function(n,t){dispatch(a.NOTIFY_SPIN_STOP_NORMAL,!1)},i.onTaskTumble=function(n,t){var e=this;t.tumblesMap.forEach((function(n){e._currentScoreInOneSpin+=n.score})),o.stopAllByTarget(this),s(this).delay(.5+(r.turboSpin?.083333:1.5)).call((function(){c.instance.playSoundEffect(r.AUDIO_URLS.SE_WIN_SCORE),dispatch(a.NOTIFY_WINSCORE_TIPS,e._scoreToPay+e._currentScoreInOneSpin,!0)})).start()},i.onTaskEnterFreeMode=function(n,t){dispatch(a.NOTIFY_FREE_MODE),dispatch(a.NOTIFY_WINSCORE_TIPS,this._scoreToPay)},i.onTaskAppendFreeTimes=function(n,t){this._freeTimes+=r.EXTRA_FREE_TIMES},i.onTaskExitFreeMode=function(n,t){dispatch(a.NOTIFY_BALANCE_SCORE,r.balance)},i.onTaskTransit=function(n,t){"enterFreeMode"===t.type?(this._freeTimes=r.INITIAL_FREE_TIMES,dispatch(a.NOTIFY_SPIN_START_NORMAL)):(this._scoreToPay=0,this._freeTimes=0)},i.onTaskPay=function(n,t){var e=this;this.startDisplay(),this._scoreToPay+=t.totalScore,this._currentScoreInOneSpin=0,t.totalScore>0&&(c.instance.playSoundEffect(r.AUDIO_URLS.SE_PAY),dispatch(a.NOTIFY_WINSCORE_TIPS,this._scoreToPay)),null!==t.balance&&void 0!==t.balance&&dispatch(a.NOTIFY_BALANCE_SCORE,t.balance),o.stopAllByTarget(this),s(this).delay(r.autoPlaying||t.freeMode?r.turboSpin?.1:.366667:0).call((function(){return e.endDisplay()})).start()},i.onTaskPayComplete=function(n,t){t.freeMode&&this._freeTimes>0&&dispatch(a.NOTIFY_SPIN_START_NORMAL)},i.onTaskSpinEnd=function(n,t){c.instance.playSoundEffect(r.AUDIO_URLS.SE_SPIN_END),this._spinnable=!0,dispatch(a.NOTIFY_SPIN_END)},i.onTaskRestore=function(n,t){var e=this;this.stopAllDisplays(),dispatch(a.NOTIFY_SLOT_INFO,r.slotInfo),dispatch(a.NOTIFY_USERINFO_SCORE,t.balance),dispatch(a.NOTIFY_DEFAULT_BET,t.totalBet),this._spinnable=!1,this._scoreToPay=0,this._freeTimes=0,o.stopAllByTarget(this),"exited"!==t.freeModeStatus&&(this._scoreToPay=t.currentScoreInFreeMode,dispatch(a.NOTIFY_FREE_MODE),setTimeout((function(){return dispatch(a.NOTIFY_WINSCORE_TIPS,e._scoreToPay)}),100),"entered"===t.freeModeStatus&&(this._freeTimes=t.freeTimesRemaining))},i._onControllerSpinStart=function(n){var t;if(void 0===n&&(n=0),c.instance.playSoundEffect(r.AUDIO_URLS.SE_SPIN_START),this._spinnable)if(0!==n)null==(t=r.spinRequestor)||t.request(_.ESpinRequestType.GM_SPIN,n);else if(r.anteBetEnabled){var e;null==(e=r.spinRequestor)||e.request(_.ESpinRequestType.ANTE_SPIN)}else{var i;null==(i=r.spinRequestor)||i.request(_.ESpinRequestType.SPIN)}},i._onControllerSpinStop=function(){r.turboSpin||T.runTask("manualStop",null)},i._onTotalBetChange=function(n){r.totalBet=n},i._onAutoPlayStateChange=function(n){r.autoPlaying=n},i._onQuickSpinChange=function(n){r.quickSpin=n},i._onTurboSpinChange=function(n){r.turboSpin=n},i._onSkipScreensChange=function(n){r.skipScreens=n},e}(S))||p)||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/DebugVersion11.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Config.ts","./CommonEvent.ts","./SubGameData42.ts"],(function(n){var e,t,i,o,r,s,a,u,c,l,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,s=n._decorator,a=n.Label},function(n){u=n.default},function(n){c=n.Config},function(n){l=n.CommonEvent},function(n){p=n.SubGameData}],execute:function(){var f,g,b,h,v,D;r._RF.push({},"14388oyl15OqbG1++huqOYq","DebugVersion",void 0);var d=s.ccclass,m=s.menu,y=s.property;n("DebugVersion",(f=d("DebugVersion"),g=m(p.module+"/views/DebugVersion"),b=y(a),f(h=g((D=e((v=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=n.call.apply(n,[this].concat(r))||this,i(e,"versionLabel",D,o(e)),e}t(e,n);var r=e.prototype;return r.onLoad=function(){this.onD(l.SWITCH_SCREEN,this._onOrientationChange)},r.start=function(){this.versionLabel.string="v1.7.0",this.versionLabel.node.active=c.isDebugLogin,this._onOrientationChange(App.utils.getOrientation())},r._onOrientationChange=function(n){"portrait"===n?this.node.setPosition(355,620,0):this.node.setPosition(635,340,0)},e}(u)).prototype,"versionLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=v))||h)||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/Defines12.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"15b0fHsuxFAJadXHDo7yXzX","Defines",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Display13.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(t){var n,s,e,a,i;return{setters:[function(t){n=t.createClass,s=t.inheritsLoose,e=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy},function(t){i=t.default}],execute:function(){a._RF.push({},"66f23mAh7JAQrPsEKDzUW8I","Display",void 0);var o=t("DisplayTaskManager",function(){function t(){}return t.clearTasks=function(){this._sTasksQueue.length=0},t.addTask=function(t,n){this._sTasksQueue.push({name:t,data:n})},t.runTask=function(t,n){Log.d("run display task: "+t),this._sHandlersSet.forEach((function(s){var e=s["onTask"+t[0].toUpperCase()+t.substring(1)];null!=e&&e.call(s,t,n)}))},t.runNextTask=function(){if(!(r.displaying||this._sTasksQueue.length<=0)){var t=this._sTasksQueue.shift();null!=t&&this.runTask(t.name,t.data)}},t.clearHandlers=function(){this._sHandlersSet.clear()},t.addHandler=function(t){this._sHandlersSet.add(t)},t.removeHandler=function(t){return this._sHandlersSet.delete(t)},t}());o._sTasksQueue=[],o._sHandlersSet=new Set;var r=t("DisplayPool",function(){function t(){}return t.clear=function(){this._sPoolSet.clear()},t.add=function(t){this._sPoolSet.add(t)},t.remove=function(t){return this._sPoolSet.delete(t)},n(t,null,[{key:"displaying",get:function(){for(var t,n=e(this._sPoolSet);!(t=n()).done;){if(t.value.displaying)return!0}return!1}}]),t}());r._sPoolSet=new Set;t("Display",function(t){function e(){for(var n,s=arguments.length,e=new Array(s),a=0;a<s;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this)._displayCount=0,n}s(e,t);var a=e.prototype;return a.onLoad=function(){r.add(this)},a.onDestroy=function(){r.remove(this)},a.stopAllDisplays=function(){this._displayCount=0},a.startDisplay=function(){++this._displayCount},a.endDisplay=function(){this._displayCount<=0||--this._displayCount},n(e,[{key:"displaying",get:function(){return this._displayCount>0}}]),e}(i));a._RF.pop()}}}));

System.register("chunks:///_virtual/EntranceLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData42.ts","./Display13.ts","./AudioHelper11.ts"],(function(t){var e,n,i,o,a,r,s,l,c,u,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,l=t.sp},function(t){c=t.SubGameData},function(t){u=t.DisplayTaskManager,p=t.Display},function(t){h=t.AudioHelper}],execute:function(){var y,D,d,f,N,_,E,H;a._RF.push({},"61bec4t4rJI3YN0e1pj44XK","EntranceLayer",void 0);var I=r.ccclass,m=r.menu,v=r.property,S=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t}(S||{});t("EntranceLayer",(y=I("EntranceLayer"),D=m(c.module+"/layer/EntranceLayer"),d=v(s),f=v(l.Skeleton),y(N=D((E=e((_=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"rootNode",E,o(e)),i(e,"skeleton",H,o(e)),e._state=S.HIDDEN,e}n(e,t);var a=e.prototype;return a.onLoad=function(){var e;null==(e=t.prototype.onLoad)||e.call(this),u.addHandler(this),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this)),this.rootNode.active=!1},a.onTaskInit=function(t,e){e.entrance&&"portrait"===App.utils.getOrientation()?this._show():(this.stopAllDisplays(),this._state=S.HIDDEN,this.rootNode.active=!1)},a.onTaskRestore=function(t,e){e.entrance&&"portrait"===App.utils.getOrientation()?this._show():(this.stopAllDisplays(),this._state=S.HIDDEN,this.rootNode.active=!1)},a._show=function(){this._state!==S.SHOWING&&(this.startDisplay(),h.instance.playSoundEffect(c.AUDIO_URLS.SE_ENTRANCE),this._state=S.SHOWING,this.rootNode.active=!0,this.skeleton.setAnimation(0,"ani",!1))},a._onSkeletonAnimationComplete=function(t){this._state=S.HIDDEN,this.rootNode.active=!1,this.endDisplay()},e}(p)).prototype,"rootNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(_.prototype,"skeleton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=_))||N)||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/ExBannerContentProvider28.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BannerContentProvider.ts","./SubGameData42.ts"],(function(n){var e,r,t,o,i;return{setters:[function(n){e=n.inheritsLoose},function(n){r=n.cclegacy,t=n._decorator},function(n){o=n.BannerContentProvider},function(n){i=n.SubGameData}],execute:function(){var c;r._RF.push({},"f79f46FvTdPya3BZwvlHtoO","ExBannerContentProvider",void 0);var a=t.ccclass,s=(t.property,t.menu);n("ExBannerContentProvider",a("ExBannerContentProvider")(c=s(i.module+"/components/ExBannerContentProvider")(c=function(n){function r(){return n.apply(this,arguments)||this}return e(r,n),r.prototype.dataList=function(){return["<img src='en1'/>","<img src='en2'/>","<img src='en3'/>","<img src='en4'/>","<img src='en5'/>","<img src='en6'/>"]},r}(o))||c)||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/FreeMode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./CommonEvent.ts","./NumberCurrency.ts","./SubGameData42.ts","./AudioHelper11.ts","./Display13.ts"],(function(e){var t,i,n,o,s,r,a,l,c,u,h,p,f,d,y,T,_,m,S,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,a=e._decorator,l=e.sp,c=e.Label,u=e.UIOpacity,h=e.Node,p=e.Tween,f=e.tween},function(e){d=e.Global},function(e){y=e.CommonEvent},function(e){T=e.NumberCurrency},function(e){_=e.SubGameData},function(e){m=e.AudioHelper},function(e){S=e.DisplayTaskManager,b=e.Display}],execute:function(){var N,k,I,E,F,D,O,v,g,w,U,A,H,L,R,B,P,W,x,C;r._RF.push({},"12325lGt2xDkKxLFxPsZQHf","FreeMode",void 0);var G=a.ccclass,z=a.menu,M=a.property,j="ani_Appear",V="ani_Disappear",Y=function(e){return e[e.HIDDEN=0]="HIDDEN",e[e.SHOWING=1]="SHOWING",e[e.SHOWN=2]="SHOWN",e[e.HIDING=3]="HIDING",e}(Y||{});e("FreeMode",(N=G("FreeMode"),k=z(_.module+"/display/FreeMode"),I=M(l.Skeleton),E=M(c),F=M(u),D=M(T),O=M(u),v=M(c),g=M(u),w=M(h),N(U=k((H=t((A=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"skeleton",H,o(t)),n(t,"freeTimesWonLabel",L,o(t)),n(t,"freeTimesWonUIOpacity",R,o(t)),n(t,"scoreNumberCurrency",B,o(t)),n(t,"scoreUIOpacity",P,o(t)),n(t,"totalFreeTimesLabel",W,o(t)),n(t,"totalFreeTimesUIOpacity",x,o(t)),n(t,"externalTouchBlockNode",C,o(t)),t._type=void 0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),S.addHandler(this),this.externalTouchBlockNode.on(h.EventType.TOUCH_END,this._onTouchEnd,this),this.skeleton.setStartListener(this._onSkeletonAnimationStart.bind(this)),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this)),this.node.active=!1,this.externalTouchBlockNode.active=!1,this.skeleton.clearTracks(),this.freeTimesWonLabel.string="",this.scoreNumberCurrency.node.parent.active=!1,this.totalFreeTimesLabel.string=""},r.onDestroy=function(){this.isValid&&this.externalTouchBlockNode.isValid&&this.externalTouchBlockNode.off(h.EventType.TOUCH_END,this._onTouchEnd,this),e.prototype.onDestroy.call(this)},r.onTaskInit=function(e,t){this._hide()},r.onTaskEnterFreeMode=function(e,t){this._type="showFreeTimes",this._showFreeTimes(t.freeTimes)},r.onTaskAppendFreeTimes=function(e,t){this._type="appendFreeTimes",this._showFreeTimes(t.freeTimes)},r.onTaskExitFreeMode=function(e,t){this._type="showFreeSpinsResult",this._showFreeSpinsResult(t.totalScore,t.freeTimes)},r.onTaskRestore=function(e,t){this._hide()},r._show=function(e){if(this.skeleton.setSkin(e),this._state!==Y.SHOWING&&this._state!==Y.SHOWN){this.startDisplay(),this.node.active=!0,this.externalTouchBlockNode.active=!0,p.stopAllByTarget(this.node),f(this.node).call((function(){return dispatch(y.NOTIFY_TIPS_NODE,!1)})).start(),this.skeleton.clearTracks(),this.skeleton.setAnimation(0,j,!1);var t=[];"showFreeSpinsResult"===this._type?(t.push(this.scoreUIOpacity),t.push(this.totalFreeTimesUIOpacity)):t.push(this.freeTimesWonUIOpacity),t.forEach((function(e){p.stopAllByTarget(e),e.opacity=0,f(e).delay(.2).to(.1667,{opacity:255}).start()}))}else this.externalTouchBlockNode.active=!0},r._hide=function(){var e=this;if(this._state!==Y.HIDING)if(this._state!==Y.HIDDEN){this.node.active=!0,this.externalTouchBlockNode.active=!0,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,V,!1),p.stopAllByTarget(this.node),f(this.node).delay(.25).call((function(){return e.endDisplay()})).start();var t=[];"showFreeSpinsResult"===this._type?(t.push(this.scoreUIOpacity),t.push(this.totalFreeTimesUIOpacity)):t.push(this.freeTimesWonUIOpacity),t.forEach((function(e){p.stopAllByTarget(e),e.opacity=255,f(e).delay(.1333).to(.2,{opacity:0}).start()}))}else this.externalTouchBlockNode.active=!1},r._showFreeTimes=function(e){this.freeTimesWonLabel.string=""+e,this.scoreNumberCurrency.node.parent.active=!1,this.totalFreeTimesLabel.string="",this._show("eff_freegame")},r._showFreeSpinsResult=function(e,t){this.freeTimesWonLabel.string="",this.scoreNumberCurrency.node.parent.active=!0,this.scoreNumberCurrency.updateNumber(e),this.totalFreeTimesLabel.string=""+t,this._show("eff_zjfb")},r._onTouchEnd=function(){this._state===Y.SHOWN&&this._hide()},r._onSkeletonAnimationStart=function(e){switch(e.animation.name){case j:m.instance.playSoundEffect(_.AUDIO_URLS.SE_FREE_SPINS_POP_UP),"appendFreeTimes"===this._type?m.instance.playSoundEffect(_.AUDIO_URLS.SE_FREE_SPINS_APPEND):"showFreeSpinsResult"===this._type?m.instance.playSoundEffect(_.AUDIO_URLS.SE_FREE_SPINS_END):m.instance.playSoundEffect(_.AUDIO_URLS.SE_FREE_SPINS_START);break;case V:m.instance.playSoundEffect(_.AUDIO_URLS.SE_FREE_SPINS_POP_OUT)}},r._onSkeletonAnimationComplete=function(e){var t=this;switch(e.animation.name){case j:this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"ani_Loop",!0),p.stopAllByTarget(this.node),this.node.active=!0,this.externalTouchBlockNode.active=!0,("appendFreeTimes"===this._type||_.autoPlaying&&_.skipScreens||d.playback)&&f(this.node).delay(3).call((function(){return t._hide()})).start();break;case V:dispatch(y.NOTIFY_TIPS_NODE,!0),this._type=void 0,this.node.active=!1,this.externalTouchBlockNode.active=!1,this.skeleton.clearTracks(),this.endDisplay()}},s(t,[{key:"_state",get:function(){if(!this.node.active)return Y.HIDDEN;switch(this.skeleton.animation){case j:return Y.SHOWING;case V:return Y.HIDING;default:return Y.SHOWN}}}]),t}(b)).prototype,"skeleton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(A.prototype,"freeTimesWonLabel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(A.prototype,"freeTimesWonUIOpacity",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(A.prototype,"scoreNumberCurrency",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(A.prototype,"scoreUIOpacity",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(A.prototype,"totalFreeTimesLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(A.prototype,"totalFreeTimesUIOpacity",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(A.prototype,"externalTouchBlockNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=A))||U)||U));r._RF.pop()}}}));

System.register("chunks:///_virtual/FreeTimes4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData42.ts","./SubGameDefines43.ts","./Display13.ts"],(function(e){var i,t,r,s,n,o,a,f,l,u,c,m;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,a=e.Node,f=e.Label},function(e){l=e.default},function(e){u=e.SubGameData},function(e){c=e.common},function(e){m=e.DisplayTaskManager}],execute:function(){var T,h,p,d,_,F,y,b,v,S;n._RF.push({},"a36defS4ylH0KOCzLF4/30g","FreeTimes",void 0);var g=o.ccclass,E=o.menu,L=o.property;e("FreeTimes",(T=g("FreeTimes"),h=E(u.module+"/display/FreeTimes"),p=L(a),d=L(a),_=L(f),T(F=h((b=i((y=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i=e.call.apply(e,[this].concat(n))||this,r(i,"freeTimesNode",b,s(i)),r(i,"lastSpinNode",v,s(i)),r(i,"freeTimesLabel",S,s(i)),i._freeTimes=0,i}t(i,e);var n=i.prototype;return n.onLoad=function(){e.prototype.onLoad.call(this),m.addHandler(this),this._refreshFreeTimes()},n.onTaskInit=function(e,i){this.node.active=!1,this._freeTimes=0,this._refreshFreeTimes()},n.onTaskSpinStop=function(e,i){i.spinType===c.ESpinType.FREE&&(this._freeTimes=Math.max(0,this._freeTimes-1),this._refreshFreeTimes())},n.onTaskAppendFreeTimes=function(e,i){this._freeTimes+=u.EXTRA_FREE_TIMES,this._refreshFreeTimes()},n.onTaskTransit=function(e,i){"enterFreeMode"===i.type?(this.node.active=!0,this._freeTimes=u.INITIAL_FREE_TIMES):(this.node.active=!1,this._freeTimes=0),this._refreshFreeTimes()},n.onTaskRestore=function(e,i){this.node.active="entered"===i.freeModeStatus,this._freeTimes="entered"===i.freeModeStatus?i.freeTimesRemaining:0,this._refreshFreeTimes()},n._refreshFreeTimes=function(){this.freeTimesLabel.string=""+this._freeTimes,this.freeTimesNode.active=this._freeTimes>0,this.lastSpinNode.active=!this.freeTimesNode.active},i}(l)).prototype,"freeTimesNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(y.prototype,"lastSpinNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(y.prototype,"freeTimesLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=y))||F)||F));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameEntry42.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Resource.ts","./Entry.ts","./Decorators.ts","./Global.ts","./GameService.ts","./SubGameData42.ts","./SubGameLanguage43.ts","./GameHandler42.ts","./SymbolNodePool11.ts","./LoadingView20.ts","./SlotView.ts"],(function(){var e,o,n,t,a,r,u,s,i,l,c,d,p,f,g;return{setters:[function(o){e=o.inheritsLoose},function(e){o=e.cclegacy,n=e.AudioClip,t=e.Prefab},function(e){a=e.Resource},function(e){r=e.Entry},function(e){u=e.registerEntry},function(e){s=e.Global},function(e){i=e.GameService},function(e){l=e.SubGameData},function(e){c=e.SubGameLanguage},function(e){d=e.default},function(e){p=e.SymbolNodePool},function(e){f=e.LoadingView},function(e){g=e.SlotView}],execute:function(){var m;o._RF.push({},"1d89cQkUapAbJJnooh/cwBw","GameEntry",void 0);u("GameEntry",l.module,g)(m=function(o){function r(){for(var e,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(e=o.call.apply(o,[this].concat(t))||this).language=new c,e}e(r,o);var u=r.prototype;return u.addNetHandler=function(){App.handlerManager.get(d)},u.removeNetHandler=function(){App.handlerManager.destory(d)},u.loadResources=function(e){var o=this;this.loader.getLoadResources=function(){for(var e=[],o=1;o<12;o++)e.push({url:"prefabs/symbols/Symbol"+o,type:t,bundle:l.module});for(var a in["prefabs/slotgame/Alert","prefabs/slotgame/AutoPlayView","prefabs/slotgame/MenuView","prefabs/slotgame/MobileBetView","prefabs/views/IntroView","prefabs/views/SlotView"].forEach((function(o){return e.push({url:o,type:t,bundle:l.module})})),l.AUDIO_URLS)a.startsWith("BGM_")&&e.push({url:l.AUDIO_URLS[a],type:n,bundle:l.module});return e.push({url:l.AUDIO_URLS.SE_ENTRANCE,type:n,bundle:l.module}),e},this.loader.onLoadProgress=function(e,o,n){l.setLoadingTaskProgress("resource",Math.min(e/o,.9999))},this.loader.onLoadComplete=function(e){e===a.LoaderError.SUCCESS&&(l.setLoadingTaskProgress("resource",1),p.instance.preload().then((function(e){e||o.popLoadFailed()})).catch((function(){return o.popLoadFailed()})))},App.uiManager.open({type:f,bundle:l.module,args:{completeCallback:e}}).then((function(){o.loader.loadResources()})).catch((function(){return o.popLoadFailed()}))},u.initData=function(){App.serviceManager.get(i,!0),s.playback?l.setLoadingTaskProgress("network",1):this._connectServer()},u.pauseMessageQueue=function(){},u.resumeMessageQueue=function(){},u.popLoadFailed=function(){App.alert.show({text:App.getLanguage("loadFailed",[""])})},u._connectServer=function(){var e=App.serviceManager.get(i);if(e){if(e.isConnected)return Log.d(e.module+" ..."),void e.close();Log.d(e.module+" ..."),e.connect()}else this.popLoadFailed()},r}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameHandler42.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Handler.ts","./Global.ts","./CommonEvent.ts","./GameService.ts","./SubGameData42.ts","./GameSender42.ts","./Protocol43.ts"],(function(e){var n,t,s,o,a,c,i,r,u,l;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){s=e.cclegacy},function(e){o=e.Handler},function(e){a=e.Global},function(e){c=e.CommonEvent},function(e){i=e.GameService},function(e){r=e.SubGameData},function(e){u=e.GameSender},function(e){l=e.Protocol}],execute:function(){s._RF.push({},"fed51gYli9DI6u0UATNK01e","GameHandler",void 0),e("default",function(e){function s(){return e.apply(this,arguments)||this}n(s,e);var o=s.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),this.onD(c.GAME_SERVICE_CONNECTED,this._onConnectionConnected),this.onS(l.LOGIN,this._s2cLogin),this.onS(l.USERINFO,this._s2cUserInfo),this.onS(l.SLOT_INFO,this._s2cSlotInfo),this.onS(l.SLOT_BET,this._s2cSlotBet),this.onS(l.LAST_MAP,this._s2cLastMap)},o._onConnectionConnected=function(e){var n;Log.d(e.module+" !"),null==(n=this.sender)||n.c2sLogin(a.gameId)},o._s2cLogin=function(e){var n,t;r.setLoadingTaskProgress("network",.3),e&&e.message&&1==e.message.issucc&&(a.account=e.message.account,a.currency=e.message.mtype,dispatch(c.SWITCH_CURRENCY),null==(n=this.sender)||n.c2sUserInfo(),null==(t=this.sender)||t.c2sSlotInfo())},o._s2cUserInfo=function(e){Log.d("s2cUserInfo message.money = ",e.message.money),r.setLoadingTaskProgress("network",.7),r.balance=e.message.money},o._s2cSlotInfo=function(e){r.setLoadingTaskProgress("network",1),r.slotInfo=e.message,r.gmEnabled=1===e.message.can_gm,r.quickSpin=1===e.message.mode},o._s2cSlotBet=function(e){},o._s2cLastMap=function(e){r.lastMap=e.message},t(s,[{key:"gameData",get:function(){return App.dataCenter.get(r)}},{key:"service",get:function(){return App.serviceManager.get(i)}},{key:"sender",get:function(){return App.senderManager.get(u)}}]),s}(o)).module="Game",s._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic43.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logic.ts"],(function(e){var t,c,i;return{setters:[function(e){t=e.inheritsLoose},function(e){c=e.cclegacy},function(e){i=e.Logic}],execute:function(){c._RF.push({},"1c4ddBNGE9LQY6LGTMEACTe","GameLogic",void 0);e("GameLogic",function(e){function c(){return e.apply(this,arguments)||this}return t(c,e),c}(i));c._RF.pop()}}}));

System.register("chunks:///_virtual/GameSender42.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sender.ts","./Config.ts","./Global.ts","./GameService.ts","./SubGameData42.ts","./Protocol43.ts"],(function(e){var n,s,t,i,c,a,o,r,u;return{setters:[function(e){n=e.inheritsLoose,s=e.createClass},function(e){t=e.cclegacy},function(e){i=e.Sender},function(e){c=e.Config},function(e){a=e.Global},function(e){o=e.GameService},function(e){r=e.SubGameData},function(e){u=e.Protocol}],execute:function(){t._RF.push({},"63ef1cR5AhCCrqa3krWlwlX","GameSender",void 0),e("GameSender",function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.c2sLogin=function(e){c.isDebugLogin?this.c2sDebug_login({uid:a.userId,game_id:e,money:Number(a.money),money_type:a.currency}):this.c2sOfficial_login({token:a.token,gameid:e,direct:a.direct_login})},i.c2sDebug_login=function(e){var n,s={type:u.DEBUG_LOGIN,message:e};null==(n=this.service)||n.sendMessage(u.DEBUG_LOGIN,s)},i.c2sOfficial_login=function(e){var n,s={type:u.LOGIN,message:e};null==(n=this.service)||n.sendMessage(u.LOGIN,s)},i.c2sMark=function(e){var n,s={type:u.MARK,message:e};null==(n=this.service)||n.sendMessage(u.MARK,s)},i.c2sUserInfo=function(){var e,n={type:u.USERINFO,message:{}};null==(e=this.service)||e.sendMessage(u.USERINFO,n)},i.c2sSlotInfo=function(){var e,n={type:u.SLOT_INFO,message:{}};null==(e=this.service)||e.sendMessage(u.SLOT_INFO,n)},i.sendPack=function(e,n){var s;a.playback||null==(s=this.service)||s.sendMessage(e,n)},i.c2sGMSlot=function(e){var n={type:u.GM_SLOT,message:e};this.sendPack(u.GM_SLOT,n)},i.c2sSlotBet=function(e){var n={type:u.SLOT_BET,message:e};this.sendPack(u.SLOT_BET,n)},i.c2sAnteSlotBet=function(e){var n={type:u.ANTE_SLOT_BET,message:e};this.sendPack(u.SLOT_BET,n)},i.c2sFreeSpin=function(){var e={type:u.CONSUME_PAGE,message:{}};this.sendPack(u.CONSUME_PAGE,e)},i.c2sBuyFreeSpins=function(e){var n={type:u.BUY_FREE_SPINS,message:e};this.sendPack(u.BUY_FREE_SPINS,n)},s(t,[{key:"service",get:function(){return App.serviceManager.get(o)}},{key:"data",get:function(){return App.dataCenter.get(r)}}]),t}(i)).module="Game",t._RF.pop()}}}));

System.register("chunks:///_virtual/IntroView11.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./SubGameData42.ts"],(function(e){var t,n,o,i,r,a,u,c,l,s,p,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,u=e.Node,c=e.tween,l=e.v3,s=e.sys},function(e){p=e.default},function(e){d=e.inject},function(e){f=e.SubGameData}],execute:function(){var b,h,g,_,y,v,w,N,m,k;r._RF.push({},"99bcaYYjNhJXZilN+3sKxdf","IntroView",void 0);var I=a.ccclass,D=a.menu;a.property,e("IntroView",(b=I("IntroView"),h=D(f.module+"/views/IntroView"),g=d("bg",u),_=d("SpriteBackground",u),y=d("SpriteHint",u),b(v=h((N=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"_bgNode",N,i(t)),o(t,"_backgroundNode",m,i(t)),o(t,"_hintNode",k,i(t)),t}n(t,e),t.getPrefabUrl=function(){return"prefabs/views/IntroView"};var r=t.prototype;return r.onLoad=function(){if(e.prototype.onLoad.call(this),this._backgroundNode.on(u.EventType.TOUCH_END,this._onBackgroundTouchEnd,this),1!=App.utils.PlatformType){c(this._hintNode).to(.28,{scale:l(1.1,1.1,1.1)},{easing:"sineOut"}).to(.28,{scale:l(1,1,1)}).union().repeatForever().start(),this._bgNode.active=!s.isMobile}else this._onBackgroundTouchEnd()},r._onBackgroundTouchEnd=function(){var e;null==(e=this.args)||null==e.completeCallback||e.completeCallback(),this.close()},t}(p)).prototype,"_bgNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(w.prototype,"_backgroundNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(w.prototype,"_hintNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v)||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Lightning.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData42.ts","./Display13.ts"],(function(n){var t,e,i,a,o,r,s,l,c,h,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){o=n.cclegacy,r=n._decorator,s=n.sp,l=n.Tween,c=n.tween},function(n){h=n.SubGameData},function(n){p=n.Display}],execute:function(){var u,g,f,y,d,v;o._RF.push({},"287d9TZ5XdI9p3aRj0WjvwB","Lightning",void 0);var k=r.ccclass,_=r.menu,m=r.property;n("Lightning",(u=k("Lightning"),g=_(h.module+"/display/Lightning"),f=m([s.Skeleton]),u(y=g((v=t((d=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return t=n.call.apply(n,[this].concat(o))||this,i(t,"lightningSkeletons",v,a(t)),t._indexesMapByTrackEntry=new Map,t}e(t,n);var o=t.prototype;return o.onLoad=function(){var t=this;n.prototype.onLoad.call(this),this.lightningSkeletons.forEach((function(n){n.setCompleteListener(t._onSkeletonAnimationComplete.bind(t)),n.node.active=!1}))},o.clear=function(){this.stopAllDisplays(),this._indexesMapByTrackEntry.clear(),l.stopAllByTarget(this.node),this.lightningSkeletons.forEach((function(n){n.node.active=!1}))},o.struck=function(n,t){var e=this,i=[];if(n.forEach((function(n){var t=e.lightningSkeletons[n];t&&i.push(t)})),!(i.length<=0)){this.clear();var a=function(){i.forEach((function(n,t){e.startDisplay(),n.node.active=!0;var i=n.setAnimation(0,"eff_icon_shandian",!1);i&&e._indexesMapByTrackEntry.set(i,t)}))};null!=t?c(this.node).delay(t).call(a).start():a()}},o._onSkeletonAnimationComplete=function(n){var t=this._indexesMapByTrackEntry.get(n),e=this.lightningSkeletons[null!=t?t:-1];e&&(e.node.active=!1,this._indexesMapByTrackEntry.delete(n)),this.endDisplay()},t}(p)).prototype,"lightningSkeletons",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=d))||y)||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingHelper11.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i;return{setters:[function(t){n=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"999f0C+HaNDCbv2172hUc08","LoadingHelper",void 0),t("LoadingHelper",function(){function t(){this._timeoutID=null}var i=t.prototype;return i.show=function(t){this._stopCountdown();var n=function(){return App.loading.show("loading...")};null!=t?this._timeoutID=setTimeout(n,1e3*t):n()},i.hide=function(){this._stopCountdown(),App.loading.hide()},i._stopCountdown=function(){null!==this._timeoutID&&void 0!==this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},n(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingView20.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./GameLogic43.ts","./SubGameData42.ts","./IntroView11.ts"],(function(r){var e,o,t,i,s,n,a,l,u,p,c,g,h,f;return{setters:[function(r){e=r.applyDecoratedDescriptor,o=r.inheritsLoose,t=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){s=r.cclegacy,n=r._decorator,a=r.ProgressBar,l=r.UITransform,u=r.Node},function(r){p=r.default},function(r){c=r.inject},function(r){g=r.GameLogic},function(r){h=r.SubGameData},function(r){f=r.IntroView}],execute:function(){var d,m,b,_,w,B,y,L,P,v,V,D,I;s._RF.push({},"4df20H7r5tMMa8dVFHuXUR3","LoadingView",void 0);var z=n.ccclass,S=n.menu;n.property,r("LoadingView",(d=z("LoadingView"),m=S(h.module+"/views/LoadingView"),b=c({type:g,name:"logic"}),_=c("ProgressBar",a),w=c("ProgressBar/Bar",l),B=c("ProgressBar/Bar/Sprite",u),d(y=m(((I=function(r){function e(){for(var e,o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return e=r.call.apply(r,[this].concat(s))||this,t(e,"logic",P,i(e)),t(e,"_progressBar",v,i(e)),t(e,"_barUITransform",V,i(e)),t(e,"_progressBarLight",D,i(e)),e}o(e,r),e.getPrefabUrl=function(){return"prefabs/views/LoadingView"};var s=e.prototype;return s.onLoad=function(){r.prototype.onLoad.call(this),this._progressBar.progress=0,this._updateProgress(0)},s.onShow=function(){r.prototype.onShow.call(this),App.utils.closeDocumentFrameAnimation(),this.schedule(this._updateProgress)},s._updateProgress=function(r){var e;if(this._progressBar.progress>=1)return this.unschedule(this._updateProgress),App.uiManager.open({type:f,bundle:h.module,args:{completeCallback:null==(e=this.args)?void 0:e.completeCallback}}),App.utils.closeDocumentLoading(),void this.close();var o=h.loadingProgress,t=o>=1?.8:.2;this._progressBar.progress=Math.min(this._progressBar.progress+r*t,o),this._progressBarLight.setPosition(this._barUITransform.contentSize.width*this._progressBar.progress,this._progressBarLight.position.y),App.utils.onDocumentProgress(100*this._progressBar.progress)},e}(p)).logicType=g,P=e((L=I).prototype,"logic",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(L.prototype,"_progressBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(L.prototype,"_barUITransform",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(L.prototype,"_progressBarLight",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=L))||y)||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/Lock11.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData42.ts","./AudioHelper11.ts","./Display13.ts"],(function(t){var e,n,i,l,s,o,a,c,r,u,k,h,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized,s=t.createClass},function(t){o=t.cclegacy,a=t._decorator,c=t.sp,r=t.Label,u=t.Tween,k=t.tween},function(t){h=t.SubGameData},function(t){f=t.AudioHelper},function(t){p=t.Display}],execute:function(){var b,_,d,L,m,C,y,N,D,S;o._RF.push({},"61d1fbpIatOu5NOj+7PtpGJ","Lock",void 0);var O=a.ccclass,K=a.menu,v=a.property,g="ani_loop",A="ani_disappear",E="ani_appear",U="eff_baozha",G=function(t){return t[t.LOCKED=0]="LOCKED",t[t.UNLOCKING=1]="UNLOCKING",t[t.UNLOCKED=2]="UNLOCKED",t[t.LOCKING=3]="LOCKING",t}(G||{});t("Lock",(b=O("Lock"),_=K(h.module+"/display/Lock"),d=v(c.Skeleton),L=v(c.Skeleton),m=v(r),b(C=_((N=e((y=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,i(e,"skeleton",N,l(e)),i(e,"effectSkeleton",D,l(e)),i(e,"lockNumberLabel",S,l(e)),e._state=G.LOCKED,e._exploding=!1,e._lockNumber=0,e._lockCallback=null,e._unlockCallback=null,e}n(e,t);var o=e.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this)),this.skeleton.clearTracks(),this.skeleton.setAnimation(0,g,!0),this.skeleton.timeScale=1,this.effectSkeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this)),this.effectSkeleton.node.active=!1,this.lockNumberLabel.string=""},o.refreshLockNumber=function(t,e,n){var i=this;void 0===n&&(n=!1),(n||t!==this._lockNumber)&&(this._lockNumber=t,this._exploding&&(this._exploding=!1,u.stopAllByTarget(this.node),this.effectSkeleton.node.active=!1,this.endDisplay()),e?(this.startDisplay(),k(this.node).delay(h.turboSpin?.083333:1.5).call((function(){i.lockNumberLabel.string="",i.effectSkeleton.node.active=!0,i.effectSkeleton.setAnimation(0,U,!1)})).delay(.1).call((function(){return i.lockNumberLabel.string=""+(t>0?t:"")})).start()):this.lockNumberLabel.string=""+(t>0?t:""))},o.lock=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){if(this._state!==G.LOCKED&&this._state!==G.LOCKING){if(this.skeleton.node.active=!0,!t)return this._state=G.LOCKED,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,g,!0),void(this.skeleton.timeScale=1);this.startDisplay(),this._state=G.LOCKING,this._lockCallback=null!=e?e:null,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,E,!1),this.skeleton.timeScale=1}})),o.unlock=function(t,e){var n=this;if(this._state!==G.UNLOCKED&&this._state!==G.UNLOCKING){if(this.skeleton.node.active=!0,!t)return this._state=G.UNLOCKED,this.skeleton.node.active=!1,void this.skeleton.clearTracks();this.startDisplay(),this._state=G.UNLOCKING,this._unlockCallback=null!=e?e:null,u.stopAllByTarget(this.node),k(this.node).delay(.85).call((function(){f.instance.playSoundEffect(h.AUDIO_URLS.SE_LOCK_UNLOCK),n.skeleton.clearTracks(),n.skeleton.setAnimation(0,A,!1),n.skeleton.timeScale=1.3})).start()}},o._onSkeletonAnimationComplete=function(t){switch(t.animation.name){case g:break;case E:this._state=G.LOCKED,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,g,!0),this.skeleton.timeScale=1,this.endDisplay(),this._afterLock();break;case A:this._state=G.UNLOCKED,this.skeleton.node.active=!1,this.endDisplay(),this._afterUnlock();break;case U:this._exploding=!1,this.effectSkeleton.node.active=!1,this.endDisplay();break;default:this.endDisplay()}},o._afterLock=function(){var t=this._lockCallback;this._lockCallback=null,null==t||t(this)},o._afterUnlock=function(){var t=this._unlockCallback;this._unlockCallback=null,null==t||t(this)},s(e,[{key:"locked",get:function(){return this._state===G.LOCKED||this._state===G.LOCKING}},{key:"lockNumber",get:function(){return this._lockNumber}}]),e}(p)).prototype,"skeleton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(y.prototype,"effectSkeleton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(y.prototype,"lockNumberLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=y))||C)||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/Multiplier3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SubGameData42.ts","./SubGameDefines43.ts","./Display13.ts"],(function(e){var t,i,l,o,r,a,s,n,p,c,u,h,d,f,y,m,S,_,g,b,k,M,T,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.v3,n=e.color,p=e.sp,c=e.UIOpacity,u=e.Label,h=e.Node,d=e.Tween,f=e.Color,y=e.tween,m=e.easing,S=e.math,_=e.instantiate,g=e.Vec3},function(e){b=e.CommonEvent},function(e){k=e.SubGameData},function(e){M=e.common},function(e){T=e.DisplayTaskManager,I=e.Display}],execute:function(){var L,R,N,v,O,A,D,w,B,E,U,P,x,z;r._RF.push({},"b784ayFI3VEeJRnDT241aDz","Multiplier",void 0);var F=a.ccclass,W=a.menu,C=a.property,H=s(.8,.8,1),G=s(.75,.75,1),V=s(-527,212,0),Y=s(272,420,0),Z=s(-278,384,0),j=n(255,255,255,0);e("Multiplier",(L=F("Multiplier"),R=W(k.module+"/display/Multiplier"),N=C(p.Skeleton),v=C(c),O=C(u),A=C(h),D=C(h),L(w=R((E=t((B=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,l(t,"effectSkeleton",E,o(t)),l(t,"multiplierUIOpacity",U,o(t)),l(t,"multiplierLabel",P,o(t)),l(t,"animatedMultipliersRootNode",x,o(t)),l(t,"externalReelsRootNode",z,o(t)),t._freeMode=!1,t._multiplier=1,t._idleMultiplierNodesPool=[],t}i(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),T.addHandler(this),this.onD(b.SWITCH_SCREEN,this._refreshNode),this.effectSkeleton.clearTracks(),this.effectSkeleton.color=j,this.multiplierUIOpacity.opacity=255,this.multiplierLabel.node.setScale(1,1,1),this.multiplierLabel.string=""},r.onTaskInit=function(e,t){var i=this;this.stopAllDisplays(),this._freeMode=!1,this._multiplier=1,this._refreshNode(),d.stopAllByTarget(this.effectSkeleton.color),this.effectSkeleton.clearTracks(),this.effectSkeleton.color=j,d.stopAllByTarget(this.multiplierUIOpacity),d.stopAllByTarget(this.multiplierLabel.node),this.multiplierUIOpacity.opacity=255,this.multiplierLabel.node.setScale(1,1,1),this.multiplierLabel.string="",[].concat(this.animatedMultipliersRootNode.children).forEach((function(e){d.stopAllByTarget(e),i._addIdleMultiplierNode(e)}))},r.onTaskRestore=function(e,t){var i=this;this.stopAllDisplays(),this._freeMode="entered"===t.freeModeStatus,this._multiplier=this._freeMode?t.currentMultipleInFreeMode:1,this._refreshNode(),d.stopAllByTarget(this.effectSkeleton.color),this.effectSkeleton.clearTracks(),this.effectSkeleton.color=j,d.stopAllByTarget(this.multiplierUIOpacity),d.stopAllByTarget(this.multiplierLabel.node),this.multiplierUIOpacity.opacity=255,this.multiplierLabel.node.setScale(1,1,1),this.multiplierLabel.string="",this._multiplier>1&&(this.effectSkeleton.color=f.WHITE,this.multiplierLabel.string=this._multiplier+"",this.effectSkeleton.node.active=!0,this._refreshAnimation(1)),[].concat(this.animatedMultipliersRootNode.children).forEach((function(e){d.stopAllByTarget(e),i._addIdleMultiplierNode(e)}))},r.onTaskSpinStart=function(e,t){var i=this;t.spinType!==M.ESpinType.FREE&&(this._multiplier=1,this.effectSkeleton.color.a>0&&(this.startDisplay(),d.stopAllByTarget(this.effectSkeleton.color),y(this.effectSkeleton.color).to(.133333,{a:0}).call((function(){i.effectSkeleton.clearTracks(),i.endDisplay()})).start()),d.stopAllByTarget(this.multiplierUIOpacity),d.stopAllByTarget(this.multiplierLabel.node),this.multiplierUIOpacity.opacity=255,this.multiplierLabel.node.setScale(1,1,1),this.multiplierLabel.string="")},r.onTaskMultiply=function(e,t){var i=this,l=this._multiplier;if(this._multiplier=t.multiple,this.effectSkeleton.color.a<255&&(this.multiplierLabel.string=l+"",this._refreshNode(),this.effectSkeleton.clearTracks(),d.stopAllByTarget(this.effectSkeleton.color),y(this.effectSkeleton.color).to(.133333,{a:255}).start()),t.multiplierDatas.length<=0)return this.multiplierLabel.string=this._multiplier+"",void(this._multiplier>1&&t.totalScore>0&&(this.startDisplay(),this.multiplierUIOpacity.opacity=0,d.stopAllByTarget(this.multiplierUIOpacity),y(this.multiplierUIOpacity).delay(.6).to(.1,{opacity:255},{easing:"sineOut"}).call((function(){return i.endDisplay()})).start()));this.startDisplay(),d.stopAllByTarget(this.multiplierUIOpacity),this.multiplierUIOpacity.opacity=255;var o=y(this.multiplierUIOpacity).delay(1.483333).call((function(){i.multiplierLabel.string=i._multiplier+"",i._refreshAnimation(l),t.totalScore>0?i.multiplierUIOpacity.opacity=0:i.endDisplay()}));t.totalScore>0&&o.delay(.6).to(.1,{opacity:255},{easing:"sineOut"}).call((function(){return i.endDisplay()})),o.start();var r=this._getExternalReelsRootWorldInfo(),a=this.animatedMultipliersRootNode.worldPosition;t.multiplierDatas.forEach((function(e){i.startDisplay();var t=k.SYMBOL_SIZE.width*(e.column+.5-k.REELS_NUMBER/2),l=k.SYMBOL_SIZE.height*(e.row+.5-k.SYMBOLS_NUMBER_IN_REEL/2),o=i._getIdleMultiplierNode();o.setWorldPosition(t*r.worldScale.x+r.worldPosition.x,l*r.worldScale.y+r.worldPosition.y,0),o.setScale(0,0,0),o.setParent(i.animatedMultipliersRootNode),d.stopAllByTarget(o),y(o).delay(1).to(.483333,{},{onStart:function(e){return o.setScale(1,1,1)},onUpdate:function(e,r){if(null!=r){var s=i._getExternalReelsRootWorldInfo(),n=m.sineOut(r),p=S.lerp(t*s.worldScale.x+s.worldPosition.x,a.x,n),c=S.lerp(l*s.worldScale.y+s.worldPosition.y,a.y,n);o.setWorldPosition(p,c,0);var u=r<.3?S.lerp(1,2.5,r/.3):r<.7?2.5:S.lerp(2.5,1,(r-.7)/.3);o.setScale(u,u,1)}}}).call((function(){i._addIdleMultiplierNode(o),i.endDisplay()})).start();var s=o.getComponent(u);s&&(s.fontSize=40,s.string=e.multiple+"")}))},r.onTaskTransit=function(e,t){var i=this;this._multiplier=1,this.effectSkeleton.color.a>0?(this.startDisplay(),d.stopAllByTarget(this.effectSkeleton.color),y(this.effectSkeleton.color).to(.133333,{a:0}).call((function(){i._freeMode="enterFreeMode"===t.type,i._refreshNode(),i.effectSkeleton.clearTracks(),i.endDisplay()})).start()):this._freeMode="enterFreeMode"===t.type,d.stopAllByTarget(this.multiplierUIOpacity),d.stopAllByTarget(this.multiplierLabel.node),this.multiplierUIOpacity.opacity=255,this.multiplierLabel.node.setScale(1,1,1),this.multiplierLabel.string=""},r._refreshAnimation=function(e){var t="",i=!1,l=1;this._multiplier>=10?(t="ani_cheng",l=1.35,e<10&&(i=!0)):this._multiplier>=5?(t="ani_lan",l=1.2,e<5&&(i=!0)):this._multiplier>=2&&(t="ani_lv",l=1.05,e<2&&(i=!0)),i&&(this.effectSkeleton.clearTracks(),t&&this.effectSkeleton.setAnimation(0,t,!0),d.stopAllByTarget(this.multiplierLabel.node),y(this.multiplierLabel.node).to(.25,{scale:s(l,l,1)},{easing:"sineOut"}).to(.25,{scale:s(1,1,1)},{easing:"sineIn"}).union().repeatForever().start())},r._getIdleMultiplierNode=function(){var e;return null!=(e=this._idleMultiplierNodesPool.splice(-1,1)[0])?e:_(this.multiplierLabel.node)},r._addIdleMultiplierNode=function(e){this._idleMultiplierNodesPool.push(e),e.removeFromParent()},r._refreshNode=function(e){var t;"portrait"===(e=null!=(t=e)?t:App.utils.getOrientation())?(this.node.setScale(G),this.node.setPosition(this._freeMode?Z:Y)):(this.node.setScale(H),this.node.setPosition(V))},r._getExternalReelsRootWorldInfo=function(){return this.externalReelsRootNode.isValid?{worldPosition:this.externalReelsRootNode.worldPosition,worldScale:this.externalReelsRootNode.worldScale}:{worldPosition:g.ZERO,worldScale:g.ONE}},t}(I)).prototype,"effectSkeleton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(B.prototype,"multiplierUIOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(B.prototype,"multiplierLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(B.prototype,"animatedMultipliersRootNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(B.prototype,"externalReelsRootNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=B))||w)||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/OrientationAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./CommonEvent.ts","./SubGameData42.ts"],(function(t){var i,n,e,r,o,a,p,l,c,s,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,p=t._decorator,l=t.Animation},function(t){c=t.default},function(t){s=t.CommonEvent},function(t){u=t.SubGameData}],execute:function(){var m,f,h,d,y,C,g,b,O,v,N;a._RF.push({},"22dda8BxDZIcrFgCLuT+EtY","OrientationAdapter",void 0);var _=p.ccclass,A=p.menu,D=p.property;t("OrientationAdapter",(m=_("OrientationAdapter"),f=A(u.module+"/components/OrientationAdapter"),h=D({type:l,tooltip:""}),d=D({tooltip:""}),y=D({tooltip:""}),C=D({displayName:"Portrait (FOR PREVIEW)",tooltip:""}),m(g=f((O=i((b=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(i,"animation",O,r(i)),e(i,"landscapeClipName",v,r(i)),e(i,"portraitClipName",N,r(i)),i._portrait=!1,i}n(i,t);var a=i.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),this.onD(s.SWITCH_SCREEN,this._onOrientationChange)},a.start=function(){this._onOrientationChange(App.utils.getOrientation())},a._onOrientationChange=function(t){var i,n=null!=(i=this.animation)?i:this.getComponent(l);null!=n&&("portrait"===t?this.portraitClipName.length>0&&n.play(this.portraitClipName):this.landscapeClipName.length>0&&n.play(this.landscapeClipName))},o(i,[{key:"portrait",get:function(){return this._portrait},set:function(t){}}]),i}(c)).prototype,"animation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(b.prototype,"landscapeClipName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"landscape"}}),N=i(b.prototype,"portraitClipName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"portrait"}}),i(b.prototype,"portrait",[C],Object.getOwnPropertyDescriptor(b.prototype,"portrait"),b.prototype),g=b))||g)||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol43.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"5ffc1HAsa9KSIh/13wFWKAQ","Protocol",void 0);var i=t("Protocol",(function(){}));i.LOGIN="login",i.LOGOUT="logout",i.USERINFO="userinfo",i.USER_KICK="user_kick",i.ERRORCODE="errorcode",i.MARQUEE="marquee",i.TIPS="tips",i.DEBUG_LOGIN="debug_login",i.MARK="mark",i.SLOT_INFO="slot_info",i.GM_SLOT="gm_slot",i.SLOT_BET="slot",i.ANTE_SLOT_BET="anta_slot",i.LAST_MAP="last_map",i.BUY_FREE_SPINS="buy_free",i.CONSUME_PAGE="free_spin";t("OneFreeData",(function(){this.one=[]})),t("MapData",(function(){this.map=[],this.icons=[],this.score=0,this.multiple=0,this.add=0,this.top_change=[]})),t("LineData",(function(){this.num=0,this.icon=0,this.add=0}));o._RF.pop()}}}));

System.register("chunks:///_virtual/Reel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData42.ts","./AudioHelper11.ts","./SymbolNodePool11.ts","./Display13.ts","./Lightning.ts","./Lock11.ts","./Symbol11.ts","./SymbolMultiplier.ts"],(function(t){var i,e,o,n,r,s,l,a,c,u,h,_,S,E,f,p,m,L,d,R,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,l=t._decorator,a=t.UITransform,c=t.Node,u=t.Tween,h=t.v3,_=t.Vec3},function(t){S=t.SubGameData},function(t){E=t.AudioHelper},function(t){f=t.SymbolNodePool},function(t){p=t.Display},function(t){m=t.Lightning},function(t){L=t.Lock},function(t){d=t.Symbol,R=t.ESymbolState},function(t){y=t.SymbolMultiplier}],execute:function(){var I,D,b,v,g,T,A,N,k,M,O,B,U,C,x,P,Y,H;s._RF.push({},"078d8xTgCtLdKSXZivnAZou","Reel",void 0);var G=l.ccclass,w=l.menu,z=l.property,Z=function(t){return t[t.IDLE=0]="IDLE",t[t.CLEARING=1]="CLEARING",t[t.PRODUCING=2]="PRODUCING",t[t.REPLENISHING=3]="REPLENISHING",t[t.TUMBLING=4]="TUMBLING",t}(Z||{});t("Reel",(I=G("Reel"),D=w(S.module+"/display/Reel"),b=z(a),v=z(c),g=z(c),T=z(L),A=z(m),N=z(c),k=z({visible:!0}),I(M=D((B=i((O=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,o(i,"maskUITransform",B,n(i)),o(i,"normalSymbolsRoot",U,n(i)),o(i,"scatterSymbolsRoot",C,n(i)),o(i,"lockDisplay",x,n(i)),o(i,"lightningDisplay",P,n(i)),o(i,"externalTumblesRootNode",Y,n(i)),o(i,"_index",H,n(i)),i._state=Z.IDLE,i._spinStartTime=0,i._currentMultiplierCount=0,i}e(i,t);var s=i.prototype;return s.reset=function(t,i){this.stopAllDisplays(),this._state=Z.IDLE,this._spinStartTime=0,this._currentMultiplierCount=0,this._moveLockToBottom(),u.stopAllByTarget(this.node),this.lockDisplay.refreshLockNumber(i,!1,!0),i<=0?this.lockDisplay.unlock(!1):this.lockDisplay.lock(!1),[this.normalSymbolsRoot,this.scatterSymbolsRoot].forEach((function(t){return t.removeAllChildren()}));for(var e=t.length-1;e>=0;e--){var o=t[e];this._createSymbol(o,e,h(0,this._getPositionYByIndex(e),0))}this.lightningDisplay.clear()},s.spinStart=function(){if(this._state===Z.IDLE){this._state=Z.CLEARING,this._spinStartTime=Date.now(),this._currentMultiplierCount=0,this._moveLockToTop();var t=S.CLEAR_INTERVAL_BETWEEN_ADJACENT_REELS*this._index,i=S.FALL_INTERVAL_BETWEEN_ADJACENT_SYMBOLS;(S.turboSpin||S.quickSpin)&&(t=0,i=0),[this.normalSymbolsRoot,this.scatterSymbolsRoot].forEach((function(e){e.children.forEach((function(e){var o=e.getComponent(d);if(o){var n=e.position.clone(),r=h(n.x,n.y-S.REEL_HEIGHT,0),s=t+o.index*i;o.exit({from:n,to:r,startDelay:s,callback:function(){return f.instance.push(e)}})}}))}))}},s.spinStop=function(t,i,e){var o=this;if(this._state===Z.CLEARING){this.startDisplay(),this._state=Z.PRODUCING;var n=.001*(Date.now()-this._spinStartTime),r=Math.max(0,(e?.866667:.8)-n),s=S.PRODUCE_INTERVAL_BETWEEN_ADJACENT_REELS*this._index,l=S.FALL_INTERVAL_BETWEEN_ADJACENT_SYMBOLS,a=S.AUDIO_URLS.SE_SYMBOL_LAND_IN_ORDER,c=void 0;if(i+S.REELS_NUMBER-this._index>=4)switch(i){case 0:c=S.AUDIO_URLS.SE_SCATTER_APPEAR_ONCE;break;case 1:c=S.AUDIO_URLS.SE_SCATTER_APPEAR_TWICE;break;default:c=S.AUDIO_URLS.SE_SCATTER_APPEAR_THRICE}(S.turboSpin||S.quickSpin)&&(r=Math.max(0,(e?.8:.416667)-n),s=0,l=0,a=S.AUDIO_URLS.SE_SYMBOL_LAND_AT_THE_SAME_TIME),0!==this._index&&(a=void 0);for(var u=function(){o._state=Z.IDLE,o._moveLockToBottom(),o.endDisplay()},_=t.length-1;_>=0;_--){var E,f=t[_],p=this._getPositionYByIndex(_),m=this._createSymbol(f,_,h(0,p,0));if(m){var L=h(0,p+S.SYMBOL_SIZE.height*S.SYMBOLS_NUMBER_IN_REEL,0),R=h(0,p,0),y=r+s+_*l,I=_===t.length-1?u:void 0,D=0===_?a:void 0,b=f===S.SCATTER_SYMBOL_ID?c:void 0;null==(E=m.getComponent(d))||E.enter({from:L,to:R,startDelay:y,callback:I},{onLanded:D,scatterOnLanded:b})}}var v=.3+Math.max(0,(S.quickSpin?.316667:.416667)-n);this._currentMultiplierCount=0,this._thunder(t,v)}},s.replenish=function(t,i){var e=this;if(this._state!==Z.IDLE)return!1;var o=this.normalSymbolsRoot.children.concat(this.scatterSymbolsRoot.children).sort((function(t,i){var e,o,n,r;return(null!=(e=null==(o=t.getComponent(d))?void 0:o.index)?e:-999)-(null!=(n=null==(r=i.getComponent(d))?void 0:r.index)?n:-999)})),n=function(){e._state=Z.IDLE,e._moveLockToBottom(),e.endDisplay()},r=0,s=!1,l=0;return t.forEach((function(a,c){var u=e._getPositionYByIndex(c),_=o[c];if(_){_.setSiblingIndex(0);var E=_.getComponent(d);if(!E)return;if(E.index<=c)return E.index=c,void _.setPosition(0,u,0);var f=l;l=Math.max(l,E.index-c),E.index=c;var p=_.position.clone(),m=h(0,u,0),L=c===t.length-1?n:void 0;E.replenish({from:p,to:m,startDelay:i+r,callback:L},{onLanded:i<=0&&f<=0?S.AUDIO_URLS.SE_SYMBOL_REPLENISH:void 0},!1)}else{var R=l;if(l=Math.max(l,t.length-c),!(_=e._createSymbol(a,c,h(0,u+S.SYMBOL_SIZE.height*l,0))))return;_.setSiblingIndex(0);var y=_.getComponent(d);if(!y)return;var I=_.position.clone(),D=h(0,u,0),b=c===t.length-1?n:void 0;y.replenish({from:I,to:D,startDelay:i+r,callback:b},{onLanded:i<=0&&R<=0?S.AUDIO_URLS.SE_SYMBOL_REPLENISH:void 0,scatterOnLanded:a===S.SCATTER_SYMBOL_ID?S.AUDIO_URLS.SE_SCATTER_APPEAR_THRICE:void 0},a===S.SCATTER_SYMBOL_ID)}r+=S.FALL_INTERVAL_BETWEEN_ADJACENT_SYMBOLS,s=!0})),s&&(this.startDisplay(),this._state=Z.REPLENISHING,this._moveLockToTop()),this._thunder(t,.3),s},s.tumble=function(t,i,e){var o=this,n=!1;this.normalSymbolsRoot.children.concat(this.scatterSymbolsRoot.children).forEach((function(i){var r=i.getComponent(d);if(r&&t.has(r.symbolID)){var s=S.getSymbolHighlightSoundEffectURL(r.symbolID),l=n?void 0:function(){o._state=Z.IDLE,o.endDisplay()},a=r.node.parent;r.node.setParent(o.externalTumblesRootNode,!0),r.tumble({onHighlight:e.get(s)?void 0:s,onExplode:e.get(S.AUDIO_URLS.SE_SYMBOL_EXPLORE)?void 0:S.AUDIO_URLS.SE_SYMBOL_EXPLORE},(function(t){t.explosive?f.instance.push(t.node):t.node.parent!==a&&t.node.setParent(a,!0),null==l||l()})),n=!0,e.set(s,!0),r.explosive&&e.set(S.AUDIO_URLS.SE_SYMBOL_EXPLORE,!0)}})),n&&(this.startDisplay(),this._state=Z.TUMBLING),this.lockDisplay.refreshLockNumber(i,!0)},s.highlightScatters=function(){var t=this,i=!1;this.scatterSymbolsRoot.children.forEach((function(e){var o=e.getComponent(d);o&&(o.highlight(i?void 0:function(){return t.endDisplay()}),i=!0)})),i&&this.startDisplay()},s.thunderOnLock=function(){++this._currentMultiplierCount,this.lightningDisplay.struck([S.SYMBOLS_NUMBER_IN_REEL-1],.3)},s.lock=function(t,i){this.lockDisplay.locked?this.lockDisplay.refreshLockNumber(t,!1,!1):(this.lockDisplay.lock(i,(function(i){return i.refreshLockNumber(t,!1,!1)})),i||this.lockDisplay.refreshLockNumber(t,!1,!1))},s.unlock=function(t){var i=this;if(this.lockDisplay.locked){this._moveLockToTop();var e=S.SYMBOLS_NUMBER_IN_REEL-1,o=this._createSymbol(t,e,h(0,S.SYMBOL_SIZE.height*(e+.5)));null==o||o.setSiblingIndex(0),this.lockDisplay.unlock(!0,(function(){return i._moveLockToBottom()}))}},s.highlightMultipliers=function(t){var i=this,e=!1;return this.normalSymbolsRoot.children.forEach((function(t){var o=t.getComponent(y);if(o){var n=e?void 0:function(){i.endDisplay()};o.tumble({},n),e=!0}})),e&&(t||E.instance.playSoundEffect(S.getSymbolHighlightSoundEffectURL(S.MULTIPLILER_INTERNAL_SYMBOL_ID)),this.startDisplay()),e},s.hitScatters=function(t){var i=this,e=!1;return this.scatterSymbolsRoot.children.forEach((function(t){var o=t.getComponent(d);if(o&&10===o.symbolID){var n=e?void 0:function(){i.endDisplay()};o.tumble({},n),e=!0}})),e&&(t||E.instance.playSoundEffect(S.getSymbolHighlightSoundEffectURL(S.SCATTER_SYMBOL_ID)),this.startDisplay()),e},s.speedUpSpin=function(t){var i=this;if(this._state===Z.PRODUCING){var e=[],o=S.SYMBOLS_NUMBER_IN_REEL-(this.lockDisplay.locked?1:0);[this.normalSymbolsRoot,this.scatterSymbolsRoot].forEach((function(n){n.children.forEach((function(n){var r=n.getComponent(d);if(r)if(r.state===R.EXITING||r.state===R.ABSENT)e.push(r.node);else{var s=null;i._index===S.REELS_NUMBER-1&&r.index===o-1&&(s=S.AUDIO_URLS.SE_SYMBOL_LAND_AT_THE_SAME_TIME,E.instance.stopEffect(S.AUDIO_URLS.SE_SYMBOL_LAND_IN_ORDER));var l=t;null!=t&&(l=t+r.index*S.SYMBOL_SIZE.height),r.speedUpEntering(s,l)}}))})),e.forEach((function(t){return f.instance.push(t)}))}},s.getPositionYOfFirstSymbol=function(){for(var t=0,i=[this.normalSymbolsRoot,this.scatterSymbolsRoot];t<i.length;t++)for(var e,o=r(i[t].children);!(e=o()).done;){var n=e.value,s=n.getComponent(d);if(s&&0===s.index&&s.state!==R.ABSENT&&s.state!==R.EXITING)return n.position.y}},s._moveLockToTop=function(){this.maskUITransform.setContentSize(this.maskUITransform.contentSize.width,S.REEL_HEIGHT),this.lockDisplay.node.setSiblingIndex(1)},s._moveLockToBottom=function(){this.maskUITransform.setContentSize(this.maskUITransform.contentSize.width,2*S.REEL_HEIGHT),this.lockDisplay.node.setSiblingIndex(0)},s._thunder=function(t,i){var e=[];t.forEach((function(t,i){S.getMultiple(t)>1&&e.push(i)}));var o=this._currentMultiplierCount;this._currentMultiplierCount=e.length,this.lightningDisplay.struck(e.slice(o),i)},s._createSymbol=function(t,i,e){var o=f.instance.pop(t);if(!o)return null;o.setPosition(null!=e?e:_.ZERO.clone()),o.setParent(this._getSymbolsRoot(t));var n=o.getComponent(d);return n&&(n.index=i),o},s._getSymbolsRoot=function(t){return t===S.SCATTER_SYMBOL_ID?this.scatterSymbolsRoot:this.normalSymbolsRoot},s._getPositionYByIndex=function(t){return S.SYMBOL_SIZE.height*(t+.5)},i}(p)).prototype,"maskUITransform",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(O.prototype,"normalSymbolsRoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(O.prototype,"scatterSymbolsRoot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(O.prototype,"lockDisplay",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(O.prototype,"lightningDisplay",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(O.prototype,"externalTumblesRootNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(O.prototype,"_index",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),M=O))||M)||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/Score.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./NumberCurrency.ts","./SubGameData42.ts","./AudioHelper11.ts","./Display13.ts"],(function(e){var t,i,r,n,o,a,l,s,u,c,p,y,m,d,b,h,f,N,g,L,C,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.v3,s=e.UIOpacity,u=e.Layout,c=e.Label,p=e.Node,y=e.Tween,m=e.tween,d=e.math,b=e.Vec3,h=e.easing},function(e){f=e.CommonEvent},function(e){N=e.NumberCurrency},function(e){g=e.SubGameData},function(e){L=e.AudioHelper},function(e){C=e.DisplayTaskManager,_=e.Display}],execute:function(){var A,I,v,S,O,D,M,T,F,G,E,P,H,B,x,w,z,U;o._RF.push({},"a83c44AaitKroO4UmPPIjDF","Score",void 0);var k=a.ccclass,W=a.menu,R=a.property,V=function(e){return e[e.IDLE=0]="IDLE",e[e.HIGHLIGHTING=1]="HIGHLIGHTING",e[e.MOVING=2]="MOVING",e[e.COMBINING=3]="COMBINING",e}(V||{}),j=l(.8,.8,1),Z=l(.75,.75,1),K=l(-527,310,0),Y=l(-278,440,0),q=l(272,402,0);e("Score",(A=k("Score"),I=W(g.module+"/display/Score"),v=R(s),S=R(N),O=R(u),D=R(N),M=R(c),T=R(c),F=R(p),A(G=I((P=t((E=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"uiOpacity",P,n(t)),r(t,"scoreNumberCurrency",H,n(t)),r(t,"layout",B,n(t)),r(t,"scoreForAnimationNumberCurrency",x,n(t)),r(t,"signLabel",w,n(t)),r(t,"multiplierLabel",z,n(t)),r(t,"externalMultiplierNode",U,n(t)),t._score=0,t._freeMode=!1,t._multiplierState=V.IDLE,t}i(t,e);var o=t.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),C.addHandler(this),this.onD(f.SWITCH_SCREEN,this._onOrientationChange),this.uiOpacity.opacity=0,this.scoreNumberCurrency.node.parent.active=!1,this.scoreNumberCurrency.updateNumber(0),this.layout.enabled=!1,this.scoreForAnimationNumberCurrency.node.parent.active=!1,this.scoreForAnimationNumberCurrency.updateNumber(0),this.signLabel.string="",this.multiplierLabel.string=""},o.onTaskInit=function(e,t){this.stopAllDisplays(),this._score=0,this._freeMode=!1,this._multiplierState=V.IDLE,y.stopAllByTarget(this.node),this._refreshNode(),y.stopAllByTarget(this.uiOpacity),this.uiOpacity.opacity=0,this.scoreNumberCurrency.node.parent.active=!1,this.scoreNumberCurrency.updateNumber(0),this.scoreForAnimationNumberCurrency.node.parent.active=!1,this.scoreForAnimationNumberCurrency.updateNumber(0),this.signLabel.string="",y.stopAllByTarget(this.multiplierLabel.node),this.multiplierLabel.string=""},o.onTaskRestore=function(e,t){this.stopAllDisplays(),this._score=0,this._freeMode="entered"===t.freeModeStatus,this._multiplierState=V.IDLE,y.stopAllByTarget(this.node),this._refreshNode(),y.stopAllByTarget(this.uiOpacity),this.uiOpacity.opacity=0,this.scoreNumberCurrency.node.parent.active=!1,this.scoreNumberCurrency.updateNumber(0),this.scoreForAnimationNumberCurrency.node.parent.active=!1,this.scoreForAnimationNumberCurrency.updateNumber(0),this.signLabel.string="",y.stopAllByTarget(this.multiplierLabel.node),this.multiplierLabel.string=""},o.onTaskSpinStart=function(e,t){var i=this;this._score=0,this.scoreNumberCurrency.updateNumber(0),this.scoreNumberCurrency.node.parent.active=!1,this.scoreForAnimationNumberCurrency.updateNumber(0),this.scoreForAnimationNumberCurrency.node.parent.active=!1,this.signLabel.string="",this.multiplierLabel.string="",this.uiOpacity.opacity<=0||(this.startDisplay(),y.stopAllByTarget(this.uiOpacity),m(this.uiOpacity).to(.133333,{opacity:0}).call((function(){return i.endDisplay()})).start())},o.onTaskTumble=function(e,t){var i=this;t.tumblesMap.forEach((function(e){return i._score+=e.score})),this.startDisplay(),y.stopAllByTarget(this.node),m(this.node).delay(g.turboSpin?.083333:1.5).call((function(){i.scoreNumberCurrency.node.parent.active=!0,i.scoreNumberCurrency.updateNumber(i._score),i.endDisplay(),i.uiOpacity.opacity>=255||(i.startDisplay(),i._refreshNode(),y.stopAllByTarget(i.uiOpacity),m(i.uiOpacity).to(.133333,{opacity:255}).call((function(){return i.endDisplay()})).start())})).start()},o.onTaskMultiply=function(e,t){var i=this;if(!(t.totalScore<=0)){this.startDisplay();var r=this._score;this._score=t.totalScore,this._multiplierState=V.HIGHLIGHTING;var n=0;y.stopAllByTarget(this.multiplierLabel.node),m(this.multiplierLabel.node).delay(t.multiplierDatas.length>0?1.483333:0).call((function(){L.instance.playSoundEffect(g.AUDIO_URLS.SE_MULTIPLY),i.layout.enabled=!1,i.signLabel.string="";var e=i._getExternalMultiplierWorldPosition();i.multiplierLabel.node.setWorldPosition(e.x,e.y,0),i.multiplierLabel.node.setScale(1,1,1),i.multiplierLabel.string=t.multiple+"",i.scoreForAnimationNumberCurrency.node.parent.active=!0,i.scoreForAnimationNumberCurrency.updateNumber(r),i.scoreForAnimationNumberCurrency.node.parent.setPosition(0,0,0),i.scoreNumberCurrency.node.parent.active=!1,i.scoreNumberCurrency.updateNumber(i._score)})).to(.25,{scale:l(3,3,1)},{easing:"sineOut"}).to(.25,{scale:l(1.5,1.5,1)},{easing:"sineIn"}).call((function(){return i._multiplierState=V.MOVING})).to(.483333,{},{onUpdate:function(e,t){if(null!=t){var r=i._getExternalMultiplierWorldPosition(),n=i.multiplierLabel.node.parent.worldPosition,o=d.lerp(r.x,n.x,t),a=d.lerp(r.y,n.y,t);i.multiplierLabel.node.setWorldPosition(o,a,0)}},onComplete:function(e){return i.multiplierLabel.node.setPosition(b.ZERO)}}).call((function(){i._multiplierState=V.COMBINING,i.signLabel.string="",i.multiplierLabel.string=""+t.multiple,i.multiplierLabel.node.setScale(1.5,1.5,1),i.layout.enabled=!0,i.layout.updateLayout()})).to(.25,{scale:l(2.5,2.5,1)},{easing:"sineOut"}).to(.25,{scale:l(.9,.9,1)},{easing:"sineIn"}).call((function(){return i.layout.enabled=!1})).to(.4,{position:l(0,0,0)},{onStart:function(){return n=i.scoreForAnimationNumberCurrency.node.parent.position.x},onUpdate:function(e,t){null!=t&&(i.scoreForAnimationNumberCurrency.node.parent.setPosition(d.lerp(n,0,t),0,0),t>=.25&&(i.signLabel.string=""))},onComplete:function(){i.scoreForAnimationNumberCurrency.updateNumber(i._score),i.signLabel.string="",i.multiplierLabel.string=""}}).to(.25,{},{onUpdate:function(e,t){if(null!=t){var r=d.lerp(1,2,h.sineOut(t));i.scoreForAnimationNumberCurrency.node.parent.setScale(r,r,1)}}}).to(.25,{},{onUpdate:function(e,t){if(null!=t){var r=d.lerp(2,1,h.sineIn(t));i.scoreForAnimationNumberCurrency.node.parent.setScale(r,r,1)}},onComplete:function(){i.scoreForAnimationNumberCurrency.node.parent.active=!1,i.scoreNumberCurrency.node.parent.active=!0}}).delay(.5).call((function(){i._multiplierState=V.IDLE,i.endDisplay()})).start()}},o.onTaskTransit=function(e,t){var i=this;this.uiOpacity.opacity<=0?this._freeMode="enterFreeMode"===t.type:(this.startDisplay(),y.stopAllByTarget(this.uiOpacity),m(this.uiOpacity).to(.15,{opacity:0}).call((function(){i._freeMode="enterFreeMode"===t.type,i._refreshNode(),i.endDisplay()})).start())},o._refreshNode=function(e){var t;"portrait"===(e=null!=(t=e)?t:App.utils.getOrientation())?(this.node.setScale(Z),this.node.setPosition(this._freeMode?q:Y)):(this.node.setScale(j),this.node.setPosition(K))},o._getExternalMultiplierWorldPosition=function(){return this.externalMultiplierNode.isValid?this.externalMultiplierNode.worldPosition:b.ZERO},o._onOrientationChange=function(e){if(this._refreshNode(e),this._multiplierState===V.HIGHLIGHTING){var t=this._getExternalMultiplierWorldPosition();this.multiplierLabel.node.setWorldPosition(t.x,t.y,0)}},t}(_)).prototype,"uiOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(E.prototype,"scoreNumberCurrency",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(E.prototype,"layout",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(E.prototype,"scoreForAnimationNumberCurrency",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(E.prototype,"signLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(E.prototype,"multiplierLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(E.prototype,"externalMultiplierNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=E))||G)||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/Shrinker10.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData42.ts"],(function(e){var t,i,r,n,h,a,o,s,c,S,l,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,h=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.Size,c=e.Node,S=e.UITransform,l=e.Component,p=e.size},function(e){u=e.SubGameData}],execute:function(){var m,z,f,d,x,_,g,y;a._RF.push({},"9a1dcLkAHpOcomM5XOAqUmO","Shrinker",void 0);var v=o.ccclass,w=o.executeInEditMode,b=o.menu,D=o.property;e("Shrinker",(m=v("Shrinker"),z=b(u.module+"/components/Shrinker"),f=w(!0),d=D(s),x=D({serializable:!0}),m(_=z(_=f((t((g=function(e){function t(){for(var t,i=arguments.length,h=new Array(i),a=0;a<i;a++)h[a]=arguments[a];return t=e.call.apply(e,[this].concat(h))||this,r(t,"_maxSize",y,n(t)),t}i(t,e);var a=t.prototype;return a.onEnable=function(){this.node.on(c.EventType.SIZE_CHANGED,this._refreshScale,this),this._refreshScale()},a.onDisable=function(){this.node.off(c.EventType.SIZE_CHANGED,this._refreshScale,this)},a._refreshScale=function(){var e=this.getComponent(S);if(e){var t=1;this.maxSize.width>0&&e.contentSize.width>this.maxSize.width&&(t=this.maxSize.width/e.contentSize.width);var i=1;this.maxSize.height>0&&e.contentSize.height>this.maxSize.height&&(i=this.maxSize.height/e.contentSize.height);var r=Math.min(t,i);this.node.setScale(r,r,1)}},h(t,[{key:"maxSize",get:function(){return this._maxSize},set:function(e){e.width===this._maxSize.width&&e.height===this._maxSize.height||(this._maxSize.width=e.width,this._maxSize.height=e.height,this._refreshScale())}}]),t}(l)).prototype,"maxSize",[d],Object.getOwnPropertyDescriptor(g.prototype,"maxSize"),g.prototype),y=t(g.prototype,"_maxSize",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p(0,0)}}),_=g))||_)||_)||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/Slot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./CommonEvent.ts","./SubGameData42.ts","./SubGameDefines43.ts","./SymbolNodePool11.ts","./Display13.ts","./Reel.ts"],(function(t){var e,n,o,i,s,r,l,u,a,c,h,p,f,S,m,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy,l=t._decorator,u=t.Node,a=t.sp},function(t){c=t.default},function(t){h=t.CommonEvent},function(t){p=t.SubGameData},function(t){f=t.common},function(t){S=t.SymbolNodePool},function(t){m=t.DisplayTaskManager},function(t){d=t.Reel}],execute:function(){var E,b,g,v,y,T,_,L,k,R,N,C;r._RF.push({},"cfd19EDv39AnaDd79IeECZE","Slot",void 0);var I=l.ccclass,D=l.menu,M=l.property;t("Slot",(E=I("Slot"),b=D(p.module+"/display/Slot"),g=M(u),v=M([d]),y=M(u),T=M(a.Skeleton),E(_=b((k=e((L=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"reelsRootNode",k,i(e)),o(e,"reelsList",R,i(e)),o(e,"tumblesRootNode",N,i(e)),o(e,"highlightSkeleton",C,i(e)),e._manualStopSpining=!1,e._tumbleCombos=0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),m.addHandler(this),this.reelsRootNode.on(u.EventType.TOUCH_END,this._onSlotTouchEnd,this),this.highlightSkeleton.node.active=!1},r.onDestroy=function(){this.reelsRootNode.isValid&&this.reelsRootNode.off(u.EventType.TOUCH_END,this._onSlotTouchEnd,this),t.prototype.onDestroy.call(this)},r.onTaskInit=function(t,e){this._manualStopSpining=!1,this._tumbleCombos=0,this.reelsList.forEach((function(t,n){var o,i;return t.reset(null!=(o=e.symbolsGroups[n])?o:[],null!=(i=p.INITIAL_LOCK_NUMBERS[n])?i:0)})),this.tumblesRootNode.children.slice().forEach((function(t){return S.instance.push(t)})),this.highlightSkeleton.node.active=!1},r.onTaskRestore=function(t,e){this._manualStopSpining=!1,this._tumbleCombos=0,this.reelsList.forEach((function(t,n){var o,i;return t.reset(null!=(o=e.symbolsGroups[n])?o:[],null!=(i=e.locks[n])?i:0)})),this.tumblesRootNode.children.slice().forEach((function(t){return S.instance.push(t)})),this.highlightSkeleton.node.active=!1},r.onTaskSpinStart=function(t,e){var n;(this._manualStopSpining=!1,this._tumbleCombos=0,e.resetLocks&&this.reelsList.forEach((function(t,e){var n;return t.lock(null!=(n=p.INITIAL_LOCK_NUMBERS[e])?n:0,!0)})),this.reelsList.forEach((function(t){return t.spinStart()})),this.highlightSkeleton.node.active=!1,e.spinType===f.ESpinType.FREE)&&(null==(n=p.spinRequestor)||n.request(f.ESpinRequestType.CONSUME_PAGE))},r.onTaskSpinStop=function(t,e){var n=e.symbolsGroups.some((function(t){return t.some((function(t){return p.getMultiple(t)>1}))})),o=0;if(this.reelsList.forEach((function(t,i){var s,r=null!=(s=e.symbolsGroups[i])?s:[];t.spinStop(r,o,n),r.some((function(t){return t===p.SCATTER_SYMBOL_ID}))&&++o})),this._manualStopSpining){var i=this.reelsList[0].getPositionYOfFirstSymbol();this.reelsList.forEach((function(t){return t.speedUpSpin(i)}))}},r.onTaskReplenish=function(t,e){var n=0;this.reelsList.forEach((function(t,o){var i;t.replenish(null!=(i=e.symbolsGroups[o])?i:[],n)&&(n+=p.REPLENISH_INTERVAL_BETWEEN_ADJACENT_REELS)}))},r.onTaskTumble=function(t,e){for(var n,o=s(e.tumblesMap);!(n=o()).done;){if(n.value[1].symbolID!==p.SCATTER_SYMBOL_ID){var i;null==(i=p.spinRequestor)||i.request(f.ESpinRequestType.CONSUME_PAGE),3==++this._tumbleCombos&&(this.highlightSkeleton.node.active=!0,this.highlightSkeleton.setAnimation(0,"ani_hor",!0));break}}var r=new Map;this.reelsList.forEach((function(t,n){var o;return t.tumble(e.tumblesMap,null!=(o=e.locks[n])?o:0,r)}))},r.onTaskHighlightScatters=function(t,e){this.reelsList.forEach((function(t){return t.highlightScatters()}))},r.onTaskThunderOnLock=function(t,e){var n=this.reelsList[e.index];n&&n.thunderOnLock()},r.onTaskUnlock=function(t,e){var n=this.reelsList[e.index];n&&n.unlock(e.unlockedSymbolID)},r.onTaskMultiply=function(t,e){var n=!1;this.reelsList.forEach((function(t){var e=t.highlightMultipliers(n);n=n||e}))},r.onTaskHitScattersInFreeMode=function(t,e){var n=!1;this.reelsList.forEach((function(t){var e=t.hitScatters(n);n=n||e}))},r.onTaskPay=function(t,e){this.highlightSkeleton.node.active=!1},r.onTaskManualStop=function(t,e){if(!this._manualStopSpining){this._manualStopSpining=!0;var n=this.reelsList[0].getPositionYOfFirstSymbol();this.reelsList.forEach((function(t){return t.speedUpSpin(n)}))}},r._onSlotTouchEnd=function(){dispatch(h.NOTIFY_CLICK_SPIN)},e}(c)).prototype,"reelsRootNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(L.prototype,"reelsList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(L.prototype,"tumblesRootNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(L.prototype,"highlightSkeleton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=L))||_)||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/slot390000507",["./GameEntry42.ts","./GameLogic43.ts","./AutoFittableBackground11.ts","./ExBannerContentProvider28.ts","./OrientationAdapter.ts","./Shrinker10.ts","./SubGameData42.ts","./SubGameDefines43.ts","./SubGameLanguage43.ts","./DebugVersion11.ts","./AnteBet.ts","./Avatar.ts","./Background.ts","./BigWin2.ts","./BubbleItemLayer.ts","./BubbleLayer.ts","./Buy.ts","./Confirmation.ts","./Controller.ts","./Defines12.ts","./Display13.ts","./EntranceLayer.ts","./FreeMode.ts","./FreeTimes4.ts","./Lightning.ts","./Lock11.ts","./Multiplier3.ts","./Reel.ts","./Score.ts","./Slot.ts","./Symbol11.ts","./SymbolMultiplier.ts","./Transition.ts","./TumbleItemLayer.ts","./TumbleLayer.ts","./AudioHelper11.ts","./LoadingHelper11.ts","./GameHandler42.ts","./GameSender42.ts","./Protocol43.ts","./SymbolNodePool11.ts","./IntroView11.ts","./LoadingView20.ts","./SlotView.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SlotView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceLoader.ts","./GameView.ts","./Decorators.ts","./Global.ts","./CommonEvent.ts","./GameService.ts","./SubGameData42.ts","./SubGameDefines43.ts","./Display13.ts","./AudioHelper11.ts","./LoadingHelper11.ts","./GameSender42.ts","./Protocol43.ts"],(function(e){var t,a,n,s,i,r,o,l,c,u,d,p,_,h,S,f,b,E,T,m,y,R,k,g,v,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,i=e.regeneratorRuntime,r=e.createForOfIteratorHelperLoose,o=e.createClass},function(e){l=e.cclegacy,c=e._decorator,u=e.Node,d=e.sys,p=e.AudioClip,_=e.math},function(e){h=e.default},function(e){S=e.default},function(e){f=e.inject},function(e){b=e.Global},function(e){E=e.CommonEvent},function(e){T=e.GameService},function(e){m=e.SubGameData},function(e){y=e.common},function(e){R=e.DisplayTaskManager},function(e){k=e.AudioHelper},function(e){g=e.LoadingHelper},function(e){v=e.GameSender},function(e){N=e.Protocol}],execute:function(){var M,L,I,B,D,F,O,A,C,w,x,G;l._RF.push({},"4fde90gq+NJzZUkcNkbwUXF","SlotView",void 0);for(var P=c.ccclass,H=c.menu,U=(c.property,new Array(63)),Y=1;Y<10;Y++)U.fill(Y,7*(Y-1),7*Y);e("SlotView",(M=P("SlotView"),L=H(m.module+"/views/SlotView"),I=f("bg",u),B=f("Mask/NodeResolutionFitter",u),D=f("Mask/NodeResolutionFitter/AvatarLayer",u),F=f("Mask/NodeBubbleScoresRoot",u),M(O=L((C=t((A=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,n(t,"_bgNode",C,s(t)),n(t,"_resolutionFitterNode",w,s(t)),n(t,"_avatarLayerNode",x,s(t)),n(t,"_bubbleScoreRootNode",G,s(t)),t._spinResultsCacheList=[],t._spinResultHandler=null,t}a(t,e),t.getPrefabUrl=function(){return"prefabs/views/SlotView"};var l=t.prototype;return l.onLoad=function(){var t;null==(t=e.prototype.onLoad)||t.call(this),this._loadResources(),m.spinRequestor=this,this._bgNode.active=!d.isMobile},l.onDestroy=function(){this.isValid&&(this._offS(N.SLOT_BET),this._offS(N.CONSUME_PAGE),this._offS(N.LAST_MAP)),g.instance.hide(),e.prototype.onDestroy.call(this)},l.start=function(){dispatch(E.NOTIFY_ENTER_GAME),k.instance.audioImpl=this.audioHelper,this._onOrientationChange(App.utils.getOrientation()),b.playback?this._handlePlayBackData(!0):this._handleInitialData(!1)},l.addEvents=function(){e.prototype.addEvents.call(this),this.onD(E.GAME_SERVICE_CLOSE,this._onConnectionClose),this.onD(E.SWITCH_SCREEN,this._onOrientationChange),this.onD(E.DISPATCH_PLAYBACK,this._onPlayBack),this._onS(N.SLOT_BET,this._onSlotBetRespond),this._onS(N.CONSUME_PAGE,this._onConsumePageRespond),this._onS(N.LAST_MAP,this._onLastMapRespond)},l.lateUpdate=function(e){R.runNextTask()},l.request=function(e,t){switch(b.playback||g.instance.show(2),e){case y.ESpinRequestType.GM_SPIN:R.addTask("spinStart",{spinType:y.ESpinType.BET,resetLocks:!0}),this._gameSender.c2sGMSlot({bet:m.totalBet,gm_type:t});break;case y.ESpinRequestType.ANTE_SPIN:R.addTask("spinStart",{spinType:y.ESpinType.BET,resetLocks:!0}),this._gameSender.c2sAnteSlotBet({bet:m.totalBet});break;case y.ESpinRequestType.BUY_FREE_SPINS:R.addTask("spinStart",{spinType:y.ESpinType.BOUGHT,resetLocks:!0}),this._gameSender.c2sBuyFreeSpins({bet:m.totalBet});break;case y.ESpinRequestType.CONSUME_PAGE:this._gameSender.c2sFreeSpin();break;default:R.addTask("spinStart",{spinType:y.ESpinType.BET,resetLocks:!0}),this._gameSender.c2sSlotBet({bet:m.totalBet})}},l._onS=function(e,t,a,n){void 0===n&&(n=!0),this._gameService.addListener(e,a,t,n,this)},l._offS=function(e){this._gameService.removeListeners(this,e)},l._loadResources=function(){var e=new h;e.getLoadResources=function(){var e=[];for(var t in m.AUDIO_URLS)t.startsWith("BGM_")||"SE_ENTRANCE"===t||e.push({url:m.AUDIO_URLS[t],type:p,bundle:m.module});return e},e.loadResources()},l._onSlotBetRespond=function(e){var t;g.instance.hide(),e&&e.message&&(this._spinResultsCacheList.push(e.message),this._spinResultHandler||this._handleNextData(),null==(t=m.spinRequestor)||t.request(y.ESpinRequestType.CONSUME_PAGE))},l._onConsumePageRespond=function(e){g.instance.hide(),e&&e.message&&this._handleNextData()},l._onLastMapRespond=function(e){g.instance.hide(),e&&e.message&&(m.lastMap=e.message,this._handleInitialData(!0))},l._handleNextData=function(){if(!this._spinResultHandler||this._spinResultHandler.next().done){this._spinResultHandler=null;var e=this._spinResultsCacheList.shift();null!=e&&(this._spinResultHandler=this._generateSpinResultHandler(e),this._spinResultHandler.next())}},l._generateSpinResultHandler=i().mark((function e(t){var a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.base.length>0)){e.next=15;break}return e.delegateYield(this._handleOneSpinResult(t.base,1===t.is_buy_free?y.ESpinType.BOUGHT:y.ESpinType.BET,t.free.length<=0),"t0",2);case 2:if(!(t.free.length>0)){e.next=15;break}R.addTask("enterFreeMode",{freeTimes:m.INITIAL_FREE_TIMES}),R.addTask("transit",{type:"enterFreeMode"}),a=0;case 6:if(!(a<t.free.length)){e.next=13;break}return R.addTask("spinStart",{spinType:y.ESpinType.FREE,resetLocks:0===a}),n=t.free[a],e.delegateYield(this._handleOneSpinResult(n.one,y.ESpinType.FREE,!1),"t1",10);case 10:a++,e.next=6;break;case 13:R.addTask("exitFreeMode",{totalScore:t.reward,freeTimes:t.free_times}),R.addTask("transit",{type:"exitFreeMode"});case 15:R.addTask("spinEnd",null),this._spinResultHandler=null;case 17:case"end":return e.stop()}}),e,this)})),l._generateInitialDataHandler=i().mark((function e(t,a){var n,s,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.base.length>0)){e.next=20;break}n=r(t.base);case 2:if((s=n()).done){e.next=8;break}return s.value,e.next=6,this.request(y.ESpinRequestType.CONSUME_PAGE);case 6:e.next=2;break;case 8:if(!(t.free.length>0)){e.next=20;break}"willEnter"===a&&(R.addTask("enterFreeMode",{freeTimes:m.INITIAL_FREE_TIMES}),R.addTask("transit",{type:"enterFreeMode"})),o=0;case 11:if(!(o<t.free.length)){e.next=18;break}return R.addTask("spinStart",{spinType:y.ESpinType.FREE,resetLocks:"entered"!==a&&0===o}),l=t.free[o],e.delegateYield(this._handleOneSpinResult(l.one,y.ESpinType.FREE,!1),"t0",15);case 15:o++,e.next=11;break;case 18:R.addTask("exitFreeMode",{totalScore:t.free.reduce((function(e,t){return e+t.one.reduce((function(e,t){return e+t.add}),0)}),0),freeTimes:t.free_times}),R.addTask("transit",{type:"exitFreeMode"});case 20:R.addTask("spinEnd",null),this._spinResultHandler=null;case 22:case"end":return e.stop()}}),e,this)})),l._handleOneSpinResult=i().mark((function e(t,a,n){var s,r,o,l,c,u,d,p,_,h,S,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=!1,l=a===y.ESpinType.FREE?void 0:m.balance,c=0;case 3:if(!(c<t.length)){e.next=12;break}if(b.playback){e.next=7;break}return void(e.next=7);case 7:u=t[c],o=this._handlePageData(u,0===c?"spin":"replenish",a,o,l);case 9:c++,e.next=3;break;case 12:d=t.reduce((function(e,t){return e+t.add}),0),p=null!=(s=null==(r=t[0])?void 0:r.multiple)?s:1,_=t[t.length-1],h=_?this._symbolsDataToSymbolsGroups(_.map,_.top_change):[],p>1&&(a===y.ESpinType.FREE||d>0)&&(S=[],h.forEach((function(e,t){e.forEach((function(e,a){var n=m.getMultiple(e);n<=1||S.push({multiple:n,column:t,row:a})}))})),R.addTask("multiply",{multiplierDatas:S,multiple:p,totalScore:d})),d>0&&(b.playback&&(m.balance=m.balance+d),R.addTask("bigWin",{totalScore:d})),R.addTask("pay",{freeMode:a===y.ESpinType.FREE,totalScore:d,balance:d>0&&n?m.balance:void 0}),a===y.ESpinType.FREE&&(f=this._calculateScattersNumber(h))>=3&&(3===f&&R.addTask("hitScattersInFreeMode",null),R.addTask("appendFreeTimes",{freeTimes:m.EXTRA_FREE_TIMES})),R.addTask("payComplete",{freeMode:a===y.ESpinType.FREE});case 21:case"end":return e.stop()}}),e,this)})),l._handlePageData=function(e,t,a,n,s){var i=!1,r=this._symbolsDataToSymbolsGroups(e.map,e.top_change);if("replenish"===t){var o=r.slice(),l=null;if(n)for(var c=m.REELS_NUMBER-1;c>=0;c--){var u;if(0===(null!=(u=e.top_change[c])?u:-1)){o[l=c]=o[l].slice(0,m.SYMBOLS_NUMBER_IN_REEL-1);break}}if(R.addTask("replenish",{symbolsGroups:o}),null!=l){var d=r[l][m.SYMBOLS_NUMBER_IN_REEL-1];m.getMultiple(d)>1&&R.addTask("thunderOnLock",{index:l}),R.addTask("unlock",{index:l,unlockedSymbolID:d})}}else R.addTask("spinStop",{spinType:a,symbolsGroups:r,balance:s}),R.addTask("spinComplete",null);if(e.icons.length>0){var p=new Map,_=new Map,h=!1;e.icons.forEach((function(e){p.set(e.icon,{symbolID:e.icon,number:e.num,score:e.add}),_.set(e.icon,[]),h=h||e.icon!==m.SCATTER_SYMBOL_ID})),r.forEach((function(e,t){e.forEach((function(e,a){_.has(e)&&_.get(e).push({column:t,row:a})}))}));var S={},f=m.CELL_WEIGHTS_FOR_TUMBLE_SCORE.map((function(e){return e.slice()}));_.forEach((function(e,t){var a=-999;e.forEach((function(e){var n=f[e.column][e.row];n>a&&(S[t]=e,a=n)}));var n=S[t];n&&(n.column>0&&--f[n.column-1][n.row],n.column<m.REELS_NUMBER-1&&--f[n.column+1][n.row])}));var b=e.top_change.slice();if(h)for(var E=0;E<b.length;E++)if(!(b[E]<=0)){--b[E],0===b[E]&&(i=!0);break}R.addTask("tumble",{tumblesMap:p,locks:b,bubbleScoresCoordinatesHash:S}),this._calculateScattersNumber(r)===(a===y.ESpinType.FREE?2:3)&&R.addTask("highlightScatters",null)}return i},l._handleInitialData=function(e){var t=m.lastMap;if(!t||t.base.length<=0&&t.free.length<=0)return R.clearTasks(),void R.runTask("init",{entrance:!e,symbolsGroups:m.INITIAL_SYMBOLS_GROUPS});m.totalBet=t.bet;var a="exited";t.free.length>0&&(a=t.free.length+1>t.free_times?"willEnter":"entered");var n=t.base.reduce((function(e,t){return e+t.add}),0),s=t.base[t.base.length-1],i=s&&"exited"!==a?this._symbolsDataToSymbolsGroups(s.map,s.top_change):m.INITIAL_SYMBOLS_GROUPS,r=s&&"exited"!==a?s.top_change:m.INITIAL_LOCK_NUMBERS,o=0,l=0,c=1;if("exited"!==a&&(l=t.win+n,"entered"===a)){var u=this._calculateScattersNumber(i);o=t.free_remain_times+(u>=3?m.EXTRA_FREE_TIMES:0),s&&(c=s.multiple)}R.clearTasks(),R.runTask("restore",{entrance:!e&&"entered"!==a,balance:m.balance+n,totalBet:m.totalBet,symbolsGroups:i,locks:r,buyFree:"willEnter"===a&&3===t.is_free,freeModeStatus:a,freeTimesRemaining:o,currentScoreInFreeMode:l,currentMultipleInFreeMode:c}),this._spinResultHandler=this._generateInitialDataHandler(t,a),this._handleNextData()},l._handlePlayBackData=function(e){var t;m.balance=b.playbackAllData.startScore*b.SCORE_EXCHANGE,m.totalBet=b.playbackData.bet*(null!=(t=b.playbackData.line_num)?t:1),e&&(R.clearTasks(),R.runTask("init",{entrance:!1,symbolsGroups:m.INITIAL_SYMBOLS_GROUPS})),dispatch(E.NOTIFY_USERINFO_SCORE,m.balance),dispatch(E.NOTIFY_PLAYBACK),m.balance-=b.playbackAllData.bet*b.SCORE_EXCHANGE;var a={base:b.playbackData.base,free:b.playbackData.free,reward:b.playbackData.reward,free_times:b.playbackData.free_times,is_buy_free:3===b.playbackData.is_free?1:0};this._onSlotBetRespond({message:a,type:N.SLOT_BET})},l._generateInitialSymbols=function(){for(var e=[[],[],[],[],[],[]],t=U.length,a=0;a<6;a++)for(var n=0;n<6;n++,t--){var s=_.randomRangeInt(0,t);e[a].push(U[s]);var i=[U[t-1],U[s]];U[s]=i[0],U[t-1]=i[1]}return e},l._symbolsDataToSymbolsGroups=function(e,t){for(var a=[],n=0;n<m.REELS_NUMBER;n++){var s,i=n*m.SYMBOLS_NUMBER_IN_REEL,r=(null!=(s=t[n])?s:0)>0?1:0;a[n]=e.slice(i+r,i+m.SYMBOLS_NUMBER_IN_REEL).reverse()}return a},l._calculateScattersNumber=function(e){return e.reduce((function(e,t){return t.reduce((function(e,t){return e+(t===m.SCATTER_SYMBOL_ID?1:0)}),e)}),0)},l._onConnectionClose=function(e){Log.d(e.module+" !"),R.clearTasks()},l._onOrientationChange=function(e){if("portrait"===e){var t=Math.min(b.real_screen_height,b.background_width),a=.5*(b.design_width-t);this._resolutionFitterNode.setPosition(0,a,0),this._bubbleScoreRootNode.setPosition(-333.059998,-369.48999+a,0),this._bubbleScoreRootNode.setScale(.854,.854,1),this._avatarLayerNode.setSiblingIndex(0)}else this._resolutionFitterNode.setPosition(0,0,0),this._bubbleScoreRootNode.setPosition(-390,-252,0),this._bubbleScoreRootNode.setScale(1,1,1),this._avatarLayerNode.setSiblingIndex(8)},l._onPlayBack=function(){this._handlePlayBackData(!1)},o(t,[{key:"_gameService",get:function(){return App.serviceManager.get(T)}},{key:"_gameSender",get:function(){return App.senderManager.get(v)}}]),t}(S)).prototype,"_bgNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(A.prototype,"_resolutionFitterNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(A.prototype,"_avatarLayerNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(A.prototype,"_bubbleScoreRootNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=A))||O)||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameData42.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts"],(function(_){var E,S,s,o,I;return{setters:[function(_){E=_.inheritsLoose,S=_.createClass},function(_){s=_.cclegacy,o=_.size},function(_){I=_.GameData}],execute:function(){var u,i,n;s._RF.push({},"c3ff6BQFdNF0Z/xYAuPTLy5","SubGameData",void 0);var L=_("SubGameData",function(_){function s(){return _.apply(this,arguments)||this}return E(s,_),s.setLoadingTaskProgress=function(_,E){this._loadingTasks[_]=Math.min(Math.max(0,E),1)},s.getMultiple=function(_){return _<1e4?0:_%1e4},s.getSymbolHighlightSoundEffectURL=function(_){var E;return this.getMultiple(_)>1&&(_=this.MULTIPLILER_INTERNAL_SYMBOL_ID),null!=(E=this.SYMBOL_ID_TO_HIGHLIGHT_SOUND_EFFECT_URL[_])?E:""},S(s,null,[{key:"loadingProgress",get:function(){var _=0,E=0;for(var S in this._loadingTasks){var s=S;_+=this._loadingTasks[s],++E}return _/E}}]),s}(I));u=L,L.module="slot390000507",L.INITIAL_LOCK_NUMBERS=[1,3,6,9,12,15],L.INITIAL_SYMBOLS_GROUPS=[[9,7,8,6,5],[9,4,10,2,5],[3,10100,10,10100,1],[3,10100,10,10100,1],[9,4,10,2,5],[9,7,8,6,5]],L.CELL_WEIGHTS_FOR_TUMBLE_SCORE=[[1,2,2,2,1,0],[2,4,6,4,3,0],[3,6,8,7,5,0],[3,6,8,7,5,0],[2,4,6,4,3,0],[1,2,2,2,1,0]],L.CLEAR_INTERVAL_BETWEEN_ADJACENT_REELS=.1,L.PRODUCE_INTERVAL_BETWEEN_ADJACENT_REELS=.15,L.REPLENISH_INTERVAL_BETWEEN_ADJACENT_REELS=.033333,L.FALL_INTERVAL_BETWEEN_ADJACENT_SYMBOLS=.033333,L.INITIAL_FREE_TIMES=10,L.EXTRA_FREE_TIMES=5,L.REELS_NUMBER=6,L.SYMBOLS_NUMBER_IN_REEL=6,L.SYMBOLS_NUMBER=u.REELS_NUMBER*u.SYMBOLS_NUMBER_IN_REEL,L.SYMBOL_SIZE=o(130,100),L.REEL_HEIGHT=u.SYMBOL_SIZE.height*u.REELS_NUMBER,L.SCATTER_SYMBOL_ID=10,L.MULTIPLILER_INTERNAL_SYMBOL_ID=11,L.ANTE_BET_RATE=1.25,L.FREE_SPINS_PRICE_RATE=100,L.SYMBOL_ID_TO_SPRITE_FRAME_NAME=((i={})[1]="ty_icon_dp",i[2]="ty_icon_tk",i[3]="ty_icon_xl",i[4]="ty_icon_jz",i[5]="ty_icon_xsfh_hs",i[6]="ty_icon_xsfh_fzs",i[7]="ty_icon_xsfh_ls",i[8]="ty_icon_xsfh_lzs",i[9]="ty_icon_xsfh_lsbs",i[10]="ty_icon_fstb_ydn",i),L.AUDIO_URLS={BGM_NORMAL_MODE:"audios/bgm_Athena_01",BGM_FREE_MODE:"audios/bgm_Athena_02",SE_COMMON_UI:"audios/sound_commonUI",SE_ENTRANCE:"audios/sound_game_open",SE_BIG_WIN_BIG:"audios/sound_big_win_03",SE_BIG_WIN_NICE:"audios/sound_nice_win_03",SE_BIG_WIN_MEGA:"audios/sound_mega_win_03",SE_BIG_WIN_SUPER:"audios/sound_super_win_03",SE_BIG_WIN_ULTIMATE:"audios/sound_ultimate_win_03",SE_BIG_WIN_EXIT_BIG:"audios/sound_big_win_02",SE_BIG_WIN_EXIT_NICE:"audios/sound_nice_win_02",SE_BIG_WIN_EXIT_MEGA:"audios/sound_mega_win_02",SE_BIG_WIN_EXIT_SUPER:"audios/sound_super_win_02",SE_BIG_WIN_EXIT_ULTIMATE:"audios/sound_ultimate_win_02",SE_BIG_WIN_ENTER_COMMON:"audios/dajiang01",SE_BIG_WIN_EXIT_COMMON:"audios/dajiang02",SE_BIG_WIN_END_COMMON:"audios/sound_dajiang_end",SE_BIG_WIN_SPEECH_BIG:"audios/big",SE_BIG_WIN_SPEECH_NICE:"audios/nice",SE_BIG_WIN_SPEECH_MEGA:"audios/mega",SE_BIG_WIN_SPEECH_SUPER:"audios/super",SE_BIG_WIN_SPEECH_ULTIMATE:"audios/ultimate",SE_SPIN_START:"audios/sound_start",SE_SPIN_END:"audios/sound_stop",SE_SYMBOL_LAND_IN_ORDER:"audios/sound_scroll01",SE_SYMBOL_LAND_AT_THE_SAME_TIME:"audios/sound_scroll03",SE_SYMBOL_REPLENISH:"audios/sound_scroll02",SE_SYMBOL_DEFAULT_HIGHLIGHT:"audios/sound_shine",SE_SYMBOL_SHIELD_HIGHLIGHT:"audios/sound_shield",SE_SYMBOL_HELMET_HIGHLIGHT:"audios/sound_helmet",SE_SYMBOL_CUP_HIGHLIGHT:"audios/sound_censer",SE_SYMBOL_SCROLL_HIGHLIGHT:"audios/sound_scroll",SE_SYMBOL_SCATTER_HIGHLIGHT:"audios/Free_spins",SE_SYMBOL_MULTIPLIER_HIGHLIGHT:"audios/sound_doubly01",SE_SYMBOL_EXPLORE:"audios/sound_eliminating",SE_SCATTER_APPEAR_ONCE:"audios/sound_scatter01",SE_SCATTER_APPEAR_TWICE:"audios/sound_scatter02",SE_SCATTER_APPEAR_THRICE:"audios/sound_scatter03",SE_MULTIPLIER_APPEAR:"audios/sound_doubly",SE_MULTIPLY:"audios/sound_multiple",SE_CONFIRMATION_SHOW:"audios/sound_buy",SE_CONFIRMATION_HIDE:"audios/sound_close",SE_CONFIRMATION_BUY:"audios/sound_confirm",SE_LOCK_UNLOCK:"audios/sound_unlock",SE_WIN_SCORE:"audios/sound_light",SE_PAY:"audios/sound_money",SE_FREE_SPINS_START:"audios/sound_free_add",SE_FREE_SPINS_END:"audios/sound_free_end",SE_FREE_SPINS_APPEND:"audios/sound_free_add",SE_FREE_SPINS_TRANSIT:"audios/sound_transitions",SE_FREE_SPINS_POP_UP:"audios/sound_popup",SE_FREE_SPINS_POP_OUT:"audios/sound_popout",SE_ATHENA_SPEECH_UNLOCK_1:"audios/Triumph_favors_the_brave",SE_ATHENA_SPEECH_UNLOCK_2:"audios/Knowledge_is_Power",SE_ATHENA_SPEECH_UNLOCK_3:"audios/Focus_leads_to_victory",SE_ATHENA_SPEECH_UNLOCK_4:"audios/Wisdom_brings_victory",SE_ATHENA_SPEECH_LIGHTNING:"audios/Power_of_romance"},L.SYMBOL_ID_TO_HIGHLIGHT_SOUND_EFFECT_URL=((n={})[1]=u.AUDIO_URLS.SE_SYMBOL_SHIELD_HIGHLIGHT,n[2]=u.AUDIO_URLS.SE_SYMBOL_HELMET_HIGHLIGHT,n[3]=u.AUDIO_URLS.SE_SYMBOL_CUP_HIGHLIGHT,n[4]=u.AUDIO_URLS.SE_SYMBOL_SCROLL_HIGHLIGHT,n[5]=u.AUDIO_URLS.SE_SYMBOL_DEFAULT_HIGHLIGHT,n[6]=u.AUDIO_URLS.SE_SYMBOL_DEFAULT_HIGHLIGHT,n[7]=u.AUDIO_URLS.SE_SYMBOL_DEFAULT_HIGHLIGHT,n[8]=u.AUDIO_URLS.SE_SYMBOL_DEFAULT_HIGHLIGHT,n[9]=u.AUDIO_URLS.SE_SYMBOL_DEFAULT_HIGHLIGHT,n[10]=u.AUDIO_URLS.SE_SYMBOL_SCATTER_HIGHLIGHT,n[11]=u.AUDIO_URLS.SE_SYMBOL_MULTIPLIER_HIGHLIGHT,n),L.spinRequestor=null,L.slotInfo=null,L.lastMap=null,L.balance=0,L.totalBet=0,L.anteBetEnabled=!1,L.autoPlaying=!1,L.quickSpin=!1,L.turboSpin=!1,L.skipScreens=!0,L.gmEnabled=!1,L._loadingTasks={resource:0,network:0,preload:0},s._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameDefines43.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){var E;e("common",void 0),n._RF.push({},"db13ayjnBlI0KMcSvMeLK3u","SubGameDefines",void 0),function(e){var n=function(e){return e[e.GM_SPIN=0]="GM_SPIN",e[e.SPIN=1]="SPIN",e[e.ANTE_SPIN=2]="ANTE_SPIN",e[e.BUY_FREE_SPINS=3]="BUY_FREE_SPINS",e[e.CONSUME_PAGE=4]="CONSUME_PAGE",e}({});e.ESpinRequestType=n;var E=function(e){return e[e.BET=0]="BET",e[e.BOUGHT=1]="BOUGHT",e[e.FREE=2]="FREE",e}({});e.ESpinType=E}(E||(E=e("common",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameLanguage43.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageDelegate.ts","./Enums.ts","./SubGameData42.ts"],(function(a){var e,n,t,u,g,i;return{setters:[function(a){e=a.inheritsLoose},function(a){n=a.cclegacy},function(a){t=a.injectLanguageData,u=a.LanguageDelegate},function(a){g=a.sys_Language},function(a){i=a.SubGameData}],execute:function(){var o;n._RF.push({},"64ca9cvSApBiqMCNotZNdB8","SubGameLanguage",void 0);var r={language:g.CHINESE,data:{}},c={language:g.ENGLISH,data:{}},l={language:g.Indonesian,data:{}},s={language:g.Malay,data:{}},d={language:g.Portuguese,data:{}},f={language:g.Thai,data:{}},p={language:g.Vietnamese,data:{}};a("SubGameLanguage",t(o=function(a){function n(){for(var e,n=arguments.length,t=new Array(n),u=0;u<n;u++)t[u]=arguments[u];return(e=a.call.apply(a,[this].concat(t))||this).bundle=i.module,e}return e(n,a),n.prototype.init=function(){var a=this;[r,c,l,s,d,f,p].forEach((function(e){return a.add(e)}))},n}(u))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/Symbol11.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData42.ts","./AudioHelper11.ts"],(function(e){var t,n,i,o,s,l,a,c,f,h,r,u,d,k,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){l=e.cclegacy,a=e._decorator,c=e.sp,f=e.Tween,h=e.tween,r=e.v3,u=e.math,d=e.Component},function(e){k=e.SubGameData},function(e){p=e.AudioHelper}],execute:function(){var E,S,_,m,b,g,y,T,v,I,A;l._RF.push({},"de358N1oS1KzqfQSwT2zj01","Symbol",void 0);var x=a.ccclass,C=a.menu,N=a.property,B=e("ESymbolState",function(e){return e[e.ABSENT=0]="ABSENT",e[e.ENTERING=1]="ENTERING",e[e.BRAKING=2]="BRAKING",e[e.REPLENISHING=3]="REPLENISHING",e[e.PRESENT=4]="PRESENT",e[e.TUMBLING=5]="TUMBLING",e[e.HIGHLIGHTING=6]="HIGHLIGHTING",e[e.EXITING=7]="EXITING",e}({})),L="ani_springback_icon",G="ani_springback_icon_cx",P="ani_icon",R="eff_baozha";e("Symbol",(E=x("Symbol"),S=C(k.module+"/display/Symbol"),_=N(c.Skeleton),m=N(c.Skeleton),b=N(c.Skeleton),E(g=S((T=t((y=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return t=e.call.apply(e,[this].concat(s))||this,i(t,"skeleton",T,o(t)),i(t,"frameEffectSkeleton",v,o(t)),i(t,"explosionEffectSkeleton",I,o(t)),i(t,"explosive",A,o(t)),t.index=-1,t._state=B.ABSENT,t._symbolID=-1,t._presentPosition=null,t._enteredCallback=null,t._exitedCallback=null,t._replenishedCallback=null,t._tumbledCallback=null,t._highlightedCallback=null,t._enterSoundEffectConfig=null,t._tumbleSoundEffectConfig=null,t}n(t,e);var l=t.prototype;return l.onLoad=function(){var t,n;null==(t=e.prototype.onLoad)||t.call(this),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this)),null==(n=this.explosionEffectSkeleton)||n.setCompleteListener(this._onSkeletonAnimationComplete.bind(this)),this.skeleton.node.active=!0,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,L,!1),this.skeleton.paused=!0,this.frameEffectSkeleton&&(this.frameEffectSkeleton.node.active=!1),this.explosionEffectSkeleton&&(this.explosionEffectSkeleton.node.active=!1)},l.reset=function(){this.index=-1,this._state=B.ABSENT,this._presentPosition=null,this._enteredCallback=null,this._exitedCallback=null,this._replenishedCallback=null,this._tumbledCallback=null,this._enterSoundEffectConfig=null,this._tumbleSoundEffectConfig=null,f.stopAllByTarget(this.node),this.node.setScale(1,1,1),f.stopAllByTarget(this.skeleton.node),this.skeleton.node.active=!0,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,L,!1),this.skeleton.paused=!0,this.frameEffectSkeleton&&(this.frameEffectSkeleton.node.active=!1),this.explosionEffectSkeleton&&(this.explosionEffectSkeleton.node.active=!1)},l.enter=function(e,t){var n,i=this;this._state=B.ENTERING,this._presentPosition=e.to.clone(),this._enteredCallback=null!=(n=e.callback)?n:null,this._enterSoundEffectConfig=t,f.stopAllByTarget(this.skeleton.node),this.skeleton.node.active=!0,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,L,!1),this.skeleton.paused=!0,f.stopAllByTarget(this.node),this.node.setPosition(e.from),this.node.setScale(1,1,1),h(this.node).delay(e.startDelay).to(k.turboSpin||k.quickSpin?.216667:.266667,{position:e.to}).call((function(){t.onLanded&&p.instance.playSoundEffect(t.onLanded),i._state=B.BRAKING,i.symbolID===k.SCATTER_SYMBOL_ID&&t.scatterOnLanded&&(p.instance.playOneShotSoundEffect(t.scatterOnLanded),i.skeleton.findAnimation(G)&&(i.skeleton.clearTracks(),i.skeleton.setAnimation(0,G,!1),i.skeleton.paused=!1))})).by(.066667,{position:r(0,-12,0)},{easing:"sineOut"}).to(.1,{position:e.to},{easing:"sineInOut"}).call((function(){i._state=B.PRESENT,i._afterEnter()})).start(),this.frameEffectSkeleton&&(this.frameEffectSkeleton.node.active=!1),this.explosionEffectSkeleton&&(this.explosionEffectSkeleton.node.active=!1)},l.exit=function(e){var t,n=this;this._state=B.EXITING,this._presentPosition=null,this._exitedCallback=null!=(t=e.callback)?t:null,f.stopAllByTarget(this.skeleton.node),this.skeleton.node.active=!0,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,L,!1),this.skeleton.paused=!0,f.stopAllByTarget(this.node),this.node.setPosition(e.from),h(this.node).delay(e.startDelay).to(.083333,{position:r(e.to.x,u.lerp(e.from.y,e.to.y,.125))},{easing:"sineIn"}).to(.25,{position:e.to}).call((function(){n._state=B.ABSENT,n._afterExit()})).start(),this.frameEffectSkeleton&&(this.frameEffectSkeleton.node.active=!1),this.explosionEffectSkeleton&&(this.explosionEffectSkeleton.node.active=!1)},l.replenish=function(e,t,n){var i,o=this;this._state=B.REPLENISHING,this._presentPosition=null,this._replenishedCallback=null!=(i=e.callback)?i:null,f.stopAllByTarget(this.skeleton.node),this.skeleton.node.active=!0,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,L,!1),this.skeleton.paused=!0,f.stopAllByTarget(this.node),this.node.setPosition(e.from);var s=-.85*k.SYMBOL_SIZE.height,l=Math.floor(Math.abs(e.to.y-e.from.y-s)/k.SYMBOL_SIZE.height);h(this.node).delay(e.startDelay).by(.066667,{position:r(0,s,0)},{easing:"sineIn"}).by(.033333*l,{position:r(0,-l*k.SYMBOL_SIZE.height,0)}).call((function(){t.onLanded&&p.instance.playSoundEffect(t.onLanded),t.scatterOnLanded&&p.instance.playOneShotSoundEffect(t.scatterOnLanded),n&&o.skeleton.findAnimation(G)&&(o.skeleton.clearTracks(),o.skeleton.setAnimation(0,G,!1),o.skeleton.paused=!1)})).to(.05,{position:r(e.to.x,e.to.y-16)},{easing:"sineOut"}).to(.116667,{position:e.to},{easing:"sineInOut"}).call((function(){o._state=B.PRESENT,o._afterReplenish()})).start(),this.frameEffectSkeleton&&(this.frameEffectSkeleton.node.active=!1),this.explosionEffectSkeleton&&(this.explosionEffectSkeleton.node.active=!1)},l.speedUpEntering=function(e,t){var n,i=this;if(this._state===B.ENTERING&&this._presentPosition){t=null!=(n=t)?n:this.node.position.y;var o=Math.abs(this._presentPosition.y-t)/k.SYMBOL_SIZE.height*.033333;f.stopAllByTarget(this.node),h(this.node).to(o,{position:this._presentPosition},{easing:"sineOut"}).call((function(){e&&p.instance.playSoundEffect(e),i._state=B.BRAKING,i.symbolID===k.SCATTER_SYMBOL_ID&&i._enterSoundEffectConfig&&i._enterSoundEffectConfig.scatterOnLanded&&(p.instance.playOneShotSoundEffect(i._enterSoundEffectConfig.scatterOnLanded),i.skeleton.findAnimation(G)&&(i.skeleton.clearTracks(),i.skeleton.setAnimation(0,G,!1),i.skeleton.paused=!1))})).by(.066667,{position:r(0,-12,0)},{easing:"sineOut"}).to(.1,{position:this._presentPosition},{easing:"sineInOut"}).call((function(){i._state=B.PRESENT,i._afterEnter()})).start()}},l.tumble=function(e,t){var n=this;this._state=B.TUMBLING,this._tumbledCallback=null!=t?t:null,this._tumbleSoundEffectConfig=e,f.stopAllByTarget(this.node),f.stopAllByTarget(this.skeleton.node),k.turboSpin?(this.explosionEffectSkeleton?h(this.skeleton.node).delay(.083333).call((function(){e.onExplode&&p.instance.playSoundEffect(e.onExplode),n.skeleton.node.active=!1,n.skeleton.clearTracks(),n.explosionEffectSkeleton&&(n.explosionEffectSkeleton.node.active=!0,n.explosionEffectSkeleton.setAnimation(0,R,!1))})).start():(e.onHighlight&&p.instance.playSoundEffect(e.onHighlight),this.skeleton.node.active=!0,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,P,!1),this.skeleton.paused=!1),this.frameEffectSkeleton&&(this.frameEffectSkeleton.node.active=!1)):(e.onHighlight&&p.instance.playSoundEffect(e.onHighlight),this.skeleton.node.active=!0,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,P,!1),this.skeleton.paused=!1,this.frameEffectSkeleton&&(this.frameEffectSkeleton.node.active=!0,this.frameEffectSkeleton.setAnimation(0,"animation",!0)),this.explosionEffectSkeleton&&(this.explosionEffectSkeleton.node.active=!1))},l.highlight=function(e){var t=this;this._state=B.HIGHLIGHTING,this._highlightedCallback=null!=e?e:null,f.stopAllByTarget(this.node),this.node.setScale(1,1,1),this.skeleton.findAnimation(G)?(this.skeleton.clearTracks(),this.skeleton.setAnimation(0,G,!1),this.skeleton.paused=!1):h(this.node).to(.15,{scale:r(1.2,1.2,0)},{easing:"sineOut"}).to(.35,{scale:r(1,1,1)},{easing:"sineIn"}).call((function(){t._state=B.PRESENT,t._afterHighlight()})).start()},l._onSkeletonAnimationComplete=function(e){var t=this;switch(e.animation.name){case P:this.explosionEffectSkeleton?(f.stopAllByTarget(this.skeleton.node),h(this.skeleton.node).delay(0).call((function(){var e,n=null==(e=t._tumbleSoundEffectConfig)?void 0:e.onExplode;n&&p.instance.playSoundEffect(n),t.skeleton.node.active=!1,t.skeleton.clearTracks(),t.frameEffectSkeleton&&(t.frameEffectSkeleton.node.active=!1),t.explosionEffectSkeleton&&(t.explosionEffectSkeleton.node.active=!0,t.explosionEffectSkeleton.setAnimation(0,R,!1))})).start()):(this.explosive?this._state=B.ABSENT:this._state=B.PRESENT,this._afterTumble());break;case R:this.explosive?this._state=B.ABSENT:this._state=B.PRESENT,this.explosionEffectSkeleton&&(this.explosionEffectSkeleton.node.active=!1),this._afterTumble();break;case G:this.skeleton.clearTracks(),this.skeleton.setAnimation(0,L),this.skeleton.paused=!0,this._state===B.HIGHLIGHTING&&(this._state=B.PRESENT,this._afterHighlight())}},l._afterEnter=function(){var e=this._enteredCallback;this._enteredCallback=null,this._enterSoundEffectConfig=null,null==e||e(this)},l._afterExit=function(){var e=this._exitedCallback;this._exitedCallback=null,null==e||e(this)},l._afterReplenish=function(){var e=this._replenishedCallback;this._replenishedCallback=null,null==e||e(this)},l._afterTumble=function(){var e=this._tumbledCallback;this._tumbledCallback=null,this._tumbleSoundEffectConfig=null,null==e||e(this)},l._afterHighlight=function(){var e=this._highlightedCallback;this._highlightedCallback=null,null==e||e(this)},s(t,[{key:"symbolID",get:function(){return this._symbolID},set:function(e){e!==this._symbolID&&(this._symbolID=e)}},{key:"state",get:function(){return this._state}}]),t}(d)).prototype,"skeleton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(y.prototype,"frameEffectSkeleton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(y.prototype,"explosionEffectSkeleton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(y.prototype,"explosive",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=y))||g)||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/SymbolMultiplier.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData42.ts","./Symbol11.ts"],(function(e){var t,i,l,n,s,o,r,a,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,r=e._decorator,a=e.Label},function(e){u=e.SubGameData},function(e){c=e.Symbol}],execute:function(){var p,m,b,y,h,k;o._RF.push({},"b8f60g73bBHirR3m3W9nIJk","SymbolMultiplier",void 0);var f=r.ccclass,S=r.menu,_=r.property;e("SymbolMultiplier",(p=f("SymbolMultiplier"),m=S(u.module+"/display/SymbolMultiplier"),b=_(a),p(y=m((k=t((h=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,l(t,"multiplierLabel",k,n(t)),t._skinName="default",t}return i(t,e),t.prototype.onEnable=function(){this.skeleton.setSkin(this._skinName)},s(t,[{key:"symbolID",get:function(){return e.prototype.symbolID},set:function(e){if(e!==this._symbolID){this._symbolID=e;var t=u.getMultiple(e);t>=200?(this._skinName="hong",this.skeleton.setSkin("hong")):t>=50?(this._skinName="zi",this.skeleton.setSkin("zi")):t>=12?(this._skinName="lan",this.skeleton.setSkin("lan")):(this._skinName="lu",this.skeleton.setSkin("lu")),this.multiplierLabel.string=t+""}}}]),t}(c)).prototype,"multiplierLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y)||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/SymbolNodePool11.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData42.ts","./Symbol11.ts"],(function(e){var t,n,o,r,a,s,i,l,u;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e.instantiate,s=e.director,i=e.Prefab},function(e){l=e.SubGameData},function(e){u=e.Symbol}],execute:function(){r._RF.push({},"9a019oDnZxA5rtgQ8byZz3Y","SymbolNodePool",void 0),e("SymbolNodePool",function(){function e(){this._pools={};for(var e=1;e<=11;e++)this._pools[e]={availableIndex:0,nodesList:[]}}var r=e.prototype;return r.preload=function(){var e=n(o().mark((function e(){var t,n,r,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=1;case 2:if(!(t<=11)){e.next=16;break}return Log.d("preload symbol node: "+t),e.next=6,App.cache.getCacheByAsync("prefabs/symbols/Symbol"+t,i,l.module);case 6:(n=e.sent)[0],r=n[1],u=a(r),s.addPersistRootNode(u),this._pools[t].protoNode=u,l.setLoadingTaskProgress("preload",t/11);case 13:t++,e.next=2;break;case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),Log.e("failed to create proto node for symbols: "+(e.t0?e.t0.toString():"unknown reason")),e.abrupt("return",!1);case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),r.push=function(e){if(!e.isValid)return!1;e.removeFromParent();var t=e.getComponent(u);if(!t)return!1;t.reset();var n=this._pools[this._getInternalSymbolID(t.symbolID)];if(!n)return!1;var o=n.nodesList.indexOf(e);return!(o<0)&&(o<n.availableIndex&&(--n.availableIndex,n.nodesList[o]=n.nodesList[n.availableIndex],n.nodesList[n.availableIndex]=e),!0)},r.pop=function(e){var t=this._pools[this._getInternalSymbolID(e)];if(!t)return null;if(t.nodesList.length<=0||t.nodesList.length<=t.availableIndex){if(!t.protoNode)return null;t.nodesList[t.availableIndex]=a(t.protoNode)}var n=t.nodesList[t.availableIndex++],o=n.getComponent(u);return o&&(o.symbolID=e),n},r._getInternalSymbolID=function(e){return e>1e4?11:e},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,r._RF.pop()}}}));

System.register("chunks:///_virtual/Transition.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData42.ts","./AudioHelper11.ts","./Display13.ts"],(function(t){var e,i,n,o,s,a,l,r,c,u,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,l=t.Node,r=t.sp},function(t){c=t.SubGameData},function(t){u=t.AudioHelper},function(t){p=t.DisplayTaskManager,h=t.Display}],execute:function(){var k,d,f,v,y,T,m,D;s._RF.push({},"9b29eFtwlVINrwlB0cDHUzS","Transition",void 0);var S=a.ccclass,A=a.menu,_=a.property;t("Transition",(k=S("Transition"),d=A(c.module+"/display/Transition"),f=_(l),v=_(r.Skeleton),k(y=d((m=e((T=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"inputBlockNode",m,o(e)),n(e,"skeleton",D,o(e)),e}i(e,t);var s=e.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),p.addHandler(this),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this)),this.inputBlockNode.active=!1,this.skeleton.node.active=!1,this.skeleton.clearTracks()},s.onTaskInit=function(t,e){this.stopAllDisplays(),this.inputBlockNode.active=!1,this.skeleton.node.active=!1,this.skeleton.clearTracks()},s.onTaskTransit=function(t,e){var i=App.utils.getOrientation();"portrait"===i&&u.instance.playSoundEffect(c.AUDIO_URLS.SE_FREE_SPINS_TRANSIT),this.startDisplay(),this.inputBlockNode.active=!0,this.skeleton.node.active=!0,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"portrait"===i?"ani_ver":"ani_hor",!1)},s.onTaskRestore=function(t,e){this.stopAllDisplays(),this.inputBlockNode.active=!1,this.skeleton.node.active=!1,this.skeleton.clearTracks()},s._onOrientationChange=function(t){var e;if(this.skeleton.node.active){var i=this.skeleton.getCurrent(0);if(null!=i){var n=i.getAnimationTime();this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"ani",!1),null==(e=this.skeleton.getState())||e.update(n)}}},s._onSkeletonAnimationComplete=function(t){this.inputBlockNode.active=!1,this.skeleton.node.active=!1,this.endDisplay()},e}(h)).prototype,"inputBlockNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(T.prototype,"skeleton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=T))||y)||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/TumbleItemLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberCurrency.ts","./SubGameData42.ts"],(function(e){var t,n,r,i,o,a,u,s,l,c,p,m,b,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,u=e._decorator,s=e.Label,l=e.Sprite,c=e.Tween,p=e.tween,m=e.v3,b=e.Component},function(e){y=e.NumberCurrency},function(e){d=e.SubGameData}],execute:function(){var f,h,g,v,I,L,T,_,S,x;a._RF.push({},"c3dfaOIxZFHK4DrxmpqL+u+","TumbleItemLayer",void 0);var A=u.ccclass,C=u.menu,D=u.property;e("TumbleItemLayer",(f=A("TumbleItemLayer"),h=C(d.module+"/layer/TumbleItemLayer"),g=D(s),v=D(l),I=D(y),f(L=h((_=t((T=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"numberLabel",_,i(t)),r(t,"symbolSprite",S,i(t)),r(t,"scoreNumberCurrency",x,i(t)),t._index=-1,t}n(t,e);var a=t.prototype;return a.reset=function(){c.stopAllByTarget(this.node),this.node.setPosition(0,0,0)},a.setItemInfo=function(e,t,n,r){this._index=e,this.numberLabel.string=""+n;var i=d.SYMBOL_ID_TO_SPRITE_FRAME_NAME[t];i&&this.symbolSprite.changeSpriteFrameFromAtlas(i),this.scoreNumberCurrency.updateNumber(r)},a.enter=function(e,t,n,r){var i=this;c.stopAllByTarget(this.node),this.node.setPosition(e),p(this.node).delay(n).to(.15,{position:t.clone()},{easing:"sineIn"}).delay(.016667).by(.083333,{position:m(0,8,0)},{easing:"sineOut"}).to(.1,{position:t}).call((function(){return null==r?void 0:r(i)})).start()},a.exit=function(e,t,n,r){var i=this;c.stopAllByTarget(this.node),this.node.setPosition(e),p(this.node).delay(n).to(.15,{position:t.clone()},{easing:"sineIn"}).call((function(){return null==r?void 0:r(i)})).start()},o(t,[{key:"index",get:function(){return this._index}}]),t}(b)).prototype,"numberLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(T.prototype,"symbolSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(T.prototype,"scoreNumberCurrency",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=T))||L)||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/TumbleLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData42.ts","./Display13.ts","./TumbleItemLayer.ts"],(function(e){var t,o,i,n,r,l,a,s,c,u,d,m,f,h,p,b,I,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.ScrollView,s=e.Node,c=e.UITransform,u=e.Prefab,d=e.v3,m=e.Tween,f=e.tween,h=e.instantiate},function(e){p=e.default},function(e){b=e.SubGameData},function(e){I=e.DisplayTaskManager},function(e){y=e.TumbleItemLayer}],execute:function(){var T,v,g,w,R,_,N,S,k,L,z,B,P,D;r._RF.push({},"116ddEua2VH4pymIYcanyLI","TumbleLayer",void 0);var V=l.ccclass,C=l.menu,U=l.property,x=40,M=Math.ceil(4);e("TumbleLayer",(T=V("TumbleLayer"),v=C(b.module+"/layer/TumbleLayer"),g=U(a),w=U(s),R=U(c),_=U(u),N=U(s),T(S=v((L=t((k=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"scrollView",L,n(t)),i(t,"itemsRootNode",z,n(t)),i(t,"itemsRootUITransform",B,n(t)),i(t,"itemPrefab",P,n(t)),i(t,"inputBlockerNode",D,n(t)),t._idleItemNodesPool=[],t}o(t,e);var r=t.prototype;return r.onLoad=function(){var t;null==(t=e.prototype.onLoad)||t.call(this),I.addHandler(this)},r.onTaskInit=function(e,t){this._clear(!1)},r.onTaskSpinStart=function(e,t){this._clear(!0)},r.onTaskSpinStop=function(e,t){this.itemsRootUITransform.setContentSize(this.itemsRootUITransform.contentSize.width,160),this.scrollView.scrollToBottom()},r.onTaskTumble=function(e,t){var o=this,i=this.itemsRootNode.children.length;t.tumblesMap.forEach((function(e){if(e.symbolID!==b.SCATTER_SYMBOL_ID){var t=o.itemsRootNode.children.length,n=o._getIdleItem();o.itemsRootNode.addChild(n);var r=n.getComponent(y);if(r){r.setItemInfo(t,e.symbolID,e.number,e.score);var l=d(0,x*(t+M),0),a=d(0,x*t,0),s=.033333*(t-i+1);r.enter(l,a,s)}else n.setPosition(0,x*t,0)}}));var n=this.itemsRootNode.children.length;n>M&&n>i?(this.inputBlockerNode.active=!0,this.itemsRootUITransform.setContentSize(this.itemsRootUITransform.contentSize.width,x*n),this.scrollView.scrollToTop(.15),m.stopAllByTarget(this.scrollView.node),f(this.scrollView.node).delay(.15).call((function(){return o.inputBlockerNode.active=!1})).start()):this.inputBlockerNode.active=!1},r.onTaskRestore=function(e,t){this._clear(!1)},r._clear=function(e){var t=this;if(m.stopAllByTarget(this.scrollView.node),this.inputBlockerNode.active=!0,e){var o=this.itemsRootUITransform.contentSize.height,i=this.scrollView.getScrollOffset(),n=Math.floor((o-i.y-160)/x),r=Math.ceil((o-i.y)/x),l=function(e){return t._addIdleItem(e.node)};[].concat(this.itemsRootNode.children).forEach((function(e){var o=e.getComponent(y);if(!o||o.index<n||o.index>r)t._addIdleItem(e);else{var i=d(0,o.index*x,0),a=d(0,(o.index-M-2)*x,0),s=.05+.033333*(o.index-n);o.exit(i,a,s,l)}}))}else[].concat(this.itemsRootNode.children).forEach((function(e){return t._addIdleItem(e)}))},r._getIdleItem=function(){var e,t,o=null!=(e=this._idleItemNodesPool.splice(-1,1)[0])?e:h(this.itemPrefab);return null==(t=o.getComponent(y))||t.reset(),o},r._addIdleItem=function(e){this._idleItemNodesPool.push(e),e.removeFromParent()},t}(p)).prototype,"scrollView",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(k.prototype,"itemsRootNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(k.prototype,"itemsRootUITransform",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(k.prototype,"itemPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(k.prototype,"inputBlockerNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=k))||S)||S));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/slot390000507', 'chunks:///_virtual/slot390000507'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});