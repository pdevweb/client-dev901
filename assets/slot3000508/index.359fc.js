System.register("chunks:///_virtual/AddFreeSpinsView3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./SubGameDefines7.ts","./Decorators.ts","./CommonEvent.ts","./SubGameData7.ts","./SubGameConstants6.ts"],(function(e){var t,i,n,o,s,r,l,a,c,u,p,h,f,m,d,b,_,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,l=e._decorator,a=e.Node,c=e.sp,u=e.Label,p=e.find},function(e){h=e.default},function(e){f=e.PORTRAIT_POPVIEW_POS,m=e.EventName},function(e){d=e.inject},function(e){b=e.CommonEvent},function(e){_=e.SubGameData},function(e){g=e.SubGameConstants}],execute:function(){var S,k,T,v,w,y,C,A,N,D,E;r._RF.push({},"0e6c8GkNQJLxKL3UvGWHtqu","AddFreeSpinsView",void 0);var L=l.ccclass;e("AddFreeSpinsView",(S=L("AddFreeSpinsView"),k=d("content",a),T=d("content/skeleton",c.Skeleton),v=d("content/skeleton/targetNode",a),w=d("content/skeleton/targetNode/label_times",u),S((A=t((C=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"content",A,o(t)),n(t,"skeleton",N,o(t)),n(t,"targetNode",D,o(t)),n(t,"label_times",E,o(t)),t.loopingTimer=null,t.skip_loopingTimer=null,t.b_looping=!1,t.b_clickable=!1,t}i(t,e),t.getPrefabUrl=function(){return"prefabs/AddFreeSpinsView"};var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),this.onN(p("mask",this.node),a.EventType.TOUCH_END,this.onClickClose)},r.addEvents=function(){e.prototype.addEvents.call(this),this.onD(b.SWITCH_SCREEN,this.onSwitchScreen)},r.onClose=function(){e.prototype.onClose.call(this)},r.onDestroy=function(){this.clearTimer(),e.prototype.onDestroy.call(this)},r.onSwitchScreen=function(e){"portrait"===e?this.content.setPosition(f):this.content.setPosition(0,0,0)},r.onClickClose=function(){var e=this;Log.d("FreeAddTimesView onClickClose",this.b_clickable),this.b_clickable&&(this.b_clickable=!1,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"eff_freespin_out",!1),this.clearTimer(),this.loopingTimer=setTimeout((function(){e.targetNode.active=!1}),100))},r.onShow=function(){var t=this;if(this.args&&this.args.length>0){this.b_clickable=!1,this.onSwitchScreen(App.utils.getOrientation()),dispatch(m.PLAY_SOUND,g.AudioSource.SOUND_TRANSFER_OUT),this.targetNode.active=!0;var i=this.args[0];this.label_times.string="+"+i,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"eff_freespin_in",!1),Log.d("FreeAddTimesView onShow",this.label_times.string,i),this.skeleton.setCompleteListener((function(e){var i=e.animation?e.animation.name:"";"eff_freespin_in"===i?(t.skeleton.setAnimation(0,"eff_freespin_idle",!0),t.b_clickable=!0,t.onShowSkipScreens()):"eff_freespin_out"===i&&(dispatch(m.START_FREE_MODEL),t.clearTimer(),t.close())}))}e.prototype.onShow.call(this)},r.onShowSkipScreens=function(){var e=this;this.clearTimer(),this.skip_loopingTimer=setTimeout((function(){e.onClickClose()}),1e3)},r.clearTimer=function(){this.loopingTimer&&clearTimeout(this.loopingTimer),this.skip_loopingTimer&&clearTimeout(this.skip_loopingTimer)},s(t,[{key:"data",get:function(){return App.dataCenter.get(_)}}]),t}(h)).prototype,"content",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(C.prototype,"skeleton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(C.prototype,"targetNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(C.prototype,"label_times",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimBigWin3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./EventComponent.ts","./CommonEvent.ts","./NumberRoller.ts","./SubGameData7.ts"],(function(i){var n,t,e,a,o,l,s,u,r,h,c,m,_,p,b,g,d,S,f;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized,o=i.createForOfIteratorHelperLoose},function(i){l=i.cclegacy,s=i._decorator,u=i.sp,r=i.Animation,h=i.Node,c=i.Tween,m=i.Vec3,_=i.tween,p=i.ParticleSystem2D},function(i){b=i.Global},function(i){g=i.default},function(i){d=i.CommonEvent},function(i){S=i.NumberRoller},function(i){f=i.SubGameData}],execute:function(){var k,C,v,N,w,y,R,T,F,A,P,B,x,L;l._RF.push({},"9d627xa7IdErKSphUAVWOS8","AnimBigWin",void 0);var D=s.ccclass,E=s.property,K=s.menu;i("AnimBigWin",(k=D(f.module+"_component_AnimBigWin"),C=K(f.module+"/component/AnimBigWin"),v=E({type:u.Skeleton,tooltip:"anim/bigwin/slot_bigwin_text2"}),N=E({type:r,tooltip:"anim/bigwin/coin"}),w=E({type:S}),y=E({type:h}),R=E({type:h}),k(T=C((A=n((F=function(i){function n(){for(var n,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return n=i.call.apply(i,[this].concat(o))||this,e(n,"animText",A,a(n)),e(n,"animCoin",P,a(n)),e(n,"labelNum",B,a(n)),e(n,"nodeBottomLight",x,a(n)),e(n,"nodeKuang",L,a(n)),n._elapsedTime=0,n._isRollNum=!0,n._isKuangScaleEnabled=!1,n._kuangScaleStartTime=0,n._kuangScalePassTime=0,n._kuangFromScale=.93,n._clipAnim=null,n._skinName="",n._rate=0,n._numRollDuration=0,n._numRollValue=0,n._onShowFinishCallback=null,n._onNumRollCompleteCallback=null,n._onFinishCallback=null,n}t(n,i);var l=n.prototype;return l.onLoad=function(){i.prototype.onLoad.call(this),this.node.active=!1,this.animCoin.node.active=!1,this._clipAnim=this.getComponent(r),this.animText.setCompleteListener((function(i){var n,t;n=null==(t=i.animation)?void 0:t.name})),this.onD(d.SWITCH_SCREEN,this.onSwitchScreen),this._clipAnim.on(r.EventType.FINISHED,this._onClipAnimFinish,this)},l.update=function(i){this._elapsedTime+=i,this._isKuangScaleEnabled&&(this._kuangScalePassTime+=i,this._refreshKuangScale())},l._setInfo=function(i){this._rate=i.rate,this._isRollNum=0!=i.isRollNum,this._numRollDuration=i.numRollDuration,this._numRollValue=i.numRollValue,this._onShowFinishCallback=i.onShowFinishCallback,this._onNumRollCompleteCallback=i.onNumRollCompleteCallback,this._onFinishCallback=i.onFinishCallback},l.playShow=function(i){var n=this;this._elapsedTime=0,this._isKuangScaleEnabled=!1,this._kuangScaleStartTime=0,this._kuangScalePassTime=0,this._setInfo(i);var t=this._rate;t>=5&&t<10?this._skinName="big":t>=10&&t<15?this._skinName="nice":t>=15&&t<30?this._skinName="mega":t>=30&&t<50?this._skinName="super":t>=50&&(this._skinName="ultimate"),Log.d("大奖类型：",this._skinName),this.animCoin.node.active=!1,this.node.active=!0,this._clipAnim.play("appear"),this._playTextAnim(),this._refreshBottomLightPosition(),this._isRollNum?(this.labelNum.stopRollingAndShowNumber(0),this.labelNum.startRolling(0,this._numRollValue,this._numRollDuration,(function(){n._onNumberCountFinish()}))):this.labelNum.stopRollingAndShowNumber(this._numRollValue);var e=this.labelNum.node.parent;c.stopAllByTarget(e),e.setScale(new m(1,1))},l.playHide=function(){this._isKuangScaleEnabled=!1,this._kuangScaleStartTime=0,this._kuangScalePassTime=0,this._stopParticleComponent(this.animCoin.node),this._clipAnim.play("disappear")},l.finishNumRolling=function(){this._onNumberCountFinish()},l.blinkNumber=function(i,n,t){void 0===n&&(n=null),void 0===t&&(t=.5);var e=this.labelNum.node.parent;c.stopAllByTarget(e);var a=_(e).repeat(3,_(e).to(i/3/2,{scale:new m(1.3,1.3)}).to(i/3/2,{scale:new m(1,1)}));t>0&&a.delay(t),n&&a.call(n),a.start()},l.stop=function(){this.node.active=!1},l._playTextAnim=function(){this.animText.setSkin(this._skinName),this.animText.clearTracks(),this.animText.setAnimation(0,"ani_intro",!1),this.animText.addAnimation(0,"ani_idle",!0)},l._resetParticleComponent=function(i){for(var n=i.getComponentsInChildren(p),t=0;t<(null==n?void 0:n.length);t++){var e=n[t];e&&e.resetSystem()}},l._stopParticleComponent=function(i){for(var n=i.getComponentsInChildren(p),t=0;t<(null==n?void 0:n.length);t++){var e=n[t];e&&e.stopSystem()}},l._refreshBottomLightPosition=function(){var i=this.nodeBottomLight.position.x,n=(1777-b.real_screen_height)/2;this.nodeBottomLight.setPosition(i,n)},l._refreshKuangScale=function(){var i=(this._kuangScaleStartTime+this._kuangScalePassTime)/this._numRollDuration;i=i>1?1:i;var n=this._kuangFromScale+(1-this._kuangFromScale)*i;this.nodeKuang.setScale(new m(n,n,1))},l._callback_onShow=function(){var i=this._onShowFinishCallback;this._onShowFinishCallback=null,i&&i()},l._callback_onNumRollComplete=function(){var i=this._onNumRollCompleteCallback;this._onNumRollCompleteCallback=null,i&&i()},l._callback_onFinish=function(){var i=this._onFinishCallback;this._onFinishCallback=null,i&&i()},l._onNumberCountFinish=function(){this.labelNum.stopRollingAndShowNumber(this._numRollValue),this._callback_onShow(),this._callback_onNumRollComplete()},l.onSwitchScreen=function(i){this._refreshBottomLightPosition()},l.onTriggered=function(){for(var i=arguments.length,n=new Array(i),t=0;t<i;t++)n[t]=arguments[t];for(var e,a=o(n.values());!(e=a()).done;){var l=e.value;switch(l){case"showCoin":this._resetParticleComponent(this.animCoin.node),this.animCoin.node.active=!0,this.animCoin.play("coin_ani");break;case"scaleKuang":this._isKuangScaleEnabled=!0,this._kuangScaleStartTime=this._elapsedTime,this._kuangScalePassTime=0,this._kuangFromScale=this.nodeKuang.getScale().x,this._isRollNum?this._callback_onShow():this._onNumberCountFinish()}}},l._onClipAnimFinish=function(i,n){switch(n.name){case"disappear":this._callback_onShow(),this._callback_onNumRollComplete(),this._callback_onFinish(),this.stop()}},n}(g)).prototype,"animText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(F.prototype,"animCoin",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(F.prototype,"labelNum",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(F.prototype,"nodeBottomLight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(F.prototype,"nodeKuang",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=F))||T)||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/AutoScale3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData7.ts"],(function(e){var t,n,o,i,a,r,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.Node,a=e.UITransform,r=e.Component},function(e){u=e.SubGameData}],execute:function(){var c;n._RF.push({},"44aa3Fuzw9Le7b/PEN9bjBE","AutoScale",void 0);var s=o.ccclass,l=(o.property,o.menu),h=o.executeInEditMode;e("AutoScale",s(u.module+"_component_AutoScale")(c=h(!0)(c=l(u.module+"/component/AutoScale")(c=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.start=function(){for(var e=this.node.children,t=0;t<(null==e?void 0:e.length);t++){e[t].on(i.EventType.SIZE_CHANGED,this._onSizeChange,this)}this._onSizeChange()},o.onDestroy=function(){this.node.off(i.EventType.SIZE_CHANGED,this._onSizeChange,this)},o._onSizeChange=function(){var e=this.node.getComponent(a);if(e){for(var t=e.width,n=this.node.children,o=0;o<(null==n?void 0:n.length);o++){var i,r,u=n[o],c=(null!=(i=null==(r=u.getComponent(a))?void 0:r.width)?i:0)*u.scale.x;c>t&&(t=c)}var s=e.width/t;this.node.setScale(s,s)}},n}(r))||c)||c)||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/AutoScaleNode4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(t){var e,n,o,i,a,r,c,s,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.NodeEventType,s=t.UITransform,l=t.Vec3},function(t){u=t.default}],execute:function(){var d,h,p;a._RF.push({},"b284bo5ESRBcY2tp10wvhI7","AutoScaleNode",void 0);var f=r.ccclass,v=r.property;t("AutoScaleNode",f("AutoScaleNode")((p=e((h=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"maxWidth",p,i(e)),e}n(e,t);var a=e.prototype;return a.start=function(){},a.addEvents=function(){t.prototype.addEvents.call(this),this.onN(this.node,c.SIZE_CHANGED,this.autoScaleSelf,this)},a.autoScaleSelf=function(){var t,e=null==(t=this.node)||null==(t=t.getComponent(s))?void 0:t.contentSize;if(e){var n=1,o=new l(n,n,n),i=this.node.scale;e.width>this.maxWidth?(n=this.maxWidth/e.width,this.node.setScale(new l(n,n,n))):i!==o&&this.node.setScale(o)}},e}(u)).prototype,"maxWidth",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),d=h))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameConstants6.ts","./EventComponent.ts","./SubGameDefines7.ts"],(function(t){var e,a,r,i,n,o,s;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,r=t._decorator,i=t.find},function(t){n=t.SubGameConstants},function(t){o=t.default},function(t){s=t.EventName}],execute:function(){var c;a._RF.push({},"449c9VorwVHWZU7dKa8u8oG","BackgroundView",void 0);var l=r.ccclass;r.property,t("default",l(c=function(t){function a(){for(var e,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).landscape_free=null,e.landscape_normal=null,e.portrait_free=null,e.portrait_normal=null,e.b_freeModel=!1,e}e(a,t);var r=a.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),this.landscape_free=i("landscape_free",this.node),this.landscape_normal=i("landscape_normal",this.node),this.portrait_free=i("portrait_free",this.node),this.portrait_normal=i("portrait_normal",this.node),this.landscape_free.active=!1,this.landscape_normal.active=!1,this.portrait_free.active=!1,this.portrait_normal.active=!1,this.switchFreeScene(!1,!1)},r.switchFreeScene=function(t,e){void 0===e&&(e=!0),this.landscape_free.active=!1,this.landscape_normal.active=!1,this.portrait_free.active=!1,this.portrait_normal.active=!1;var a=null;t?(this.b_freeModel=!0,a=n.AudioSource.BGM_SWEET_02,"portrait"===App.utils.getOrientation()?this.portrait_free.active=!0:this.landscape_free.active=!0):(this.b_freeModel=!1,a=n.AudioSource.BGM_SWEET_01,"portrait"===App.utils.getOrientation()?this.portrait_normal.active=!0:this.landscape_normal.active=!0),e&&dispatch(s.PLAY_MUSIC,a)},r.onSwitchScreen=function(t){this.landscape_free.active=!1,this.landscape_normal.active=!1,this.portrait_free.active=!1,this.portrait_normal.active=!1,this.b_freeModel?"portrait"===t?this.portrait_free.active=!0:this.landscape_free.active=!0:"portrait"===t?this.portrait_normal.active=!0:this.landscape_normal.active=!0},a}(o))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/BuyFreeSpinsView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./CommonEvent.ts","./SubGameDefines7.ts","./SubGameData7.ts","./SubGameConstants6.ts","./NumberCurrency.ts"],(function(t){var e,n,i,o,s,a,r,l,c,u,h,p,b,_,f,d,k,S,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,c=t.sp,u=t.Button,h=t.Vec3},function(t){p=t.default},function(t){b=t.inject},function(t){_=t.CommonEvent},function(t){f=t.PORTRAIT_POPVIEW_POS,d=t.EventName},function(t){k=t.SubGameData},function(t){S=t.SubGameConstants},function(t){y=t.NumberCurrency}],execute:function(){var m,g,E,C,v,N,T,A,w,U,F,B,D,L,O;a._RF.push({},"9f875gTL+hGVb4UF4w3u9zh","BuyFreeSpinsView",void 0);var P=r.ccclass;r.property,t("default",(m=P("BuyFreeSpinsView"),g=b("content",l),E=b("content/skeleton",c.Skeleton),C=b("content/skeleton/targetNode/NumberCurrency",l),v=b("content/skeleton/targetNode/NumberCurrency/label_currency",y),N=b("content/skeleton/okNode/btn_ok",l),T=b("content/skeleton/closeNode/btn_close",l),m((U=e((w=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"content",U,o(e)),i(e,"skeleton",F,o(e)),i(e,"label_score_node",B,o(e)),i(e,"label_score",D,o(e)),i(e,"btn_ok",L,o(e)),i(e,"btn_close",O,o(e)),e.logic=null,e.b_clickable=!1,e}n(e,t),e.getPrefabUrl=function(){return"prefabs/BuyFreeSpinsView"};var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),this.onN(this.btn_ok,u.EventType.CLICK,this.onClickOK),this.onN(this.btn_close,u.EventType.CLICK,this.onClickClose)},a.addEvents=function(){t.prototype.addEvents.call(this),this.onD(_.SWITCH_SCREEN,this.onSwitchScreen),this.onD(_.DISPATCH_TOTAL_BET,this.onRefreshBetAmount)},a.onClose=function(){t.prototype.onClose.call(this)},a.onDestroy=function(){t.prototype.onDestroy.call(this)},a.onShow=function(){var e=this;this.args&&this.args.length>0&&(this.logic=this.args[0],this.onSwitchScreen(App.utils.getOrientation()),this.b_clickable=!1,this.btn_close.active=!0,this.btn_ok.active=!0,this.onRefreshBetAmount(this.logic.data.total_bet),this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"ani_appear",!1),this.skeleton.setCompleteListener((function(t){var n=t.animation?t.animation.name:"";"ani_appear"===n?(e.skeleton.setAnimation(0,"ani_loop",!0),e.b_clickable=!0):"ani_disappear"===n&&e.close()}))),dispatch(_.NOTIFY_BUY_FEATURE,!0),t.prototype.onShow.call(this)},a.onRefreshBetAmount=function(t){this.label_score.node.active=!0;var e=this.logic.data.total_bet*this.logic.data.BUYFEATURE_MULTIPLE;this.label_score.updateNumber(e)},a.onSwitchScreen=function(t){"portrait"===t?(this.node.setScale(new h(.85,.85,.85)),this.node.setPosition(f)):(this.node.setScale(new h(1,1,1)),this.node.setPosition(0,0,0))},a.onClickClose=function(){this.b_clickable&&(this.b_clickable=!1,this.btn_close.active=!1,this.btn_ok.active=!1,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"ani_disappear",!1),dispatch(_.NOTIFY_BUY_FEATURE,!1),dispatch(d.PLAY_SOUND,S.AudioSource.SOUND_CLOSE_BUY_FREESPIN))},a.onClickOK=function(){if(this.b_clickable){var t=this.logic.data.total_bet*this.logic.data.BUYFEATURE_MULTIPLE;App.utils.notEnoughScore(this.logic.data.money,t)||(this.b_clickable=!1,this.btn_close.active=!1,this.btn_ok.active=!1,this.logic.data.buy_free_spins=!0,this.logic.onSendBuyFreeSpins(),this.data.changeMusicVolume(1),this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"ani_disappear",!1),dispatch(_.NOTIFY_FREE_MODE),dispatch(d.PLAY_SOUND,S.AudioSource.SOUND_SUCCESS_BUY_FREESPIN))}},s(e,[{key:"data",get:function(){return App.dataCenter.get(k)}}]),e}(p)).prototype,"content",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(w.prototype,"skeleton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(w.prototype,"label_score_node",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(w.prototype,"label_score",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(w.prototype,"btn_ok",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(w.prototype,"btn_close",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=w))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/EffectView3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameDefines7.ts","./NumberCurrency.ts","./SubGameData7.ts","./CommonEvent.ts","./SubGameConstants6.ts"],(function(e){var t,n,o,i,r,a,s,c,l,u,p,f,d,_,h,S,v,m,b,y,E,w,g,I,L,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,s=e._decorator,c=e.sp,l=e.find,u=e.tween,p=e.Vec3,f=e.UITransform,d=e.Label,_=e.Prefab,h=e.instantiate},function(e){S=e.default},function(e){v=e.EventName,m=e.GRID_PIXEL_WIDTH,b=e.GRID_PIXEL_HEIGHT,y=e.GRID_LENGTH,E=e.CELL_SIZE,w=e.CELL_SIZE_HEIGHT},function(e){g=e.NumberCurrency},function(e){I=e.SubGameData},function(e){L=e.CommonEvent},function(e){C=e.SubGameConstants}],execute:function(){var P,N,T,D,R,G,M;a._RF.push({},"32e88u6MuRDVZDLc7kZSbMS","EffectView",void 0);var A=s.ccclass,W=s.property;e("default",(P=A("EffectView"),N=W({type:c.Skeleton}),T=W({type:c.Skeleton}),P((G=t((R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).pools=new Map,o(t,"win_score_effect_landscape",G,i(t)),o(t,"win_score_effect_portrait",M,i(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this)},a.addEvents=function(){e.prototype.addEvents.call(this),this.onD(v.SHOW_WIN_SCORE,this.initWinningScore),this.onD(v.SHOW_WIN_MULTIPILER_SCORE,this.initLabelMultipiler)},a.initWinningScore=function(e,t,n){var o=this,i=l("GridViewMask",this.node.parent).getScale(),r=this.winScoreMoveToPos(),a=this.convertNodePos(this.node,e),s=this._createSymbol("LabelScore");if(s){var c,f;this.node.addChild(s),i&&s.setScale(i),s.setPosition(a),(null==(c=l("NumberCurrency/label_currency",s))?void 0:c.getComponent(g)).updateNumber(t);var d=[],_=u(s).set({scale:new p(1.4,1.4,1.4)}).to(.6,{position:r},{easing:"quintIn"});d.push(_),d.push(u(s).call((function(){dispatch(v.PLAY_SOUND,C.AudioSource.SOUND_LIGHT),dispatch(L.NOTIFY_WINSCORE_TIPS,n,!0),o._recycleSymbol(s)}))),(f=u(s)).sequence.apply(f,d).start()}},a.initLabelMultipiler=function(e,t,n,o){var i=this,r=E*(t-.5),a=w*(e-.5),s=this._createSymbol("LabelMultipiler"),c=o.getComponent(f);if(s){var l,_=s.getComponent(d);_&&(_.string=n+"x"),this.node.addChild(s);var h=c.convertToWorldSpaceAR(new p(r,a));s.setWorldPosition(h);var S=c.convertToWorldSpaceAR(new p(m/2+50,b+30,0));s.setSiblingIndex(y+2);var g=[];g.push(u(s).to(.1,{scale:new p(2,2,1)}).to(.4,{worldPosition:S,scale:new p(1,1,1)},{easing:"sineOut"}).union()),g.push(u().call((function(){dispatch(v.REFRESH_TUMBLE_WIN_MULTIPLE,n),i._recycleSymbol(s)}))),(l=u(s)).sequence.apply(l,g).start()}},a._createSymbol=function(e){var t;if(!this.pools.has(e)){var n,o=App.pool.createPool(e),i=null==(n=App.cache.get(this.data.module,"prefabs/item/"+e,_))?void 0:n.data;if(i instanceof _){var r=h(i);o.cloneNode=r}this.pools.set(e,o)}var a=null==(t=this.pools.get(e))?void 0:t.get();return a||null},a._recycleSymbol=function(e){var t;this.pools.has(e.name)&&(null==(t=this.pools.get(e.name))||t.put(e))},a.onDestroy=function(){this.pools.forEach((function(e){App.pool.deletePool(e)})),this.pools.clear()},a.winScoreMoveToPos=function(){var e,t=new p(0,0,0),n=null==(e=this.node.parent)?void 0:e.getComponent(f);return t="portrait"===App.utils.getOrientation()?this.win_score_effect_portrait.node.worldPosition:this.win_score_effect_landscape.node.worldPosition,n.convertToNodeSpaceAR(t)},a.convertNodePos=function(e,t){return e.getComponent(f).convertToNodeSpaceAR(t)},r(t,[{key:"data",get:function(){return App.dataCenter.get(I)}}]),t}(S)).prototype,"win_score_effect_landscape",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(R.prototype,"win_score_effect_portrait",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=R))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/EliminateCellView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameDefines7.ts","./SubGameData7.ts","./SubGameConstants6.ts"],(function(t){var i,e,n,s,a,o,l,r,c,h,d,_,u,p,m,S,I,v,C,D,y,f,L,N,b,O,k,P,w,A,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,l=t._decorator,r=t.sp,c=t.Sprite,h=t.Vec3,d=t.find,_=t.Label,u=t.tween,p=t.Tween,m=t.Component},function(t){S=t.CELL_SIZE,I=t.CELL_SIZE_HEIGHT,v=t.MultipleSkin,C=t.DELAY_rows,D=t.DELAY_columns,y=t.GRID_PIXEL_HEIGHT,f=t.CELL_FREEMODEL_ID,L=t.CELL_ANI_ICON,N=t.EventName,b=t.CELL_ANI_CRUSH,O=t.GRID_HEIGHT,k=t.CELL_ANI_SPECIAL_DROP,P=t.CELL_ANI_DROP,w=t.MULTIPLE_ICON},function(t){A=t.SubGameData},function(t){g=t.SubGameConstants}],execute:function(){var U,E,T,R,B,x,M,H,Y,G;o._RF.push({},"90742nUE9VGZ4ZEoxQ0W2cw","EliminateCellView",void 0);var Q=l.ccclass,q=l.property,z=1e4,F=12e4,K="sineIn";t("default",(U=q(r.Skeleton),E=q(r.Skeleton),T=q(c),R=q(r.Skeleton),Q((M=i((x=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a))||this,n(i,"m_spine",M,s(i)),n(i,"m_crush",H,s(i)),n(i,"m_sprite",Y,s(i)),n(i,"m_kuang",G,s(i)),i.m_icon_id=-1,i.m_multiple=0,i.m_columns=0,i.m_rows=0,i.label_beilv=null,i._zIndex=0,i.randomNum=0,i.bIsScatterSoundPlayed=!1,i.curScatterSoundIdx=0,i.newCellDropCallBack=null,i.bIsNewCellDown=!1,i.preCellDropCallBack=null,i.bIsPreCellDrop=!1,i}e(i,t);var o=i.prototype;return o.initWithModel=function(t,i,e){this.node.attr({icon_id:t,i:i,j:e}),this.IconId=t,this.m_columns=e,this.m_rows=i;var n=S*(this.m_columns-.5),s=I*(this.m_rows-.5);if(this.node.setPosition(new h(n,s)),this.m_sprite.node.setScale(new h(1,1,1)),this.m_spine.node.setScale(new h(1,1,1)),t>z){var a,o;this.Multiple=t%z,this.m_spine.node.active=!0;var l=null==(a=d("label_multiple",this.node))?void 0:a.getComponent(_);l.node.active=!0,l.string=this.Multiple+"x",this.label_beilv=l;var r=this.getMultipleSkinName(this.Multiple),c=r.skin,u=r.icon;this.m_spine.setSkin(c),this.m_sprite.spriteFrame=null==(o=this.m_sprite.spriteAtlas)?void 0:o.getSpriteFrame(u),c===v.PURPLE?(this.m_sprite.node.setScale(new h(1.1,1.1,1)),this.m_spine.node.setScale(new h(1.1,1.1,1))):c===v.RED?(this.m_sprite.node.setScale(new h(1.2,1.2,1)),this.m_spine.node.setScale(new h(1.2,1.2,1))):(this.m_sprite.node.setScale(new h(1,1,1)),this.m_spine.node.setScale(new h(1,1,1)))}this.m_spine.clearTracks(),this.m_spine.node.active=!1,this.m_sprite.node.active=!0,this.m_crush.node.active=!1,this.bIsScatterSoundPlayed=!1,this.curScatterSoundIdx=0,this.m_kuang.node.active=!1,this.bIsNewCellDown=!1,this.bIsPreCellDrop=!1,this.newCellDropCallBack=null,this.preCellDropCallBack=null},o.dropAndRemove=function(t){var i,e=this;this.preCellDropCallBack=t;var n=[],s=C*(this.m_rows-1)+D*(this.m_columns-1);this.data.QUICK_SPIN||this.data.TURBO_SPIN?Log.d("no need delay"):n.push(u().target(this.node).delay(s));var a=this.node.position.clone(),o=Math.sqrt(2*a.y/7e3);n.push(u(this.node).by(o,{position:new h(0,-y,0)},{easing:K})),n.push(u().call((function(){e.bIsPreCellDrop=!0,t&&t(),e.preCellDropCallBack=null}))),(i=u(this.node)).sequence.apply(i,n).start()},o.delete_self=function(t){this.clearSelf(),t&&t()},o.play_winning_animation=function(t){var i=this;this.data.TURBO_SPIN?this.IconId===f?(this.m_sprite.node.active=!1,this.m_spine.node.active=!0,this.m_crush.node.active=!1,this.m_spine.clearTracks(),this.m_spine.setAnimation(0,L,!1)):this.play_bomb_animation(t):(this.m_sprite.node.active=!1,this.m_spine.node.active=!0,this.m_crush.node.active=!1,this.m_spine.clearTracks(),Log.d("play_winning_animation ",Date.now()),this.m_spine.setAnimation(0,L,!1),this.IconId!==f&&(this.m_kuang.node.active=!0,this.m_kuang.clearTracks(),this.m_kuang.timeScale=.8,this.m_kuang.setAnimation(0,"animation",!0),this.data.SWITCH_FREE_MODE?this.data.bPlayedFreeShakeSound||(this.data.bPlayedFreeShakeSound=!0,Log.d("play_winning_animation",this.data.soundShakeIdx,g.SOUND_WIN_SHAKE[this.data.soundShakeIdx]),dispatch(N.PLAY_SOUND,g.SOUND_WIN_SHAKE[this.data.soundShakeIdx]),this.data.soundShakeIdx++,this.data.soundShakeIdx>=g.SOUND_WIN_SHAKE.length&&(this.data.soundShakeIdx=0)):dispatch(N.PLAY_SOUND,g.AudioSource.SOUND_NORMAL_WIN))),this.m_spine.setCompleteListener((function(e){(e.animation?e.animation.name:"")===L&&(i.IconId===f?(i.m_spine.clearTracks(),i.m_spine.node.active=!1,i.m_sprite.node.active=!0,i.m_crush.node.active=!1,t&&t()):(Log.d("play_winning_animation 2 ",Date.now()),i.play_bomb_animation(t)))}))},o.play_bomb_animation=function(t){var i=this;this.m_sprite.node.active=!1,this.m_spine.node.active=!1,this.m_crush.node.active=!0,this.m_kuang.node.active=!1,this.m_crush.clearTracks(),this.m_crush.setAnimation(0,b,!1),this.m_crush.setCompleteListener((function(e){(e.animation?e.animation.name:"")===b&&(i.play_completion(),t&&t())})),this.data.PLAYBOMBSOUND||(this.data.PLAYBOMBSOUND=!0,Log.d("play_bomb_animation",g.SOUND_CLEARS[this.data.soundClearIdx]),dispatch(N.PLAY_SOUND,g.SOUND_CLEARS[this.data.soundClearIdx]),this.data.soundClearIdx++,this.data.soundClearIdx>=g.SOUND_CLEARS.length&&(this.data.soundClearIdx=0))},o.resetCanBombSound=function(){this.data.PLAYBOMBSOUND=!1,this.data.bPlayedFreeShakeSound=!1},o.play_completion=function(){this.m_spine.clearTracks(),p.stopAllByTarget(this.node),this.m_sprite.node.active=!1,this.m_spine.node.active=!1,this.m_crush.node.active=!1,this.m_kuang.node.active=!1},o.clearSelf=function(){this.node.removeFromParent(),this.node.destroy()},o.initNewCellAndDrop=function(t,i){var e,n=this;void 0===i&&(i=!1),this.newCellDropCallBack=t;var s=y;this.node.setPosition(new h(this.node.getPosition().x,this.node.getPosition().y+s));var a=[],o=C*(this.m_rows-1)*.6+D*(this.m_columns-1)*O*.8,l=this.node.position.clone(),r=Math.sqrt(2*l.y/15e3);this.data.QUICK_SPIN||this.data.TURBO_SPIN||this.data.QUICKSTOP?r=Math.sqrt(2*l.y/3e4):a.push(u().target(this.node).delay(o));var c=this,d=!1;a.push(u(this.node).by(r,{position:new h(0,-s,0)},{easing:K,onUpdate:function(t,i){if(!(c.data.QUICK_SPIN||c.data.TURBO_SPIN||c.data.QUICKSTOP||c.m_icon_id===f||1!==c.m_columns||1!==c.m_rows||d)){var e=2*I;t.position.y<=e&&(d=!0,dispatch(N.PLAY_SOUND,g.AudioSource.SOUND_SCROLL_1))}}})),a.push(u().call((function(){(n.data.QUICK_SPIN||n.data.TURBO_SPIN||n.data.QUICKSTOP)&&(n.data.bHasPlayQuickStopSound||(n.data.bHasPlayQuickStopSound=!0,dispatch(N.PLAY_SOUND,g.AudioSource.SOUND_SCROLL_3))),n.play_ani_drop(t,i)}))),(e=u(this.node)).sequence.apply(e,a).start()},o.play_ani_drop=function(t,i){var e=this;void 0===i&&(i=!1),this.bIsNewCellDown=!0,this.newCellDropCallBack=null,this.m_sprite.node.active=!1,this.m_spine.node.active=!0,this.m_crush.node.active=!1,this.m_kuang.node.active=!1,this.m_spine.clearTracks(),this.IconId==f?(this.scheduleOnce((function(){e.playScatterSound(i)}),.2),this.m_spine.setAnimation(0,k,!1)):this.m_spine.setAnimation(0,P,!1),this.m_spine.setCompleteListener((function(i){var n=i.animation?i.animation.name:"";n!==P&&n!==k||(e.m_spine.clearTracks(),e.m_sprite.node.active=!0,e.m_spine.node.active=!1,t&&t())}))},o.downAction=function(t,i,e,n){var s,a=this;void 0===n&&(n=!1);this.m_columns,this.m_rows;this.m_columns=i,this.m_rows=t;var o=S*(i-.5),l=I*(t-.5),r=C*(t-1),c=[],d=this.node.position.clone(),_=Math.sqrt(2*d.y/F);c.push(u().target(this.node).delay(r)),c.push(u(this.node).to(_,{position:new h(o,l,0)},{easing:K})),c.push(u().call((function(){a.play_ani_drop(e,n)}))),dispatch(N.PLAY_SOUND,g.AudioSource.SOUND_SCROLL_2),(s=u(this.node)).sequence.apply(s,c).start()},o.downAction2=function(t,i,e,n,s){var a,o=this;void 0===s&&(s=!0),this.m_columns=i,this.m_rows=t;var l=S*(i-.5),r=I*(t-.5);e>0&&(r=e),this.node.setPosition(new h(l,r));var c=S*(i-.5),d=I*(t-.5),_=C*(t-1),p=[],m=this.node.position.clone(),v=Math.sqrt(2*m.y/F);p.push(u().target(this.node).delay(_)),p.push(u(this.node).to(v,{position:new h(c,d,0)},{easing:K})),p.push(u().call((function(){o.play_ani_drop(n,s)}))),dispatch(N.PLAY_SOUND,g.AudioSource.SOUND_SCROLL_2),(a=u(this.node)).sequence.apply(a,p).start()},o.play_ani_multiple=function(t){var i=this;this.data.TURBO_SPIN?(this.IconId>z&&this.play_bomb_animation2(t),dispatch(N.PLAY_SOUND,g.AudioSource.SOUND_BOOM)):(this.m_spine.node.active=!0,this.m_crush.node.active=!1,this.m_sprite.node.active=!1,this.m_kuang.node.active=!1,this.m_spine.clearTrack(0),this.m_spine.setAnimation(0,L,!1),this.m_spine.timeScale=1.1,dispatch(N.PLAY_SOUND,g.AudioSource.SOUND_MULTIPLE_BLING,!1,!0),this.scheduleOnce((function(){dispatch(N.PLAY_SOUND,g.AudioSource.SOUND_BOOM,!1,!0)}),1),this.m_spine.setCompleteListener((function(e){(e.animation?e.animation.name:"")===L&&i.IconId>z&&(i.m_spine.timeScale=1,i.play_bomb_animation2(t))})))},o.play_bomb_animation2=function(t){var i=this;this.m_spine.clearTracks(),this.m_sprite.node.active=!1,this.m_spine.node.active=!1,this.m_crush.node.active=!0,this.m_kuang.node.active=!1,this.m_crush.clearTrack(0),this.m_crush.setAnimation(0,"eff_stop",!1),dispatch(N.PLAY_SOUND,g.AudioSource.SOUND_DOUBLE_CLEARING,!1,!0),this.scheduleOnce((function(){i.label_beilv.node.active=!1,t&&t()}),.2)},o.getMultipleSkinName=function(t){var i=v.GREEN,e=w[0];return t>=10&&t<50?(i=v.PURPLE,e=w[1]):t<=100&&t>=50&&(i=v.RED,e=w[2]),{skin:i,icon:e}},o.playScatterSound=function(t){void 0===t&&(t=!1),this.m_icon_id==f&&t&&(!this.data.bHasPlayScatterSound&&this.data.buy_free_spins||!this.data.buy_free_spins)&&(this.data.bHasPlayScatterSound=!0,dispatch(N.PLAY_SOUND,g.SOUND_SCATTERS[this.data.scatterSoundIdx],!1,!0),this.data.scatterSoundIdx++,this.data.scatterSoundIdx>=g.SOUND_SCATTERS.length&&(this.data.scatterSoundIdx=0))},o.quickStopDown=function(t,i){var e=this;void 0===t&&(t=!1);var n=S*(this.m_columns-.5),s=I*(this.m_rows-.5),a=this.node.position.clone();if(!this.bIsNewCellDown&&(p.stopAllByTarget(this.node),this.newCellDropCallBack)){var o=Math.abs(a.y-s)/3e3;u(this.node).to(o,{position:new h(n,s)}).call((function(){e.data.bHasPlayQuickStopSound||(e.data.bHasPlayQuickStopSound=!0,dispatch(N.PLAY_SOUND,g.AudioSource.SOUND_SCROLL_3,!1,!0)),e.play_ani_drop(e.newCellDropCallBack,t)})).start()}},o.quickDorpRemove=function(){this.bIsPreCellDrop||(p.stopAllByTarget(this.node),this.preCellDropCallBack&&(this.bIsPreCellDrop=!0,this.preCellDropCallBack()))},a(i,[{key:"data",get:function(){return App.dataCenter.get(A)}},{key:"IconId",get:function(){return this.m_icon_id},set:function(t){this.m_icon_id=t}},{key:"Multiple",get:function(){return this.m_multiple},set:function(t){this.m_multiple=t}},{key:"zIndex",get:function(){return this._zIndex},set:function(t){this._zIndex=t}}]),i}(m)).prototype,"m_spine",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(x.prototype,"m_crush",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(x.prototype,"m_sprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(x.prototype,"m_kuang",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=x))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/ExBannerContentProvider6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BannerContentProvider.ts","./SubGameData7.ts"],(function(n){var e,r,t,o,i;return{setters:[function(n){e=n.inheritsLoose},function(n){r=n.cclegacy,t=n._decorator},function(n){o=n.BannerContentProvider},function(n){i=n.SubGameData}],execute:function(){var c;r._RF.push({},"d5b69b+zHhPO7+sgtVq+Qqx","ExBannerContentProvider",void 0);var s=t.ccclass,a=(t.property,t.menu);n("ExBannerContentProvider",s(i.module+"_component_ExBannerContentProvider")(c=a(i.module+"/component/ExBannerContentProvider")(c=function(n){function r(){return n.apply(this,arguments)||this}return e(r,n),r.prototype.dataList=function(){return["<img src='en1'/>","<img src='en2'/>","<img src='en3'/>","<img src='en4'/>","<img src='en5'/>","<img src='en6'/>"]},r}(o))||c)||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/FunctionButtonView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Global.ts","./SubGameDefines7.ts","./SubGameData7.ts","./NumberCurrency.ts","./SubGameConstants6.ts"],(function(t){var e,n,i,a,s,o,r,_,p,c,l,h,b,d,u,f,y,v,L;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,a=t._decorator,s=t.find,o=t.Button,r=t.Node,_=t.Label,p=t.UIOpacity,c=t.tween,l=t.Vec3},function(t){h=t.default},function(t){b=t.Global},function(t){d=t.EventName,u=t.GRID_MOVE_TIME,f=t.DEFAULT_FREE_TIMES},function(t){y=t.SubGameData},function(t){v=t.NumberCurrency},function(t){L=t.SubGameConstants}],execute:function(){var S;i._RF.push({},"7b120pAVpFHO6PwWrfWIZPR","FunctionButtonView",void 0);var m=a.ccclass;a.property,t("FunctionButtonView",m("FunctionButtonView")(S=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).view=null,e.btn_buy_portrait=null,e.btn_buy_landscape=null,e.btn_bet_portrait=null,e.btn_bet_landscape=null,e.price_buy_portrait=null,e.price_buy_landscape=null,e.price_bet_portrait=null,e.price_bet_landscape=null,e.check_off_portrait=null,e.check_off_landscape=null,e.check_on_portrait=null,e.check_on_landscape=null,e.b_check=!1,e.buy_not_clickable=!1,e.bet_not_clickable=!1,e.pos_buy_portrait=new l(0,0,0),e.pos_buy_landscape=new l(0,0,0),e.pos_bet_portrait=new l(0,0,0),e.pos_bet_landscape=new l(0,0,0),e.normalOpacity=255,e.disabledOpacity=150,e.freeSpinsLeftPanel_landscape=null,e.labelFreeSpinsLeft_landscape=null,e.normalLeft_landscape=null,e.lastLeft_landscape=null,e.freeSpinsLeftPanel_portrait=null,e.labelFreeSpinsLeft_portrait=null,e.normalLeft_portrait=null,e.lastLeft_portrait=null,e}e(i,t);var a=i.prototype;return a.onLoad=function(){var e,n,i,a,p,c,l,h;t.prototype.onLoad.call(this),this.btn_buy_portrait=null==(e=s("btn_buy_portrait",this.node))?void 0:e.getComponent(o),this.onN(this.btn_buy_portrait.node,r.EventType.TOUCH_END,this.onClickBuy),this.btn_buy_landscape=null==(n=s("btn_buy_landscape",this.node))?void 0:n.getComponent(o),this.onN(this.btn_buy_landscape.node,r.EventType.TOUCH_END,this.onClickBuy),this.btn_bet_portrait=null==(i=s("btn_bet_portrait",this.node))?void 0:i.getComponent(o),this.onN(this.btn_bet_portrait.node,r.EventType.TOUCH_END,this.onClickBet),this.btn_bet_landscape=null==(a=s("btn_bet_landscape",this.node))?void 0:a.getComponent(o),this.onN(this.btn_bet_landscape.node,r.EventType.TOUCH_END,this.onClickBet),this.pos_buy_portrait=this.btn_buy_portrait.node.getPosition(),this.pos_buy_landscape=this.btn_buy_landscape.node.getPosition(),this.pos_bet_portrait=this.btn_bet_portrait.node.getPosition(),this.pos_bet_landscape=this.btn_bet_landscape.node.getPosition(),this.price_buy_portrait=null==(p=s("btn_buy_portrait/NumberCurrency/label_currency",this.node))?void 0:p.getComponent(v),this.price_buy_landscape=null==(c=s("btn_buy_landscape/NumberCurrency/label_currency",this.node))?void 0:c.getComponent(v),this.price_bet_portrait=null==(l=s("btn_bet_portrait/NumberCurrency/label_currency",this.node))?void 0:l.getComponent(v),this.price_bet_landscape=null==(h=s("btn_bet_landscape/NumberCurrency/label_currency",this.node))?void 0:h.getComponent(v),this.check_off_portrait=s("btn_bet_portrait/check_off",this.node),this.check_off_landscape=s("btn_bet_landscape/check_off",this.node),this.check_on_portrait=s("btn_bet_portrait/check_on",this.node),this.check_on_landscape=s("btn_bet_landscape/check_on",this.node),this.freeSpinsLeftPanel_landscape=s("free_spin_left_landscape",this.node),this.normalLeft_landscape=s("free_spin_left_landscape/normalLeft",this.node),this.labelFreeSpinsLeft_landscape=s("leftNum",this.normalLeft_landscape).getComponent(_),this.lastLeft_landscape=s("free_spin_left_landscape/lastLeft",this.node),this.freeSpinsLeftPanel_portrait=s("free_spin_left_portrait",this.node),this.normalLeft_portrait=s("free_spin_left_portrait/normalLeft",this.node),this.labelFreeSpinsLeft_portrait=s("leftNum",this.normalLeft_portrait).getComponent(_),this.lastLeft_portrait=s("free_spin_left_portrait/lastLeft",this.node),this.btn_buy_portrait.node.active=!1,this.btn_buy_landscape.node.active=!1,this.btn_bet_portrait.node.active=!1,this.btn_bet_landscape.node.active=!1,this.freeSpinsLeftPanel_landscape.active=!1,this.freeSpinsLeftPanel_portrait.active=!1,this.onSwitchScreen(App.utils.getOrientation())},a.addEvents=function(){this.onD(d.FREE_SPINS_LEFT,this.onRefreshFreeSpinsLeft),this.onD(d.ON_SHOW_FREE_SPINS_LEFT,this.onShowFreeSpinsLeft),t.prototype.addEvents.call(this)},a.onSwitchScreen=function(t){this.btn_buy_portrait.node.active=!1,this.btn_buy_landscape.node.active=!1,this.btn_bet_portrait.node.active=!1,this.btn_bet_landscape.node.active=!1,this.freeSpinsLeftPanel_landscape.active=!1,this.freeSpinsLeftPanel_portrait.active=!1,"portrait"===t?(this.btn_buy_portrait.node.active=!0,this.btn_bet_portrait.node.active=!0,this.data.SWITCH_FREE_MODE&&(this.freeSpinsLeftPanel_portrait.active=!0)):(this.btn_buy_landscape.node.active=!0,this.btn_bet_landscape.node.active=!0,this.data.SWITCH_FREE_MODE&&(this.freeSpinsLeftPanel_landscape.active=!0))},a.onRefreshBuyPrice=function(t){this.price_buy_portrait.updateNumber(t),this.price_buy_landscape.updateNumber(t)},a.onRefreshBetPrice=function(t){this.price_bet_portrait.updateNumber(t),this.price_bet_landscape.updateNumber(t)},a.onRefreshBuyOpacity=function(t){this.buy_not_clickable=!t,this.btn_buy_portrait.node.getComponent(p).opacity=t?this.normalOpacity:this.disabledOpacity,this.btn_buy_landscape.node.getComponent(p).opacity=t?this.normalOpacity:this.disabledOpacity},a.onRefreshBetOpacity=function(t){this.bet_not_clickable=!t,this.btn_bet_portrait.node.getComponent(p).opacity=t?this.normalOpacity:this.disabledOpacity,this.btn_bet_landscape.node.getComponent(p).opacity=t?this.normalOpacity:this.disabledOpacity},a.enterNormalModel=function(){var t=this;this.onRefreshBuyOpacity(!1),this.onRefreshBetOpacity(!1),c(this.btn_buy_portrait.node).to(u,{position:new l(this.pos_buy_portrait.x,this.pos_buy_portrait.y,0)}).call((function(){t.b_check||t.data.AUTOPLAY?t.onRefreshBuyOpacity(!1):t.onRefreshBuyOpacity(!0)})).start(),c(this.btn_buy_landscape.node).to(u,{position:new l(this.pos_buy_landscape.x,this.pos_buy_landscape.y,0)}).call((function(){t.b_check||t.data.AUTOPLAY?t.onRefreshBuyOpacity(!1):t.onRefreshBuyOpacity(!0)})).start(),c(this.btn_bet_portrait.node).to(u,{position:new l(this.pos_bet_portrait.x,this.pos_bet_portrait.y,0)}).call((function(){t.data.AUTOPLAY?t.onRefreshBetOpacity(!1):t.onRefreshBetOpacity(!0)})).start(),c(this.btn_bet_landscape.node).to(u,{position:new l(this.pos_bet_landscape.x,this.pos_bet_landscape.y,0)}).call((function(){t.data.AUTOPLAY?t.onRefreshBetOpacity(!1):t.onRefreshBetOpacity(!0)})).start(),this.refreshFreeSpinLeftView(!1)},a.enterFreeModel=function(){this.onRefreshBuyOpacity(!1),this.onRefreshBetOpacity(!1),c(this.btn_buy_portrait.node).to(u,{position:new l(this.pos_buy_portrait.x-b.background_width,this.pos_buy_portrait.y,0)}).call((function(){})).start(),c(this.btn_buy_landscape.node).to(u,{position:new l(this.pos_buy_landscape.x-b.background_width,this.pos_buy_landscape.y,0)}).call((function(){})).start(),c(this.btn_bet_portrait.node).to(u,{position:new l(this.pos_bet_portrait.x-b.background_width,this.pos_bet_portrait.y,0)}).call((function(){})).start(),c(this.btn_bet_landscape.node).to(u,{position:new l(this.pos_bet_landscape.x-b.background_width,this.pos_bet_landscape.y,0)}).call((function(){})).start(),this.labelFreeSpinsLeft_landscape.string=f.toString(),this.labelFreeSpinsLeft_portrait.string=f.toString(),this.refreshFreeSpinLeftView(!0)},a.switchFreeScene=function(t){t?(this.btn_buy_portrait.node.setPosition(new l(this.pos_buy_portrait.x-b.background_width,this.pos_buy_portrait.y,0)),this.btn_buy_landscape.node.setPosition(new l(this.pos_buy_landscape.x-b.background_width,this.pos_buy_landscape.y,0)),this.btn_bet_portrait.node.setPosition(new l(this.pos_bet_portrait.x-b.background_width,this.pos_bet_portrait.y,0)),this.btn_bet_landscape.node.setPosition(new l(this.pos_bet_landscape.x-b.background_width,this.pos_bet_landscape.y,0)),this.freeSpinsLeftPanel_portrait.active=!0,this.freeSpinsLeftPanel_landscape.active=!0):(this.btn_buy_portrait.node.setPosition(new l(this.pos_buy_portrait.x,this.pos_buy_portrait.y,0)),this.btn_buy_landscape.node.setPosition(new l(this.pos_buy_landscape.x,this.pos_buy_landscape.y,0)),this.btn_bet_portrait.node.setPosition(new l(this.pos_bet_portrait.x,this.pos_bet_portrait.y,0)),this.btn_bet_landscape.node.setPosition(new l(this.pos_bet_landscape.x,this.pos_bet_landscape.y,0)),this.freeSpinsLeftPanel_portrait.active=!1,this.freeSpinsLeftPanel_landscape.active=!1),this.refreshFreeSpinLeftView(t)},a.onClickBuy=function(){this.buy_not_clickable||(this.view.openBuyFreeSpinsView(),dispatch(d.PLAY_SOUND,L.AudioSource.SOUND_OPEN_BUY_FREESPIN))},a.onClickBet=function(){if(!this.bet_not_clickable){var t=!this.b_check;this.check_off_portrait.active=!1,this.check_off_landscape.active=!1,this.check_on_portrait.active=!1,this.check_on_landscape.active=!1,this.b_check=t,t?(this.check_on_portrait.active=!0,this.check_on_landscape.active=!0,this.onRefreshBuyOpacity(!1)):(this.check_off_portrait.active=!0,this.check_off_landscape.active=!0,this.onRefreshBuyOpacity(!0)),this.view.switchDoubleFeature(t)}},a.refreshFreeSpinLeftView=function(t){if(void 0===t&&(t=!1),this.freeSpinsLeftPanel_portrait.active=!1,this.freeSpinsLeftPanel_landscape.active=!1,this.lastLeft_landscape.active=!1,this.lastLeft_portrait.active=!1,"portrait"===App.utils.getOrientation()){if(this.freeSpinsLeftPanel_portrait.active=t,t){this.normalLeft_portrait.active=!0;var e=this.freeSpinsLeftPanel_portrait.getComponent(p);c(e).set({opacity:0}).to(u,{opacity:255}).start()}}else if(this.freeSpinsLeftPanel_landscape.active=t,t){this.normalLeft_landscape.active=!0;var n=this.freeSpinsLeftPanel_landscape.getComponent(p);c(n).set({opacity:0}).to(u,{opacity:255}).start()}},a.onRefreshFreeSpinsLeft=function(t){t>0?(this.lastLeft_landscape.active=!1,this.lastLeft_portrait.active=!1,this.normalLeft_landscape.active=!0,this.normalLeft_portrait.active=!0,this.labelFreeSpinsLeft_landscape.string=t.toString(),this.labelFreeSpinsLeft_portrait.string=t.toString()):(this.lastLeft_landscape.active=!0,this.lastLeft_portrait.active=!0,this.normalLeft_landscape.active=!1,this.normalLeft_portrait.active=!1)},a.onBtnBuyInteractable=function(t){},a.onShowFreeSpinsLeft=function(t){this.freeSpinsLeftPanel_portrait.active=t,this.freeSpinsLeftPanel_landscape.active=t},n(i,[{key:"data",get:function(){return App.dataCenter.get(y)}}]),i}(h))||S);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameEntry7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entry.ts","./Decorators.ts","./MainGameView6.ts","./GameService.ts","./GameHandler7.ts","./SubGameLanguage7.ts","./LoadingView6.ts","./Config.ts"],(function(){var e,n,t,a,o,i,r,u,c,s;return{setters:[function(n){e=n.inheritsLoose},function(e){n=e.cclegacy},function(e){t=e.Entry},function(e){a=e.registerEntry},function(e){o=e.default},function(e){i=e.GameService},function(e){r=e.default},function(e){u=e.SubGameLanguage},function(e){c=e.LoadingView},function(e){s=e.ViewZOrder}],execute:function(){var l;n._RF.push({},"7c5f405DORPw7HeJteFBQvT","GameEntry",void 0);a("GameEntry","slot3000508",o)(l=function(n){function t(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))||this).language=new u,e}e(t,n);var a=t.prototype;return a.addNetHandler=function(){App.handlerManager.get(r)},a.removeNetHandler=function(){App.handlerManager.destory(r)},a.loadResources=function(e){App.uiManager.open({type:c,bundle:this.bundle,zIndex:s.UI}).then((function(){App.utils.closeDocumentFrameAnimation(),e()}))},a.initData=function(){App.serviceManager.get(i,!0)},a.pauseMessageQueue=function(){},a.resumeMessageQueue=function(){},a.openGameView=function(){n.prototype.openGameView.call(this)},a.onUnloadBundle=function(){n.prototype.onUnloadBundle.call(this),App.serviceManager.destory(i)},t}(t));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameHandler7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Handler.ts","./GameService.ts","./Protocol8.ts","./Global.ts","./CommonEvent.ts","./SubGameData7.ts","./SubGameDefines7.ts"],(function(e){var t,s,n,a,o,c,i,r,u,m;return{setters:[function(e){t=e.inheritsLoose,s=e.createClass},function(e){n=e.cclegacy},function(e){a=e.Handler},function(e){o=e.GameService},function(e){c=e.Protocol},function(e){i=e.Global},function(e){r=e.CommonEvent},function(e){u=e.SubGameData},function(e){m=e.EventName}],execute:function(){n._RF.push({},"b80f93rp7JBbKH+KPe/ocZQ","GameHandler",void 0),e("default",function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var a=n.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),this.onS(c.LOGIN,this.s2cLogin),this.onS(c.USERINFO,this.s2cUserInfo),this.onS(c.SLOTINFO,this.s2cSlotInfo),this.onS(c.SLOTBET,this.s2cSlotBet),this.onS(c.LASTMAP,this.s2cLastMap),this.onS(c.FREESPIN,this.s2cFreeSpin)},a.s2cLogin=function(e){e&&e.message&&1==e.message.issucc&&(i.account=e.message.account,i.currency=e.message.mtype,this.c2sUserInfo(),this.c2sSlotInfo(),dispatch(r.OnLoginSuccess,e),dispatch(r.SWITCH_CURRENCY))},a.c2sUserInfo=function(){var e,t={type:c.USERINFO,message:{}};null==(e=this.service)||e.sendMessage(c.USERINFO,t)},a.c2sSlotInfo=function(){var e,t={type:c.SLOTINFO,message:{}};null==(e=this.service)||e.sendMessage(c.SLOTINFO,t)},a.s2cUserInfo=function(e){Log.d("s2cUserInfo message.money = ",e.message.money),Log.d("s2cUserInfo data.money = ",this.gameData.money),this.gameData.money=e.message.money},a.s2cSlotInfo=function(e){var t=e.message;this.gameData.slotInfo=t,this.gameData.loadDataFinish=!0,dispatch(m.OnLoadDataFinish);var s=!1;1==t.can_gm&&(s=!0),dispatch(r.NOTIFY_GMTOOL_VISIBLE,s)},a.s2cSlotBet=function(e){var t=e.message;dispatch(m.OnReceiveSlotBet,t)},a.s2cLastMap=function(e){var t=e.message;this.gameData.lastMapData=t},a.s2cFreeSpin=function(e){var t=e.message;dispatch(m.S2C_FREE_SPIN,t)},s(n,[{key:"gameData",get:function(){return App.dataCenter.get(u)}},{key:"service",get:function(){return App.serviceManager.get(o)}}]),n}(a)).module="Game",n._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logic.ts","./CommonEvent.ts","./GameSender7.ts","./Global.ts","./GameService.ts","./SubGameData7.ts","./SubGameDefines7.ts","./ResourceLoader.ts","./Resource.ts","./SubGameConstants6.ts","./Macros.ts","./LoadingView6.ts"],(function(e){var t,o,n,a,i,s,r,u,l,d,c,h,p,f,m,L,b,S,_,g,v,y,E;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose,n=e.createClass},function(e){a=e.cclegacy,i=e.Prefab,s=e.AudioClip,r=e.UIRenderer,u=e.randomRangeInt},function(e){l=e.Logic},function(e){d=e.CommonEvent},function(e){c=e.GameSender},function(e){h=e.Global},function(e){p=e.GameService},function(e){f=e.SubGameData},function(e){m=e.EventName,L=e.CELL_PREFAB_URL,b=e.PREFAB_URL_Multiplier,S=e.PREFAB_URL_Scatter},function(e){_=e.default},function(e){g=e.Resource},function(e){v=e.SubGameConstants},function(e){y=e.Macro},function(e){E=e.LoadingView}],execute:function(){a._RF.push({},"1c671Y4Wi1HhbufKd4Tx6Rd","GameLogic",void 0);e("GameLogic",function(e){function a(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this)._view=null,t.loader=new _,t}t(a,e);var l=a.prototype;return l.addEvents=function(){e.prototype.addEvents.call(this),this.onD(d.GAME_SERVICE_CONNECTED,this.onNetConnected),this.onD(d.GAME_SERVICE_CLOSE,this.onNetClose),this.onD(m.OnLoadDataFinish,this.enterMainGameView),this.onD(m.PLAY_SOUND,this.onPlaySound),this.onD(m.PLAY_MUSIC,this.onPlayMusic),this.onD(m.STOP_SOUND,this.onStopSound)},l.onLoad=function(t){e.prototype.onLoad.call(this,t),App.uiManager.close(E),this.view.init(),this.loadResources(),h.playback?(this.data.loadDataFinish=!0,this.enterMainGameView()):this.onConnect()},l.loadResources=function(){var e=this;this.loader.getLoadResources=function(){for(var t=[],o=1;o<L.length;o++)L[o]&&t.push({url:L[o],type:i,bundle:e.module});return t.push({url:"prefabs/item/LabelMultipiler",type:i,bundle:e.module}),t.push({url:"prefabs/item/LabelScore",type:i,bundle:e.module}),t.push({url:b,type:i,bundle:e.module}),t.push({url:S,type:i,bundle:e.module}),t.push({url:"prefabs/EnterGameView",type:i,bundle:e.module}),t.push({url:"prefabs/EnterGameView",type:i,bundle:e.module}),t.push({url:"prefabs/slotgame/Alert",type:i,bundle:e.module}),t.push({url:"prefabs/BackgroundView",type:i,bundle:e.module}),t.push({url:"prefabs/GridBgView",type:i,bundle:e.module}),t.push({url:"prefabs/FunctionButtonView",type:i,bundle:e.module}),t.push({url:"prefabs/IntroductionView",type:i,bundle:e.module}),t.push({url:"prefabs/JackpotView",type:i,bundle:e.module}),t.push({url:"prefabs/slotcommon/VerticalSpinView",type:i,bundle:y.BUNDLE_HALL}),t.push({url:"prefabs/slotcommon/HorizontalSpinView",type:i,bundle:y.BUNDLE_HALL}),t.push({url:"prefabs/slotcommon/SlotCommonView",type:i,bundle:y.BUNDLE_HALL}),t.push({url:v.AudioSource.SOUND_ENTER_GAME,type:s,bundle:e.module}),t},this.loader.onLoadComplete=function(t){g.LoaderError.SUCCESS&&(e.data.loadFinish=!0,e.data.initPools(),e.enterMainGameView())},this.loader.onLoadProgress=function(t,o){var n,a=Math.ceil(t/o*100);null==(n=e.view)||n.updateProgress(a),App.utils.onDocumentProgress(a)},this.loader.loadResources(),App.utils.clearHtmlTimer()},l.onDestroy=function(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];(t=e.prototype.onDestroy).call.apply(t,[this].concat(n))},l.onConnect=function(){var e=this.gameService;if(e.isConnected)return Log.d(e.module+" 断开连接中..."),void e.close();Log.d(e.module+" 连接中..."),e.connect()},l.onNetConnected=function(e){Log.d(e.module+" 连接成功!");var t=App.senderManager.get(c);t&&t.c2sLogin(h.gameId)},l.onNetClose=function(e){Log.d(e.module+" 断开连接!")},l.enterMainGameView=function(){this.data.loadFinish&&this.data.loadDataFinish&&(Log.d("enterMainGameView",this.data.slotInfo),dispatch(d.NOTIFY_USERINFO_SCORE,this.data.money),dispatch(d.NOTIFY_SLOT_INFO,this.data.slotInfo),this.view.showMain(),this.data.bHasLoadedRes||(this.onAfterGameLoadResources(),this.data.bHasLoadedRes=!0))},l.onAfterGameLoadResources=function(){var e=this;this.loader=new _,this.loader.getLoadResources=function(){var t=[];t.push({url:"prefabs/slotgame/AutoPlayView",type:i,bundle:e.module}),t.push({url:"prefabs/slotgame/MenuView",type:i,bundle:e.module});for(var n,a=o(v.preloadAudio.values());!(n=a()).done;){var r=n.value;t.push({url:r,type:s,bundle:e.module})}return t},this.loader.onLoadComplete=function(e){g.LoaderError.SUCCESS&&console.log("onAfterGameLoadResources SUCCESS ")},this.loader.onLoadProgress=function(e,t){var o=Math.ceil(e/t*100);console.log("onAfterGameLoadResources progress = ",o)},this.loader.loadResources()},l.onPlaySound=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),o?this.view.audioHelper.playEffectOneShot(e,this.module,!1):this.view.audioHelper.playEffect(e,this.module,t)},l.onPlayMusic=function(e){this.view.audioHelper.playMusic(e,this.module)},l.onStopSound=function(e){this.view.audioHelper.stopEffect(e,this.module)},l.updateChildColor=function(e,t){var o=this;if(e){var n=e.getComponent(r);n&&(n.color=t),e.children.forEach((function(e){return o.updateChildColor(e,t)}))}},l.onRefreshDefaultBet=function(e){this.data.total_bet=e,this.view.onRefreshBuyMoney()},l.c2sFreeSpin=function(){var e;null==(e=this._sender)||e.c2sFreeSpin()},l.onSendBet=function(){var e,t;this.data.SWITCH_DOUBLE_FEATURE?(null==(e=this._sender)||e.c2sDoubleSlotBet({bet:this.data.total_bet}),dispatch(d.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet*this.data.DOUBLE_CHANCE_MULTIPLE)):(null==(t=this._sender)||t.c2sSlotBet({bet:this.data.total_bet}),dispatch(d.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet));this._view.showLoadingScreen()},l.onSendGM=function(e){var t;null==(t=this._sender)||t.c2sGMSlot({bet:this.data.total_bet,gm_type:e}),dispatch(d.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet),this._view.showLoadingScreen()},l.onSendBuyFreeSpins=function(){var e;null==(e=this._sender)||e.c2sBuyFreeSpins({type:1,bet:this.data.total_bet}),dispatch(d.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet*this.data.BUYFEATURE_MULTIPLE),this._view.showLoadingScreen(),this._view.onRefreshFuncBtnView(!1),this._view.clearBgMusuicTimer()},l.randomLastMap=function(){for(var e=[],t=0;t<30;t++)e[t]=u(1,10);return e},l.delete_last_map=function(){this.view.clearLastMap()},l.transformArray=function(e){for(var t=[],o=4;o<e.length;o+=5)t.push(e[o]);for(var n=3;n<e.length;n+=5)t.push(e[n]);for(var a=2;a<e.length;a+=5)t.push(e[a]);for(var i=1;i<e.length;i+=5)t.push(e[i]);for(var s=0;s<e.length;s+=5)t.push(e[s]);return t},n(a,[{key:"data",get:function(){return App.dataCenter.get(f)}},{key:"gameService",get:function(){return App.serviceManager.get(p)}},{key:"_sender",get:function(){return App.senderManager.get(c)}},{key:"view",get:function(){return this._view}}]),a}(l));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameSender7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sender.ts","./GameService.ts","./Config.ts","./Global.ts","./Protocol8.ts","./SubGameData7.ts"],(function(e){var n,t,s,i,c,a,o,r,u;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){s=e.cclegacy},function(e){i=e.Sender},function(e){c=e.GameService},function(e){a=e.Config},function(e){o=e.Global},function(e){r=e.Protocol},function(e){u=e.SubGameData}],execute:function(){s._RF.push({},"c5c98/r0AdLfIqa07IVmlRi","GameSender",void 0),e("GameSender",function(e){function s(){return e.apply(this,arguments)||this}n(s,e);var i=s.prototype;return i.c2sLogin=function(e){a.isDebugLogin?this.c2sDebug_login({uid:o.userId,game_id:e,money:Number(o.money),money_type:o.currency}):this.c2sOfficial_login({token:o.token,gameid:e,direct:o.direct_login})},i.c2sDebug_login=function(e){var n,t={type:r.DEBUG_LOGIN,message:e};null==(n=this.service)||n.sendMessage(r.DEBUG_LOGIN,t)},i.c2sOfficial_login=function(e){var n,t={type:r.LOGIN,message:e};null==(n=this.service)||n.sendMessage(r.LOGIN,t)},i.c2sMark=function(e){var n,t={type:r.MARK,message:e};null==(n=this.service)||n.sendMessage(r.MARK,t)},i.sendPack=function(e,n){var t;null==(t=this.service)||t.sendMessage(e,n)},i.c2sSlotBet=function(e){var n={type:r.SLOTBET,message:e};this.sendPack(r.SLOTBET,n)},i.c2sDoubleSlotBet=function(e){var n={type:r.ANTASLOTBET,message:e};this.sendPack(r.SLOTBET,n)},i.c2sFreeSpin=function(){var e={type:r.FREESPIN,message:{}};this.sendPack(r.FREESPIN,e)},i.c2sBuyFreeSpins=function(e){var n={type:r.BUY,message:e};this.sendPack(r.SLOT_TEST,n)},i.c2sGMSlot=function(e){var n={type:r.GMSLOT,message:e};this.sendPack(r.GMSLOT,n)},t(s,[{key:"service",get:function(){return App.serviceManager.get(c)}},{key:"data",get:function(){return App.dataCenter.get(u)}}]),s}(i)).module="Game",s._RF.pop()}}}));

System.register("chunks:///_virtual/GridBgView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameDefines7.ts","./Decorators.ts","./NumberRoller.ts","./SubGameConstants6.ts"],(function(t){var e,i,a,n,l,r,o,s,c,p,_,u,h,d,f,b,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,o=t.Node,s=t.Label,c=t.sp,p=t.tween,_=t.Vec3},function(t){u=t.default},function(t){h=t.EventName,d=t.PORTRAIT_NORMAL_SCALE},function(t){f=t.inject},function(t){b=t.NumberRoller},function(t){g=t.SubGameConstants}],execute:function(){var m,w,v,S,y,k,R,T,E,N,z,A,M,F,L,B,W,C,D,O,P,I,G,U,x,H,V,X,j,Y,J,q,K,Q,Z;l._RF.push({},"3acfdYxBT1A4J4+CWgNDXFA","GridBgView",void 0);var $=r.ccclass;r.property,t("GridBgView",(m=$("GridBgView"),w=f("landscape",o),v=f("landscape/free",o),S=f("landscape/normal",o),y=f("landscape/logo",o),k=f("landscape/tumble_win",o),R=f("landscape/tumble_win/layout/NumberRoller/label_currency",b),T=f("landscape/tumble_win/layout/label_multiple",s),E=f("landscape/eff_dakuang",c.Skeleton),N=f("portrait",o),z=f("portrait/free",o),A=f("portrait/normal",o),M=f("portrait/logo",o),F=f("portrait/tumble_win",o),L=f("portrait/tumble_win/layout/NumberRoller/label_currency",b),B=f("portrait/tumble_win/layout/label_multiple",s),W=f("portrait/eff_dakuang",c.Skeleton),m((O=e((D=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,a(e,"bg_landscape",O,n(e)),a(e,"landscape_free",P,n(e)),a(e,"landscape_normal",I,n(e)),a(e,"landscape_logo",G,n(e)),a(e,"landscape_win",U,n(e)),a(e,"landscape_label_score",x,n(e)),a(e,"landscape_label_multiple",H,n(e)),a(e,"landscape_eff_dakuang",V,n(e)),a(e,"bg_portrait",X,n(e)),a(e,"portrait_free",j,n(e)),a(e,"portrait_normal",Y,n(e)),a(e,"portrait_logo",J,n(e)),a(e,"portrait_win",q,n(e)),a(e,"portrait_label_score",K,n(e)),a(e,"portrait_label_multiple",Q,n(e)),a(e,"portrait_eff_dakuang",Z,n(e)),e.b_freeModel=!1,e.target_number=0,e.total_multiple=0,e}i(e,t);var l=e.prototype;return l.start=function(){this.portrait_label_multiple.node.active=!1,this.landscape_label_multiple.node.active=!1,this.portrait_eff_dakuang.node.active=!1,this.landscape_eff_dakuang.node.active=!1,this.onSwitchScreen(App.utils.getOrientation())},l.addEvents=function(){this.onD(h.REFRESH_TUMBLE_WIN,this.onRefreshTumbleWin),this.onD(h.REFRESH_TUMBLE_WIN_MULTIPLE,this.onRefreshTumbleWinMultiple),this.onD(h.REFRESH_TUMBLE_WIN_FINAL,this.onRefreshTumbleWinFinal),this.onD(h.SHOW_MAIN_BOX_EFFCT,this.onShowBoxEffect),t.prototype.addEvents.call(this)},l.onRefreshTumbleWin=function(t){Log.d("ssssssss onRefreshTumbleWin",t);var e=this.target_number;this.target_number=t,0!==t&&(this.update_landscape_win_score(e,t),this.update_portrait_win_score(e,t)),this.b_freeModel&&this.showTumbleWin(t)},l.showTumbleWin=function(t){0===t&&(this.target_number=0,this.total_multiple=0)},l.update_landscape_win_score=function(t,e){var i=this;this.landscape_label_score.startRolling(t,e,.5,(function(){i.scrollCompleteCallback()}))},l.update_portrait_win_score=function(t,e){var i=this;this.portrait_label_score.startRolling(t,e,.5,(function(){i.scrollCompleteCallback()}))},l.onRefreshTumbleWinMultiple=function(t){this.total_multiple+=t,"portrait"===App.utils.getOrientation()?(this.portrait_label_multiple.string="X"+this.total_multiple,this.portrait_label_multiple.node.active=!0,this.multipleTween(this.portrait_label_multiple.node)):(this.landscape_label_multiple.string="X"+this.total_multiple,this.landscape_label_multiple.node.active=!0,this.multipleTween(this.landscape_label_multiple.node))},l.onRefreshTumbleWinFinal=function(){this.landscape_label_multiple.node.active=!1,this.portrait_label_multiple.node.active=!1;var t=this.target_number*this.total_multiple;this.landscape_label_score.stopRollingAndShowNumber(t),this.portrait_label_score.stopRollingAndShowNumber(t),dispatch(h.PLAY_SOUND,g.AudioSource.SOUND_TUMBLE_FINAL),this.totalScoreTween(this.landscape_label_score.node.parent),this.totalScoreTween(this.portrait_label_score.node.parent)},l.scrollCompleteCallback=function(){this.landscape_label_multiple.string=this.total_multiple+"",this.portrait_label_multiple.string=this.total_multiple+""},l.multipleTween=function(t){p(t).delay(.05).to(.2,{scale:new _(2,2,2)}).to(.2,{scale:new _(1,1,1)}).union().start()},l.totalScoreTween=function(t){p(t).to(.2,{scale:new _(2,2,2)}).to(.2,{scale:new _(1,1,1)}).union().start()},l.enterNormalModel=function(t){this.switchFreeScene(!1),p(this.bg_landscape).call((function(){t&&t()})).start()},l.enterFreeModel=function(t){this.switchFreeScene(!0),p(this.bg_landscape).call((function(){t&&t()})).start()},l.switchFreeScene=function(t){Log.d("switchFreeScene 切换免费模式",t),this.landscape_free.active=!1,this.landscape_normal.active=!1,this.landscape_logo.active=!1,this.landscape_win.active=!1,this.portrait_free.active=!1,this.portrait_normal.active=!1,this.portrait_logo.active=!1,this.portrait_win.active=!1,t?(this.b_freeModel=!0,"portrait"===App.utils.getOrientation()?(this.bg_portrait.active=!0,this.portrait_free.active=!0,this.portrait_win.active=!0,this.portrait_logo.active=!0,this.portrait_win.setScale(d),this.portrait_logo.setScale(new _(.53,.53,0)),this.portrait_logo.setPosition(new _(0,535,0))):(this.bg_landscape.active=!0,this.landscape_free.active=!0,this.landscape_win.active=!0)):(this.b_freeModel=!1,"portrait"===App.utils.getOrientation()?(this.bg_portrait.active=!0,this.portrait_normal.active=!0,this.portrait_logo.active=!0,this.portrait_logo.setScale(new _(.68,.68,0)),this.portrait_logo.setPosition(new _(0,500,0))):(this.bg_landscape.active=!0,this.landscape_logo.active=!0))},l.onSwitchScreen=function(t){this.landscape_free.active=!1,this.landscape_normal.active=!1,this.landscape_logo.active=!1,this.landscape_win.active=!1,this.portrait_free.active=!1,this.portrait_normal.active=!1,this.portrait_logo.active=!1,this.portrait_win.active=!1,this.b_freeModel?"portrait"===t?(this.bg_portrait.active=!0,this.portrait_free.active=!0,this.portrait_win.active=!0,this.portrait_win.setScale(new _(.85,.85,1)),this.portrait_logo.setScale(new _(.53,.53,0)),this.portrait_logo.setPosition(new _(0,535,0)),this.portrait_logo.active=!0):(this.bg_landscape.active=!0,this.landscape_free.active=!0,this.landscape_win.active=!0):"portrait"===t?(this.bg_portrait.active=!0,this.portrait_normal.active=!0,this.portrait_logo.active=!0,this.portrait_logo.setScale(new _(.68,.68,0)),this.portrait_logo.setPosition(new _(0,500,0))):(this.bg_landscape.active=!0,this.landscape_logo.active=!0,Log.d("this.landscape_logo",this.landscape_logo.getPosition())),1==this.portrait_eff_dakuang.node.active||1==this.landscape_eff_dakuang.node.active?this.onShowBoxEffect(!0):this.onShowBoxEffect(!1)},l.onShowBoxEffect=function(t){void 0===t&&(t=!1),t?"portrait"==App.utils.getOrientation()?(1!=this.portrait_eff_dakuang.node.active&&(this.portrait_eff_dakuang.node.active=!0),this.landscape_eff_dakuang.node.active=!1):(1!=this.landscape_eff_dakuang.node.active&&(this.landscape_eff_dakuang.node.active=!0),this.portrait_eff_dakuang.node.active=!1,this.b_freeModel?this.landscape_eff_dakuang.node.setScale(new _(1,1)):this.landscape_eff_dakuang.node.setScale(new _(1.05,1.05))):(this.landscape_eff_dakuang.node.active=!1,this.portrait_eff_dakuang.node.active=!1)},e}(u)).prototype,"bg_landscape",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(D.prototype,"landscape_free",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(D.prototype,"landscape_normal",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(D.prototype,"landscape_logo",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(D.prototype,"landscape_win",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(D.prototype,"landscape_label_score",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(D.prototype,"landscape_label_multiple",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(D.prototype,"landscape_eff_dakuang",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(D.prototype,"bg_portrait",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(D.prototype,"portrait_free",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(D.prototype,"portrait_normal",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(D.prototype,"portrait_logo",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(D.prototype,"portrait_win",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(D.prototype,"portrait_label_score",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(D.prototype,"portrait_label_multiple",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(D.prototype,"portrait_eff_dakuang",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=D))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/GridView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameDefines7.ts","./EliminateCellView4.ts","./SubGameData7.ts","./Config.ts","./CommonEvent.ts","./SubGameConstants6.ts","./WinScoreCheckoutView4.ts","./JackpotView4.ts","./AddFreeSpinsView3.ts","./NumberCurrency.ts","./TransFreeGameView2.ts","./Global.ts"],(function(t){var e,i,s,a,n,l,o,r,h,_,c,d,p,u,f,m,g,E,v,I,w,S,C,L,b,y,M,T,R,N,F,O,A,D,V,x,W,P,k,U;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy,a=t._decorator,n=t.UIOpacity,l=t.Vec3,o=t.find,r=t.tween,h=t.Label,_=t.randomRangeInt,c=t.UITransform},function(t){d=t.default},function(t){p=t.EventName,u=t.GRID_HEIGHT,f=t.GRID_WIDTH,m=t.DEFAULT_FREE_TIMES,g=t.CELL_FREEMODEL_ID,E=t.GRID_LENGTH,v=t.CELL_Multiple_ID,I=t.DEFAULT_ADD_FREE_TIMES,w=t.CELL_WEIGHT,S=t.GRID_PIXEL_WIDTH,C=t.GRID_PIXEL_HEIGHT,L=t.CELL_SIZE,b=t.CELL_SIZE_HEIGHT,y=t.CELL_PREFAB_URL,M=t.PREFAB_URL_Scatter,T=t.PREFAB_URL_Multiplier,R=t.CELL_ICON_URL},function(t){N=t.default},function(t){F=t.SubGameData},function(t){O=t.ViewZOrder},function(t){A=t.CommonEvent},function(t){D=t.SubGameConstants},function(t){V=t.WinScoreCheckoutView},function(t){x=t.JackpotView},function(t){W=t.AddFreeSpinsView},function(t){P=t.NumberCurrency},function(t){k=t.default},function(t){U=t.Global}],execute:function(){var H;s._RF.push({},"87708vIwwNDm4K9n5x1IYq+","GridView",void 0);var G=a.ccclass;a.property,t("default",G(H=function(t){function s(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this).view=null,e.cellViews=null,e.lastCellView=[],e._baseMap=void 0,e._freeMap=void 0,e.icons=[],e.cards=[],e.card_index=0,e.total_add=0,e.total_score=0,e.multiple=0,e.total_multiple=0,e.win_score=0,e.win=0,e.total_play_count=0,e.total_play_id=0,e.total_fill_up_count=0,e.total_fill_up_id=0,e.total_freemodel_times=0,e.free_times_remaining=0,e.free_array_inidex=0,e.b_multiplier=!1,e.b_jackpot=!1,e.freeModelType=0,e.freeModelType_count=0,e.total_multiple_count=0,e.tumble_win=0,e.base_map_delay=!1,e._bIsFirstDown=!1,e.cellWight=null,e}e(s,t);var a=s.prototype;return a.onLoad=function(){this.initListener()},a.onDestroy=function(){this.data.pools.forEach((function(t){App.pool.deletePool(t)})),this.data.pools.clear()},a.initListener=function(){this.onD(p.START_FREE_MODEL,this.onRemainingFreeTimes),this.onD(p.FREE_MODE_SPIN_END,this.onSpinEnd)},a.resetInit=function(){this.icons=[],this.cards=[],this.card_index=0,this.total_add=0,this.total_score=0,this.multiple=0,this.total_multiple=0,this.total_play_count=0,this.total_play_id=0,this.total_fill_up_count=0,this.total_fill_up_id=0,this.tumble_win=0,this.data.scatterSoundIdx=0,this.data.soundClearIdx=0,this.data.bHasPlayScatterSound=!1,this.bIsFirstDownComplete=!1},a.reset_free_init=function(){this.total_freemodel_times=0,this.free_array_inidex=0,this.win_score=0,this.data.scatterSoundIdx=0,this.data.soundClearIdx=0,this.win=0,dispatch(A.NOTIFY_WINSCORE_TIPS,this.win_score)},a.clearLastMap=function(){var t=this;this.view.onGridMaskEnable(!0),this.lastCellView=this.cellViews.map((function(t){return[].concat(t)})),this.cellViews=[];for(var e=0,i=1;i<=u;i++)for(var s=function(){if(t.lastCellView&&t.lastCellView.length>0){var s=t.lastCellView[i][a];if(s){var n=s.getComponent(N);n&&n.dropAndRemove((function(){t.data._recycleSymbol(s),e+=1,t.clearCompleted(e)}))}}},a=1;a<=f;a++)s();this.tumble_win=0,dispatch(p.REFRESH_TUMBLE_WIN,this.tumble_win)},a.clearCompleted=function(t){28==t&&(this.data.SWITCH_FREE_MODE?(dispatch(p.RESET_TIP_SCORE),this.process_free_map()):(Log.d("clearCompleted data received = ",this.data.DATARECEIVED),this.data.DATARECEIVED?this.process_first_map():this.base_map_delay=!0,Log.d("clearCompleted this.base_map_delay = ",this.base_map_delay)))},a.handleReceiveSlotBet=function(t){this.resetInit(),this.reset_free_init(),this._baseMap=t.base,this._freeMap=t.free,this._freeMap.length>0&&(this.free_times_remaining=m),this.total_freemodel_times=t.free_times,this.card_index=0,Log.d("ssss handleReceiveSlotBet base = ",this._baseMap),this._baseMap&&this._baseMap.length>0?(this.init_base_map(this._baseMap),this.data.DATARECEIVED=!0):this.view.onSpinEnd(),this.base_map_delay&&(this.base_map_delay=!1,this.process_first_map(),this.data.QUICKSTOP&&(this.quickStopPreCellDrop(),this.quickStopNewCellDown())),this.view.onGridMaskEnable(!0)},a.handleReceiveFreeSpin=function(){},a.handleFreeSpin=function(){},a.refreshLastMap=function(){this.data.DATARECEIVED=!1,this.data.QUICKSTOP=!1,this.data.INITNEWCELL=!1,this.bIsFirstDownComplete=!1,this.base_map_delay=!1,this.node.destroyAllChildren(),this.cellViews=[],this.lastCellView=[],dispatch(p.ON_SHOW_FREE_SPINS_LEFT,!1),App.uiManager.close(k),App.uiManager.close(V),App.uiManager.close(x),App.uiManager.close(W)},a.handleReceiveLastMap=function(t){if(this.refreshLastMap(),t)if(this.resetInit(),this.reset_free_init(),this._baseMap=t.base||{},this._freeMap=t.free||{},this.free_times_remaining=t.free_remain_times||0,this.total_freemodel_times=t.free_times||0,this.data.total_bet=t.bet||0,this.win_score+=t.win||0,this.win=t.win||0,dispatch(A.NOTIFY_DEFAULT_BET,t.bet),t.base&&t.base.length>0){for(var e=0;e<t.base.length;e++)this.view.c2sFreeSpin();this.init_base_map(this._baseMap);var i=this.cards.length-1;if(this.card_index=i,this.handle_last_map_icons(this.cards[this.card_index]),this._freeMap.length>0&&dispatch(A.NOTIFY_FREE_MODE),this._freeMap.length===t.free_times?(this.data.INITNEWCELL=!0,this.data.SWITCH_FREE_MODE=!1,this.view.onRefreshFuncBtnView(!1)):this._freeMap.length>0?(this.view.switchFreeScene(!0),this.refreshFreeSpinView()):(this.data.SWITCH_FREE_MODE=!1,dispatch(p.ENTER_NORMAL_MODEL)),this.view.onGridMaskEnable(!1),0==this._freeMap.length)if(dispatch(p.ENTER_NORMAL_MODEL),this.data.bHasEnterGame){var s=this.cards[this.card_index].map,a=this.transformArray(s);this.handle_map(a,!1)}else{var n=this.getSpecialLastMap(),l=this.transformArray(n);this.handle_map(l,!1,!1)}else{var o=this.cards[this.card_index].map,r=this.transformArray(o);this.handle_map(r,!1)}}else{var h=this.randomLastMap(),_=this.transformArray(h);this.handle_map(_,!1),U.playback||dispatch(p.ENTER_NORMAL_MODEL)}else{var c=this.randomLastMap(),d=this.transformArray(c);this.handle_map(d,!1),dispatch(p.ENTER_NORMAL_MODEL)}},a.handle_last_map_icons=function(t){var e=t.icons;if(e&&e.length>0){var i=e[0],s=i.icon,a=i.num;s===g&&a>=3||(this.cards[this.card_index].icons=[])}this.cards[this.card_index].multiple=0},a.process_free_map=function(){this.free_times_remaining>0?(this.handle_free_map(this.free_array_inidex),this.free_times_remaining-=1,this.free_array_inidex+=1,this.refreshFreeSpinView()):(Log.d("免费模式结束"),this.resetInit(),this.reset_free_init())},a.handle_free_map=function(t){if(Log.d("ssssssss handle_free_map index = ",t),t>=this._freeMap.length)Log.d("handle_free_map finish !!!");else if(this._freeMap&&this._freeMap.length>0){var e=this._freeMap[t].one;Log.d("handle_free_map base = ",e),e&&e.length>0&&(this._baseMap=e,this.init_base_map(this._baseMap),this.process_first_map())}},a.init_base_map=function(t){this.resetInit(),this.cards=[];for(var e=[],i=0;i<t.length;i++){var s=t[i],a=s.map,n=s.icons;e=[];for(var l=0;l<n.length;l++){var o=n[l];e.push({add:o.add,icon:o.icon,num:o.num})}this.cards.push({add:s.add,icons:e,map:a,multiple:s.multiple_sum,score:s.score})}},a.process_first_map=function(){if(Log.d("process_first_map ssssssssss !!!",this.cards,this.card_index),this.cards.length>0){var t=this.cards[this.card_index],e=null==t?void 0:t.map;if(e){var i=this.transformArray(e);this.handle_map(i,!0),this.data.INITNEWCELL=!0}}},a.init_complete=function(t){if(t===E)if(this.card_index>=this.cards.length)Log.d("init_complete this.cards finish !!!");else if(this.cards.length>0){var e=this.cards[this.card_index];this.handleOneCard(e)}},a.drop_complete=function(t){if(t===E)if(Log.d("ssss drop_complete = ",this.cards),this.view.onGridMaskEnable(!1),this.data.buy_free_spins=!1,this.bIsFirstDownComplete=!0,dispatch(A.NOTIFY_SPIN_STOP_NORMAL,!1),this.card_index>=this.cards.length)Log.d("drop_complete this.cards finish !!!",this.card_index,this.cards.length);else if(this.cards.length>0){var e=this.cards[this.card_index];this.handleOneCard(e)}},a.play_complete=function(){if(Log.d("play_complete index = ",this.total_play_id,this.total_play_count),this.total_play_id===this.total_play_count)if(this.total_play_count=0,this.total_play_id=0,Log.d("play_complete remain cards = ",this.card_index,this.cards.length),this.card_index>=this.cards.length)Log.d("play_complete this.cards finish !!!",this.total_add);else if(this.cards.length>0){var t=this.cards[this.card_index].map;if(t){this.view.onGridMaskEnable(!0);var e=this.transformArray(t);this.fill_up_map(e)}}},a.fill_up_complete=function(){if(this.total_fill_up_id===this.total_fill_up_count)if(this.total_fill_up_count=0,this.total_fill_up_id=0,Log.d("ssssssss fill_up_complete",this.cellViews),this.view.onGridMaskEnable(!1),this.card_index>=this.cards.length)Log.d("fill_up_complete this.cards finish !!!");else if(this.cards.length>0){var t=this.cards[this.card_index];this.handleOneCard(t)}},a.handleOneCard=function(t){this.card_index+=1,this.view.c2sFreeSpin();var e=t.add,i=t.score,s=t.map,a=t.icons,n=t.multiple;Log.d("handleOneCard",a),this.multiple=n,this.total_add+=e,this.total_score+=i;var l=i;if(l&&(this.win_score+=l,this.win_score>0&&Log.d("YOU WIN = ",App.utils.formatNumber(this.win_score))),this.tumble_win+=i,Log.d("TUMBLE WIN = ",App.utils.formatNumber(this.tumble_win)),dispatch(p.REFRESH_TUMBLE_WIN,this.tumble_win),this.b_multiplier=!1,this.b_jackpot=!1,this.freeModelType=0,this.freeModelType_count=0,this.freeModelType=this.getFreeModelType(s),Log.d("handleOneCard freeModelType = ",this.freeModelType,this.freeModelType_count),this.multiple>1&&(this.total_multiple_count=this.getMultipleCount(s),this.total_multiple+=this.multiple,this.b_multiplier=!0),0==i)this.handleLastCard(),dispatch(p.SHOW_MAIN_BOX_EFFCT,!1);else if(this.card_index>2&&dispatch(p.SHOW_MAIN_BOX_EFFCT,!0),this.total_play_count=0,a&&a.length>0){for(var o=0;o<a.length;o++){var r=a[o];this.total_play_count+=r.num}Log.d("handleOneCard total_play_count = ",this.total_play_count),this.handle_icons(a)}else Log.e("后端数据有误")},a.handleLastCard=function(){this.view.onGridMaskEnable(!1);var t=this.total_add-this.total_score;this.win_score+=t,Log.d("Each card YOU WIN = ",App.utils.formatNumber(this.win_score)),this.multiple>1&&(this.total_multiple+=this.multiple,this.b_multiplier=!0),Log.d("Each card add score = ",App.utils.formatNumber(this.total_add)),this.b_jackpot=this.data.getJackpot(this.total_add),this.b_multiplier?(this.b_multiplier=!1,this.handle_multiplier_symbols()):this.onShowJackpot()},a.handle_multiplier_symbols=function(){for(var t=[],e=0,i=1;i<=f;i++)for(var s=1;s<=u;s++){var a=this.cellViews[s][i];if(a){var n=a.getComponent(N);n&&n.IconId>v&&(e+=1,t.push(a))}}var l=0,o=this;t.reduce((function(t,i){return t.then((function(){return function(t){return new Promise((function(i,s){if(t){var a=t.getComponent(N);a&&a.IconId>v&&a.play_ani_multiple((function(){i(),l+=1,Log.d("handle_multiplier_symbols = ",l,e,o.total_score,o.total_add,o.win_score);var t=a.m_rows,s=a.m_columns;dispatch(p.SHOW_WIN_MULTIPILER_SCORE,t,s,a.Multiple,o.node),l===e&&(Log.d("handle_multiplier_symbols complete!!!!"),o.scheduleOnce((function(){dispatch(p.REFRESH_TUMBLE_WIN_FINAL)}),1.2),o.scheduleOnce((function(){o.onShowJackpot()}),1.8))}))}}))}(i)}))}),Promise.resolve())},a.onShowMultiple=function(){for(var t=this,e=0,i=function(i){for(var s=function(s){var a=t.cellViews[s][i];if(a){var n=a.getComponent(N);n&&n.IconId>v&&n.play_ani_multiple((function(){e+=1,t.scheduleOnce((function(){t.initLabelMultipiler(s,i,n.Multiple),t.play_multiple_complete(e)}),1*(e-1))}))}},a=1;a<=u;a++)s(a)},s=1;s<=f;s++)i(s)},a.play_multiple_complete=function(t){var e=this;Log.d("play_multiple_complete index = ",t,this.total_multiple_count),t===this.total_multiple_count&&(this.total_multiple_count=0,this.scheduleOnce((function(){dispatch(p.REFRESH_TUMBLE_WIN_FINAL)}),1),this.scheduleOnce((function(){e.onShowJackpot()}),2))},a.onShowJackpot=function(){this.b_jackpot?(this.b_jackpot=!1,this.data.changeMusicVolume(.2),Log.d("onShowJackpot,大奖开始",Date.now()),App.uiManager.open({type:x,bundle:this.data.module,zIndex:O.UI,args:[this.data.getJackpotType(this.total_add),this.total_add,this.win_score]})):(this.win_score>0&&dispatch(A.NOTIFY_WINSCORE_TIPS,this.win_score),this.onSpinEnd())},a.onSpinEnd=function(){0===this.freeModelType?this.onRemainingFreeTimes():(dispatch(p.PLAY_SOUND,D.AudioSource.SOUND_SUCCESS_BUY_FREESPIN),this.handle_scatter_icon())},a.handle_scatter_icon=function(){for(var t=this,e=0,i=1;i<=u;i++)for(var s=1;s<=f;s++){var a=this.cellViews[i][s];if(a){var n=a.getComponent(N);n&&n.IconId===g&&n.play_winning_animation((function(){e+=1,t.play_scatter_complete(e)}))}}},a.play_scatter_complete=function(t){Log.d("play_scatter_complete index = ",t,this.freeModelType_count),t===this.freeModelType_count&&(this.freeModelType_count=0,this.handle_freeModel_type())},a.play_no_scatter_complete=function(t){Log.d("play_no_scatter_complete index = ",t,this.freeModelType_count),t===this.freeModelType_count&&this.handleLastCard()},a.handle_freeModel_type=function(){1===this.freeModelType?this.view.enterFreeModel():2===this.freeModelType?(dispatch(p.PLAY_SOUND,D.AudioSource.SOUND_ADDFREETIME),this.free_times_remaining+=I,this.refreshFreeSpinView(),App.uiManager.open({type:W,bundle:this.data.module,zIndex:O.UI,args:[I]})):this.onRemainingFreeTimes()},a.handle_special_icon=function(){for(var t=1;t<=u;t++)for(var e=1;e<=f;e++)if(this.cellViews&&this.cellViews.length>0){var i=this.cellViews[t][e];if(i){var s=i.getComponent(N);if(s)if(s.IconId>=g){if(s.IconId===g){var a=this.node.children.length;s.node.setSiblingIndex(a+2)}}else s.node.setSiblingIndex(s.zIndex)}}},a.onRemainingFreeTimes=function(){if(Log.d("剩余免费次数",this.free_times_remaining),this.free_times_remaining>0)this.data.QUICKSTOP=!1,this.data.INITNEWCELL=!1,this.data.DATARECEIVED=!1,this.bIsFirstDownComplete=!1,this.data.bHasPlayQuickStopSound=!1,this.clearLastMap(),this.data.TURBO_SPIN||this.data.QUICK_SPIN||dispatch(A.NOTIFY_SPIN_START_NORMAL);else if(this.data.SWITCH_FREE_MODE){Log.d("免费模式结束",this.win_score,this.win);var t=this.win_score-this.win;App.uiManager.open({type:V,bundle:this.data.module,zIndex:O.UI,args:[2,this.total_freemodel_times,t,this.data.getJackpotType(t)]});var e=App.getLanguage("90049");dispatch(A.NOTIFY_RICH_TEXT_TIPS,e)}else Log.d("非免费模式所有表现完结状态重置"),this.data.QUICKSTOP=!1,this.data.INITNEWCELL=!1,this.data.DATARECEIVED=!1,this.bIsFirstDownComplete=!1,this.data.bHasPlayQuickStopSound=!1,this.reset_free_init(),this.view.onSpinEnd()},a.handle_map=function(t,e,i){var s=this;void 0===i&&(i=!0),this.cellViews=[];for(var a=0,n=1;n<=u;n++){this.cellViews[n]=[];for(var l=1;l<=f;l++){var o=l-1+(n-1)*f,r=t[o],h=(this.getCellPrefabUrl(r),!1);if(r===g){var _=this.getScatterNum(n,l,t);h=this.checkSpecialAnim(_,l,f)}var c=this.data._createSymbol(r);if(c){this.node.addChild(c);var d=c.getComponent(N);d&&(d.zIndex=E-o),null==d||d.initWithModel(r,n,l),this.cellViews[n][l]=c,e?null==d||d.initNewCellAndDrop((function(){a+=1,s.drop_complete(a)}),h):(a+=1,i&&this.init_complete(a))}}}this.handle_special_icon()},a.handle_icons=function(t){this.cellWight=w.map((function(t){return[].concat(t)}));for(var e=0;e<t.length;e++){var i=t[e];this.handle_target_icon(i.add,i.icon,i.num)}},a.handle_target_icon=function(t,e,i){var s=this,a=0,n=0,o=1,r=1;if(this.cards.length>0)for(var h=function(t){for(var i=function(i){var l=s.cellViews[t][i];if(l){var h=l.getComponent(N);h&&h.IconId===e&&(e===g?(a+=1,s.play_no_scatter_complete(a)):(h.play_winning_animation((function(){s.data._recycleSymbol(l),s.total_play_id+=1,s.cellViews[t][i]=null,s.play_complete(),s.total_play_id===s.total_play_count&&h.resetCanBombSound()})),s.cellWight[t-1][i-1]>n&&(n=s.cellWight[t-1][i-1],o=t,r=i)))}},l=1;l<=f;l++)i(l)},_=1;_<=u;_++)h(_);if(r<f&&(this.cellWight[o-1][r]=this.cellWight[o-1][r]-1),r>1&&(this.cellWight[o-1][r-2]=this.cellWight[o-1][r-2]-1),n>0){var d=L*(r-.5),m=b*(o-.85);if(this.data.TURBO_SPIN){var E,v=new l(d,m,0),I=null==(E=this.node.getComponent(c))?void 0:E.convertToWorldSpaceAR(v);dispatch(p.SHOW_WIN_SCORE,I,t,this.win_score)}else this.scheduleOnce((function(){var e,i=new l(d,m,0),a=null==(e=s.node.getComponent(c))?void 0:e.convertToWorldSpaceAR(i);dispatch(p.SHOW_WIN_SCORE,a,t,s.win_score)}),.8)}},a.initWinningScore=function(t,e,i){var s=this,a=L*(e-.5),h=b*(t-.5);createPrefab({url:"prefabs/item/LabelScore",view:this.view,complete:function(t){if(t){var e,_;s.node.addChild(t);var c=t.getComponent(n);t.setPosition(new l(a,h)),t.setSiblingIndex(E+2),(null==(e=o("NumberCurrency/label_currency",t))?void 0:e.getComponent(P)).updateNumber(i);var d=[],p=r(t).set({scale:new l(1.25,1.25,1.25)}).to(.3,{scale:new l(1.1,1.1,1.1),position:new l(a,h+30,0)}).to(.7,{scale:new l(1,1,1),position:new l(a,h+60,0)}),u=r(c).delay(.4).to(.8,{opacity:.1},{easing:"quintIn"}).call((function(){})).start();d.push(p),d.push(u),d.push(r().call((function(){t.removeFromParent(),t.destroy()}))),(_=r(t)).sequence.apply(_,d).start()}}})},a.initLabelMultipiler=function(t,e,i){var s=this,a=L*(e-.5),n=b*(t-.5);createPrefab({url:"prefabs/item/LabelMultipiler",view:this.view,complete:function(t){if(t){var e,o=t.getComponent(h);o&&(o.string=i+"x"),s.node.addChild(t),t.setPosition(new l(a,n)),t.setSiblingIndex(E+2);var _=[];_.push(r(t).to(.5,{position:new l(S/2+50,C+20,0)},{easing:"sineOut"})),_.push(r().call((function(){dispatch(p.REFRESH_TUMBLE_WIN_MULTIPLE,i),t.removeFromParent(),t.destroy()}))),(e=r(t)).sequence.apply(e,_).start()}}})},a.fill_up_map=function(t){for(var e=this,i=1;i<=f;i++)for(var s=1;s<=u;s++)if(null===this.cellViews[s][i])for(var a=s+1;a<=u;a++)if(null!==this.cellViews[a][i]){this.cellViews[s][i]=this.cellViews[a][i],this.cellViews[a][i]=null;var n=this.cellViews[s][i];if(n){var l=n.getComponent(N);if(l){this.cellViews[s][i]=n;var o=this.getIconIndex(s,i);l.zIndex=E-o,this.total_fill_up_count+=1,l.downAction(s,i,(function(){e.total_fill_up_id+=1,e.fill_up_complete()}))}}break}for(var r=1;r<=f;r++)for(var h=0,_=1;_<=u;_++)if(null===this.cellViews[_][r]){var c=C+b*(h+=1),d=this.getIconIndex(_,r);this.createNewCell(t[d],_,r,c)}this.handle_special_icon()},a.getIconIndex=function(t,e){return e-1+(t-1)*f},a.createNewCell=function(t,e,i,s){var a=this,n=(this.getCellPrefabUrl(t),this.data._createSymbol(t));if(n){this.node.addChild(n);var l=n.getComponent(N);if(l){var o=this.getIconIndex(e,i);l.zIndex=E-o}null==l||l.initWithModel(t,e,i),this.cellViews[e][i]=n,l&&(this.total_fill_up_count+=1,l.downAction2(e,i,s,(function(){a.total_fill_up_id+=1,a.fill_up_complete()})))}},a.getCellPrefabUrl=function(t){var e=null;return t>=1&&t<=9?e=y[t]:t===g?e=M:(t>v||10===t||10===t)&&(e=T),e},a.getCellIconUrl=function(t){var e=null;return t>=1&&t<=9&&(e=R[t]),e},a.getMultipleCount=function(t){var e=0;return t.forEach((function(t){t>v&&e++})),e},a.getFreeModelType=function(t){var e=0;return t.forEach((function(t){t===g&&e++})),this.freeModelType_count=e,e>=4&&!this.data.SWITCH_FREE_MODE?1:e>=3&&this.data.SWITCH_FREE_MODE?2:0},a.transformArray=function(t){for(var e=[],i=4;i<t.length;i+=5)e.push(t[i]);for(var s=3;s<t.length;s+=5)e.push(t[s]);for(var a=2;a<t.length;a+=5)e.push(t[a]);for(var n=1;n<t.length;n+=5)e.push(t[n]);for(var l=0;l<t.length;l+=5)e.push(t[l]);return e},a.randomLastMap=function(){for(var t=[],e=0;e<30;e++)t[e]=_(1,9);return t},a.getScatterNum=function(t,e,i){for(var s=0,a=1;a<=e;a++)for(var n=1;n<=u;n++){if(a<e||a==e&&n<=t)i[this.getIconIndex(n,a)]===g&&(s+=1)}return s},a.checkSpecialAnim=function(t,e,i){void 0===i&&(i=f);var s=!1;return i-e>=4-t&&(s=!0),s},a.getSpecialLastMap=function(){return[5,6,7,9,8,2,10050,11,10050,2,3,10100,11,10100,3,4,10100,11,10100,4,1,10050,11,10050,1,5,6,7,9,8]},a.refreshFreeSpinView=function(){dispatch(p.FREE_SPINS_LEFT,this.free_times_remaining);var t=App.getLanguage("90047",[this.free_times_remaining]);0===this.free_times_remaining&&(t=App.getLanguage("90072")),dispatch(A.NOTIFY_RICH_TEXT_TIPS,t)},a.quickStopNewCellDown=function(){var t=!1,e=!1,i=0;if(this.cards.length>0)for(var s=1;s<=u;s++)for(var a=1;a<=f;a++)if(this.cellViews&&this.cellViews.length>0){var n=this.cellViews[s][a],o=this.cards[this.card_index].map,r=this.transformArray(o),h=!1;if(r[a-1+(s-1)*f]===g){var _=this.getScatterNum(s,a,r);h=this.checkSpecialAnim(_,a,f)}if(n){var c=n.getComponent(N);if(c){if(0!=i||c.bIsNewCellDown||(i=a,e=!0),a>i&&0!=i){var d=this.cellViews[s][i].position.clone();n.setPosition(new l(n.position.x,d.y))}c.quickStopDown(h,t),c.bIsNewCellDown||(t=!0)}}}e&&this.view.audioHelper.stopEffect(D.AudioSource.SOUND_SCROLL_1,this.data.module)},a.quickStopPreCellDrop=function(){if(0==this.card_index||this.data.SWITCH_FREE_MODE)for(var t=1;t<=u;t++)for(var e=1;e<=f;e++)if(this.lastCellView&&this.lastCellView.length>0){var i=this.lastCellView[t][e];if(i){var s=i.getComponent(N);s&&s.quickDorpRemove()}}},i(s,[{key:"data",get:function(){return App.dataCenter.get(F)}},{key:"bIsFirstDownComplete",get:function(){return this._bIsFirstDown},set:function(t){this._bIsFirstDown=t}}]),s}(d))||H);s._RF.pop()}}}));

System.register("chunks:///_virtual/IntroductionView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorator.ts"],(function(t){var n,e,i,o,s,a,r,l,c,u,p,h,d,g,f,b,w;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.find,l=t.Toggle,c=t.Button,u=t.NodeEventType,p=t.tween,h=t.Vec3,d=t.UIOpacity,g=t.sp,f=t.Node},function(t){b=t.default},function(t){w=t.bindComp}],execute:function(){var m,v,C,_,y,k,S,N,T,I,L;s._RF.push({},"83428w2seNBXKi8mxMeQDbz","IntroductionView",void 0);var V=a.ccclass;a.property,t("IntroductionView",(m=V("IntroductionView"),v=w("mask",f),C=w("btnComps",f),_=w("intro_logo",f),y=w("loadingtap",f),m((N=n((S=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return(n=t.call.apply(t,[this].concat(s))||this).view=null,i(n,"mask",N,o(n)),i(n,"btnCompsNode",T,o(n)),i(n,"windNode",I,o(n)),i(n,"loadingtap",L,o(n)),n.bg_landscape=null,n.bg_portrait=null,n.toggle=null,n.btn_close=null,n.skSpine=null,n.timeCD=0,n}e(n,t);var s=n.prototype;return s.onLoad=function(){var n,e,i=this;t.prototype.onLoad.call(this),this.bg_landscape=r("bg_landscape",this.node),this.bg_portrait=r("bg_portrait",this.node),this.toggle=null==(n=r("notShow/Toggle",this.btnCompsNode))?void 0:n.getComponent(l),this.btn_close=r("btn_close",this.btnCompsNode),null==(e=this.btn_close)||e.on(c.EventType.CLICK,(function(){return i.onClose()})),this.toggle&&this.toggle.node.on(l.EventType.TOGGLE,(function(){return i.ctlCheckMark()})),this.onN(this.mask,u.TOUCH_END,this.onClose),this.onSwitchScreen(App.utils.getOrientation())},s.start=function(){this.showTipsAnim()},s.onSwitchScreen=function(t){"portrait"===t?(this.bg_portrait.active=!0,this.bg_landscape.active=!1,this.loadingtap.setPosition(0,-510,0)):(this.bg_landscape.active=!0,this.bg_portrait.active=!1,this.loadingtap.setPosition(0,-280,0))},s.onClose=function(){Log.d("onClose"),this.view.onCloseIntroductionView()},s.animToShowMainView=function(){var t=this,n=p(this.node).to(.5,{scale:new h(1.2,1.2,1.2)}).call((function(){t.view.onCloseIntroductionView()})),e=this.node.getComponent(d),i=p(e).to(1,{opacity:0}).call((function(){t.node.active=!1,e.opacity=255}));n.start(),i.start()},s.ctlCheckMark=function(){this.toggle.isChecked},s.tweenBtnClose=function(){p(this.btn_close).tag(1001).to(.28,{scale:new h(1.1,1.1,1.1)},{easing:"sineOut"}).to(.28,{scale:new h(1,1,1)}).union().repeatForever().start()},s.animScatter=function(){var t=this,n=this.windNode.getComponentsInChildren(g.Skeleton);this.schedule((function e(){for(var i=0;i<n.length;i++)t.skSpine=n[i],t.skSpine.setAnimation(0,"ani_icon",!1),t.skSpine.setEndListener((function(n){t.skSpine||t.unschedule(e)}))}),3)},s.showTipsAnim=function(){if(this.loadingtap){p(this.loadingtap).tag(1002).to(.28,{scale:new h(1.1,1.1,1.1)},{easing:"sineOut"}).to(.28,{scale:new h(1,1,1)}).union().repeatForever().start()}},n}(b)).prototype,"mask",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(S.prototype,"btnCompsNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(S.prototype,"windNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(S.prototype,"loadingtap",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=S))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./CommonEvent.ts","./SubGameConstants6.ts","./SubGameData7.ts","./SubGameDefines7.ts","./AnimBigWin3.ts"],(function(i){var n,t,s,o,h,e,u,_,a,c,d,S,r;return{setters:[function(i){n=i.inheritsLoose,t=i.createClass},function(i){s=i.cclegacy,o=i._decorator,h=i.find,e=i.Node},function(i){u=i.default},function(i){_=i.CommonEvent},function(i){a=i.SubGameConstants},function(i){c=i.SubGameData},function(i){d=i.JackpotType,S=i.EventName},function(i){r=i.AnimBigWin}],execute:function(){var l;s._RF.push({},"7dde0d359xPHaslxgNBqePm","JackpotView",void 0);var P=o.ccclass;i("JackpotView",P("JackpotView")(l=function(i){function s(){for(var n,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return(n=i.call.apply(i,[this].concat(s))||this)._anim=null,n.jackpot_type=0,n.win_score=0,n.allWinScore=0,n._isSuddenStop=!1,n._isCounting=!1,n._isShowFinish=!1,n._isPlayHidingAnim=!1,n._isPostCountFinishEvent=!1,n._soundPathWhole="",n._soundPathCountFinish="",n._soundPathQuickEnd="",n._soundPathRenSheng="",n}n(s,i),s.getPrefabUrl=function(){return"prefabs/JackpotView"};var o=s.prototype;return o.onLoad=function(){var n=h("bigwin",this.node);n&&(this._anim=n.getComponent(r)),i.prototype.onLoad.call(this),this.onN(h("mask",this.node),e.EventType.TOUCH_END,this.onScreenClick)},o.onShow=function(){var n=this;if(i.prototype.onShow.call(this),this.args&&this.args.length>0){this._isSuddenStop=!1,this._isCounting=!1,this._isShowFinish=!1,this._isPlayHidingAnim=!1,this._isPostCountFinishEvent=!1,this.jackpot_type=this.args[0],this.win_score=this.args[1],this.allWinScore=this.args[2];var t=5,s=3;switch(this._soundPathQuickEnd=a.AudioSource.SOUND_JACKPOT_QUICK_STOP,this.jackpot_type){case d.BIG:s=3.5,this._soundPathWhole=a.AudioSource.SOUND_BIG_WIN_01,this._soundPathCountFinish=a.AudioSource.SOUND_BIG_WIN_02,this._soundPathRenSheng=a.AudioSource.SOUND_PEOPLE_BIG_WIN;break;case d.NICE:t=10,s=5.8,this._soundPathWhole=a.AudioSource.SOUND_NICE_WIN_01,this._soundPathCountFinish=a.AudioSource.SOUND_NICE_WIN_02,this._soundPathRenSheng=a.AudioSource.SOUND_PEOPLE_NICE_WIN;break;case d.MEGA:t=15,s=6.8,this._soundPathWhole=a.AudioSource.SOUND_MEAG_WIN_01,this._soundPathCountFinish=a.AudioSource.SOUND_MEAG_WIN_02,this._soundPathRenSheng=a.AudioSource.SOUND_PEOPLE_MEGA_WIN;break;case d.SUPER:t=30,s=9.7,this._soundPathWhole=a.AudioSource.SOUND_SUPER_WIN_01,this._soundPathCountFinish=a.AudioSource.SOUND_SUPER_WIN_02,this._soundPathRenSheng=a.AudioSource.SOUND_PEOPLE_SUPERB_WIN;break;case d.SENSATIONAL:t=50,s=13.2,this._soundPathWhole=a.AudioSource.SOUND_ULTIMATE_WIN_01,this._soundPathCountFinish=a.AudioSource.SOUND_ULTIMATE_WIN_02,this._soundPathRenSheng=a.AudioSource.SOUND_PEOPLE_ULTIMATE_WIN}this._isCounting=!0,this._anim.playShow({rate:t,isRollNum:!this.data.TURBO_SPIN,numRollDuration:s,numRollValue:this.win_score,onShowFinishCallback:function(){n._isShowFinish=!0,n.data.TURBO_SPIN&&n.onScreenClick()},onNumRollCompleteCallback:function(){n._onNumberCountFinish()},onFinishCallback:function(){n._onAnimFinish()}}),this.sound_windowOpen(this._soundPathWhole,this._soundPathCountFinish),this.scheduleOnce((function(){n.sound_renSheng(n._soundPathRenSheng)}),.5)}},o._playHide=function(){this._isPlayHidingAnim||(this._isPlayHidingAnim=!0,this._anim.playHide())},o._onNumberCountFinish=function(){var i=this;this._isCounting=!1;var n=1;this._isSuddenStop&&(n=1.3,this.sound_countFinish(this._soundPathWhole,this._soundPathCountFinish)),this._anim.blinkNumber(n,(function(){i._playHide(),i.scheduleOnce((function(){i.audioHelper.musicVolume=1}),.1)}),.2),this._postCountFinishEvent()},o._onAnimFinish=function(){this._isCounting=!1,this._isShowFinish=!1,this._isPlayHidingAnim=!1,this._postCountFinishEvent(),dispatch(S.FREE_MODE_SPIN_END),this.close()},o._postCountFinishEvent=function(){this._isPostCountFinishEvent||(this._isPostCountFinishEvent=!0,dispatch(_.NOTIFY_WINSCORE_TIPS,this.allWinScore))},o.sound_windowOpen=function(i,n){dispatch(S.PLAY_SOUND,i)},o.sound_renSheng=function(i){dispatch(S.PLAY_SOUND,i)},o.sound_countFinish=function(i,n){this.audioHelper.stopEffect(i,this.bundle),dispatch(S.PLAY_SOUND,n)},o.sound_quickEnd=function(i,n,t){this.audioHelper.stopEffect(i,this.bundle),this.audioHelper.stopEffect(n,this.bundle),dispatch(S.PLAY_SOUND,t)},o.onScreenClick=function(){!this._isPlayHidingAnim&&this._isShowFinish&&(this._isSuddenStop=!0,this._isCounting?this._anim.finishNumRolling():(this._isPlayHidingAnim||this.sound_quickEnd(this._soundPathWhole,this._soundPathCountFinish,this._soundPathQuickEnd),this._playHide()))},t(s,[{key:"data",get:function(){return App.dataCenter.get(c)}}]),s}(u))||l);s._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingView6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./CommonEvent.ts"],(function(t){var e,r,i,s,o,n,a,c,l;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,i=t._decorator,s=t.find,o=t.ProgressBar,n=t.Label,a=t.sys},function(t){c=t.default},function(t){l=t.CommonEvent}],execute:function(){var p;r._RF.push({},"1faa025NrtFaqFk9FTogUTL","LoadingView",void 0);var g=i.ccclass;i.property,t("LoadingView",g("LoadingView")(p=function(t){function r(){for(var e,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).bg_portrai=null,e.bg_landscape=null,e.progressBar=null,e.lab_describe=null,e}e(r,t),r.getPrefabUrl=function(){return"prefabs/LoadingView"};var i=r.prototype;return i.onLoad=function(){var e,r;t.prototype.onLoad.call(this),this.bg_portrai=s("bg_portrait",this.node),this.bg_landscape=s("bg_landscape",this.node),this.progressBar=null==(e=s("ProgressBar",this.node))?void 0:e.getComponent(o),this.lab_describe=null==(r=s("ProgressBar/lab_describe",this.node))?void 0:r.getComponent(n),this.bg_portrai.active=!1,this.bg_landscape.active=!1;var i=s("pc_bg",this.node);i&&(a.isMobile?i.active=!1:i.active=!0),this.onSwitchScreen(App.utils.getOrientation())},i.addEvents=function(){t.prototype.addEvents.call(this),this.onD(l.SWITCH_SCREEN,this.onSwitchScreen)},i.updateProgress=function(t){var e=t+"%";this.lab_describe.string=e,this.progressBar.progress=t/100},i.onSwitchScreen=function(t){this.bg_portrai.active=!1,this.bg_landscape.active=!1,"portrait"===t?(this.bg_portrai.active=!0,this.progressBar.node.setScale(.93,.93),this.progressBar.node.setPosition(0,-510)):(this.bg_landscape.active=!0,this.progressBar.node.setScale(1,1),this.progressBar.node.setPosition(0,-280))},r}(c))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/MainGameView6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameView.ts","./SubGameDefines7.ts","./GameLogic7.ts","./Decorators.ts","./CommonEvent.ts","./Config.ts","./GridView4.ts","./GridBgView4.ts","./IntroductionView4.ts","./BackgroundView4.ts","./WinScoreCheckoutView4.ts","./SubGameConstants6.ts","./FunctionButtonView4.ts","./BuyFreeSpinsView4.ts","./Global.ts","./TransFreeGameView2.ts","./LoadingView6.ts"],(function(i){var t,e,n,o,a,s,c,r,d,l,h,u,g,S,p,f,w,_,E,T,m,V,A,I,C,M,O,P,v,N,B,R,D,L,b,F,y,k,U,G,H,Y,W;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,s=i._decorator,c=i.Node,r=i.find,d=i.sys,l=i.Mask,h=i.UITransform,u=i.size,g=i.sp,S=i.UIOpacity,p=i.tween,f=i.Tween,w=i.math},function(i){_=i.default},function(i){E=i.EventName,T=i.PORTRAIT_FREE_POS,m=i.PORTRAIT_NORMAL_POS,V=i.PORTRAIT_FREE_SCALE,A=i.PORTRAIT_NORMAL_SCALE,I=i.LANDSCAPE_FREE_POS,C=i.LANDSCAPE_NORMAL_POS,M=i.LANDSCAPE_FREE_SCALE,O=i.LANDSCAPE_NORMAL_SCALE,P=i.DEFAULT_FREE_TIMES},function(i){v=i.GameLogic},function(i){N=i.inject},function(i){B=i.CommonEvent},function(i){R=i.ViewZOrder},function(i){D=i.default},function(i){L=i.GridBgView},function(i){b=i.IntroductionView},function(i){F=i.default},function(i){y=i.WinScoreCheckoutView},function(i){k=i.SubGameConstants},function(i){U=i.FunctionButtonView},function(i){G=i.default},function(i){H=i.Global},function(i){Y=i.default},function(i){W=i.LoadingView}],execute:function(){var K,Q,z,x,j;a._RF.push({},"17a73hOMx5Fr7RW7uyFn7yj","MainGameView",void 0);var q=s.ccclass;s.property,i("default",(K=N({type:v,name:"logic"}),q(((j=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return t=i.call.apply(i,[this].concat(a))||this,n(t,"logic",x,o(t)),t.loadingView=null,t.introductionView=null,t.gridBgView=null,t.gridViewMask=null,t.gridView=null,t.backgroundView=null,t.functionButtonView=null,t.isBtnStartClickable=!0,t.isBtnStopClickable=!0,t.loadingTimer=null,t.musicTimer=null,t}e(t,i),t.getPrefabUrl=function(){return"prefabs/MainGameView"};var a=t.prototype;return a.addEvents=function(){i.prototype.addEvents.call(this),this.onD(B.SWITCH_SCREEN,this.onSwitchScreen),this.onD(B.DISPATCH_SPIN_START,this.onSpinStart),this.onD(B.DISPATCH_SPIN_STOP,this.onSpinStop),this.onD(B.DISPATCH_TOTAL_BET,this.onRefreshTotalBet),this.onD(B.DISPATCH_QUICK_SPIN,this.onQUICKSPIN),this.onD(B.DISPATCH_TURBO_SPIN,this.onTURBOSPIN),this.onD(B.DISPATCH_SKIP_SCREENS,this.onSKIPSCREENS),this.onD(B.DISPATCH_START_AUTOPLAY,this.onAutoPlay),this.onD(B.DISPATCH_PLAYBACK,this.onPlayback),this.onD(E.OnReceiveLastMap,this.onReceiveLastMap),this.onD(E.OnReceiveSlotBet,this.onReceiveSlotBet),this.onD(E.ENTER_NORMAL_MODEL,this.enterNormalModel),this.onD(E.S2C_FREE_SPIN,this.onReceiveFreeSpin),this.onN(this.gridView.node,c.EventType.TOUCH_END,this.onGridViewTouch),this.onD(E.ON_AFTER_TRANS_ANIAMTIONS,this.onAfterTransFreeGame)},a.init=function(){var i,t=r("pc_bg",this.node);t&&(d.isMobile?t.active=!1:t.active=!0);var e=r("LoadingView",this.node);if(e){var n=e.addComponent(W);this.loadingView=n,this.loadingView.node.active=!0}var o=r("IntroductionView",this.node);if(o){var a=o.addComponent(b);a.view=this,this.introductionView=a,this.introductionView.node.active=!0}var s=r("GridBgView",this.node);if(s){var c=s.addComponent(L);this.gridBgView=c}this.gridViewMask=null==(i=r("GridViewMask",this.node))?void 0:i.getComponent(l);var h=r("GridViewMask/GridView",this.node);if(h){var u=h.addComponent(D);u.view=this,this.gridView=u}var g=r("BackgroundView",this.node);if(g){var S=g.addComponent(F);this.backgroundView=S}var p=r("FunctionButtonView",this.node);if(p){var f=p.addComponent(U);f.view=this,this.functionButtonView=f}this.onSwitchScreen(App.utils.getOrientation())},a.onSwitchScreen=function(i){if("portrait"===i){var t=this.logic.data.SWITCH_FREE_MODE?T:m,e=this.logic.data.SWITCH_FREE_MODE?V:A;this.gridViewMask.node.setScale(e),this.gridViewMask.node.setPosition(t)}else{var n=this.logic.data.SWITCH_FREE_MODE?I:C,o=this.logic.data.SWITCH_FREE_MODE?M:O;this.gridViewMask.node.setPosition(n),this.gridViewMask.node.setScale(o);var a=this.node.getChildByName("EnterGameView");a&&(this.unschedule(this.enterCallBack),a.removeFromParent(),a.destroy(),this.audioHelper.stopEffect(k.AudioSource.SOUND_ENTER_GAME,this.bundle),dispatch(E.PLAY_MUSIC,k.AudioSource.BGM_SWEET_01))}this.introductionView&&this.introductionView.node.active&&this.introductionView.onSwitchScreen(i),this.backgroundView.onSwitchScreen(i),this.gridBgView.onSwitchScreen(i),this.functionButtonView.onSwitchScreen(i)},a.onCloseIntroductionView=function(){if(this.introductionView.node.active=!1,this.showEnterGameAnim(),H.playback)this.handlePlayBack();else if(dispatch(E.OnReceiveLastMap,this.logic.data.lastMapData),null!=this.logic.data.slotInfo.mode){var i=this.logic.data.slotInfo.mode||0;1==i?dispatch(B.NOTIFY_QUICK_SPIN,!0):2==i?dispatch(B.NOTIFY_TURBO_SPIN,!0):(dispatch(B.NOTIFY_QUICK_SPIN,!1),dispatch(B.NOTIFY_TURBO_SPIN,!1))}},a.showMain=function(){App.loading.hide(),this.clearTimer(),this.loadingView.node.active=!1,this.logic.data.bHasEnterGame?this.onCloseIntroductionView():1!=App.utils.PlatformType?this.introductionView.node.active=!0:(this.introductionView.node.active=!1,this.onCloseIntroductionView()),dispatch(B.NOTIFY_ENTER_GAME),App.utils.closeDocumentLoading()},a.handlePlayBack=function(){Log.dump("onPlayback ",H.playbackAllData),Log.dump("onPlayback ",H.playbackData);var i={base:{},free:{}};i.bet=H.playbackData.bet*H.playbackData.line_num,this.onReceiveLastMap(i),this.onPlayback()},a.onPlayback=function(){var i=this;H.playback&&(this.logic.data.money=H.playbackAllData.startScore*H.SCORE_EXCHANGE,dispatch(B.NOTIFY_SLOT_INFO,this.logic.data.slotInfo),dispatch(B.NOTIFY_USERINFO_SCORE,this.logic.data.money),this.scheduleOnce((function(){dispatch(B.NOTIFY_PLAYBACK);var t={};t.base=H.playbackData.base,t.free=H.playbackData.free,t.free_times=H.playbackData.free_times,t.reward=H.playbackData.reward,i.onReceiveSlotBet(t)}),.1))},a.updateProgress=function(i){this.loadingView.node.active&&this.loadingView.updateProgress(i)},a.onGridMaskEnable=function(i){var t,e=540;e=i?540:640,null==(t=this.gridViewMask.getComponent(h))||t.setContentSize(u(916,e))},a.trans_FreeModel_Animation=function(i){var t=this;createPrefab({url:"prefabs/TransitionFreeModel",view:this,complete:function(e){if(e){var n;t.node.addChild(e);var o=null==(n=r("eff_transition/eff_transition",e))?void 0:n.getComponent(g.Skeleton);if(o){o.clearTracks();var a="eff_transition_hor";"portrait"===App.utils.getOrientation()&&(a="eff_transition_ver"),o.timeScale=1.1,o.setAnimation(0,a,!1),t.audioHelper.playEffect(k.AudioSource.SOUND_TRANSFER_IN,t.bundle),o.setCompleteListener((function(t){(t.animation?t.animation.name:"")===a&&(o.timeScale=1,i&&i(),e.removeFromParent(),e.destroy())}))}}}})},a.enterFreeModel=function(){this.onRefreshFuncBtnView(!1),Log.d("ssss enterFreeModel sssss"),App.uiManager.open({type:Y,bundle:this.bundle,zIndex:R.UI})},a.onAfterTransFreeGame=function(){var i=this;(this.switchFreeScene(!1,!1),this.functionButtonView.enterFreeModel(),this.gridBgView)&&("portrait"===App.utils.getOrientation()?(this.gridViewMask.node.setPosition(T),this.gridViewMask.node.setScale(V)):(this.gridViewMask.node.setPosition(I),this.gridViewMask.node.setScale(M)),this.gridBgView.enterFreeModel((function(){var t;(null==(t=i.gridView)?void 0:t.free_times_remaining)<=0?i.enterNormalModel():App.uiManager.open({type:y,bundle:i.bundle,zIndex:R.UI,args:[1,P]})})))},a.switchFreeScene=function(i,t){(void 0===t&&(t=!0),this.functionButtonView&&i&&(this.onRefreshFuncBtnView(!1),this.functionButtonView.switchFreeScene(!0),this.logic.data.bHasEnterGame=!0),this.backgroundView&&this.backgroundView.switchFreeScene(!0,t),this.gridBgView&&i)&&("portrait"===App.utils.getOrientation()?(this.gridViewMask.node.setPosition(T),this.gridViewMask.node.setScale(V)):(this.gridViewMask.node.setPosition(I),this.gridViewMask.node.setScale(M)),this.gridBgView.switchFreeScene(!0),this.gridBgView.onSwitchScreen(App.utils.getOrientation()));this.logic.data.SWITCH_FREE_MODE=!0},a.enterNormalModel=function(){var i=this;(this.functionButtonView.enterNormalModel(),this.backgroundView&&this.backgroundView.switchFreeScene(!1,this.logic.data.bHasEnterGame),this.gridBgView)&&("portrait"===App.utils.getOrientation()?(this.gridViewMask.node.setPosition(m),this.gridViewMask.node.setScale(A)):(this.gridViewMask.node.setPosition(C),this.gridViewMask.node.setScale(O)),this.gridBgView.enterNormalModel((function(){i.logic.data.SWITCH_FREE_MODE=!1,i.logic.data.QUICKSTOP=!1,i.logic.data.INITNEWCELL=!1,i.onSpinEnd()})))},a.c2sFreeSpin=function(){H.playback?this.onReceiveFreeSpin():this.logic.c2sFreeSpin()},a.clearLastMap=function(){this.gridView.clearLastMap(),dispatch(E.RESET_TIP_SCORE)},a.onReceiveLastMap=function(i){Log.d("sssssss onReceiveLastMap",i),dispatch(B.NOTIFY_STOP_AUTOPLAY),this.gridView.handleReceiveLastMap(i)},a.onReceiveSlotBet=function(i){Log.d("onReceiveSlotBet",i),App.loading.hide(),this.clearTimer(),this.gridView.handleReceiveSlotBet(i),this.logic.data.buy_free_spins&&this.clearLastMap()},a.onReceiveFreeSpin=function(){},a.onRefreshTotalBet=function(i){this.logic.data.total_bet=i,this.onRefreshBuyMoney()},a.onSpinStart=function(i){void 0===i&&(i=0),this.gridView.free_times_remaining>0||(this.clearBgMusuicTimer(),this.onRefreshFuncBtnView(!1),this.logic.data.bIsSpinEnd=!1,H.playback?dispatch(B.NOTIFY_BALANCE_SCORE,this.logic.data.money-H.playbackAllData.bet*H.SCORE_EXCHANGE):0==i?this.logic.onSendBet():this.logic.onSendGM(i),this.clearLastMap(),this.onGridMaskEnable(!0),dispatch(E.PLAY_SOUND,k.AudioSource.SOUND_START))},a.onSpinStop=function(){this.logic.data.TURBO_SPIN||(this.gridView.bIsFirstDownComplete?Log.d("onSpinStop all has down, can not quick stop"):(this.logic.data.INITNEWCELL,this.logic.data.QUICKSTOP||this.logic.data.QUICK_SPIN||(this.logic.data.QUICKSTOP=!0,this.gridView.quickStopPreCellDrop(),this.gridView.quickStopNewCellDown(),dispatch(E.PLAY_SOUND,k.AudioSource.SOUND_WHEELS_STOP))))},a.onQUICKSPIN=function(i){this.logic.data.QUICK_SPIN=i},a.onTURBOSPIN=function(i){this.logic.data.TURBO_SPIN=i},a.onSKIPSCREENS=function(i){this.logic.data.SKIP_SCREENS=i},a.onAutoPlay=function(i){this.logic.data.AUTOPLAY=i,!i&&this.logic.data.bIsSpinEnd&&this.onRefreshFuncBtnView(!0)},a.onSpinEnd=function(){this.logic.data.bIsSpinEnd=!0,dispatch(B.NOTIFY_BALANCE_SCORE,this.logic.data.money),dispatch(B.NOTIFY_SPIN_END),this.logic.data.AUTOPLAY||(this.onRefreshFuncBtnView(!0),this.showBgMusic())},a.showLoadingScreen=function(){this.clearTimer(),this.loadingTimer=setTimeout((function(){App.loading.show("loading...")}),2e3)},a.clearTimer=function(){this.loadingTimer&&clearTimeout(this.loadingTimer)},a.openBuyFreeSpinsView=function(){dispatch(E.PLAY_SOUND,k.AudioSource.SOUND_COMMONUI),App.uiManager.open({type:G,bundle:this.bundle,zIndex:R.UI,args:[this.logic]})},a.switchDoubleFeature=function(i){this.logic.data.SWITCH_DOUBLE_FEATURE=i,dispatch(B.NOTIFY_SWITCH_DOUBLE_FEATURE,i?this.logic.data.DOUBLE_CHANCE_MULTIPLE:1),dispatch(E.PLAY_SOUND,k.AudioSource.SOUND_COMMONUI)},a.onRefreshBuyMoney=function(){var i=this.logic.data.total_bet*this.logic.data.BUYFEATURE_MULTIPLE;this.functionButtonView.onRefreshBuyPrice(i);var t=this.logic.data.total_bet*this.logic.data.DOUBLE_CHANCE_MULTIPLE;this.functionButtonView.onRefreshBetPrice(t)},a.onRefreshFuncBtnView=function(i){this.functionButtonView.onRefreshBetOpacity(i),!this.logic.data.SWITCH_DOUBLE_FEATURE&&i?this.functionButtonView.onRefreshBuyOpacity(!0):this.functionButtonView.onRefreshBuyOpacity(!1)},a.onShow=function(){i.prototype.onShow.call(this)},a.onDestroy=function(){i.prototype.onDestroy.call(this),this.clearTimer()},a.onGridViewTouch=function(){H.playback||dispatch(B.NOTIFY_CLICK_SPIN)},a.showEnterGameAnim=function(){var i=this;if(!this.logic.data.bHasEnterGame){if(this.logic.data.lastMapData){var t=this.logic.data.lastMapData,e=t.free||{};t.free_times;if(e.length>0)return}if("portrait"!=App.utils.getOrientation())return this.logic.data.bHasEnterGame=!0,void dispatch(E.PLAY_MUSIC,k.AudioSource.BGM_SWEET_01);createPrefab({url:"prefabs/EnterGameView",view:this,complete:function(t){if(t){var e;i.node.addChild(t),Log.d("showEnterGameAnim",H.real_screen_height),dispatch(E.PLAY_SOUND,k.AudioSource.SOUND_ENTER_GAME),t.getComponent(S).opacity=255;var n=null==(e=r("eff_enter",t))?void 0:e.getComponent(g.Skeleton);n&&(Log.d("showEnterGameAnim",Date.now()),n.clearTracks(),n.setAnimation(0,"ani",!1),i.scheduleOnce(i.enterCallBack.bind(i,t),6.6))}}})}},a.enterCallBack=function(i){var t=this;if(i.isValid){var e=i.getComponent(S);p(e).to(.4,{opacity:0}).call((function(){dispatch(E.PLAY_MUSIC,k.AudioSource.BGM_SWEET_01)})).call((function(){i.removeFromParent(),i.destroy(),t.logic.data.bHasEnterGame=!0,t.showBgMusic()})).start()}},a.gradientBgMusic=function(i){var t=this;f.stopAllByTarget(this.node),0===i?p(this.node).to(1,{},{onUpdate:function(i,e){if(null!=e){var n=w.lerp(1,0,e);t.logic.data.changeMusicVolume(n)}}}).start():p(this.node).to(1,{},{onUpdate:function(i,e){if(null!=e){var n=w.lerp(t.audioHelper.musicVolume,1,e);t.logic.data.changeMusicVolume(n)}}}).start()},a.showBgMusic=function(){var i=this;this.clearBgMusuicTimer(),this.musicTimer=setTimeout((function(){i.gradientBgMusic(0)}),5e3)},a.clearBgMusuicTimer=function(){this.musicTimer&&(clearTimeout(this.musicTimer),this.gradientBgMusic(1))},t}(_)).logicType=v,x=t((z=j).prototype,"logic",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=z))||Q));a._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol8.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"66ef8zttdZN3bR5NCKr8C5J","Protocol",void 0);var s=t("Protocol",(function(){}));s.LOGIN="login",s.LOGOUT="logout",s.USERINFO="userinfo",s.USER_KICK="user_kick",s.ERRORCODE="errorcode",s.MARQUEE="marquee",s.TIPS="tips",s.DEBUG_LOGIN="debug_login",s.MARK="mark",s.SLOTINFO="slot_info",s.SLOTBET="slot",s.ANTASLOTBET="anta_slot",s.LASTMAP="last_map",s.SLOT_TEST="test",s.BUY="buy_free",s.FREESPIN="free_spin",s.GMSLOT="gm_slot";t("MapData",(function(){this.map=[],this.snake=[],this.lines=[],this.add=0,this.specialmap=[],this.multiple=0,this.icons=[],this.score=0})),t("LineData",(function(){this.num=0,this.icon=0,this.add=0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/slot3000508",["./GameEntry7.ts","./AnimBigWin3.ts","./AutoScale3.ts","./AutoScaleNode4.ts","./ExBannerContentProvider6.ts","./SubGameConstants6.ts","./SubGameData7.ts","./SubGameDefines7.ts","./SubGameLanguage7.ts","./GameLogic7.ts","./GameHandler7.ts","./GameSender7.ts","./Protocol8.ts","./AddFreeSpinsView3.ts","./BackgroundView4.ts","./BuyFreeSpinsView4.ts","./EffectView3.ts","./EliminateCellView4.ts","./FunctionButtonView4.ts","./GridBgView4.ts","./GridView4.ts","./IntroductionView4.ts","./JackpotView4.ts","./LoadingView6.ts","./MainGameView6.ts","./TransFreeGameView2.ts","./WinScoreCheckoutView4.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SubGameConstants6.ts",["cc"],(function(_){var N;return{setters:[function(_){N=_.cclegacy}],execute:function(){N._RF.push({},"e5400d8pChFP5XLQeb+AZHZ","SubGameConstants",void 0);var S=function(_){return _.BGM_SWEET_01="audio/bgm_Ancient_Egypt_01",_.BGM_SWEET_02="audio/bgm_Ancient_Egypt_02",_.SOUND_BOOM="audio/sound_boom",_.SOUND_MULTIPLE_BLING="audio/sound_symbols",_.SOUND_TRANSFER_OUT_02="audio/sound_transfer_out02",_.SOUND_DOUBLE_CLEARING="audio/sound_double_clearing",_.SOUND_LIMINATE_01="audio/sound_eliminating_01",_.SOUND_LIMINATE_02="audio/sound_eliminating_02",_.SOUND_LIMINATE_03="audio/sound_eliminating_03",_.SOUND_LIMINATE_04="audio/sound_eliminating_04",_.SOUND_LIMINATE_05="audio/sound_eliminating_05",_.SOUND_LIMINATE_06="audio/sound_eliminating_06",_.SOUND_SCATTER_1="audio/sound_scatter01",_.SOUND_SCATTER_2="audio/sound_scatter02",_.SOUND_SCATTER_3="audio/sound_scatter03",_.SOUND_SCATTER_4="audio/sound_scatter04",_.SOUND_MEAG_WIN_01="audio/sound_mega_win_01",_.SOUND_MEAG_WIN_02="audio/sound_mega_win_02",_.SOUND_NICE_WIN_01="audio/sound_nice_win_01",_.SOUND_NICE_WIN_02="audio/sound_nice_win_02",_.SOUND_BIG_WIN_01="audio/sound_big_win_01",_.SOUND_BIG_WIN_02="audio/sound_big_win_02",_.SOUND_SUPER_WIN_01="audio/sound_super_win_01",_.SOUND_SUPER_WIN_02="audio/sound_super_win_02",_.SOUND_ULTIMATE_WIN_01="audio/sound_ultimate_win_01",_.SOUND_ULTIMATE_WIN_02="audio/sound_ultimate_win_02",_.SOUND_SCROLL="audio/sound_scroll",_.SOUND_START="audio/sound_start",_.SOUND_TRANSFER_IN="audio/sound_transitions",_.SOUND_TRANSFER_OUT="audio/sound_end_free",_.SOUND_WHEELS_STOP="audio/sound_stop",_.SOUND_ADDFREETIME="audio/sound_free_add",_.SOUND_OPEN_BUY_FREESPIN="audio/sound_buy_free01",_.SOUND_CLOSE_BUY_FREESPIN="audio/sound_buy_free02",_.SOUND_SUCCESS_BUY_FREESPIN="audio/sound_buy_free03",_.SOUND_FREE_WIN="audio/sound_free_shine",_.SOUND_NORMAL_WIN="audio/sound_shine",_.SOUND_COMMONUI="audio/sound_commonUI",_.SOUND_SCROLL_1="audio/sound_scroll01",_.SOUND_SCROLL_2="audio/sound_scroll02",_.SOUND_SCROLL_3="audio/sound_scroll03",_.SOUND_FREE_WIN_TIME_POPUP="audio/sound_popup",_.SOUND_FREE_WIN_SCORE_CLOSE="audio/sound_popout",_.SOUND_PEOPLE_BIG_WIN="audio/big",_.SOUND_PEOPLE_NICE_WIN="audio/nice",_.SOUND_PEOPLE_MEGA_WIN="audio/mega",_.SOUND_PEOPLE_SUPERB_WIN="audio/super",_.SOUND_PEOPLE_ULTIMATE_WIN="audio/ultimate",_.SOUND_ENTER_GAME="audio/sound_opening",_.SOUND_JACKPOT_QUICK_STOP="audio/sound_dajiang_end",_.SOUND_TUMBLE_FINAL="audio/sound_double_clearing02",_.SOUND_LIGHT="audio/sound_light",_.SOUND_TRANSFER_ANIM="audio/sound_transfer_in",_}(S||{}),O=_("SubGameConstants",(function(){}));O.AudioSource=S,O.Multiple=[2,3,4,5,6,8,10,12,15,20,25,50,100,250,500],O.SOUND_SCATTERS=[S.SOUND_SCATTER_1,S.SOUND_SCATTER_2,S.SOUND_SCATTER_3,S.SOUND_SCATTER_4],O.SOUND_CLEARS=[S.SOUND_LIMINATE_01,S.SOUND_LIMINATE_02,S.SOUND_LIMINATE_03,S.SOUND_LIMINATE_04,S.SOUND_LIMINATE_05,S.SOUND_LIMINATE_06],O.SOUND_WIN_SHAKE=[S.SOUND_FREE_WIN],O.preloadAudio=[S.BGM_SWEET_01,S.BGM_SWEET_02,S.SOUND_BOOM,S.SOUND_MULTIPLE_BLING,S.SOUND_TRANSFER_OUT_02,S.SOUND_DOUBLE_CLEARING,S.SOUND_LIMINATE_01,S.SOUND_LIMINATE_02,S.SOUND_LIMINATE_03,S.SOUND_LIMINATE_04,S.SOUND_LIMINATE_05,S.SOUND_LIMINATE_06,S.SOUND_SCATTER_1,S.SOUND_SCATTER_2,S.SOUND_SCATTER_3,S.SOUND_SCATTER_4,S.SOUND_MEAG_WIN_01,S.SOUND_MEAG_WIN_02,S.SOUND_NICE_WIN_01,S.SOUND_NICE_WIN_02,S.SOUND_SCROLL,S.SOUND_ULTIMATE_WIN_01,S.SOUND_ULTIMATE_WIN_02,S.SOUND_START,S.SOUND_SUPER_WIN_01,S.SOUND_SUPER_WIN_02,S.SOUND_TRANSFER_IN,S.SOUND_TRANSFER_OUT,S.SOUND_WHEELS_STOP,S.SOUND_ADDFREETIME,S.SOUND_OPEN_BUY_FREESPIN,S.SOUND_CLOSE_BUY_FREESPIN,S.SOUND_SUCCESS_BUY_FREESPIN,S.SOUND_FREE_WIN,S.SOUND_NORMAL_WIN,S.SOUND_COMMONUI,S.SOUND_SCROLL_1,S.SOUND_SCROLL_2,S.SOUND_SCROLL_3,S.SOUND_PEOPLE_BIG_WIN,S.SOUND_PEOPLE_NICE_WIN,S.SOUND_PEOPLE_MEGA_WIN,S.SOUND_PEOPLE_SUPERB_WIN,S.SOUND_PEOPLE_ULTIMATE_WIN,S.SOUND_TRANSFER_IN],N._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameData7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./SubGameDefines7.ts"],(function(t){var e,n,a,o,s,i,u,l,r;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){a=t.cclegacy,o=t.Prefab,s=t.instantiate},function(t){i=t.GameData},function(t){u=t.JackpotType,l=t.CELL_FREEMODEL_ID,r=t.CELL_Multiple_ID}],execute:function(){a._RF.push({},"6e91dN50dlL0aqaN5xzco4X","SubGameData",void 0);t("ShowType",function(t){return t[t.AWAIT=0]="AWAIT",t[t.UNDERWAY=1]="UNDERWAY",t[t.ONCEWIN=2]="ONCEWIN",t[t.MANYWIN=3]="MANYWIN",t[t.WINEND=4]="WINEND",t[t.FREEGAME=5]="FREEGAME",t[t.AUTOGAME=6]="AUTOGAME",t[t.FREEEND=7]="FREEEND",t}({}));t("SubGameData",function(t){function a(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).AUTOPLAY=!1,e.SWITCH_FREE_MODE=!1,e.QUICKSTOP=!1,e.INITNEWCELL=!1,e.DATARECEIVED=!1,e.QUICK_SPIN=!1,e.TURBO_SPIN=!1,e.SKIP_SCREENS=!0,e.PLAYBOMBSOUND=!1,e.soundClearIdx=0,e.SHOWCHECKOUT=!1,e.buy_free_spins=!1,e.buy_fress_spins_sound_ctr=!1,e.BUYFEATURE_MULTIPLE=100,e.DOUBLE_CHANCE_MULTIPLE=1.25,e.SWITCH_DOUBLE_FEATURE=!1,e.bIsSpinEnd=!1,e.scatterSoundIdx=0,e.bHasPlayScatterSound=!1,e.FIRST_FREESPIN=!1,e.bPlayedFreeShakeSound=!1,e.soundShakeIdx=0,e.bHasPlayQuickStopSound=!1,e.bHasEnterGame=!1,e.bHasLoadedRes=!1,e.exchange=1e6,e.isBtnStopClickable=!0,e.m_money=0,e.m_total_bet=0,e.m_buyFreeSpins=15,e.b_increaseBalanc=!1,e.m_slotInfo=null,e.m_lastMapData=null,e.loadDataFinish=!1,e.loadFinish=!1,e.pools=new Map,e}e(a,t);var i=a.prototype;return i.getJackpotType=function(t){var e=t/this.m_total_bet;return Log.d("getJackpotType = ",t,this.m_total_bet,e),e>=50?u.SENSATIONAL:e>=30?u.SUPER:e>=15?u.MEGA:e>=10?u.NICE:e>=5?u.BIG:u.NONE},i.getJackpot=function(t){return this.getJackpotType(t)>u.NONE},i.changeMusicVolume=function(t){void 0===t&&(t=1),App.globalAudio.isMusicOn&&(App.globalAudio.musicVolume=t)},i.initPools=function(){for(var t=1;t<=11;t++)this._createSymbol(t)},i.getPrefabsName=function(t){var e=null;return t>=1&&t<=9?e="symbol0"+t:t==l?e="symbol_Scatter":(t>r||10==t||10==t)&&(e="symbol_Multiplier"),e},i._createSymbol=function(t){var e=this.getPrefabsName(t);if(e){var n;if(!this.pools.has(e)){var a,i=App.pool.createPool(e),u=null==(a=App.cache.get(this.module,"prefabs/symbols/"+e,o))?void 0:a.data;if(u instanceof o){var l=s(u);i.cloneNode=l}this.pools.set(e,i)}var r=null==(n=this.pools.get(e))?void 0:n.get();if(r)return r}return null},i._recycleSymbol=function(t){var e;this.pools.has(t.name)&&(t.isValid&&(null==(e=this.pools.get(t.name))||e.put(t)))},n(a,[{key:"money",get:function(){return this.m_money},set:function(t){this.m_money=t}},{key:"total_bet",get:function(){return this.m_total_bet},set:function(t){this.m_total_bet=t}},{key:"buyFreeSpins",get:function(){return this.m_buyFreeSpins},set:function(t){this.m_buyFreeSpins=t}},{key:"isIncreaseBalance",get:function(){return this.b_increaseBalanc},set:function(t){this.b_increaseBalanc=t}},{key:"slotInfo",get:function(){return this.m_slotInfo},set:function(t){this.m_slotInfo=t}},{key:"lastMapData",get:function(){return this.m_lastMapData},set:function(t){this.m_lastMapData=t}}]),a}(i)).module="slot3000508",a._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameDefines7.ts",["cc"],(function(_){var E,L;return{setters:[function(_){E=_.cclegacy,L=_.Vec3}],execute:function(){E._RF.push({},"f6f7atq+cJNzZqvEZU64Njx","SubGameDefines",void 0);_("CELL_ICON_URL",[null,"ty_icon_gjptfh_01","ty_icon_gjptfh_02","ty_icon_gjptfh_03","ty_icon_gjptfh_04","ty_icon_djptfh_01","ty_icon_djptfh_02","ty_icon_djptfh_03","ty_icon_djptfh_04","ty_icon_djptfh_05"]),_("CELL_PREFAB_URL",[null,"prefabs/symbols/symbol01","prefabs/symbols/symbol02","prefabs/symbols/symbol03","prefabs/symbols/symbol04","prefabs/symbols/symbol05","prefabs/symbols/symbol06","prefabs/symbols/symbol07","prefabs/symbols/symbol08","prefabs/symbols/symbol09"]),_("PARTICLE_PREFAB_URL",["prefabs/particle/mega","prefabs/particle/nice","prefabs/particle/sensational","prefabs/particle/superb"]),_("MultipleSkin",{GREEN:"lv",RED:"red",PURPLE:"zi"}),_("MULTIPLE_ICON",["eff_icon_bsfh_1","eff_icon_bsfh_2","eff_icon_bsfh_3"]),_("CELL_WEIGHT",[[1,1,1,1,1,1],[2,4,5,4,3,2],[3,5,6,5,4,3],[2,4,5,4,3,2],[1,1,1,1,1,1]]),_("PREFAB_URL_Multiplier","prefabs/symbols/symbol_Multiplier"),_("PREFAB_URL_Scatter","prefabs/symbols/symbol_Scatter"),_("CELL_ANI_SPECIAL_DROP","ani_springback_icon_1"),_("CELL_ANI_IDLE","ani_stop_icon"),_("CELL_ANI_DROP","ani_springback_icon"),_("CELL_ANI_ICON","ani_icon"),_("CELL_ANI_CRUSH","eff_ordinary_baozha"),_("CELL_FREEMODEL_ID",11),_("CELL_Multiple_ID",1e4),_("DEFAULT_FREE_TIMES",10),_("DEFAULT_ADD_FREE_TIMES",5);var R=_("GRID_WIDTH",6),I=_("GRID_HEIGHT",5),S=(_("GRID_LENGTH",30),_("CELL_SIZE",141.5)),e=_("CELL_SIZE_HEIGHT",108);_("GRID_PIXEL_WIDTH",R*S),_("GRID_PIXEL_HEIGHT",I*e),_("DELAY_columns",1/30*1),_("DELAY_rows",1/30*1),_("CELL_DROP_TIME",1/30*10),_("CELL_DROP_TIME2",1/30*2),_("MIN_JACK_POT",15),_("STOP_CD_TIME",3),_("STOP_CD_TIME_2",3e3),_("GRID_MOVE_TIME",1/30*10),_("LANDSCAPE_NORMAL_POS",new L(0,5,0)),_("PORTRAIT_NORMAL_POS",new L(0,155,0)),_("LANDSCAPE_NORMAL_SCALE",new L(1,1,1)),_("PORTRAIT_NORMAL_SCALE",new L(.81,.81,1)),_("LANDSCAPE_FREE_SCALE",new L(.97,.97,1)),_("PORTRAIT_FREE_SCALE",new L(.82,.82,1)),_("LANDSCAPE_FREE_POS",new L(0,-3,0)),_("PORTRAIT_FREE_POS",new L(0,157,0)),_("PORTRAIT_POPVIEW_POS",new L(0,120,0)),_("EventName",function(_){return _.OnReceiveSlotBet="OnReceiveSlotBet",_.OnReceiveLastMap="OnReceiveLastMap",_.OnLoadDataFinish="OnLoadDataFinish",_.PLAY_SOUND="PLAY_SOUND",_.PLAY_MUSIC="PLAY_MUSIC",_.STOP_SOUND="STOP_SOUND",_.RESET_TIP_SCORE="RESET_TIP_SCORE",_.ENTER_NORMAL_MODEL="ENTER_NORMAL_MODEL",_.START_FREE_MODEL="START_FREE_MODEL",_.FREE_MODE_SPIN_END="COMPLETE_CALLBACK",_.REFRESH_TUMBLE_WIN="REFRESH_TUMBLE_WIN",_.REFRESH_TUMBLE_WIN_MULTIPLE="REFRESH_TUMBLE_WIN_MULTIPLE",_.REFRESH_TUMBLE_WIN_FINAL="REFRESH_TUMBLE_WIN_FINAL",_.S2C_FREE_SPIN="S2C_FREE_SPIN",_.FREE_SPINS_LEFT="FREE_SPINS_LEFT",_.SHOW_WIN_SCORE="SHOW_WIN_SCORE",_.SHOW_WIN_MULTIPILER_SCORE="SHOW_WIN_MULTIPILER_SCORE",_.SHOW_MAIN_BOX_EFFCT="SHOW_MAIN_BOX_EFFCT",_.ON_AFTER_TRANS_ANIAMTIONS="ON_AFTER_TRANS_ANIAMTIONS",_.ON_SHOW_FREE_SPINS_LEFT="ON_SHOW_FREE_SPINS_LEFT",_}({})),_("JackpotType",function(_){return _[_.NONE=0]="NONE",_[_.BIG=1]="BIG",_[_.NICE=2]="NICE",_[_.MEGA=3]="MEGA",_[_.SUPER=4]="SUPER",_[_.SENSATIONAL=5]="SENSATIONAL",_}({})),_("beilv_Multiple",[2,3,4,5,6,8,10,12,15,20,25,50,100,250,500]);E._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameLanguage7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageDelegate.ts","./SubGameData7.ts","./Enums.ts"],(function(t){var u,e,n,a,o,f;return{setters:[function(t){u=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.injectLanguageData,a=t.LanguageDelegate},function(t){o=t.SubGameData},function(t){f=t.sys_Language}],execute:function(){var i;e._RF.push({},"e159erCf6ZCNYJXbW9q6XcQ","SubGameLanguage",void 0);var r={language:f.CHINESE,data:{buy_feature:"texture/ui/funcButton/zjm_wenzi_2",bet:"texture/ui/funcButton/zjm_wenzi_1",on:"texture/ui/funcButton/zjmgy_on",off:"texture/ui/funcButton/zjmgy_off"}},_={language:f.ENGLISH,data:{buy_feature:"texture/ui/funcButton/zjm_wenzi_2",bet:"texture/ui/funcButton/zjm_wenzi_1",on:"texture/ui/funcButton/zjmgy_on",off:"texture/ui/funcButton/zjmgy_off"}},c={language:f.Indonesian,data:{buy_feature:"texture/ui/funcButton/zjm_wenzi_2",bet:"texture/ui/funcButton/zjm_wenzi_1",on:"texture/ui/funcButton/zjmgy_on",off:"texture/ui/funcButton/zjmgy_off"}},g={language:f.Malay,data:{buy_feature:"texture/ui/funcButton/zjm_wenzi_2",bet:"texture/ui/funcButton/zjm_wenzi_1",on:"texture/ui/funcButton/zjmgy_on",off:"texture/ui/funcButton/zjmgy_off"}},z={language:f.Portuguese,data:{buy_feature:"texture/ui/funcButton/zjm_wenzi_2",bet:"texture/ui/funcButton/zjm_wenzi_1",on:"texture/ui/funcButton/zjmgy_on",off:"texture/ui/funcButton/zjmgy_off"}},m={language:f.Thai,data:{buy_feature:"texture/ui/funcButton/zjm_wenzi_2",bet:"texture/ui/funcButton/zjm_wenzi_1",on:"texture/ui/funcButton/zjmgy_on",off:"texture/ui/funcButton/zjmgy_off"}},j={language:f.Vietnamese,data:{buy_feature:"texture/ui/funcButton/zjm_wenzi_2",bet:"texture/ui/funcButton/zjm_wenzi_1",on:"texture/ui/funcButton/zjmgy_on",off:"texture/ui/funcButton/zjmgy_off"}};t("slot3000508_Lan",_),t("SubGameLanguage",n(i=function(t){function e(){for(var u,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(u=t.call.apply(t,[this].concat(n))||this).bundle=o.module,u}return u(e,t),e.prototype.init=function(){this.add(r),this.add(_),this.add(c),this.add(g),this.add(z),this.add(m),this.add(j)},e}(a))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/TransFreeGameView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./CommonEvent.ts","./SubGameDefines7.ts","./SubGameConstants6.ts","./SubGameData7.ts"],(function(t){var n,e,i,o,s,a,r,c,p,l,u;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy,o=t._decorator,s=t.find,a=t.sp},function(t){r=t.default},function(t){c=t.CommonEvent},function(t){p=t.EventName},function(t){l=t.SubGameConstants},function(t){u=t.SubGameData}],execute:function(){var h;i._RF.push({},"8353dvlS11MsrR/VunVs+T+","TransFreeGameView",void 0);var d=o.ccclass;o.property,t("default",d("TransFreeGameView")(h=function(t){function i(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).content_landscape=null,n.content_portrait=null,n.spine_landspace=null,n.spine_portrait=null,n}n(i,t),i.getPrefabUrl=function(){return"prefabs/TransFreeGameView"};var o=i.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this)},o.addEvents=function(){t.prototype.addEvents.call(this),this.onD(c.SWITCH_SCREEN,this.onSwitchScreen)},o.onSwitchScreen=function(t){this.content_portrait.active=!1,this.content_landscape.active=!1,"portrait"===t?this.content_portrait.active=!0:this.content_landscape.active=!0},o.onShow=function(){var n,e,i=this;this.content_landscape=s("content_landscape",this.node),this.content_portrait=s("content_portrait",this.node),this.spine_landspace=null==(n=s("Node",this.content_landscape))?void 0:n.getComponent(a.Skeleton),this.spine_portrait=null==(e=s("Node",this.content_portrait))?void 0:e.getComponent(a.Skeleton),this.spine_portrait&&(this.spine_portrait.clearTracks(),this.spine_portrait.setAnimation(0,"ani",!1),dispatch(p.PLAY_SOUND,l.AudioSource.SOUND_TRANSFER_ANIM),this.data.changeMusicVolume(0),this.spine_portrait.setCompleteListener((function(t){"ani"===(t.animation?t.animation.name:"")&&i.onCompleted()}))),this.spine_landspace&&(this.spine_landspace.clearTracks(),this.spine_landspace.setAnimation(0,"eff_transition_hor",!1),this.spine_landspace.setCompleteListener((function(t){"eff_transition_hor"===(t.animation?t.animation.name:"")&&i.onCompleted()}))),this.onSwitchScreen(App.utils.getOrientation()),t.prototype.onShow.call(this)},o.onClose=function(){t.prototype.onClose.call(this)},o.onCompleted=function(){Log.d("sssss onCompleted sssssssss"),dispatch(p.ON_AFTER_TRANS_ANIAMTIONS),dispatch(p.PLAY_MUSIC,l.AudioSource.BGM_SWEET_02),this.data.changeMusicVolume(1),this.close()},e(i,[{key:"data",get:function(){return App.dataCenter.get(u)}}]),i}(r))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/WinScoreCheckoutView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./SubGameDefines7.ts","./CommonEvent.ts","./Decorators.ts","./SubGameData7.ts","./SubGameConstants6.ts","./NumberRoller.ts","./Global.ts"],(function(e){var t,i,o,n,s,r,l,c,a,u,h,p,_,m,f,S,b,d,w,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,l=e._decorator,c=e.Node,a=e.sp,u=e.Label,h=e.find},function(e){p=e.default},function(e){_=e.PORTRAIT_POPVIEW_POS,m=e.EventName},function(e){f=e.CommonEvent},function(e){S=e.inject},function(e){b=e.SubGameData},function(e){d=e.SubGameConstants},function(e){w=e.NumberRoller},function(e){N=e.Global}],execute:function(){var k,g,T,C,E,O,R,y,A,v,D,U,P,L,F,G,I,z,W;r._RF.push({},"37cc8xhSGxJxLRNqZEDt106","WinScoreCheckoutView",void 0);var V=l.ccclass,j=function(e){return e[e.default=0]="default",e[e.eff_FreeGame=1]="eff_FreeGame",e[e.eff_zjfb=2]="eff_zjfb",e}(j||{});e("WinScoreCheckoutView",(k=V("WinScoreCheckoutView"),g=S("content",c),T=S("content/skeleton",a.Skeleton),C=S("content/skeleton/winscoreNode",c),E=S("content/skeleton/winscoreNode/NumberRoller/label_currency",w),O=S("content/skeleton/freetimesNode",c),R=S("content/skeleton/freetimesNode/freetimes",u),y=S("content/skeleton/wintimesNode",c),A=S("content/skeleton/wintimesNode/wintimes",u),k((U=t((D=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,o(t,"content",U,n(t)),o(t,"skeleton",P,n(t)),o(t,"winscoreNode",L,n(t)),o(t,"label_winscore",F,n(t)),o(t,"freetimesNode",G,n(t)),o(t,"label_freetimes",I,n(t)),o(t,"wintimesNode",z,n(t)),o(t,"label_wintimes",W,n(t)),t.jackpot_type=0,t.anim_type=0,t.win_score=0,t.win_times=0,t.free_times=0,t.loopingTimer=null,t.skip_loopingTimer=null,t.b_looping=!1,t.b_clickable=!1,t.bIsStopNum=!1,t}i(t,e),t.getPrefabUrl=function(){return"prefabs/WinScoreCheckoutView"};var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),this.onN(h("mask",this.node),c.EventType.TOUCH_END,this.onClickClose),this.winscoreNode.active=!1,this.freetimesNode.active=!1,this.wintimesNode.active=!1},r.addEvents=function(){e.prototype.addEvents.call(this),this.onD(f.SWITCH_SCREEN,this.onSwitchScreen)},r.onClose=function(){e.prototype.onClose.call(this)},r.onDestroy=function(){e.prototype.onDestroy.call(this),this.clearTimer()},r.onSwitchScreen=function(e){"portrait"===e?(this.content.setScale(.6,.6),this.content.setPosition(_)):(this.content.setScale(1,1),this.content.setPosition(0,0,0))},r.onClickClose=function(){var e=this;this.b_clickable&&(this.b_clickable=!1,this.b_looping||(this.b_looping=!0,this.clearTimer(),1===this.anim_type?this.scrollCompleteCallback():(this.getSkipScreens()?(this.clearTimer(),this.skip_loopingTimer=setTimeout((function(){e.scrollCompleteCallback()}),1e3)):(this.clearTimer(),Log.d("WinScoreCheckoutView",Date.now()),this.bIsStopNum,this.skip_loopingTimer=setTimeout((function(){e.scrollCompleteCallback()}),500)),this.label_winscore.stopRollingAndShowNumber(this.win_score))))},r.onShow=function(){var t=this;if(this.args&&this.args.length>0){this.b_looping=!1,this.b_clickable=!1,this.onSwitchScreen(App.utils.getOrientation()),this.anim_type=this.args[0];var i=j[this.args[0]];this.winscoreNode.active=!1,this.freetimesNode.active=!1,this.wintimesNode.active=!1,1===this.args[0]?(this.wintimesNode.active=!0,this.win_times=this.args[1],this.label_wintimes.string=this.args[1]+"",dispatch(m.PLAY_SOUND,d.AudioSource.SOUND_FREE_WIN_TIME_POPUP),this.skeleton.timeScale=.7):(this.winscoreNode.active=!0,this.freetimesNode.active=!0,this.free_times=this.args[1],this.label_freetimes.string=this.args[1]+"",this.win_score=this.args[2],this.jackpot_type=this.args[3],this.data.TURBO_SPIN?this.label_winscore.stopRollingAndShowNumber(this.win_score):this.label_winscore.stopRollingAndShowNumber(0),dispatch(m.PLAY_SOUND,d.AudioSource.SOUND_TRANSFER_OUT),this.win_score>0&&dispatch(m.PLAY_SOUND,d.AudioSource.SOUND_TRANSFER_OUT_02,!0)),Log.d("WinScoreCheckoutView onShow = ",this.args,i),this.skeleton.clearTracks(),this.skeleton.setSkin(i),this.skeleton.setAnimation(0,"eff_FreeGame_in",!1),this.skeleton.setCompleteListener((function(e){var i=e.animation?e.animation.name:"";"eff_FreeGame_in"===i?(t.skeleton.setAnimation(0,"eff_FreeGame_idle",!0),t.b_clickable=!0,1===t.anim_type?t.onShowSkipScreens():t.update_win_score()):"eff_FreeGame_out"===i&&(t.skeleton.timeScale=1,1===t.anim_type?dispatch(m.START_FREE_MODEL):dispatch(m.ENTER_NORMAL_MODEL),t.clearTimer(),t.close())}))}e.prototype.onShow.call(this)},r.onShowSkipScreens=function(){var e=this;this.getSkipScreens()&&(this.clearTimer(),this.skip_loopingTimer=setTimeout((function(){e.onClickClose()}),1e3))},r.update_win_score=function(){var e=this;this.data.TURBO_SPIN?(this.label_winscore.stopRollingAndShowNumber(this.win_score),this.audioHelper.stopEffect(d.AudioSource.SOUND_TRANSFER_OUT_02,this.bundle),this.getSkipScreens()&&this.onClickClose()):this.label_winscore.startRolling(0,this.win_score,3*this.jackpot_type,(function(){e.audioHelper.stopEffect(d.AudioSource.SOUND_TRANSFER_OUT_02,e.bundle),e.getSkipScreens()?e.onClickClose():e.bIsStopNum=!0}))},r.scrollCompleteCallback=function(){this.skeleton.timeScale=2,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,"eff_FreeGame_out",!1),this.winscoreNode.active=!1,this.freetimesNode.active=!1,this.wintimesNode.active=!1,2===this.anim_type&&dispatch(m.PLAY_SOUND,d.AudioSource.SOUND_FREE_WIN_SCORE_CLOSE),dispatch(m.PLAY_SOUND,d.AudioSource.SOUND_COMMONUI),this.audioHelper.stopEffect(d.AudioSource.SOUND_TRANSFER_OUT,this.bundle),this.audioHelper.stopEffect(d.AudioSource.SOUND_TRANSFER_OUT_02,this.bundle)},r.clearTimer=function(){this.loopingTimer&&clearTimeout(this.loopingTimer),this.skip_loopingTimer&&clearTimeout(this.skip_loopingTimer)},r.getSkipScreens=function(){return!!(this.data.AUTOPLAY&&this.data.SKIP_SCREENS||N.playback)},s(t,[{key:"data",get:function(){return App.dataCenter.get(b)}}]),t}(p)).prototype,"content",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(D.prototype,"skeleton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(D.prototype,"winscoreNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"label_winscore",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(D.prototype,"freetimesNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(D.prototype,"label_freetimes",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(D.prototype,"wintimesNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(D.prototype,"label_wintimes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=D))||v));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/slot3000508', 'chunks:///_virtual/slot3000508'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});