System.register("chunks:///_virtual/BigWinDefines4.ts",["cc"],(function(o){var i;return{setters:[function(o){i=o.cclegacy}],execute:function(){i._RF.push({},"01c1f9cgIFK6KWLXUxAx4Mg","BigWinDefines",void 0);o("SoundName",function(o){return o.sound_big="commonmodule/bigwin/audio/big",o.sound_mega="commonmodule/bigwin/audio/mega",o.sound_epic="commonmodule/bigwin/audio/epic",o.sound_super="commonmodule/bigwin/audio/super",o.sound_ultimate="commonmodule/bigwin/audio/ultimate",o.sound_big_win_01="commonmodule/bigwin/audio/sound_big_win_01",o.sound_epic_win_01="commonmodule/bigwin/audio/sound_epic_win_01",o.sound_super_win_01="commonmodule/bigwin/audio/sound_super_win_01",o.sound_mega_win_01="commonmodule/bigwin/audio/sound_mega_win_01",o.sound_ultimate_win_01="commonmodule/bigwin/audio/sound_ultimate_win_01",o.sound_big_win_02="commonmodule/bigwin/audio/sound_big_win_02",o.sound_epic_win_02="commonmodule/bigwin/audio/sound_epic_win_02",o.sound_super_win_02="commonmodule/bigwin/audio/sound_super_win_02",o.sound_mega_win_02="commonmodule/bigwin/audio/sound_mega_win_02",o.sound_ultimate_win_02="commonmodule/bigwin/audio/sound_ultimate_win_02",o.sound_big_win_03="commonmodule/bigwin/audio/sound_big_win_03",o.sound_epic_win_03="commonmodule/bigwin/audio/sound_epic_win_03",o.sound_super_win_03="commonmodule/bigwin/audio/sound_super_win_03",o.sound_mega_win_03="commonmodule/bigwin/audio/sound_mega_win_03",o.sound_ultimate_win_03="commonmodule/bigwin/audio/sound_ultimate_win_03",o}({})),o("preloadAudio_bigwin",["commonmodule/bigwin/audio/big","commonmodule/bigwin/audio/epic","commonmodule/bigwin/audio/mega","commonmodule/bigwin/audio/super","commonmodule/bigwin/audio/ultimate","commonmodule/bigwin/audio/sound_big_win_01","commonmodule/bigwin/audio/sound_big_win_02","commonmodule/bigwin/audio/sound_big_win_03","commonmodule/bigwin/audio/sound_epic_win_01","commonmodule/bigwin/audio/sound_epic_win_02","commonmodule/bigwin/audio/sound_epic_win_03","commonmodule/bigwin/audio/sound_mega_win_01","commonmodule/bigwin/audio/sound_mega_win_02","commonmodule/bigwin/audio/sound_mega_win_03","commonmodule/bigwin/audio/sound_super_win_01","commonmodule/bigwin/audio/sound_super_win_02","commonmodule/bigwin/audio/sound_super_win_03","commonmodule/bigwin/audio/sound_ultimate_win_01","commonmodule/bigwin/audio/sound_ultimate_win_02","commonmodule/bigwin/audio/sound_ultimate_win_03"]);i._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinLayer12.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./NumberRoller.ts","./SubGameDefines27.ts","./BigWinDefines4.ts"],(function(i){var n,e,t,s,a,o,c,r,l,u,p,_,h,d,w,m,T,E,g;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,s=i.assertThisInitialized,a=i.createClass},function(i){o=i.cclegacy,c=i._decorator,r=i.Node,l=i.sp,u=i.Animation,p=i.find,_=i.ParticleSystem2D,h=i.tween,d=i.Vec3},function(i){w=i.default},function(i){m=i.inject},function(i){T=i.NumberRoller},function(i){E=i.EventName},function(i){g=i.SoundName}],execute:function(){var y,F,f,b,S,C,k,A,P,L,v,O,N,Y,W,B,V,z,D,M,U;o._RF.push({},"9ecbdXo4XVPGaC5tnLrmZpu","BigWinLayer",void 0);var R=c.ccclass,I=c.property;i("default",(y=R("BigWinLayer"),F=m("content",r),f=I({displayName:"glow1",type:l.Skeleton}),b=I({displayName:"thecoins",type:r}),S=I({displayName:"coin",type:r}),C=I({displayName:"animation",type:l.Skeleton}),k=I({displayName:"dk",type:l.Skeleton}),A=I({displayName:"winScoreNode",type:r}),P=I({displayName:"winScore",type:T}),L=I({displayName:"animCoin",type:u}),y((N=n((O=function(i){function n(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return n=i.call.apply(i,[this].concat(a))||this,t(n,"content",N,s(n)),t(n,"glow1",Y,s(n)),t(n,"thecoins",W,s(n)),t(n,"coin",B,s(n)),t(n,"animation",V,s(n)),t(n,"dk",z,s(n)),t(n,"winScoreNode",D,s(n)),t(n,"winScore",M,s(n)),t(n,"animCoin",U,s(n)),n.cinType=[2,3,10,6,4,3,3,3,3,3,3,3,3,3,3,3,1,1],n.winTypeSkin=["default","big","super","epic","mega","ultimate"],n.winTypeSkinAni=["ani_intro","ani_idle_big","ani_idle_super","ani_idle_epic","ani_idle_mega","ani_idle_ultimate"],n.winTypeAnim=["ani_idle","ani_intro","ani_out"],n.winTypeDuration=[0,6.4,6.4,8,8,11.2],n.winType=0,n.winNum=0,n.WinMusicTimes=[0,3,3,4,4,6],n.cb=null,n.tb=1,n.close_type=0,n.scoreTween=null,n.isout=!1,n}e(n,i),n.getPrefabUrl=function(){return"commonmodule/bigwin/prefabs/BigWinLayer"};var o=n.prototype;return o.onLoad=function(){i.prototype.onLoad.call(this),this.onN(p("mask",this.node),r.EventType.TOUCH_END,this.onQuickClose)},o.addEvents=function(){i.prototype.addEvents.call(this)},n.isBigWin=function(i){return i>=5},o.onShow=function(){if(this.args&&this.args.length>0){if(this.winType=this.args[0],this.winNum=this.args[1],this.cb=this.args[2],this.winType<=0&&this.args.length>3){var n=this.args[3];this.winType=n>=5&&n<10?1:n>=10&&n<15?2:n>=15&&n<30?3:n>=30&&n<50?4:5}this.stopScoreEffect(),this.isout=!1,this.close_type=0,this.coin.active=!1,this.glow1.node.active=!1,this.animCoin.stop(),this.dk.node.active=!1,this.init(this.winType,this.winNum,this.args[2]),this.playBigWinStartSound(this.winTypeSkin[this.winType])}i.prototype.onShow.call(this)},o.onClose=function(){this.unscheduleAllCallbacks(),i.prototype.onClose.call(this)},o.init=function(i,n,e){for(var t=this,s=0;s<this.thecoins.children.length;s++){this.thecoins.children[s].getComponent(_).emissionRate=this.cinType[s]}this.animation.clearTracks(),this.animation.node.active=!0,this.animation.setSkin(this.winTypeSkin[i]),this.playBigWinVocals(this.winTypeSkin[i]),this.animation.setAnimation(0,this.winTypeAnim[1],!1),this.animation.addAnimation(0,this.winTypeAnim[0],!0);var a=0;this.animation.setCompleteListener((function(n){(n.animation?n.animation.name:"")===t.winTypeAnim[0]&&++a===t.WinMusicTimes[i]&&t.stopAnimation()})),this.dk.setAnimation(0,this.winTypeSkinAni[0],!1),this.glow1.node.active=!0,this.glow1.setAnimation(0,"glow_intro",!1),this.dk.node.active=!0,this.scheduleOnce((function(){var n;"ani_idle_out"!=(null==(n=t.dk.getComponent(l.Skeleton))?void 0:n.animation)&&(t.dk.setAnimation(0,t.winTypeSkinAni[i],!1),t.glow1.setAnimation(0,"glow_idle",!0))}),2),this.scheduleOnce((function(){t.coin.active=!0,t.winType<=2?t.animCoin.play("coin_ani_level12"):t.winType>2&&t.winType<5?t.animCoin.play("coin_ani_level34"):t.animCoin.play("coin_ani_level5")}),1),this.winScore.startRolling(0,n,this.winTypeDuration[i],(function(){h(t.winScoreNode).to(.2,{scale:new d(1.5,1.5,1.5)}).to(.2,{scale:new d(1,1,1)}).start()}))},o.onQuickClose=function(){this.isout||(0==this.close_type?(this.StopBigWinStartSound(this.winTypeSkin[this.winType]),this.playBigWinFinishSound(this.winTypeSkin[this.winType]),this.stopAnimation()):1==this.close_type&&(dispatch(E.STOP_ALL_EFFECTS),this.playBigWinlastSound(this.winTypeSkin[this.winType]),this.unscheduleAllCallbacks(),this.stopAndCloseView()))},o.stopAnimation=function(){var i=this;this.close_type=1,this.winScore.stopRollingAndShowNumber(this.winNum),this.animation.setAnimation(0,this.winTypeAnim[2],!1),this.animation.setCompleteListener((function(n){(n.animation?n.animation.name:"")===i.winTypeAnim[2]&&(i.animation.node.active=!1,i.dk.node.active=!1,i.isout=!0,i.glow1.node.active=!1)})),this.dk.setAnimation(0,"ani_idle_out",!1),this.glow1.setAnimation(0,"glow_out",!1),this.scheduleOnce((function(){for(var n=0;n<i.thecoins.children.length;n++){i.thecoins.children[n].getComponent(_).emissionRate=0}}),.01),this.scheduleOnce((function(){for(var n=0;n<i.thecoins.children.length;n++){i.thecoins.children[n].getComponent(_).spriteFrame=null}i.animCoin.stop()}),1.5),this.scheduleOnce((function(){i.stopAndCloseView()}),1.5)},o.playScoreEffect=function(){this.scoreTween=h(this.dk.node).to(.4,{scale:new d(1,1,1)}).to(.4,{scale:new d(.8,.8,.8)}).union().repeatForever().start()},o.stopScoreEffect=function(){this.scoreTween&&this.scoreTween.stop()},o.stopAndCloseView=function(){this.close_type=2,this.stopScoreEffect(),this.cb&&this.cb(),dispatch(E.STOP_ALL_EFFECTS),dispatch(E.SET_MUSIC_VOLUME,1),this.close()},o.playBigWinVocals=function(i){switch(i){case"big":dispatch(E.PLAY_EFFECT,g.sound_big);break;case"mega":dispatch(E.PLAY_EFFECT,g.sound_mega);break;case"epic":dispatch(E.PLAY_EFFECT,g.sound_epic);break;case"super":dispatch(E.PLAY_EFFECT,g.sound_super);break;case"ultimate":dispatch(E.PLAY_EFFECT,g.sound_ultimate)}},o.playBigWinStartSound=function(i){switch(dispatch(E.SET_MUSIC_VOLUME,0),i){case"big":dispatch(E.PLAY_EFFECT,g.sound_big_win_01);break;case"epic":dispatch(E.PLAY_EFFECT,g.sound_epic_win_01);break;case"super":dispatch(E.PLAY_EFFECT,g.sound_super_win_01);break;case"mega":dispatch(E.PLAY_EFFECT,g.sound_mega_win_01);break;case"ultimate":dispatch(E.PLAY_EFFECT,g.sound_ultimate_win_01)}},o.StopBigWinStartSound=function(i){switch(dispatch(E.SET_MUSIC_VOLUME,0),i){case"big":dispatch(E.STOP_EFFECT,g.sound_big_win_01);break;case"epic":dispatch(E.STOP_EFFECT,g.sound_epic_win_01);break;case"super":dispatch(E.STOP_EFFECT,g.sound_super_win_01);break;case"mega":dispatch(E.STOP_EFFECT,g.sound_mega_win_01);break;case"ultimate":dispatch(E.STOP_EFFECT,g.sound_ultimate_win_01)}},o.playBigWinFinishSound=function(i){switch(i){case"big":dispatch(E.PLAY_EFFECT,g.sound_big_win_02);break;case"epic":dispatch(E.PLAY_EFFECT,g.sound_epic_win_02);break;case"super":dispatch(E.PLAY_EFFECT,g.sound_super_win_02);break;case"mega":dispatch(E.PLAY_EFFECT,g.sound_mega_win_02);break;case"ultimate":dispatch(E.PLAY_EFFECT,g.sound_ultimate_win_02)}},o.playBigWinlastSound=function(i){switch(i){case"big":dispatch(E.PLAY_EFFECT,g.sound_big_win_03);break;case"epic":dispatch(E.PLAY_EFFECT,g.sound_epic_win_03);break;case"super":dispatch(E.PLAY_EFFECT,g.sound_super_win_03);break;case"mega":dispatch(E.PLAY_EFFECT,g.sound_mega_win_03);break;case"ultimate":dispatch(E.PLAY_EFFECT,g.sound_ultimate_win_03)}},o._stopAllEffect=function(i){switch(i){case"big":dispatch(E.STOP_EFFECT,g.sound_big_win_03),dispatch(E.STOP_EFFECT,g.sound_big_win_03),dispatch(E.STOP_EFFECT,g.sound_big_win_03);break;case"epic":dispatch(E.STOP_EFFECT,g.sound_epic_win_01),dispatch(E.STOP_EFFECT,g.sound_epic_win_02),dispatch(E.STOP_EFFECT,g.sound_epic_win_03);break;case"super":dispatch(E.STOP_EFFECT,g.sound_super_win_01),dispatch(E.STOP_EFFECT,g.sound_super_win_02),dispatch(E.STOP_EFFECT,g.sound_super_win_03);break;case"mega":dispatch(E.STOP_EFFECT,g.sound_mega_win_01),dispatch(E.STOP_EFFECT,g.sound_mega_win_02),dispatch(E.STOP_EFFECT,g.sound_mega_win_03);break;case"ultimate":dispatch(E.STOP_EFFECT,g.sound_ultimate_win_01),dispatch(E.STOP_EFFECT,g.sound_ultimate_win_02),dispatch(E.STOP_EFFECT,g.sound_ultimate_win_03)}},a(n,[{key:"showAction",get:function(){var i=this;return function(n){App.utils.showView(i.content,n)}}},{key:"closeAction",get:function(){var i=this;return function(n){App.utils.hideView(i.content,n)}}}]),n}(w)).prototype,"content",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(O.prototype,"glow1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(O.prototype,"thecoins",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(O.prototype,"coin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(O.prototype,"animation",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(O.prototype,"dk",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(O.prototype,"winScoreNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(O.prototype,"winScore",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(O.prototype,"animCoin",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=O))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/EffectLayer5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./LineAnimator4.ts","./SubGameConstants22.ts","./SubGameDefines27.ts","./Config.ts","./BigWinLayer12.ts"],(function(t){var i,e,n,s,a,o,h,r,l,p,c,m,u,S,f,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,h=t._decorator,r=t.Node,l=t.Component},function(t){p=t.SubGameData},function(t){c=t.ThemeHotChiliLineAnimator},function(t){m=t.ThemeJungKingdom},function(t){u=t.THEME_GAME_TYPE,S=t.EventName},function(t){f=t.ViewZOrder},function(t){d=t.default}],execute:function(){var g,W,w,L,y;o._RF.push({},"a5e3bNuRDNNaJRrOz66QYhA","EffectLayer",void 0);var A=h.ccclass,T=h.property;t("EffectLayer",(g=A("EffectLayer"),W=T({displayName:"bgmControlNode",type:r}),g((y=i((L=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(i=t.call.apply(t,[this].concat(a))||this).spinLayer=null,n(i,"bgmControlNode",y,s(i)),i.lineAnimator=null,i.spinResult=null,i.eachLineShowIndex=0,i.state=m.WinShowState.Idle,i.performList=[],i.showInAdvancePos=[],i.scatterHitPos=[],i.chipHitPos=[],i.wildHitPos=[],i.allLineHitPos=[],i.fgWin=!1,i.mapWin=!1,i.linesWin=!1,i.bigWin=!1,i.bgWin=!1,i.stickyBonusWin=!1,i.isTigerWin=!1,i.scatter_win=0,i.total_lines_win=0,i.eachLineAnimationInterval=2,i.bonusCount=0,i.BonusGameInTemp=0,i.PickGameInTemp=0,i.ChipWinTemp=0,i.TreasureFullTemp=0,i}e(i,t);var o=i.prototype;return o.start=function(){this.stopSymbolLineAnimation=this.stopSymbolLineAnimation.bind(this),this.lineAnimator=new c,this.lineAnimator&&(this.lineAnimator.spinLayer=this.spinLayer)},o.perform=function(t){this.state==m.WinShowState.Idle&&(this.spinResult=t,this.clearPerformList(),this.assemblePerformList(),this.lineAnimator.sync(),this.stateChangeTo(m.WinShowState.Checking))},o.assemblePerformList=function(){this.fgWin=!1,this.mapWin=!1,this.linesWin=!1,this.bigWin=!1,this.bgWin=!1,this.stickyBonusWin=!1,this.isTigerWin=!1,this.bonusCount=0;for(var t=0;t<15;t++)this.allLineHitPos[t]=0,this.showInAdvancePos[t]=0,this.wildHitPos[t]=0,this.scatterHitPos[t]=0,this.chipHitPos[t]=0;this.total_lines_win=this.spinResult.lines_win,5==this.spinResult.treasureProgress&&(this.performList[m.WinShowState.TreasureFull]=1),this.spinResult.free_game_trig&&1==this.spinResult.free_game_trig&&(this.scatterHitPos=this.spinResult.sc_line[0].hit_pos,this.scatter_win=this.spinResult.sc_line[0].win,this.fgWin=!0,this.performList[m.WinShowState.ScatterAnimation]=1,u.MAIN==this.data.GameType?this.performList[m.WinShowState.StandbyBeforeFreeGameEnter]=1:u.FREE==this.data.GameType&&(this.performList[m.WinShowState.FreeGameTrigger]=1));for(var i=0;i<5;i++)for(var e=0;e<3;e++){if(this.spinResult.item_list2[i][e]>m.BONUS_SYMBOLID){this.bonusCount+=1;var n=3*i+e;this.chipHitPos[n]=1}}if(Log.d("sss this.bonusCount = ",this.bonusCount),this.spinResult.bonus_game_trig&&1==this.spinResult.bonus_game_trig&&(this.bgWin=!0,this.bonusCount>=6&&(this.performList[m.WinShowState.BonusAnimation]=1),this.performList[m.WinShowState.StandbyBeforeBonusGameEnter]=1),0!=this.spinResult.lines_win||this.fgWin||this.mapWin?this.performList[m.WinShowState.WinDelay]=1:this.performList[m.WinShowState.NoWinDelay]=1,this.spinResult.win_lines&&this.spinResult.win_lines.length>0){this.linesWin=!0;for(var s=0;s<this.spinResult.win_lines.length;s++){for(var a=this.spinResult.win_lines[s].hit_pos,o=0;o<a.length;o++)0!=a[o]&&(this.wildHitPos[o]=1);this.spinResult.win_lines[s].icon==m.TIGER_SYMBOLID&&(this.isTigerWin=!0)}this.performList[m.WinShowState.SymbolLineAnimation]=1}if(this.spinResult&&this.spinResult.winType>0&&(this.linesWin=!0,this.bigWin=!0,this.performList[m.WinShowState.SymbolLineAnimation]=0,this.performList[m.WinShowState.BigWinAnimation]=1),u.MAIN==this.data.GameType)for(var h=0;h<this.spinResult.item_list.length;h++)for(var r=this.spinResult.item_list[h],l=0;l<r.length;l++){if(this.spinResult.item_list[h][l]>m.BONUS_SYMBOLID){this.performList[m.WinShowState.CollectB2ToMustHit]=1;break}}if(this.spinResult.pick_game_trig&&1==this.spinResult.pick_game_trig&&(this.bgWin=!0,this.performList[m.WinShowState.StandbyBeforePickGameEnter]=1),u.FREE==this.data.GameType&&this.spinResult.stickyBonusData&&this.spinResult.stickyBonusData.length>0)for(var p=0;p<15;p++){if(this.spinResult.stickyBonusData[p]>m.BONUS_SYMBOLID){this.stickyBonusWin=!0;break}}for(var c=this.spinResult.win_lines,S=0;S<c.length;S++)for(var f=c[S].hit_pos,d=0;d<f.length;d++)0!=f[d]&&(this.allLineHitPos[d]=1,this.showInAdvancePos[d]=1);for(var g=0;g<this.scatterHitPos.length;g++)1==this.scatterHitPos[g]&&(this.showInAdvancePos[g]=1);for(var W=0;W<this.chipHitPos.length;W++)1==this.chipHitPos[W]&&(this.showInAdvancePos[W]=1)},o.clearPerformList=function(){for(var t=0;t<m.WinShowStateList.length;t++)this.performList[t]=0},o.checkPerformList=function(){for(var t=-1,i=0;i<m.WinShowStateList.length;i++)if(1==this.performList[i]){t=i;break}if(-1==t)return this.stateChangeTo(m.WinShowState.Idle),void(this.data.GameType===u.MAIN&&this.spinLayer.gameLayer.enableSpin());this.performList[t]=0,Log.d("checkPerformList toPerformIndex = ",t),m.WinShowState.NoWinDelay==t?this.performNoWinDelay():m.WinShowState.FreeGameTrigger==t?this.performFreeGameTrigger():m.WinShowState.ScatterAnimation==t?this.performScatterAnimation():m.WinShowState.BonusAnimation==t?this.performBonusAnimation():m.WinShowState.BigWinAnimation==t?this.performBigWinAnimation():m.WinShowState.SymbolLineAnimation==t?this.performSymbolLineAnimation():m.WinShowState.StandbyBeforeBonusGameEnter==t?(this.BonusGameInTemp=0,this.performStandbyBeforeBonusGameEnter()):m.WinShowState.StandbyBeforePickGameEnter==t?(this.PickGameInTemp=0,this.performStandbyBeforePickGameEnter()):m.WinShowState.EnterBonusGame==t?this.performBonusGameEnter():m.WinShowState.StandbyBeforeFreeGameEnter==t?this.performStandbyBeforeFreeGameEnter():m.WinShowState.WinDelay==t?this.performWinDelay():m.WinShowState.CollectB2ToMustHit==t?this.performCollectB2ToMustHit():m.WinShowState.ChipWin==t?(this.ChipWinTemp=0,this.performChipWin()):m.WinShowState.TreasureFull==t&&(this.TreasureFullTemp=0,this.performTreasureFull())},o.stopPerformUnit=function(){this.stateChangeTo(m.WinShowState.Checking)},o.stopSymbolLineAnimation=function(){this.unschedule(this.stopSymbolLineAnimation)},o.performChipWin=function(){var t=this;u.MAIN==this.data.GameType?this.data.QUICK_STOP?(this.data.QUICK_STOP=!1,this.data.ChipWinTemp=!1,this.stateChangeTo(m.WinShowState.ChipWin),this.disableSpinAndOtherBtns(),this.spinLayer.spinTable.performChipWinAfterQuickStop()):(this.data.QUICK_STOP=!1,0==this.ChipWinTemp?(this.data.ChipWinTemp=!0,this.stateChangeTo(m.WinShowState.ChipWin),this.disableSpinAndOtherBtns(),this.spinLayer.spinTable.performChipWin(this.spinResult)):(this.data.ChipWinTemp=!1,this.scheduleOnce((function(){t.stateChangeTo(m.WinShowState.Checking)}),.1))):0==this.ChipWinTemp?(this.data.ChipWinTemp=!0,this.stateChangeTo(m.WinShowState.ChipWin),this.disableSpinAndOtherBtns(),this.spinLayer.spinTable.performChipWin(this.spinResult)):(this.data.ChipWinTemp=!1,this.scheduleOnce((function(){t.stateChangeTo(m.WinShowState.Checking)}),.1))},o.performCollectB2ToMustHit=function(){var t=this;this.stateChangeTo(m.WinShowState.CollectB2ToMustHit),this.spinLayer.spinTable.performCollectB2ToMustHit(),this.disableSpinAndOtherBtns(),this.scheduleOnce((function(){t.stateChangeTo(m.WinShowState.Checking)}),.1)},o.performTreasureFull=function(){var t=this;0==this.TreasureFullTemp?(this.stateChangeTo(m.WinShowState.TreasureFull),this.disableSpinAndOtherBtns(),this.spinLayer.playTreasureFull()):this.scheduleOnce((function(){t.stateChangeTo(m.WinShowState.Checking)}),.1)},o.performNoWinDelay=function(){var t=this;this.stateChangeTo(m.WinShowState.NoWinDelay);var i=.1;u.FREE==this.data.GameType?(this.stickyBonusWin&&(i=1),this.scheduleOnce((function(){t.stateChangeTo(m.WinShowState.Checking)}),i)):u.MAIN==this.data.GameType&&this.stateChangeTo(m.WinShowState.Checking)},o.performWinDelay=function(){var t=this;this.stateChangeTo(m.WinShowState.WinDelay),this.scheduleOnce((function(){t.stateChangeTo(m.WinShowState.Checking)}),.1)},o.performFreeGameTrigger=function(){var t=this;this.disableSpinAndOtherBtns(),this.stateChangeTo(m.WinShowState.FreeGameTrigger),this.scheduleOnce((function(){t.spinLayer.gameLayer.performFreeGameRetrigger()}),.5)},o.performScatterAnimation=function(){var t=this;this.disableSpinAndOtherBtns(),this.stateChangeTo(m.WinShowState.ScatterAnimation);this.scheduleOnce((function(){t.lineAnimator.performAnimation(t.scatterHitPos)}),.5),this.spinResult&&this.spinResult.winType>0||this.spinResult.win_lines&&this.spinResult.win_lines.length>0?Log.d("有 bigwin or win_lines > 0"):(dispatch(S.ROLLING_WIN_SCORE,this.scatter_win),this.total_lines_win-=this.scatter_win),this.scheduleOnce((function(){t.stateChangeTo(m.WinShowState.Checking)}),2.4)},o.performBonusAnimation=function(){var t=this;this.disableSpinAndOtherBtns(),this.stateChangeTo(m.WinShowState.BonusAnimation);var i=2.4;1==this.spinResult.bonus_game_trig&&8==this.spinResult.collectProgress&&(i+=4),this.scheduleOnce((function(){if(t.lineAnimator.performAnimation(t.chipHitPos),t.data.GameType==u.FREE){var i=t.spinResult.stickyBonusData;t.spinLayer.spinTable.playFreeStickyBonusWin(i)}Log.d("sss performBonusAnimation collectProgress = ",t.spinResult.collectProgress),t.spinResult.collectProgress>0&&t.spinLayer.spinTable.showCollectProgress(t.spinResult.collectProgress,!0)}),.5),this.scheduleOnce((function(){t.stateChangeTo(m.WinShowState.Checking)}),i)},o.performBigWinAnimation=function(){var t=this;this.disableSpinAndOtherBtns(),this.stateChangeTo(m.WinShowState.BigWinAnimation),this.lineAnimator.sync();var i=function(){t.spinResult,dispatch(S.ROLLING_WIN_SCORE,t.total_lines_win),t.data.GameType!==u.MAIN||t.data.getAutoStatus()||(t.resetForEachLineAnimation(),t.performEachLineAnimation(),t.schedule(t.performEachLineAnimation,t.eachLineAnimationInterval)),t.stopSymbolLineAnimation(),(t.data.GameType===u.MAIN||t.data.GameType===u.FREE||t.data.GameType===u.MAPFREE)&&t.stopPerformUnit()};this.showAllLines();var e=.3;this.isTigerWin&&(e=3,this.spinLayer.spinTable.playBaseBigWinAnim()),this.scheduleOnce((function(){var e=t.spinResult.lines_win,n=t.spinResult.winType;n>0&&App.uiManager.open({type:d,bundle:t.data.module,zIndex:f.UI,args:[n,e,i]})}),e)},o.PlayLineAudio=function(){var t=0;if(this.spinResult.win_lines&&this.spinResult.win_lines.length>0){for(var i=0;i<this.spinResult.win_lines.length;i++){var e,n=null==(e=this.spinResult.win_lines[i])?void 0:e.icon;n<=5&&n>t&&(t=n)}t<=5&&t>0&&(4==t?dispatch(S.PLAY_EFFECT,"audio/voice/voice_roar5"):5==t?dispatch(S.PLAY_EFFECT,"audio/voice/voice_roar4"):dispatch(S.PLAY_EFFECT,"audio/voice/voice_roar"+t)),dispatch(S.PLAY_EFFECT,"audio/base/win1"),dispatch(S.SET_MUSIC_VOLUME,.2)}},o.performSymbolLineAnimation=function(){var t=this;this.stateChangeTo(m.WinShowState.SymbolLineAnimation);this.showAllLines(),this.PlayLineAudio(),this.data.GameType===u.MAIN?(dispatch(S.ROLLING_WIN_SCORE,this.total_lines_win),this.scheduleOnce(this.stopSymbolLineAnimation,1),this.data.getAutoStatus()?this.scheduleOnce((function(){t.stateChangeTo(m.WinShowState.Checking)}),1):this.stateChangeTo(m.WinShowState.Checking),this.scheduleOnce((function(){t.resetForEachLineAnimation(),t.performEachLineAnimation(),t.schedule(t.performEachLineAnimation,t.eachLineAnimationInterval)}),1)):(dispatch(S.ROLLING_WIN_SCORE,this.total_lines_win),this.scheduleOnce(this.stopSymbolLineAnimation,1),this.scheduleOnce((function(){t.stateChangeTo(m.WinShowState.Checking)}),1.5))},o.showAllLines=function(){this.lineAnimator.performAllLine(this.allLineHitPos,this.wildHitPos)},o.stopAllLines=function(){this.lineAnimator.stopLineAnimation()},o.resetForEachLineAnimation=function(){this.eachLineShowIndex=0},o.performEachLineAnimation=function(){if(this.lineAnimator.stopAnimation(this.showInAdvancePos),this.lineAnimator.stopLineAnimation(),this.spinResult&&this.spinResult.win_lines.length>0&&this.spinResult.win_lines[this.eachLineShowIndex]&&this.spinResult.win_lines[this.eachLineShowIndex].hit_pos){var t=this.spinResult.win_lines[this.eachLineShowIndex].hit_pos;this.lineAnimator.performLineAnimation(t,this.showInAdvancePos);this.spinResult.win_lines[this.eachLineShowIndex].win;this.eachLineShowIndex=this.eachLineShowIndex+1,this.eachLineShowIndex=this.eachLineShowIndex%this.spinResult.win_lines.length}},o.performStandbyBeforeBonusGameEnter=function(){var t=this;0==this.BonusGameInTemp?(this.stopAllPerforms(),this.disableSpinAndOtherBtns(),dispatch(S.PLAY_EFFECT,"audio/base/bonus_notify"),this.stateChangeTo(m.WinShowState.StandbyBeforeBonusGameEnter),this.spinLayer.gameLayer.processBonusGameResult(this.spinResult),this.scheduleOnce((function(){return t.spinLayer.gameLayer.playStartRespinDialog(),!0}),.1)):(this.stickyBonusWin=!1,this.stateChangeTo(m.WinShowState.Checking))},o.performStandbyBeforePickGameEnter=function(){var t=this;0==this.PickGameInTemp?(this.stopAllPerforms(),this.disableSpinAndOtherBtns(),this.stateChangeTo(m.WinShowState.StandbyBeforePickGameEnter),this.scheduleOnce((function(){return t.spinLayer.gameLayer.pickGameIn(),!0}),.1)):this.stateChangeTo(m.WinShowState.Checking)},o.performBonusGameEnter=function(){this.unschedule(this.performEachLineAnimation),this.spinLayer.gameLayer.performBonusGame(),this.stateChangeTo(m.WinShowState.Idle)},o.performStandbyBeforeFreeGameEnter=function(){var t=this;this.disableSpinAndOtherBtns(),this.stateChangeTo(m.WinShowState.StandbyBeforeFreeGameEnter),this.spinLayer.gameLayer.processFreeGameResult(this.spinResult),this.scheduleOnce((function(){t.spinLayer.gameLayer.fgIn()}),.1)},o.performFreeGameEnter=function(){this.spinLayer.gameLayer.performFreeGame(),this.stateChangeTo(m.WinShowState.Idle)},o.stopShow=function(){var t=!1;return(t=this.state==m.WinShowState.Idle||this.stepCurrentState())&&(this.stopAllPerforms(),this.stateChangeTo(m.WinShowState.Idle)),t},o.forceStopShow=function(){this.stopAllPerforms()},o.stepCurrentState=function(){return this.state!=m.WinShowState.FreeGameTrigger&&(this.state!=m.WinShowState.ScatterAnimation&&(this.state!=m.WinShowState.BonusAnimation&&(this.state==m.WinShowState.SymbolLineAnimation&&(this.fgWin||this.bigWin||this.bgWin)?(this.stopSymbolLineAnimation(),this.stopPerformUnit(),!1):this.state==m.WinShowState.SymbolLineAnimation?(this.stopSymbolLineAnimation(),!0):this.state==m.WinShowState.BigWinAnimation||this.state==m.WinShowState.StandbyBeforeBonusGameEnter||this.state==m.WinShowState.StandbyBeforePickGameEnter?(this.stopPerformUnit(),!1):this.state!=m.WinShowState.EnterBonusGame&&(this.state!=m.WinShowState.StandbyBeforeFreeGameEnter&&(this.state!=m.WinShowState.Checking&&(this.state!=m.WinShowState.CollectB2ToMustHit&&(this.state!=m.WinShowState.ChipWin&&this.state!=m.WinShowState.TreasureFull)))))))},o.stopAllPerforms=function(){this.unscheduleAllCallbacks(),this.unschedule(this.performEachLineAnimation),this.stopAllWinMusicAndEffects(),this.stopAllLines(),this.stopSymbolLineAnimation(),this.lineAnimator.stopAnimation()},o.stateChangeTo=function(t){this.state=t,m.WinShowState.Checking==this.state?this.checkPerformList():m.WinShowState.Idle==this.state&&this.spinLayer.effectLayerChangeToIdle()},o.playWinMusic=function(t,i){},o.playWinEffect=function(t,i){},o.stopAllWinMusicAndEffects=function(){dispatch(S.STOP_EFFECT,"audio/voice/voice_roar1"),dispatch(S.STOP_EFFECT,"audio/voice/voice_roar2"),dispatch(S.STOP_EFFECT,"audio/voice/voice_roar3"),dispatch(S.STOP_EFFECT,"audio/voice/voice_roar4"),dispatch(S.STOP_EFFECT,"audio/voice/voice_roar5"),dispatch(S.STOP_EFFECT,"audio/base/win1"),dispatch(S.SET_MUSIC_VOLUME,1)},o.isWinLineCanChangeTip=function(){},o.disableSpinAndOtherBtns=function(){this.spinLayer.gameLayer.disableSpinAndOtherBtns()},a(i,[{key:"data",get:function(){return App.dataCenter.get(p)}}]),i}(l)).prototype,"bgmControlNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=L))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/ExBannerContentProvider12.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BannerContentProvider.ts","./SubGameData27.ts"],(function(n){var e,r,t,o,i;return{setters:[function(n){e=n.inheritsLoose},function(n){r=n.cclegacy,t=n._decorator},function(n){o=n.BannerContentProvider},function(n){i=n.SubGameData}],execute:function(){var c;r._RF.push({},"69cebciLy5HkrvcS9M1+BGT","ExBannerContentProvider",void 0);var a=t.ccclass,u=(t.property,t.menu);n("ExBannerContentProvider",a(i.module+"_component_ExBannerContentProvider")(c=u(i.module+"/component/ExBannerContentProvider")(c=function(n){function r(){return n.apply(this,arguments)||this}return e(r,n),r.prototype.dataList=function(){return["<img src='1'/>","<img src='2'/>","<img src='3'/>","<img src='4'/>"]},r}(o))||c)||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameEntry27.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entry.ts","./Decorators.ts","./MainGameView22.ts","./GameService.ts","./GameHandler27.ts","./SubGameLanguage27.ts","./Config.ts","./LoadingBar4.ts"],(function(){var e,n,t,a,o,r,i,u,c,s;return{setters:[function(n){e=n.inheritsLoose},function(e){n=e.cclegacy},function(e){t=e.Entry},function(e){a=e.registerEntry},function(e){o=e.default},function(e){r=e.GameService},function(e){i=e.default},function(e){u=e.SubGameLanguage},function(e){c=e.ViewZOrder},function(e){s=e.LoadingBar}],execute:function(){var l;n._RF.push({},"20ed8H82/tPEbS2EARAXy3/","GameEntry",void 0);a("GameEntry","slot310000014",o)(l=function(n){function t(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))||this).language=new u,e}e(t,n);var a=t.prototype;return a.addNetHandler=function(){App.handlerManager.get(i)},a.removeNetHandler=function(){App.handlerManager.destory(i)},a.loadResources=function(e){App.uiManager.open({type:s,bundle:this.bundle,zIndex:c.UI}).then((function(){App.utils.closeDocumentFrameAnimation(),e()}))},a.initData=function(){App.serviceManager.get(r,!0)},a.pauseMessageQueue=function(){},a.resumeMessageQueue=function(){},a.openGameView=function(){n.prototype.openGameView.call(this)},a.onUnloadBundle=function(){n.prototype.onUnloadBundle.call(this),App.serviceManager.destory(r)},t}(t));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameHandler27.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Handler.ts","./GameService.ts","./Protocol28.ts","./Global.ts","./CommonEvent.ts","./SubGameData27.ts","./SubGameDefines27.ts"],(function(e){var s,t,n,a,o,c,i,r,u,S;return{setters:[function(e){s=e.inheritsLoose,t=e.createClass},function(e){n=e.cclegacy},function(e){a=e.Handler},function(e){o=e.GameService},function(e){c=e.Protocol},function(e){i=e.Global},function(e){r=e.CommonEvent},function(e){u=e.SubGameData},function(e){S=e.EventName}],execute:function(){n._RF.push({},"9441aEpUfVGkpF+aNXy8UZy","GameHandler",void 0),e("default",function(e){function n(){return e.apply(this,arguments)||this}s(n,e);var a=n.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),this.onS(c.LOGIN,this.s2cLogin),this.onS(c.USERINFO,this.s2cUserInfo),this.onS(c.SLOTINFO,this.s2cSlotInfo),this.onS(c.SLOTBET,this.s2cSlotBet),this.onS(c.LASTMAP,this.s2cLastMap),this.onS(c.FREESPIN,this.s2cFreeSpin),this.onS(c.SELECTSLOT,this.s2cSlotSelect),this.onS(c.JpCmd,this.s2cJpCmd),this.onS(c.JPREWARDREFRESH,this.s2cJpReward)},a.s2cLogin=function(e){e&&e.message&&1==e.message.issucc&&(i.account=e.message.account,i.currency=e.message.mtype,this.c2sUserInfo(),this.c2sSlotInfo(),dispatch(r.OnLoginSuccess,e),dispatch(r.SWITCH_CURRENCY))},a.c2sUserInfo=function(){var e,s={type:c.USERINFO,message:{}};null==(e=this.service)||e.sendMessage(c.USERINFO,s)},a.c2sSlotInfo=function(){var e,s={type:c.SLOTINFO,message:{}};null==(e=this.service)||e.sendMessage(c.SLOTINFO,s)},a.s2cUserInfo=function(e){Log.d("s2cUserInfo message.money = ",e.message.money),Log.d("s2cUserInfo data.money = ",this.data.money),this.data.money=e.message.money},a.s2cSlotInfo=function(e){var s=e.message;this.data.slotInfo=s,this.data.loadDataFinish=!0,dispatch(S.LoadDataFinish);var t=!1;1==s.can_gm&&(t=!0),dispatch(r.NOTIFY_GMTOOL_VISIBLE,t)},a.s2cSlotBet=function(e){var s=e.message;dispatch(S.OnReceiveSlotBet,s)},a.s2cLastMap=function(e){var s=e.message;this.data.lastMapData=s},a.s2cFreeSpin=function(e){var s=e.message;dispatch(S.OnReceiveFGSpin,s)},a.s2cSlotSelect=function(e){var s=e.message;dispatch(S.OnReceiveFGSelect,s)},a.s2cJpCmd=function(e){var s=e.message;dispatch(S.RECEIVE_JACKPOT,s)},a.s2cJpReward=function(e){var s=e.message;dispatch(S.GET_JP_REWARD,s)},t(n,[{key:"data",get:function(){return App.dataCenter.get(u)}},{key:"service",get:function(){return App.serviceManager.get(o)}}]),n}(a)).module="Game",n._RF.pop()}}}));

System.register("chunks:///_virtual/GameLayer4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpinLayer4.ts","./SubGameData27.ts","./SubGameDefines27.ts","./EventComponent.ts","./Config.ts","./SubGameConstants22.ts","./PopOut4.ts","./CommonEvent.ts","./Global.ts","./BigWinLayer12.ts","./PickLayer.ts","./JpPickLayer.ts","./JpSPickLayer.ts","./JackpotLayer5.ts"],(function(e){var i,t,a,n,s,r,o,p,c,l,u,h,g,d,f,_,y,m,v,L,S,b,k,w,P,T,R,M,N,I,C,A,B,j,F;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.createForOfIteratorHelperLoose,r=e.createClass},function(e){o=e.cclegacy,p=e._decorator,c=e.Node,l=e.Sprite,u=e.SpriteFrame,h=e.sp,g=e.Label,d=e.Prefab,f=e.UIOpacity,_=e.tween,y=e.Vec3,m=e.instantiate,v=e.Tween},function(e){L=e.SpinLayer},function(e){S=e.SubGameData},function(e){b=e.THEME_GAME_TYPE,k=e.SpinLayerState,w=e.EventName},function(e){P=e.default},function(e){T=e.ViewZOrder},function(e){R=e.ThemeJungKingdom},function(e){M=e.default},function(e){N=e.CommonEvent},function(e){I=e.Global},function(e){C=e.default},function(e){A=e.PickLayer},function(e){B=e.JpPickLayer},function(e){j=e.JpSPickLayer},function(e){F=e.JackpotLayer}],execute:function(){var G,E,O,x,D,U,W,Y,z,J,H,K,V,X,Q,q,Z,$,ee,ie,te,ae,ne,se,re,oe,pe,ce,le,ue,he,ge,de,fe,_e,ye,me;o._RF.push({},"f030aZjGFVERaH4bPz/Ds5F","GameLayer",void 0);var ve=p.ccclass,Le=p.property;e("GameLayer",(G=ve("GameLayer"),E=Le({displayName:"content",type:c}),O=Le({displayName:"baseBg",type:l}),x=Le({displayName:"sPickBg",type:l}),D=Le({displayName:"bgFrame",type:[u]}),U=Le({displayName:"spinLayer",type:L}),W=Le({displayName:"awardLayerColor",type:c}),Y=Le({displayName:"bigAwardNotice",type:h.Skeleton}),z=Le({displayName:"fgCountBoard",type:c}),J=Le({displayName:"fgCountNum",type:g}),H=Le({displayName:"jackpotLayer",type:F}),K=Le({displayName:"jpPickLayer",type:B}),V=Le({displayName:"jpSPickLayer",type:j}),X=Le({displayName:"guochang_skeletonData",type:[h.SkeletonData]}),Q=Le({displayName:"pickLayerPrefab",type:d}),q=Le({displayName:"clippingNode",type:c}),Z=Le({displayName:"jpNode1",type:c}),$=Le({displayName:"jpNode2",type:c}),G((te=i((ie=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return(i=e.call.apply(e,[this].concat(s))||this).view=null,a(i,"content",te,n(i)),a(i,"baseBg",ae,n(i)),a(i,"sPickBg",ne,n(i)),a(i,"bgFrame",se,n(i)),a(i,"spinLayer",re,n(i)),a(i,"awardLayerColor",oe,n(i)),a(i,"bigAwardNotice",pe,n(i)),a(i,"fgCountBoard",ce,n(i)),a(i,"fgCountNum",le,n(i)),a(i,"jackpotLayer",ue,n(i)),a(i,"jpPickLayer",he,n(i)),a(i,"jpSPickLayer",ge,n(i)),a(i,"guochang_skeletonData",de,n(i)),a(i,"pickLayerPrefab",fe,n(i)),a(i,"clippingNode",_e,n(i)),a(i,"jpNode1",ye,n(i)),a(i,"jpNode2",me,n(i)),i.isExpecting=!1,i.fgType=0,i.freeGameLeaving=!1,i.freeSpinIndex=0,i.freeSpinNum=0,i.fg_select=0,i.bonusGameLeaving=!1,i.bonusSpinIndex=0,i.bonusSpinNum=0,i.bg_totalWin=0,i.jp_totalWin=0,i.fg_totalWin=0,i.fg_idx=0,i.fg_total_round=0,i.bg_idx=0,i.bg_total_round=0,i.isFgReconnect=!1,i.spinResult=null,i.fgResult=null,i.bgResult=null,i.restore_spinResult=[],i.restore_upper_reel=[],i.restore_down_reel=[],i.fg_total_list=[5,8,15,20],i.spin_item_list_new=[],i.pre_test_num=0,i.curBg=null,i.isSuperPick=!1,i.isSuperRespin=!1,i.jackpot_reward=[],i.jackpot_lock=[],i.playBigWin=!1,i.pickLayer=null,i.scIntervalTime=performance.now(),i.bgScIntervalTime=performance.now(),i}t(i,e);var o=i.prototype;return o.judgeScInterval=function(e){var i=performance.now();this.scIntervalTime,this.scIntervalTime=i},o.judgeBgScInterval=function(){var e=performance.now();this.bgScIntervalTime,this.bgScIntervalTime=e},o.onLoad=function(){this.spinLayer&&(this.spinLayer.gameLayer=this),this.jpPickLayer&&(this.jpPickLayer.gameLayer=this,this.jpPickLayer.node.active=!1),this.jpSPickLayer&&(this.jpSPickLayer.gameLayer=this,this.jpSPickLayer.node.active=!1),this.awardLayerColor.active=!1,this.bigAwardNotice.node.active=!1,this.view.guochang_Mask.active=!1,this.view.guochang.node.active=!1,this.curBg=this.baseBg},o.clearGroup=function(){this.spinLayer.clearGroup(),this.unscheduleAllCallbacks()},o.addEvents=function(){e.prototype.addEvents.call(this)},o.canSpin=function(){if(b.MAIN==this.data.GameType){if(this.spinLayer.state==k.Idle||this.spinLayer.state==k.Show)return this.spinLayer.stopShow();if(this.spinLayer.state==k.Rolling)return!1}else if(b.FREE==this.data.GameType){if(this.spinLayer.state==k.Idle||this.spinLayer.state==k.Show)return this.spinLayer.stopShow();if(this.spinLayer.state==k.Rolling)return!1}return!1},o.canStop=function(){return this.data.GameType==b.MAIN?!this.data.extendSpin&&(!this.data.ChipWinTemp&&(this.spinLayer.spinTable.shouldExpecting?(this.spinLayer.spinTable.stopAllExpect(),this.spinLayer.stopSpinTable()):this.spinLayer.stopSpinTable(),!0)):!this.data.extendSpin&&(!this.data.ChipWinTemp&&(this.spinLayer.spinTable.shouldExpecting?!this.isExpecting&&(this.spinLayer.spinTable.stopAllExpect(),this.spinLayer.stopSpinTable(),!0):(this.spinLayer.stopSpinTable(),!0)))},o.enableSpin=function(){this.data.GameType==b.MAIN&&(this.view.onSpinEnd(),this.data.getAutoStatus()||dispatch(w.UNLOCK_JACKPOT,!0))},o.disableSpinAndOtherBtns=function(){dispatch(N.NOTIFY_SPIN_START_NORMAL,!1),this.scheduleOnce((function(){dispatch(N.NOTIFY_SPIN_STOP_NORMAL,!1)}),.1)},o.fgSelectReconnect=function(e){},o.fgSelect=function(){},o.freeGameReconnect=function(e){var i=this.assembleFGResult(this.spinResult,e);this.fgResult=i,this.freeSpinNum=i.fg_total_round,this.freeSpinIndex=i.fg_idx,this.fg_idx=i.fg_idx,this.fg_total_round=i.fg_total_round,this.isFgReconnect=!0,this.fgType=6-i.fg_select+1,this.fg_select=i.fg_select,dispatch(w.UNLOCK_JACKPOT,!1),this.performGotFreeGameTip(!0),dispatch(N.NOTIFY_FREE_MODE),this.disableSpinAndOtherBtns()},o.processFreeGameResult=function(e){var i=this.assembleFGResult(this.spinResult,this.spin_item_list_new);this.fg_totalWin+=this.spinResult.baseWin,this.fgResult=i,this.freeSpinNum=i.fg_total_round,this.fg_total_round=i.fg_total_round,this.freeSpinIndex=0,this.fg_idx=0,this.fgType=6-i.fg_select+1,this.fg_select=i.fg_select},o.processBonusGameResult=function(e){var i=this.assembleBGResult(this.spinResult);this.bgResult=i,this.bonusSpinIndex=0,this.bonusSpinNum=i.respin_list.length,this.bg_total_round=i.respin_list.length,this.bg_idx=0},o.performGotFreeGameTip=function(e){var i=this;this.fgCountNum.string=this.freeSpinIndex+"/"+this.freeSpinNum,this.fgCountBoard.active=!1,e?(this.spinLayer.hide_mustHitNode(!1),this.baseBg.spriteFrame=this.bgFrame[1],this.fgCountBoard.active=!0,this.spinLayer.initFgTable(this.fgType,this.fgResult,!0),e&&this.fgResult.fg_idx<this.fgResult.fg_total_round&&this.fgResult.fg_idx>0&&this.processNextRoundFreeGame(),this.spinLayer.effectLayer.lineAnimator.sync(),dispatch(w.PLAY_MUSIC,"audio/free/fg_bgm"),this.freeGameLeaving=!0,this.spinLayer.effectLayer.performFreeGameEnter()):(this.spinLayer.effectLayer.stopAllPerforms(),this.spinLayer.effectLayer.performEachLineAnimation(),this.fgCountBoard.active=!0,this.spinLayer.initFgTable(this.fgType,this.fgResult),this.spinLayer.effectLayer.lineAnimator.sync(),this.scheduleOnce((function(){dispatch(w.PLAY_MUSIC,"audio/free/fg_bgm"),i.freeGameLeaving=!0,i.spinLayer.effectLayer.performFreeGameEnter()}),.3))},o.fgIn=function(){this.fgCountNum.string=this.freeSpinIndex+"/"+this.freeSpinNum,this.fgCountBoard.active=!1,dispatch(w.PLAY_EFFECT,"audio/dialog/dialog_fg_start"),App.uiManager.open({type:M,bundle:this.data.module,zIndex:T.UI,args:[this,R.PopupType.FreeGamePopIn,this.freeSpinNum]})},o.stopFreeGameTip=function(){var e=this;this.unschedule(this.stopFreeGameTip),App.uiManager.close(M),this.view.guochang_Mask.getComponent(f).opacity=0,this.view.guochang_Mask.active=!0;var i=this.view.guochang_Mask.getComponent(f);i&&_(i).to(.3,{opacity:0},{easing:"fade"}).call((function(){e.view.guochang_Mask.active=!1})).start();this.scheduleOnce((function(){dispatch(w.PLAY_EFFECT,"audio/base/transition_base_free"),e.view.guochang.node.active=!0,e.view.guochang.node.scale=new y(1.3,1.3),e.view.guochang.skeletonData=e.guochang_skeletonData[0],e.view.guochang.setAnimation(0,"animation1",!1),e.scheduleOnce((function(){e.spinLayer.hide_mustHitNode(!1),e.baseBg.spriteFrame=e.bgFrame[1]}),1.5),e.fgResult&&e.scheduleOnce((function(){e.spinLayer.effectLayer.stopAllPerforms(),e.spinLayer.effectLayer.performEachLineAnimation(),e.fgCountBoard.active=!0,e.spinLayer.initFgTable(e.fgType,e.fgResult),e.spinLayer.effectLayer.lineAnimator.sync(),e.scheduleOnce((function(){dispatch(w.PLAY_MUSIC,"audio/free/fg_bgm"),e.freeGameLeaving=!0,e.spinLayer.effectLayer.performFreeGameEnter()}),.3)}),2.5)}),.5)},o.getMulti=function(e){var i=0;if(b.MAIN==this.data.GameType)for(var t=0;t<e.item_list[2].length;t++){var a=e.item_list[2][t];a>=12&&a<=15&&(i=a-10)}else b.FREE,this.data.GameType;return i},o.getScatterNum=function(e){for(var i=0,t=0;t<e.length;t++)1==e[t]&&(i+=1);return i},o.pickGameIn=function(){dispatch(w.STOP_JACKPOT);var e=this.spinResult;dispatch(w.REFRESH_JACKPOT,e.jp_value),this.isSuperPick=this.data.isSuperPick,this.jackpot_reward=e.jp_value,this.jackpot_lock=e.jp_lock,this.view.guochang_Mask.getComponent(f).opacity=0,this.view.guochang_Mask.active=!0,this.awardLayerColor.active=!1,this.isSuperPick?(this.initPickLayer(e.pick_item_list,this.isSuperPick),this.enterPickGame()):(this.spinLayer.show_clippingNode(!1),this.initPickLayer(e.pick_item_list,this.isSuperPick),this.enterPickGame())},o.removePickLayer=function(){this.clippingNode&&this.clippingNode.destroyAllChildren()},o.initPickLayer=function(e,i){if(void 0===i&&(i=!1),this.clippingNode){this.clippingNode.destroyAllChildren();var t=m(this.pickLayerPrefab);if(t){this.clippingNode.addChild(t);var a=t.getComponent(A);a&&(a.gameLayer=this,a.init(e,i),this.pickLayer=a)}}},o.enterPickGame=function(){var e=this,i=function(){dispatch(w.PLAY_MUSIC,"audio/pick/pick_bgm"),e.pickLayer.showShakePickItems(),I.playback&&e.scheduleOnce((function(){e.pickLayer.playBackRandomClick()}),.1),e.view.guochang_Mask.active=!1};this.pickLayer.playEnterTransition(this.isSuperPick,(function(){e.pickLayer.showEnterPickDialog(e.isSuperPick,i);var t="audio/dialog/pick_start";e.isSuperPick&&(t="audio/dialog/sp_pick_start"),dispatch(w.PLAY_EFFECT,t)}),!0),this.scheduleOnce((function(){e.jackpotLayer.node.active=!1,e.isSuperPick||(e.jpPickLayer.node.active=!0,e.jpPickLayer.init(e.jackpot_reward,e.jackpot_lock),e.jpPickLayer.jpMove())}),.3)},o.prepareJpForSuperPick=function(){this.jpSPickLayer.node.active=!0,this.jpSPickLayer.init(this.jackpot_reward,this.jackpot_lock),this.jpSPickLayer.jpMove()},o.jpWin=function(){var e=this.spinResult,i=e.win_jp;if(!(i<=0)){var t=0;t=this.isSuperPick?e.jp_value[i-1]:e.jp_value[i-2],this.jp_totalWin=t,this.view.guochang_Mask.getComponent(f).opacity=0,this.view.guochang_Mask.active=!0,dispatch(w.PLAY_EFFECT,"audio/dialog/dialog_mini1"),dispatch(w.PLAY_EFFECT,"audio/dialog/dialog_mini2"),dispatch(w.SET_MUSIC_VOLUME,0),App.uiManager.open({type:M,bundle:this.data.module,zIndex:T.UI,args:[this,R.PopupType.JpPopOut,i,t]})}},o.jpEnd=function(){var e=this,i=function(){e.jackpotLayer.node.active=!0,e.jpSPickLayer.node.active=!1,e.jpPickLayer.node.active=!1;var i=e.jp_totalWin;e.view.guochang_Mask.getComponent(f).opacity=0,e.view.guochang_Mask.active=!0,e.returnToMainFromPickGame(i)};this.isSuperPick?this.jpSPickLayer.jpBack(i):this.jpPickLayer.jpBack(i)},o.returnToMainFromPickGame=function(e){var i=this;if(dispatch(w.REQUEST_JACKPOT),this.baseBg.node.active=!0,this.sPickBg.node.active=!1,this.spinLayer.treasureNode.active=!0,500==this.spinResult.mustHitProgress&&this.spinLayer.showMustHitProgress(0),this.spinLayer.show_clippingNode(!0),this.pickLayer.playExitTransition(),this.pickLayer.node.destroy(),this.clippingNode){this.clippingNode.destroyAllChildren();var t=this.view.guochang_Mask.getComponent(f);t&&_(t).to(.3,{opacity:0},{easing:"fade"}).call((function(){i.view.guochang_Mask.active=!1})).start(),this.scheduleOnce((function(){b.MAIN==i.data.GameType||b.FREE==i.data.GameType&&(i.fgCountBoard.active=!0);var t=function(){dispatch(w.ROLLING_WIN_SCORE,e),b.MAIN==i.data.GameType?dispatch(w.PLAY_MUSIC,"audio/base/bg_bgm"):b.FREE==i.data.GameType&&(dispatch(w.PLAY_MUSIC,"audio/free/fg_bgm"),i.spinLayer.effectLayer.forceStopShow()),i.spinLayer.effectLayer.PickGameInTemp=1,i.spinLayer.effectLayer.performStandbyBeforePickGameEnter()},a=e,n=i.data.getBigWinType(a);n>0?i.scheduleOnce((function(){App.uiManager.open({type:C,bundle:i.data.module,zIndex:T.UI,args:[n,a,t]})}),.1):t()}),1)}},o.performFreeGameRetrigger=function(){dispatch(w.STOP_MUSIC),dispatch(w.PLAY_EFFECT,"audio/extra"),this.view.guochang_Mask.getComponent(f).opacity=0,this.view.guochang_Mask.active=!1;var e=this.data.free_spins;this.freeSpinNum+=e,App.uiManager.open({type:M,bundle:this.data.module,zIndex:T.UI,args:[this,R.PopupType.FreeGamePopAdd,e]}),this.scheduleOnce(this.stopFreeGameAdd,5)},o.stopFreeGameAdd=function(){var e=this;this.unschedule(this.stopFreeGameAdd),App.uiManager.close(M),this.scheduleOnce((function(){e.view.guochang_Mask.active=!1,e.spinLayer.effectLayer.stopPerformUnit(),dispatch(w.PLAY_MUSIC,"audio/free/fg_bgm")}),.3)},o.performFreeGame=function(){this.setGameType(b.FREE)},o.performBonusGame=function(){this.setGameType(b.BONUS)},o.fgReconnectWithoutExit=function(){},o.processNextRoundFreeGame=function(){var e=this;return this.freeSpinIndex=this.freeSpinIndex+1,this.fg_idx<this.fg_total_round?(this.data.TURBO_SPIN||this.data.QUICK_SPIN||dispatch(N.NOTIFY_SPIN_START_NORMAL),this.fgCountNum.string=this.freeSpinIndex+"/"+this.freeSpinNum,this.spinLayer.effectLayer.forceStopShow(),this.spinLayer.autoAvailableTmp=!1,this.fakeSpin(),this.view.requestFreeGameSpin(),!0):(this.freeGameLeaving=!1,this.scheduleOnce((function(){e.view.guochang_Mask.getComponent(f).opacity=0,e.view.guochang_Mask.active=!0,dispatch(w.PLAY_EFFECT,"audio/dialog/dialog_fg_collect"),dispatch(w.SET_MUSIC_VOLUME,0);var i=e.fg_totalWin;i>0?App.uiManager.open({type:M,bundle:e.data.module,zIndex:T.UI,args:[e,R.PopupType.FreeGamePopOut,i]}):e.scheduleOnce(e.stopFreeGameOut,.1)}),1),!1)},o.stopFreeGameOut=function(){var e=this;this.unschedule(this.stopFreeGameOut),this.view.guochang_Mask.getComponent(f).opacity=0,this.view.guochang_Mask.active=!0,App.uiManager.close(M);this.scheduleOnce((function(){e.view.guochang.node.active=!0,e.view.guochang.node.scale=new y(1.2,1.2),e.view.guochang.skeletonData=e.guochang_skeletonData[0],e.view.guochang.setAnimation(0,"animation2",!1),e.scheduleOnce((function(){e.spinLayer.show_mustHitNode(!1),e.baseBg.spriteFrame=e.bgFrame[0]}),1),e.scheduleOnce((function(){e.returnToMainFromFreeGame(!0,!1)}),2)}),.5)},o.returnToMainFromFreeGame=function(e,i){var t=this;void 0===e&&(e=!1),void 0===i&&(i=!1),this.view.guochang_Mask.active=!1,this.fgCountBoard.active=!1,this.baseBg.spriteFrame=this.bgFrame[0],this.spinLayer.spinTable.clearStickyBonus(),this.spinLayer.effectLayer.forceStopShow(),this.spinLayer.resetNgTable(e),this.scheduleOnce((function(){t.spinLayer.effectLayer.lineAnimator.sync(),Log.d("returnToMainFromFreeGame this.spinResult = ",t.spinResult);var e=t.spinResult.collectProgress;t.spinLayer.spinTable.showCollectProgress(e,!1)}),.1),this.fg_select=0,this.freeSpinIndex=-1,this.freeSpinNum=-1,this.fgType=-1,this.fg_idx=-1,this.fg_total_round=-1,this.fg_totalWin=0,this.scheduleOnce((function(){var e=function(){t.freeGameLeaving=!1,t.setGameType(b.MAIN),dispatch(w.PLAY_MUSIC,"audio/base/bg_bgm"),i&&I.playback||t.enableSpin()},a=t.data.total_win,n=t.data.getBigWinType(a);n>0?t.scheduleOnce((function(){App.uiManager.open({type:C,bundle:t.data.module,zIndex:T.UI,args:[n,a,e]})}),.1):e()}),.1)},o.processNextRoundBonusGame=function(){return this.bonusSpinIndex=this.bonusSpinIndex+1,this.bonusSpinIndex<=this.bonusSpinNum?(this.spinLayer.effectLayer.forceStopShow(),this.spinLayer.autoAvailableTmp=!1,this.fakeReSpin(),this.view.requestBonusGameSpin(),!0):(this.bonusGameLeaving=!1,this.view.guochang_Mask.getComponent(f).opacity=0,this.view.guochang_Mask.active=!0,!1)},o.stopBonusGameOut=function(){},o.setGameType=function(e){this.data.GameType=e,this.spinLayer.spinTable.rearrangeTable()},o.fakeSpin=function(){this.spinLayer.effectLayer.forceStopShow(),this.spinLayer.effectLayer.stopSymbolLineAnimation(),this.spinLayer.spinTable.fakeSpin()},o.fakeReSpin=function(){this.spinLayer.effectLayer.forceStopShow(),this.spinLayer.effectLayer.stopSymbolLineAnimation(),this.spinLayer.respinTable.fakeSpin()},o.showAwardNotice=function(){var e=this;this.data.cancelEnableStop=!0,this.data.extendSpin=!0,this.awardLayerColor.active=!0;var i=this.awardLayerColor.getComponent(f);i&&_(i).delay(.4).to(.3,{opacity:120},{easing:"fade"}).delay(1.6+.3).to(.3,{opacity:0},{easing:"fade"}).call((function(){e.awardLayerColor.active=!1})).start();this.scheduleOnce((function(){dispatch(w.PLAY_EFFECT,"audio/base/animation_notify"),e.bigAwardNotice.node.active=!0,e.bigAwardNotice.setAnimation(0,"animation",!1);for(var i=0;i<5;i++)v.stopAllByTarget(e.spinLayer.spinTable.cellList[i].speedPosNode),_(e.spinLayer.spinTable.cellList[i].speedPosNode).to(.1,{position:new y(0,2800,0)},{easing:"sineInOut"}).start()}),.4),this.scheduleOnce((function(){_(e.content).to(.15,{position:new y(0,-20,0)}).to(.15,{position:new y(0,0,0)}).start()}),2),this.scheduleOnce((function(){e.data.extendSpin=!1,e.spinLayer.spinTable.stopAllExpect(),e.spinLayer.stopSpinTable()}),4.4)},o.shakeScreen=function(e,i,t){var a=.05,n=2;i&&(n*=i);var s=e,r=Math.floor(s/5/a);t&&_(t).repeat(r,_().call((function(){return t.setPosition(n,2*n*2)})).delay(a).call((function(){return t.setPosition(-2*n,2*n)})).delay(a).call((function(){return t.setPosition(2*n,2*n)})).delay(a).call((function(){return t.setPosition(-n,2*n*2)})).delay(a).call((function(){return t.setPosition(0,0)})).delay(a)).start()},o.expectStart=function(){this.isExpecting=!0},o.expectEnd=function(){this.isExpecting=!1},o.createGameFeverPop=function(){},o.destructGameFeverPop=function(){},o.resetReconnect=function(){this.clearGroup(),dispatch(N.NOTIFY_FOOTER_HIDE,!1),this.removePickLayer(),this.spinLayer.removeBgTable(),this.spinLayer.effectLayer.forceStopShow(),this.spinLayer.effectLayer.stateChangeTo(R.WinShowState.Idle),this.spinLayer.state=k.Idle,this.spinLayer.node.active=!0,this.view.guochang.node.active=!1,this.view.guochang_Mask.active=!1,this.baseBg.node.active=!0,this.sPickBg.node.active=!1,this.spinLayer.treasureNode.active=!0,this.jpPickLayer.node.active=!1,this.jpSPickLayer.node.active=!1,this.jackpotLayer.node.active=!0,this.spinLayer.show_mustHitNode(!0),App.uiManager.close(M),App.uiManager.close(C)},o.processLastSpinResult=function(e){this.data.isDebug?this.spinResult=this.simulationLastSpinResult():this.spinResult=e?this.assembleLastSpinResult(e):this.simulationLastSpinResult(),this.spinLayer&&(this.resetReconnect(),this.spinLayer.processLastSpinResult(this.spinResult))},o.processSpinResult=function(e){void 0===e&&(e=null),this.data.isDebug?this.spinResult=this.simulationSpinResult():this.spinResult=this.assembleSpinResult(e),this.spinLayer&&this.spinLayer.processSpinResult(this.spinResult)},o.processFGSpinResult=function(){console.log("processFGSpinResult freeSpinIndex = ",this.freeSpinIndex,this.fg_idx,this.fg_select),this.fg_idx+=1;var e=this.freeSpinIndex-1,i=this.fgResult.item_list_new[e];this.spinResult=this.assembleFGSpinResult(i),this.fg_totalWin+=this.spinResult.baseWin,console.log("fg_totalWin = ",this.fg_totalWin),this.spinLayer.processSpinResult(this.spinResult)},o.processBGSpinResult=function(){console.log("processBGSpinResult bonusSpinIndex = ",this.bonusSpinIndex,this.bg_idx),this.bg_idx+=1;var e=this.bonusSpinIndex-1,i=this.bgResult.respin_list[e];this.spinLayer.processReSpinResult(i,this.bonusSpinIndex)},o.assembleLastSpinResult=function(e){for(var i=e.base.one,t=i.item_list,a=i.upper_reel,n=i.down_reel,s=[],r=[],o=0,p=0,c=0,l=0;l<i.win_lines.length;l++){var u=i.win_lines[l].hit,h=i.win_lines[l].win,g=i.win_lines[l].icon,d={icon:g,hit_pos:u,win:h};g==R.SCATTER_SYMBOLID?(s[p]=d,p+=1):(r[o]=d,o+=1),c+=h}var f=e.type,_=[];1==f&&e.free.one&&e.free.one.length>0&&(_=e.free.one);var y=e.fg_idx,m=e.fg_r_total;1==f&&(this.restore_spinResult=t,this.restore_upper_reel=a,this.restore_down_reel=n);var v=0,L=[],S=[],b=e.type,k=0,w=[];this.data.pickMaxCount=0,this.data.isSuperPick=!1;var P=0;if(this.data.isSuperRespin=!1,5==b||6==b){k=1;var T=i.bonus;w=T.jackpot_map,this.data.pickMaxCount=T.hit_idx,v=T.reward_id;for(var M=0;M<4;M++){var N=T.jackpot_list[M].num;L[M]=N;var C=T.jackpot_list[M].lock;S[M]=C}6==b&&(this.data.isSuperPick=!0)}else 2!=b&&3!=b&&4!=b||(P=1,e.respin,3==b&&(this.data.isSuperRespin=!0));var A=i.hit_value,B=i.fall_value,j=i.jungle_value;I.playback&&(A=i.hit_value_bf||0,B=i.fall_value_bf||0,j=i.jungle_value_bf||0);var F=c;return{item_list:t,item_list2:[],upper_reel:a,down_reel:n,win_lines:r,sc_line:s,fg_select:4,free_game_trig:f,fg_idx:y,fg_total_round:m,item_list_new:_,bonus_game_trig:P,bonus_item_list:[],pick_game_trig:k,pick_item_list:w,win_jp:v,jp_value:L,jp_lock:S,award_notice:0,mustHitProgress:A,treasureProgress:B,collectProgress:j,stickyBonusData:[],lines_win:F,winType:this.data.getBigWinType(F),baseWin:e.win}},o.assembleSpinResult=function(e){for(var i=e.base.one,t=i.item_list,a=i.upper_reel,n=i.down_reel,s=[],r=[],o=0,p=0,c=0,l=0;l<i.win_lines.length;l++){var u=i.win_lines[l].hit,h=i.win_lines[l].win,g=i.win_lines[l].icon,d={icon:g,hit_pos:u,win:h};g==R.SCATTER_SYMBOLID?(s[p]=d,p+=1):(r[o]=d,o+=1),c+=h}var f=0;1==e.type&&(f=1),this.data.free_spins=0,1==f&&(this.restore_spinResult=t,this.restore_upper_reel=a,this.restore_down_reel=n,this.data.free_spins=8);var _=0,y=[],m=[],v=i.type,L=0,S=[];this.data.pickMaxCount=0,this.data.isSuperPick=!1;var b=0,k=[];if(this.data.isSuperRespin=!1,5==v||6==v){L=1;var w=i.bonus;S=w.jackpot_map,this.data.pickMaxCount=w.hit_idx,_=w.reward_id;for(var P=0;P<4;P++){var T=w.jackpot_list[P].num;y[P]=T;var M=w.jackpot_list[P].lock;m[P]=M}6==v&&(this.data.isSuperPick=!0)}else 2!=v&&3!=v&&4!=v||(b=1,k=i.respin,3==v&&(this.data.isSuperRespin=!0));var N=e.award_notice,I=i.hit_value,C=i.fall_value,A=i.jungle_value;5==C&&Log.d("sssssssssss");var B=i.stack_list,j=i.item_list2;if(B.length>0){for(var F=0;F<B.length;F++){if(B[F]>R.BONUS_SYMBOLID){var G=F%3;j[Math.floor(F/3)][G]=B[F]}}Log.d("sss item_list2 =",j)}var E=c,O={item_list:t,item_list2:j,upper_reel:a,down_reel:n,win_lines:r,sc_line:s,free_game_trig:f,bonus_game_trig:b,bonus_item_list:k,pick_game_trig:L,pick_item_list:S,win_jp:_,jp_value:y,jp_lock:m,award_notice:N,mustHitProgress:I,treasureProgress:C,collectProgress:A,stickyBonusData:B,lines_win:E,winType:this.data.getBigWinType(E),baseWin:i.add};if(1==f){var x=e.free,D={fg_idx:0,fg_total_round:x.count,item_list_new:x.one};this.spin_item_list_new=D}return console.log("spinResult =",O),O},o.assembleFGSpinResult=function(e){for(var i=e.item_list,t=e.upper_reel,a=e.down_reel,n=[],s=[],r=0,o=0,p=0,c=0;c<e.win_lines.length;c++){var l=e.win_lines[c].hit,u=e.win_lines[c].win,h=e.win_lines[c].icon,g={icon:h,hit_pos:l,win:u};12==h?(n[o]=g,o+=1):(s[r]=g,r+=1),p+=u}this.getScNum(i);this.data.free_spins=0;var d=0,f=[],_=[],y=e.type,m=0,v=[];this.data.pickMaxCount=0,this.data.isSuperPick=!1;var L=0,S=[];if(this.data.isSuperRespin=!1,5==y||6==y){m=1;var b=e.bonus;v=b.jackpot_map,this.data.pickMaxCount=b.hit_idx,d=b.reward_id;for(var k=0;k<4;k++){var w=b.jackpot_list[k].num;f[k]=w;var P=b.jackpot_list[k].lock;_[k]=P}6==y&&(this.data.isSuperPick=!0)}else 2!=y&&3!=y&&4!=y||(L=1,S=e.respin,3==y&&(this.data.isSuperRespin=!0));var T=e.hit_value,M=e.fall_value,N=e.jungle_value,I=e.stack_list,C=e.item_list2;if(I.length>0){for(var A=0;A<I.length;A++){if(I[A]>R.BONUS_SYMBOLID){var B=A%3;C[Math.floor(A/3)][B]=I[A]}}Log.d("sss item_list2 =",C)}var j=p,F={item_list:i,item_list2:C,upper_reel:t,down_reel:a,win_lines:s,sc_line:n,free_game_trig:0,bonus_game_trig:L,bonus_item_list:S,pick_game_trig:m,pick_item_list:v,win_jp:d,jp_value:f,jp_lock:_,award_notice:0,mustHitProgress:T,treasureProgress:M,collectProgress:N,stickyBonusData:I,lines_win:j,winType:this.data.getBigWinType(j),baseWin:e.add};return console.log("assembleFGSpinResult =",F),F},o.assembleFGResult=function(e,i){var t=e.item_list,a=e.upper_reel,n=e.down_reel,s=i.fg_idx;s=0==i.fg_idx?1:i.fg_idx;for(var r=i.fg_total_round,o=[],p=0;p<i.item_list_new.length;p++)o[p]=i.item_list_new[p];console.log("sssssss item_list_new = ",o);var c={item_list:t,upper_reel:a,down_reel:n,fg_select:4,fg_idx:s,fg_show_total_round:r,fg_total_round:o.length,item_list_new:o};return console.log("fg_result =",c),c},o.assembleBGResult=function(e){for(var i=e.item_list2,t=0;t<5;t++)for(var a=0;a<3;a++){i[t][a]>R.BONUS_SYMBOLID||(i[t][a]=0)}for(var n,r=[],o=s(i);!(n=o()).done;){var p=n.value;r.push.apply(r,p)}for(var c=[],l=[],u=0;u<15;u++)c[u]=0,l[u]=0;for(var h=e.bonus_item_list,g=(h.max_lv,[]),d=[],f=0;f<h.one.length;f++)for(var _=h.one[f].child,y=0;y<_.length;y++)d.push(_[y].item_list),g.push(_[y].cnt),_[y].collect;var m={item_list:r,respin_list:d,bgWin:h.win};return console.log("bg_result =",m),m},o.simulationLastSpinResult=function(){var e=this.data.generateRandomArray(R.ColumnNum,R.RowNum,1,R.MAX_RANDOM_SYMBOLID);e=[[6,4,6],[12,2,12],[1,10,1],[12,3,12],[6,5,6]];for(var i=[],t=0;t<5;t++){var a=Math.floor(Math.random()*(R.MAX_RANDOM_SYMBOLID-1+1))+1;i.push(a)}i=[2,2,2,2,2];for(var n=[],s=0;s<5;s++){var r=Math.floor(Math.random()*(R.MAX_RANDOM_SYMBOLID-1+1))+1;n.push(r)}return{item_list:e,item_list2:[],upper_reel:i,down_reel:n=[2,2,2,2,2],win_lines:[],sc_line:[],fg_select:0,free_game_trig:0,fg_idx:0,fg_total_round:0,item_list_new:[],bonus_game_trig:0,bonus_item_list:[],pick_game_trig:0,pick_item_list:[],win_jp:0,jp_value:[],jp_lock:[],award_notice:0,mustHitProgress:0,treasureProgress:0,collectProgress:0,stickyBonusData:[],lines_win:0,winType:this.data.getBigWinType(0),baseWin:0}},o.simulationSpinResult=function(){var e=this.data.generateRandomArray(R.ColumnNum,R.RowNum,1,R.MAX_RANDOM_SYMBOLID,9);e=[[6,10,1],[4,5,1],[3,10,4],[4,4,2],[2,10,3]];for(var i=[],t=0;t<5;t++){var a=Math.floor(Math.random()*(R.MAX_RANDOM_SYMBOLID-1+1))+1;i.push(a)}i=[1,1,1,1,1];for(var n=[],s=0;s<5;s++){var r=Math.floor(Math.random()*(R.MAX_RANDOM_SYMBOLID-1+1))+1;n.push(r)}n=[1,1,1,1,1];for(var o=[],p=[],c=0,l=0,u=[[0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]],h=[10],g=[4e5],d=0,f=0;f<u.length;f++){var _=g[f],y=h[f],m={icon:y,hit_pos:u[f],win:_};y==R.SCATTER_SYMBOLID?(o[l]=m,l+=1):(p[c]=m,c+=1),d+=_}this.getScNum(e);this.data.free_spins=0,this.restore_spinResult=e,this.restore_upper_reel=i,this.restore_down_reel=n,this.data.free_spins=8;var v=d,L={item_list:e,item_list2:[],upper_reel:i,down_reel:n,win_lines:p,sc_line:o,free_game_trig:1,bonus_game_trig:0,bonus_item_list:[],pick_game_trig:0,pick_item_list:[],win_jp:0,jp_value:[],jp_lock:[],award_notice:0,mustHitProgress:0,treasureProgress:0,collectProgress:0,stickyBonusData:[],lines_win:v,winType:this.data.getBigWinType(v),baseWin:0};return console.log("simulationSpinResult = ",L),L},o.getDifferenceFlags=function(e,i){for(var t=[],a=0;a<e.length;a++){for(var n=!1,s=0;s<e[a].length;s++)if(e[a][s]!==i[a][s]){n=!0;break}t.push(n?1:0)}return t},o.getScNum=function(e){for(var i=0,t=0;t<e.length;t++)for(var a=0;a<e[t].length;a++){e[t][a]==R.SCATTER_SYMBOLID&&(i+=1)}return i},o.changeBgToSuperPick=function(e){var i=this;if(void 0===e&&(e=!1),e){_(this.baseBg).delay(25/30).parallel(_(this.baseBg.node).to(40/30,{scale:new y(1.95,1.95),position:new y(0,-300)}),_(this.baseBg.getComponent(f)).delay(10/30).to(1,{opacity:0},{easing:"fade"}).call((function(){i.baseBg.node.active=!1,i.baseBg.node.scale=new y(1.25,1.25),i.baseBg.node.position=new y(0,70),i.baseBg.getComponent(f).opacity=255}))).start();var t=this.spinLayer.treasureNode;_(t).delay(25/30).parallel(_(t).to(40/30,{scale:new y(1.65,1.65),position:new y(7,-421)}),_(t.getComponent(f)).delay(10/30).to(1,{opacity:0},{easing:"fade"})).delay(1).call((function(){t.active=!1,t.scale=new y(1,1),t.position=new y(0,0),t.getComponent(f).opacity=255})).start();var a=this.sPickBg.getComponent(f);a&&(this.sPickBg.node.active=!0,a.opacity=0,_(a).delay(1).to(35/30,{opacity:255},{easing:"fade"}).call((function(){i.sPickBg.node.active=!0,i.sPickBg.node.scale=new y(1.25,1.25),i.sPickBg.node.position=new y(0,70),a.opacity=255})).start())}else this.baseBg.node.active=!1,this.sPickBg.node.active=!0,this.spinLayer.treasureNode.active=!1},o.jpPickClick=function(e){this.isSuperPick?this.jpSPickLayer.jpClick(e):this.jpPickLayer.jpClick(e-1)},o.jpPickWin=function(e){this.isSuperPick?this.jpSPickLayer.jpWin(e-1):this.jpPickLayer.jpWin(e-1)},o.stopJungleTipsPopIn=function(){},o.playStartRespinDialog=function(){this.fgCountBoard.active=!1,dispatch(N.NOTIFY_FOOTER_HIDE,!0),dispatch(w.STOP_JACKPOT);var e=this.spinResult;dispatch(w.REFRESH_JACKPOT,e.jp_value),this.isSuperRespin=this.data.isSuperRespin,dispatch(w.SET_MUSIC_VOLUME,0),this.isSuperRespin?(dispatch(w.PLAY_EFFECT,"audio/dialog/dialog_sp_respin"),App.uiManager.open({type:M,bundle:this.data.module,zIndex:T.UI,args:[this,R.PopupType.SuperJungleBeastPopIn]})):(dispatch(w.PLAY_EFFECT,"audio/dialog/dialog_respin"),App.uiManager.open({type:M,bundle:this.data.module,zIndex:T.UI,args:[this,R.PopupType.JungleBeastPopIn]}))},o.stopJungleBeastPopIn=function(){var e=this;this.spinLayer.effectLayer.stopAllPerforms(),this.spinLayer.effectLayer.performEachLineAnimation(),this.fgCountBoard.active=!1;var i=this.bgResult.item_list;this.spinLayer.initBgTable(i,this.isSuperRespin),this.spinLayer.effectLayer.lineAnimator.sync(),this.jackpotLayer.node.setParent(this.jpNode1);this.spinLayer.changeSpinBoardToRespin(!0,(function(){e.bgResult&&(e.spinLayer.respinTable.parseRespinData(e.bgResult),e.spinLayer.respinTable.initRespinData())}),(function(){e.isSuperRespin?(dispatch(w.PLAY_MUSIC,"audio/respin/sp_respin_bgm"),dispatch(w.SET_MUSIC_VOLUME,1),e.spinLayer.spinTable.clearCollectProgress()):(dispatch(w.SET_MUSIC_VOLUME,1),dispatch(w.PLAY_MUSIC,"audio/respin/respin_bgm"))}))},o.returnToMainFromBonusGame=function(e){var i=this;this.jackpotLayer.node.setParent(this.jpNode2),dispatch(w.REQUEST_JACKPOT),this.baseBg.node.active=!0,this.sPickBg.node.active=!1,this.spinLayer.treasureNode.active=!0,this.spinLayer.show_clippingNode(!0),this.spinLayer.spinTable.clearStickyBonus(),Log.d("this.spinResult = ",this.spinResult),this.spinLayer.resetBoardCellsByItemList(!0),this.spinLayer.removeBgTable(),8==this.spinResult.collectProgress&&this.spinLayer.spinTable.clearCollectProgress();var t=this.view.guochang_Mask.getComponent(f);t&&_(t).to(.3,{opacity:0},{easing:"fade"}).call((function(){i.view.guochang_Mask.active=!1})).start(),this.scheduleOnce((function(){b.MAIN==i.data.GameType||b.FREE==i.data.GameType&&(i.fgCountBoard.active=!0);var t=function(){b.MAIN==i.data.GameType?dispatch(w.PLAY_MUSIC,"audio/base/bg_bgm"):b.FREE==i.data.GameType&&dispatch(w.PLAY_MUSIC,"audio/free/fg_bgm"),i.spinLayer.effectLayer.BonusGameInTemp=1,i.spinLayer.effectLayer.performStandbyBeforeBonusGameEnter()},a=e,n=i.data.getBigWinType(a);n>0?i.scheduleOnce((function(){App.uiManager.open({type:C,bundle:i.data.module,zIndex:T.UI,args:[n,a,t]})}),.1):t()}),.3)},o.playBigWinBoardShake=function(){var e=this;if(!this.playBigWin){this.playBigWin=!0,this.scheduleOnce((function(){_(e.content).to(2/30,{position:new y(0,1,0)}).to(2/30,{position:new y(0,-1,0)}).to(2/30,{position:new y(0,2,0)}).to(2/30,{position:new y(0,-2,0)}).start()}),2.5);for(var i=0;i<8;i++)this.scheduleOnce((function(){_(e.content).to(2/30,{position:new y(0,3,0)}).to(2/30,{position:new y(0,-3,0)}).start()}),(85+4*i)/30);this.scheduleOnce((function(){_(e.content).to(2/30,{position:new y(0,3,0)}).to(2/30,{position:new y(0,-2.5,0)}).to(2/30,{position:new y(0,2.5,0)}).to(2/30,{position:new y(0,-2,0)}).to(2/30,{position:new y(0,2,0)}).to(2/30,{position:new y(0,-1.5,0)}).to(2/30,{position:new y(0,1.5,0)}).to(2/30,{position:new y(0,-1,0)}).to(2/30,{position:new y(0,1,0)}).to(2/30,{position:new y(0,0,0)}).call((function(){e.playBigWin=!1})).start()}),3.9)}},o.onTest1=function(){this.jackpotLayer.node.setParent(this.jpNode2)},o.onTest2=function(){this.jackpotLayer.node.setParent(this.jpNode1)},r(i,[{key:"data",get:function(){return App.dataCenter.get(S)}}]),i}(P)).prototype,"content",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=i(ie.prototype,"baseBg",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=i(ie.prototype,"sPickBg",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=i(ie.prototype,"bgFrame",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=i(ie.prototype,"spinLayer",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=i(ie.prototype,"awardLayerColor",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=i(ie.prototype,"bigAwardNotice",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=i(ie.prototype,"fgCountBoard",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=i(ie.prototype,"fgCountNum",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=i(ie.prototype,"jackpotLayer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=i(ie.prototype,"jpPickLayer",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=i(ie.prototype,"jpSPickLayer",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=i(ie.prototype,"guochang_skeletonData",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=i(ie.prototype,"pickLayerPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=i(ie.prototype,"clippingNode",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=i(ie.prototype,"jpNode1",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=i(ie.prototype,"jpNode2",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=ie))||ee));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic27.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logic.ts","./CommonEvent.ts","./GameSender27.ts","./Global.ts","./GameService.ts","./SubGameData27.ts","./SubGameDefines27.ts","./ResourceLoader.ts","./Resource.ts","./LoadingBar4.ts","./Macros.ts","./BigWinDefines4.ts"],(function(e){var t,o,n,a,i,s,l,u,r,d,c,p,h,f,m,v,S,_,y,E;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose,n=e.createClass},function(e){a=e.cclegacy,i=e.AudioClip,s=e.Prefab},function(e){l=e.Logic},function(e){u=e.CommonEvent},function(e){r=e.GameSender},function(e){d=e.Global},function(e){c=e.GameService},function(e){p=e.SubGameData},function(e){h=e.EventName,f=e.preloadAudio_common,m=e.preloadAudio},function(e){v=e.default},function(e){S=e.Resource},function(e){_=e.LoadingBar},function(e){y=e.Macro},function(e){E=e.preloadAudio_bigwin}],execute:function(){a._RF.push({},"467cf8fZyZOKZpQs0naqNu7","GameLogic",void 0);e("GameLogic",function(e){function a(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this)._view=null,t.loader=new v,t}t(a,e);var l=a.prototype;return l.addEvents=function(){e.prototype.addEvents.call(this),this.onD(u.GAME_SERVICE_CONNECTED,this.onNetConnected),this.onD(u.GAME_SERVICE_CLOSE,this.onNetClose),this.onD(h.LoadDataFinish,this.enterMainGameView),this.onD(h.ROLLING_WIN_SCORE,this.onRollingWinScore),this.onD(h.RESET_WIN_SCORE,this.onResetWinScore),this.onD(h.PLAY_EFFECT,this.onPlayEffect),this.onD(h.PLAY_MUSIC,this.onPlayMusic),this.onD(h.PLAY_EFFECTONESHOT,this.playEffectOneShot),this.onD(h.STOP_ALL_EFFECTS,this.onStopAllEffects),this.onD(h.STOP_EFFECT,this.onStopEffect),this.onD(h.STOP_MUSIC,this.onStopMusic),this.onD(h.SET_MUSIC_VOLUME,this.setMusicVolume),this.onD(h.SET_EFFECT_VOLUME,this.setEffectVolume),this.onD(h.REQUEST_JACKPOT,this.onSendJpCmd)},l.onLoad=function(t){e.prototype.onLoad.call(this,t),App.uiManager.close(_),this.view.init(),this.loadResources(),d.playback?(this.data.loadDataFinish=!0,this.enterMainGameView()):this.onConnect()},l.loadResources=function(){var e=this;this.loader=new v,this.loader.getLoadResources=function(){for(var t,n=[],a=o(f.values());!(t=a()).done;){var l=t.value;n.push({url:l,type:i,bundle:y.BUNDLE_HALL})}n.push({url:"prefabs/slotgame/Alert",type:s,bundle:e.module}),n.push({url:"prefabs/slotgame/AutoPlayView",type:s,bundle:e.module}),n.push({url:"prefabs/slotgame/MenuView",type:s,bundle:e.module}),n.push({url:"commonmodule/jackpot/prefabs/JackpotLayer",type:s,bundle:e.module}),n.push({url:"commonmodule/gameplay/prefabs/GamePlay",type:s,bundle:e.module}),n.push({url:"commonmodule/bigwin/prefabs/BigWinLayer",type:s,bundle:e.module}),n.push({url:"prefabs/MainGameView",type:s,bundle:e.module}),n.push({url:"prefabs/view/IntroductionPage",type:s,bundle:e.module}),n.push({url:"prefabs/view/LoadingBar",type:s,bundle:e.module}),n.push({url:"prefabs/view/SpinLayer",type:s,bundle:e.module}),n.push({url:"prefabs/view/SpinTable",type:s,bundle:e.module}),n.push({url:"prefabs/view/SpinReel",type:s,bundle:e.module}),n.push({url:"prefabs/view/SpinElement",type:s,bundle:e.module}),n.push({url:"prefabs/view/GameLayer",type:s,bundle:e.module}),n.push({url:"prefabs/view/PopOut",type:s,bundle:e.module});for(var u,r=o(m.values());!(u=r()).done;){var d=u.value;n.push({url:d,type:i,bundle:e.module})}for(var c,p=o(E.values());!(c=p()).done;){var h=c.value;n.push({url:h,type:i,bundle:e.module})}return n},this.loader.onLoadComplete=function(t){S.LoaderError.SUCCESS&&(e.data.loadFinish=!0,e.view.updateProgress(100),e.enterMainGameView())},this.loader.onLoadProgress=function(t,o){var n=Math.ceil(t/o*100);e.view.updateProgress(n),App.utils.onDocumentProgress(n)},this.loader.loadResources(),App.utils.clearHtmlTimer()},l.onDestroy=function(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];(t=e.prototype.onDestroy).call.apply(t,[this].concat(n))},l.onConnect=function(){var e=this.gameService;if(e.isConnected)return Log.d(e.module+" 断开连接中..."),void e.close();Log.d(e.module+" 连接中..."),e.connect()},l.onNetConnected=function(e){Log.d(e.module+" 连接成功!");var t=App.senderManager.get(r);t&&t.c2sLogin(d.gameId)},l.onNetClose=function(e){Log.d(e.module+" 断开连接!")},l.enterMainGameView=function(){this.data.loadFinish&&this.data.loadDataFinish&&(this.view.showMain(),this.data.bHasLoadedRes||(this.data.bHasLoadedRes=!0))},l.onAfterGameLoadResources=function(){var e=this;this.loader=new v,this.loader.getLoadResources=function(){for(var t,n=[],a=o(m.values());!(t=a()).done;){var s=t.value;n.push({url:s,type:i,bundle:e.module})}for(var l,u=o(E.values());!(l=u()).done;){var r=l.value;n.push({url:r,type:i,bundle:e.module})}return n},this.loader.onLoadComplete=function(e){S.LoaderError.SUCCESS&&console.log("onAfterGameLoadResources SUCCESS ")},this.loader.onLoadProgress=function(e,t){var o=Math.ceil(e/t*100);console.log("onAfterGameLoadResources progress = ",o)},this.loader.loadResources()},l.onPlayEffect=function(e,t){void 0===t&&(t=!1),this.view.audioHelper.playEffect(e,this.module,t)},l.onPlayMusic=function(e){this.view.audioHelper.playMusic(e,this.module)},l.playEffectOneShot=function(e,t){void 0===t&&(t=!1),this.view.audioHelper.playEffectOneShot(e,this.module,t)},l.onStopAllEffects=function(){this.view.audioHelper.stopAllEffects()},l.onStopEffect=function(e){this.view.audioHelper.stopEffect(e,this.module)},l.onStopMusic=function(){this.view.audioHelper.stopMusic()},l.setMusicVolume=function(e){this.view.audioHelper.musicVolume=e},l.setEffectVolume=function(e){this.view.audioHelper.effectVolume=e},l.onRollingWinScore=function(e){Log.d("onRollingWinScore total_win1 =",this.data.total_win,e),this.data.total_win+=e,dispatch(u.NOTIFY_WINSCORE_TIPS,this.data.total_win),Log.d("onRollingWinScore total_win2 =",this.data.total_win)},l.savePlayBackData=function(e){if(e&&e.jackpot_list&&e.jackpot_list.length>0){for(var t=[],o=[],n=0;n<e.jackpot_list.length;n++)t[n]=e.jackpot_list[n].num,o[n]=e.jackpot_list[n].lock||0;var a={jackpot_reward:t,lock_list:o};this.data.playBack_jp_data=a}},l.assemblePlayBackSlot=function(e){var t={};return t.award_notice=e.award_notice,t.base=e.base,t.free=e.free,t.jackpot_list=e.jackpot_list,t.type=e.type||0,t.win=e.win||0,t},l.onResetWinScore=function(){this.data.total_win=0,dispatch(u.NOTIFY_WINSCORE_TIPS,this.data.total_win)},l.c2sFreeSpin=function(){var e;null==(e=this._sender)||e.c2sFreeSpin()},l.onSendBet=function(){var e;null==(e=this._sender)||e.c2sSlotBet({bet:this.data.total_bet}),dispatch(u.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet)},l.onSendGM=function(e){var t;null==(t=this._sender)||t.c2sGMSlot({bet:this.data.total_bet,gm_type:e}),dispatch(u.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet)},l.onSendSelect=function(e){var t;null==(t=this._sender)||t.c2sSelectSlot({select_type:e})},l.onSendJpCmd=function(){var e;null==(e=this._sender)||e.c2sJpCmd({bet:this.data.total_bet})},n(a,[{key:"data",get:function(){return App.dataCenter.get(p)}},{key:"gameService",get:function(){return App.serviceManager.get(c)}},{key:"_sender",get:function(){return App.senderManager.get(r)}},{key:"view",get:function(){return this._view}}]),a}(l));a._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./CommonEvent.ts","./SlotGameDefines.ts"],(function(t){var n,e,o,i,c,a,r,s,l,u,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,c=t.createClass},function(t){a=t.cclegacy,r=t._decorator,s=t.Node},function(t){l=t.default},function(t){u=t.inject},function(t){p=t.CommonEvent},function(t){f=t.SoundName}],execute:function(){var h,d,y,m,E;a._RF.push({},"f282fKTQnRKlI6Tek0kkT8o","GamePlay",void 0);var P=r.ccclass;r.property,t("default",(h=P("GamePlay"),d=u("content",s),h((E=n((m=function(t){function n(){for(var n,e=arguments.length,c=new Array(e),a=0;a<e;a++)c[a]=arguments[a];return n=t.call.apply(t,[this].concat(c))||this,o(n,"content",E,i(n)),n}e(n,t),n.getPrefabUrl=function(){return"commonmodule/gameplay/prefabs/GamePlay"};var a=n.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this)},a.addEvents=function(){t.prototype.addEvents.call(this)},a.onShow=function(){t.prototype.onShow.call(this)},a.onClose=function(){t.prototype.onClose.call(this)},a.onBackToGame=function(){dispatch(p.PLAY_EFFECT,f.SOUND_CLOSE_HELP_PAGE),this.close()},a.onMoreLanguage=function(){dispatch(p.PLAY_EFFECT,f.SOUND_HELP_PLAY_CHANGE),dispatch(p.NOTIFY_GAME_PLAY),this.close()},c(n,[{key:"showAction",get:function(){var t=this;return function(n){App.utils.showView(t.content,n)}}},{key:"closeAction",get:function(){var t=this;return function(n){App.utils.hideView(t.content,n)}}}]),n}(l)).prototype,"content",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameSender27.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sender.ts","./GameService.ts","./Config.ts","./Global.ts","./Protocol28.ts"],(function(e){var s,n,t,i,c,o,a,r;return{setters:[function(e){s=e.inheritsLoose,n=e.createClass},function(e){t=e.cclegacy},function(e){i=e.Sender},function(e){c=e.GameService},function(e){o=e.Config},function(e){a=e.Global},function(e){r=e.Protocol}],execute:function(){t._RF.push({},"4e7baevDkBOSLZtd3SAQBgB","GameSender",void 0),e("GameSender",function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var i=t.prototype;return i.c2sLogin=function(e){o.isDebugLogin?this.c2sDebug_login({uid:a.userId,game_id:e,money:Number(a.money),money_type:a.currency}):this.c2sOfficial_login({token:a.token,gameid:e,direct:a.direct_login})},i.c2sDebug_login=function(e){var s,n={type:r.DEBUG_LOGIN,message:e};null==(s=this.service)||s.sendMessage(r.DEBUG_LOGIN,n)},i.c2sOfficial_login=function(e){var s,n={type:r.LOGIN,message:e};null==(s=this.service)||s.sendMessage(r.LOGIN,n)},i.c2sMark=function(e){var s,n={type:r.MARK,message:e};null==(s=this.service)||s.sendMessage(r.MARK,n)},i.sendPack=function(e,s){var n;null==(n=this.service)||n.sendMessage(e,s)},i.c2sSlotBet=function(e){var s={type:r.SLOTBET,message:e};this.sendPack(r.SLOTBET,s)},i.c2sDoubleSlotBet=function(e){var s={type:r.ANTASLOTBET,message:e};this.sendPack(r.SLOTBET,s)},i.c2sFreeSpin=function(){var e={type:r.FREESPIN,message:{}};this.sendPack(r.FREESPIN,e)},i.c2sBuyFreeSpins=function(e){var s={type:r.BUY,message:e};this.sendPack(r.SLOT_TEST,s)},i.c2sGMSlot=function(e){var s={type:r.GMSLOT,message:e};this.sendPack(r.GMSLOT,s)},i.c2sSelectSlot=function(e){var s={type:r.SELECTSLOT,message:e};this.sendPack(r.SELECTSLOT,s)},i.c2sJpCmd=function(e){var s={type:r.JpCmd,message:e};this.sendPack(r.JpCmd,s)},n(t,[{key:"service",get:function(){return App.serviceManager.get(c)}}]),t}(i)).module="Game",t._RF.pop()}}}));

System.register("chunks:///_virtual/IntroductionPage4.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,a,s,c,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,c=t.tween,l=t.Vec3,u=t.Component}],execute:function(){var p,h,f,y,d,m,g;r._RF.push({},"395c3j/IFpNuKVfMQuH+bFV","IntroductionPage",void 0);var v=a.ccclass,w=a.property;t("IntroductionPage",(p=v("IntroductionPage"),h=w({displayName:"mask",type:s}),f=w({displayName:"sp_tap",type:s}),p((m=e((d=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).view=null,i(e,"mask",m,o(e)),i(e,"sp_tap",g,o(e)),e}n(e,t);var r=e.prototype;return r.start=function(){this.mask&&this.mask.on(s.EventType.TOUCH_END,this.onClickClose,this),this.showAnimation()},r.onClickClose=function(){this.view.onCloseIntroducPage(),this.node.active=!1},r.showAnimation=function(){if(this.sp_tap){c(this.sp_tap).to(.28,{scale:new l(1.1,1.1,1.1)},{easing:"sineOut"}).to(.28,{scale:new l(1,1,1)}).union().repeatForever().start()}},e}(u)).prototype,"mask",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(d.prototype,"sp_tap",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=d))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotLayer5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./SubGameDefines27.ts","./ScrollNumber.ts","./EventComponent.ts","./CommonEvent.ts","./NumberCurrency.ts","./ShowJackpot.ts"],(function(t){var e,o,i,a,n,c,s,l,h,k,r,p,u,d,m,N,f,v,j,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,s=t.Node,l=t.Button,h=t.sp,k=t.Prefab,r=t.tween,p=t.Vec3,u=t.instantiate},function(t){d=t.Global},function(t){m=t.EventName},function(t){N=t.default},function(t){f=t.default},function(t){v=t.CommonEvent},function(t){j=t.NumberCurrency},function(t){L=t.ShowJackpot}],execute:function(){var w,b,J,_,T,y,D,P,U,C,E,F,g,I,A,R,B,S,M,x,Y,V,O,z,K,G,X,H,W,Q,q,Z,$;n._RF.push({},"eed55BsmmlOA6mm5hfWuNo2","JackpotLayer",void 0);var tt=c.ccclass,et=c.property;t("JackpotLayer",(w=tt("JackpotLayer"),b=et({displayName:"jpNode",type:[s]}),J=et({displayName:"jackpotNum",type:[N]}),_=et({displayName:"jackpotNumReal",type:[j]}),T=et({displayName:"jackpotNumDark",type:[j]}),y=et({displayName:"jpNameDark",type:[s]}),D=et({displayName:"jpClickBtn",type:[l]}),P=et({displayName:"lock1",type:h.Skeleton}),U=et({displayName:"lock2",type:h.Skeleton}),C=et({displayName:"lock3",type:h.Skeleton}),E=et({displayName:"lockNodeTemp",type:[s]}),F=et({displayName:"lockNode",type:[s]}),g=et({displayName:"unLockNode",type:[s]}),I=et({displayName:"clippingNode",type:s}),A=et({displayName:"showJackpotPrefab",type:k}),R=et({displayName:"skeletonData",type:[h.SkeletonData]}),w((M=e((S=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n))||this,i(e,"jpNode",M,a(e)),i(e,"jackpotNum",x,a(e)),i(e,"jackpotNumReal",Y,a(e)),i(e,"jackpotNumDark",V,a(e)),i(e,"jpNameDark",O,a(e)),i(e,"jpClickBtn",z,a(e)),i(e,"lock1",K,a(e)),i(e,"lock2",G,a(e)),i(e,"lock3",X,a(e)),i(e,"lockNodeTemp",H,a(e)),i(e,"lockNode",W,a(e)),i(e,"unLockNode",Q,a(e)),i(e,"clippingNode",q,a(e)),i(e,"showJackpotPrefab",Z,a(e)),i(e,"skeletonData",$,a(e)),e.UnlockFunc=!0,e.JPNum=4,e.JPMulti=[250,50,10,5],e.JPMaxMulti=[400,100,20,10],e.JPRate=[.05,.1,.2,.2],e.JPSpeed=.9,e.JPInterval=.9,e.JPQuestInterval=1,e.unlockGrandIndex=0,e.unlockMaxiIndex=0,e.unlockMajorIndex=0,e.unlockMinorIndex=0,e.unlockMiniIndex=0,e.centerX=0,e.centerY=0,e.jpBoardPosXList=[],e.jpBoardPosYList=[],e.jackpotCurrentList=[],e.jackpotLastList=[],e.jackpotTargetList=[],e.jackpotLastTargetList=[],e.lockTemp1=!1,e.lockTemp2=!1,e.lockTemp3=!1,e.total_time=[],e.default_bet=0,e.oldJpValues=[],e.newJpValues=[],e.slot_bet=[],e.enable_unlock=!1,e.isStrat=!1,e.jpLockIntervalTime=performance.now(),e.jpUnLockIntervalTime=performance.now(),e}o(e,t);var n=e.prototype;return n.addEvents=function(){t.prototype.addEvents.call(this),this.onD(v.DISPATCH_TOTAL_BET,this.onRefreshTotalBet),this.onD(m.SLOT_BET_JACKPOT,this.onRefreshSlotBet),this.onD(m.RECEIVE_JACKPOT,this.onReceiveJackpot),this.onD(m.START_JACKPOT,this.startUpdateJp),this.onD(m.STOP_JACKPOT,this.stopUpdateJp),this.onD(m.REFRESH_JACKPOT,this.refreshJp),this.onD(m.UNLOCK_JACKPOT,this.onUnlockJackpot),this.onD(m.JACKPOT_MOVE,this.jpMove),this.onD(m.JACKPOT_BACK,this.jpBack),this.onD(m.GET_JP_REWARD,this.onGetJackpotReward),this.onD(m.UNLOCK_FUNC,this.onUnlockFunc)},n.onRefreshSlotBet=function(t){this.slot_bet=t;var e=this.slot_bet.length,o=Math.floor(e/4);this.unlockGrandIndex=3*o,this.unlockMaxiIndex=2*o,this.unlockMajorIndex=1*o},n.onRefreshTotalBet=function(t){this.default_bet=t;for(var e=0;e<3;e++){var o=this.default_bet*this.JPMulti[e];this.oldJpValues[e]=o,this.newJpValues[e]=o}this.updateJackpotNumDark();var i=this.slot_bet.indexOf(t);this.checkTip(i)},n.checkTip=function(t){t<0||this.UnlockFunc&&(t>=this.unlockGrandIndex?(this.showUnlock3(!0),this.showUnlock2(!0),this.showUnlock1(!0)):t>=this.unlockMaxiIndex?(this.showLock1(!0),this.showUnlock3(!0),this.showUnlock2(!0)):t>=this.unlockMajorIndex?(this.showLock1(!0),this.showLock2(!0),this.showUnlock3(!0)):(this.showLock1(!0),this.showLock2(!0),this.showLock3(!0)))},n.judgeJpLockInterval=function(){var t=performance.now();t-this.jpLockIntervalTime<100?this.jpLockIntervalTime=t:(this.jpLockIntervalTime=t,dispatch(m.PLAY_EFFECT,"commonmodule/jackpot/audio/jp_lock"))},n.judgeJpUnLockInterval=function(){var t=performance.now();t-this.jpUnLockIntervalTime<100?this.jpUnLockIntervalTime=t:(this.jpUnLockIntervalTime=t,dispatch(m.PLAY_EFFECT,"commonmodule/jackpot/audio/jp_unlock"))},n.onRequestJackpot=function(){d.playback||dispatch(m.REQUEST_JACKPOT)},n.onReceivePlaybackJackpot=function(t){for(var e=0;e<this.JPNum;e++)this.oldJpValues[e]=0,this.newJpValues[e]=0,this.total_time[e]=0;if(t&&t.lock_list&&t.lock_list.length>0){for(var o=0,i=0;i<3;i++)if(0==t.lock_list[i]){o++;break}Log.d("playback index = ",o),1==o?(this.showUnlock3(!0),this.showUnlock2(!0),this.showUnlock1(!0)):2==o?(this.showLock1(!0),this.showUnlock3(!0),this.showUnlock2(!0)):3==o?(this.showLock1(!0),this.showLock2(!0),this.showUnlock3(!0)):(this.showLock1(!0),this.showLock2(!0),this.showLock3(!0))}else this.showUnlock3(!0),this.showUnlock2(!0),this.showUnlock1(!0)},n.onReceiveJackpot=function(t){if(d.playback)this.onReceivePlaybackJackpot(t);else if(t&&t.jackpot_reward&&t.jackpot_reward.length>0)for(var e=0;e<this.JPNum;e++){this.oldJpValues[e]=0,this.newJpValues[e]=0,this.total_time[e]=0;var o=t.jackpot_reward[e];this.jackpotNum[e].show(o,o)}this.startUpdateJp()},n.refreshJp=function(t){if(t&&t.length>0)for(var e=0;e<this.JPNum;e++){var o=t[e];this.oldJpValues[e]=0,this.newJpValues[e]=0,this.jackpotNum[e].node.active=!1,this.jackpotNumReal[e].node.active=!0,this.jackpotNumReal[e].updateNumber(o)}},n.start=function(){this.centerX=0,this.centerY=0,this.jpBoardPosXList=[this.centerX,this.centerX,this.centerX-190,this.centerX+190],this.jpBoardPosYList=[this.centerY+485,this.centerY+430,this.centerY+386,this.centerY+386];for(var t=0;t<this.JPNum;t++)this.jackpotCurrentList[t]=0,this.jackpotLastList[t]=0,this.jackpotTargetList[t]=0,this.jackpotLastTargetList[t]=0,this.oldJpValues[t]=0,this.newJpValues[t]=0,this.total_time[t]=0;for(var e=0;e<3;e++)this.lockNode[e].active=!1,this.unLockNode[e].active=!1,this.jpClickBtn[e].interactable=!1,this.jackpotNumDark[e].node.active=!1,this.jackpotNumReal[e].node.active=!1;this.enable_unlock=!0,this.updateJp(0),this.schedule(this.updateJp,this.JPInterval)},n.resetTimer=function(t){this.unschedule(this.updateJp),this.schedule(this.updateJp,t),console.log("定时器间隔时间已更新为："+t+"秒")},n.onDestroy=function(){this.unschedule(this.updateJp)},n.startUpdateJp=function(){for(var t=0;t<this.JPNum;t++)this.jackpotNum[t].node.active=!0,this.jackpotNumReal[t].node.active=!1;this.isStrat=!0},n.stopUpdateJp=function(){for(var t=0;t<this.JPNum;t++)this.total_time[t]=0;this.isStrat=!1},n.updateJp=function(t){for(var e=0;e<this.JPNum;e++){this.total_time[e]+=t;var o=this.default_bet*this.JPMulti[e],i=this.default_bet*this.JPMaxMulti[e],a=o+this.default_bet*this.JPMulti[e]*this.JPRate[e]/100*this.total_time[e];a>i&&(this.total_time[e]=0,a=i),o>this.oldJpValues[e]&&(this.oldJpValues[e]=o),this.oldJpValues[e]>a&&(this.oldJpValues[e]=o),this.isStrat&&(this.jackpotNum[e].show(this.oldJpValues[e],a,this.JPSpeed),this.oldJpValues[e]=a)}},n.updateJackpotNumDark=function(){for(var t=0;t<3;t++){var e=this.default_bet*this.JPMulti[t];this.jackpotNumDark[t].updateNumber(e)}},n.onUnlockFunc=function(t){this.UnlockFunc=!0},n.onUnlockJackpot=function(t){this.enable_unlock=t},n.onUnlock1=function(){if(this.UnlockFunc&&this.enable_unlock){var t=this.slot_bet[this.unlockGrandIndex];dispatch(v.NOTIFY_DEFAULT_BET,t),dispatch(m.PLAY_EFFECT,"commonmodule/jackpot/audio/jp_unlock"),this.jpClickBtn[0].interactable=!1}},n.onUnlock2=function(){if(this.UnlockFunc&&this.enable_unlock){var t=this.slot_bet[this.unlockMaxiIndex];dispatch(v.NOTIFY_DEFAULT_BET,t),dispatch(m.PLAY_EFFECT,"commonmodule/jackpot/audio/jp_unlock"),this.jpClickBtn[1].interactable=!1}},n.onUnlock3=function(){if(this.UnlockFunc&&this.enable_unlock){var t=this.slot_bet[this.unlockMajorIndex];dispatch(v.NOTIFY_DEFAULT_BET,t),dispatch(m.PLAY_EFFECT,"commonmodule/jackpot/audio/jp_unlock"),this.jpClickBtn[2].interactable=!1}},n.showLock1=function(t){var e=this;if(this.UnlockFunc&&!this.lockTemp1){t||this.judgeJpLockInterval(),this.lockTemp1=!0,this.jpClickBtn[0].interactable=!0,this.lock1.node.active=!0,this.lock1.skeletonData=this.skeletonData[1];this.lock1.setAnimation(0,"animation1",!1),r(this.lockNodeTemp[0]).call((function(){e.jpNameDark[0].active=!0,e.jackpotNumDark[0].node.active=!0})).start(),dispatch(m.PLAY_EFFECT,"commonmodule/jackpot/audio/jp_lock"),r(this.unLockNode[0]).stop(),this.unLockNode[0].active=!1,this.lockNode[0].setScale(new p(0,0,0)),this.lockNode[0].active=!0,r(this.lockNode[0]).to(.33,{scale:new p(1.15,1.15,1)}).to(.17,{scale:new p(1,1,1)}).delay(2).to(.33,{scale:new p(1.15,1.15,1)}).to(.17,{scale:new p(0,0,0)}).call((function(){e.lockNode[0].active=!1})).start()}},n.showLock2=function(t){var e=this;if(this.UnlockFunc&&!this.lockTemp2){t||this.judgeJpLockInterval(),this.lockTemp2=!0,this.jpClickBtn[1].interactable=!0,this.lock2.node.active=!0,this.lock2.skeletonData=this.skeletonData[1];this.lock2.setAnimation(0,"animation2",!1),dispatch(m.PLAY_EFFECT,"commonmodule/jackpot/audio/jp_lock"),r(this.lockNodeTemp[1]).call((function(){e.jpNameDark[1].active=!0,e.jackpotNumDark[1].node.active=!0})).start(),r(this.unLockNode[0]).stop(),this.unLockNode[0].active=!1,r(this.lockNode[0]).stop(),this.lockNode[0].active=!1,r(this.unLockNode[1]).stop(),this.unLockNode[1].active=!1,this.lockNode[1].setScale(new p(0,0,0)),this.lockNode[1].active=!0,r(this.lockNode[1]).to(.33,{scale:new p(1.15,1.15,1)}).to(.17,{scale:new p(1,1,1)}).delay(2).to(.33,{scale:new p(1.15,1.15,1)}).to(.17,{scale:new p(0,0,0)}).call((function(){e.lockNode[1].active=!1})).start()}},n.showLock3=function(t){var e=this;if(this.UnlockFunc&&!this.lockTemp3){t||this.judgeJpLockInterval(),this.lockTemp3=!0,this.jpClickBtn[2].interactable=!0,this.lock3.node.active=!0,this.lock3.skeletonData=this.skeletonData[1];this.lock3.setAnimation(0,"animation3",!1),dispatch(m.PLAY_EFFECT,"commonmodule/jackpot/audio/jp_lock"),r(this.lockNodeTemp[2]).call((function(){e.jpNameDark[2].active=!0,e.jackpotNumDark[2].node.active=!0})).start(),r(this.unLockNode[0]).stop(),this.unLockNode[0].active=!1,r(this.lockNode[0]).stop(),this.lockNode[0].active=!1,r(this.unLockNode[1]).stop(),this.unLockNode[1].active=!1,r(this.lockNode[1]).stop(),this.lockNode[1].active=!1,r(this.unLockNode[2]).stop(),this.unLockNode[2].active=!1,this.lockNode[2].setScale(new p(0,0,0)),this.lockNode[2].active=!0,r(this.lockNode[2]).to(.33,{scale:new p(1.15,1.15,1)}).to(.17,{scale:new p(1,1,1)}).delay(2).to(.33,{scale:new p(1.15,1.15,1)}).to(.17,{scale:new p(0,0,0)}).call((function(){e.lockNode[2].active=!1})).start()}},n.showUnlock1=function(t){var e=this;if(this.UnlockFunc&&this.lockTemp1){t||this.judgeJpUnLockInterval(),this.lockTemp1=!1,this.jpClickBtn[0].interactable=!1,this.lock1.node.active=!0,this.lock1.skeletonData=this.skeletonData[0];this.lock1.setAnimation(0,"animation1",!1),dispatch(m.PLAY_EFFECT,"commonmodule/jackpot/audio/jp_unlock"),r(this.lockNodeTemp[0]).stop(),this.jpNameDark[0].active=!1,this.jackpotNumDark[0].node.active=!1,r(this.lockNode[2]).stop(),this.lockNode[2].active=!1,r(this.unLockNode[2]).stop(),this.unLockNode[2].active=!1,r(this.lockNode[1]).stop(),this.lockNode[1].active=!1,r(this.unLockNode[1]).stop(),this.unLockNode[1].active=!1,r(this.lockNode[0]).stop(),this.lockNode[0].active=!1,this.unLockNode[0].setScale(new p(0,0,0)),this.unLockNode[0].active=!0,r(this.unLockNode[0]).to(.33,{scale:new p(1.15,1.15,1)}).to(.17,{scale:new p(1,1,1)}).delay(2).to(.33,{scale:new p(1.15,1.15,1)}).to(.17,{scale:new p(0,0,0)}).call((function(){e.unLockNode[0].active=!1})).start()}},n.showUnlock2=function(t){var e=this;if(this.UnlockFunc&&this.lockTemp2){t||this.judgeJpUnLockInterval(),this.lockTemp2=!1,this.jpClickBtn[1].interactable=!1,this.lock2.node.active=!0,this.lock2.skeletonData=this.skeletonData[0];this.lock2.setAnimation(0,"animation2",!1),dispatch(m.PLAY_EFFECT,"commonmodule/jackpot/audio/jp_unlock"),r(this.lockNodeTemp[1]).stop(),this.jpNameDark[1].active=!1,this.jackpotNumDark[1].node.active=!1,r(this.lockNode[2]).stop(),this.lockNode[2].active=!1,r(this.unLockNode[2]).stop(),this.unLockNode[2].active=!1,r(this.lockNode[1]).stop(),this.lockNode[1].active=!1,this.unLockNode[1].setScale(new p(0,0,0)),this.unLockNode[1].active=!0,r(this.unLockNode[1]).to(.33,{scale:new p(1.15,1.15,1)}).to(.17,{scale:new p(1,1,1)}).delay(2).to(.33,{scale:new p(1.15,1.15,1)}).to(.17,{scale:new p(0,0,0)}).call((function(){e.unLockNode[1].active=!1})).start()}},n.showUnlock3=function(t){var e=this;if(this.UnlockFunc&&this.lockTemp3){t||this.judgeJpUnLockInterval(),this.lockTemp3=!1,this.jpClickBtn[2].interactable=!1,this.lock3.node.active=!0,this.lock3.skeletonData=this.skeletonData[0];this.lock3.setAnimation(0,"animation3",!1),dispatch(m.PLAY_EFFECT,"commonmodule/jackpot/audio/jp_unlock"),r(this.lockNodeTemp[2]).stop(),this.jpNameDark[2].active=!1,this.jackpotNumDark[2].node.active=!1,r(this.lockNode[2]).stop(),this.lockNode[2].active=!1,this.unLockNode[2].setScale(new p(0,0,0)),this.unLockNode[2].active=!0,r(this.unLockNode[2]).to(.33,{scale:new p(1.15,1.15,1)}).to(.17,{scale:new p(1,1,1)}).delay(2).to(.33,{scale:new p(1.15,1.15,1)}).to(.17,{scale:new p(0,0,0)}).call((function(){e.unLockNode[2].active=!1})).start()}},n.jpMove=function(){},n.jpBack=function(){},n.onGetJackpotReward=function(t){Log.d("ssss onGetJackpotReward ssss",t);var e=u(this.showJackpotPrefab);if(e){this.clippingNode.addChild(e);var o=e.getComponent(L);o&&(e.setPosition(550,450),o.jpMove(),o.onRefreshAvatarHead(t.image_id),o.onRefreshAvatarTheme(t.game_id),o.onRefreshUserId(t.uid),o.onRefreshJackpotWin(t.reward_num))}},e}(f)).prototype,"jpNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=e(S.prototype,"jackpotNum",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(S.prototype,"jackpotNumReal",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=e(S.prototype,"jackpotNumDark",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(S.prototype,"jpNameDark",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(S.prototype,"jpClickBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(S.prototype,"lock1",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(S.prototype,"lock2",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(S.prototype,"lock3",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(S.prototype,"lockNodeTemp",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(S.prototype,"lockNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=e(S.prototype,"unLockNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(S.prototype,"clippingNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(S.prototype,"showJackpotPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(S.prototype,"skeletonData",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=S))||B));n._RF.pop()}}}));

System.register("chunks:///_virtual/JpPickLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberCurrency.ts","./SubGameData27.ts"],(function(i){var t,a,n,e,o,r,p,s,c,l,d,u,_,j,h;return{setters:[function(i){t=i.applyDecoratedDescriptor,a=i.inheritsLoose,n=i.initializerDefineProperty,e=i.assertThisInitialized,o=i.createClass},function(i){r=i.cclegacy,p=i._decorator,s=i.Node,c=i.sp,l=i.UIOpacity,d=i.tween,u=i.Vec3,_=i.Component},function(i){j=i.NumberCurrency},function(i){h=i.SubGameData}],execute:function(){var m,v,k,N,f,g,y,A,b,L,w,P,B,D,z,J,T,C,S,X,Y,R,M;r._RF.push({},"4ff0fvCn4lHXoUYAiIO86oP","JpPickLayer",void 0);var I=p.ccclass,O=p.property;i("JpPickLayer",(m=I("JpPickLayer"),v=O({displayName:"jpNode",type:[s]}),k=O({displayName:"jackpotNumReal",type:[j]}),N=O({displayName:"jackpotNumDark",type:[j]}),f=O({displayName:"jpNameDark",type:[s]}),g=O({displayName:"jpBoardNode",type:[s]}),y=O({displayName:"jp1_dianliang_Ani",type:[c.Skeleton]}),A=O({displayName:"jp2_dianliang_Ani",type:[c.Skeleton]}),b=O({displayName:"jp3_dianliang_Ani",type:[c.Skeleton]}),L=O({displayName:"jp4_dianliang_Ani",type:[c.Skeleton]}),w=O({displayName:"jp_win_Ani",type:[c.Skeleton]}),m((D=t((B=function(i){function t(){for(var t,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=i.call.apply(i,[this].concat(o))||this).gameLayer=null,n(t,"jpNode",D,e(t)),n(t,"jackpotNumReal",z,e(t)),n(t,"jackpotNumDark",J,e(t)),n(t,"jpNameDark",T,e(t)),n(t,"jpBoardNode",C,e(t)),n(t,"jp1_dianliang_Ani",S,e(t)),n(t,"jp2_dianliang_Ani",X,e(t)),n(t,"jp3_dianliang_Ani",Y,e(t)),n(t,"jp4_dianliang_Ani",R,e(t)),n(t,"jp_win_Ani",M,e(t)),t.jpBoardPosXList=[],t.jpBoardPosYList=[],t.jpBoardTargetPosXList=[],t.jpBoardTargetPosYList=[],t.jp_level_count=[],t.JPNum=4,t.JPMulti=[250,50,10,5],t}a(t,i);var r=t.prototype;return r.init=function(i,t){var a=this.data.total_bet;this.jpBoardPosXList=[0,0,-190,190],this.jpBoardPosYList=[485,430,386,386],this.jpBoardTargetPosXList=[0,0,-175,175],this.jpBoardTargetPosYList=[455,335,250,250];for(var n=0;n<this.JPNum;n++)this.jp_level_count[n]=0,this.jackpotNumDark[n].node.active=!1,this.jpNameDark[n].active=!1,this.jpBoardNode[n].active=!1,this.jp1_dianliang_Ani[n].node.active=!1,this.jp2_dianliang_Ani[n].node.active=!1,this.jp3_dianliang_Ani[n].node.active=!1,this.jp4_dianliang_Ani[n].node.active=!1,this.jpNode[n].active=!0,this.jpNode[n].setPosition(this.jpBoardPosXList[n],this.jpBoardPosYList[n]),this.jp_win_Ani[n].node.active=!1;for(var e=0;e<this.JPNum;e++){var o=i[e];this.jackpotNumReal[e].node.active=!0,this.jackpotNumReal[e].updateNumber(o);var r=a*this.JPMulti[e];this.jackpotNumDark[e].updateNumber(r),this.jpNameDark[e].active=!1,this.jackpotNumDark[e].node.active=!1,this.jackpotNumDark[e].updateNumber(r)}this.checkTip(t)},r.checkTip=function(i){i&&i.length>0?(this.showLock3(1==i[3]),this.showLock2(1==i[2]),this.showLock1(1==i[1]),this.showLock0(1==i[0])):(this.showLock3(!1),this.showLock2(!1),this.showLock1(!1),this.showLock0(!1))},r.showLock0=function(i){this.jackpotNumDark[0].node.active=i,this.jpNameDark[0].active=i},r.showLock1=function(i){this.jackpotNumDark[1].node.active=i,this.jpNameDark[1].active=i},r.showLock2=function(i){this.jackpotNumDark[2].node.active=i,this.jpNameDark[2].active=i},r.showLock3=function(i){this.jackpotNumDark[3].node.active=i,this.jpNameDark[3].active=i},r.jpMove=function(){for(var i=this,t=function(t){d(i.jpNode[t]).to(.8,{position:new u(i.jpBoardTargetPosXList[t],i.jpBoardTargetPosYList[t])}).call((function(){i.jpBoardMove(t)})).start()},a=0;a<this.JPNum;a++)t(a)},r.jpBoardMove=function(i){var t=this;this.jpBoardNode[i].active=!0;var a=this.jpBoardNode[i].getComponent(l);a&&(a.opacity=0,d(a).to(.4,{opacity:255},{easing:"fade"}).call((function(){t.jpBoardNode[i].active=!0})).start())},r.jpBack=function(i){void 0===i&&(i=null);for(var t=0;t<this.JPNum;t++)this.jpBoardNode[t].active=!1,this.jp_win_Ani[t].node.active=!1,d(this.jpNode[t]).to(.8,{position:new u(this.jpBoardPosXList[t],this.jpBoardPosYList[t])}).start();this.scheduleOnce((function(){i&&i()}),.9)},r.jpClick=function(i){if(1==i){var t=this.jp_level_count[0];this.jp1_dianliang_Ani[t].node.active=!0,this.jp1_dianliang_Ani[t].setAnimation(0,"animation2_1",!1),this.jp1_dianliang_Ani[t].addAnimation(0,"animation2_2",!0),this.jp_level_count[0]=t+1,this.jp_level_count[0]>=2&&(this.jp1_dianliang_Ani[3].node.active=!0)}else if(2==i){var a=this.jp_level_count[1];this.jp2_dianliang_Ani[a].node.active=!0,this.jp2_dianliang_Ani[a].setAnimation(0,"animation3_1",!1),this.jp2_dianliang_Ani[a].addAnimation(0,"animation3_2",!0),this.jp_level_count[1]=a+1,this.jp_level_count[1]>=2&&(this.jp2_dianliang_Ani[3].node.active=!0)}else if(3==i){var n=this.jp_level_count[2];this.jp3_dianliang_Ani[n].node.active=!0,this.jp3_dianliang_Ani[n].setAnimation(0,"animation4_1",!1),this.jp3_dianliang_Ani[n].addAnimation(0,"animation4_2",!0),this.jp_level_count[2]=n+1,this.jp_level_count[2]>=2&&(this.jp3_dianliang_Ani[3].node.active=!0)}else if(4==i){var e=this.jp_level_count[3];this.jp4_dianliang_Ani[e].node.active=!0,this.jp4_dianliang_Ani[e].setAnimation(0,"animation5_1",!1),this.jp4_dianliang_Ani[e].addAnimation(0,"animation5_2",!0),this.jp_level_count[3]=e+1,this.jp_level_count[3]>=2&&(this.jp4_dianliang_Ani[3].node.active=!0)}},r.jpWin=function(i){var t=i-1;this.jp_win_Ani[t].node.active=!0},o(t,[{key:"data",get:function(){return App.dataCenter.get(h)}}]),t}(_)).prototype,"jpNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(B.prototype,"jackpotNumReal",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(B.prototype,"jackpotNumDark",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(B.prototype,"jpNameDark",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(B.prototype,"jpBoardNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(B.prototype,"jp1_dianliang_Ani",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(B.prototype,"jp2_dianliang_Ani",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(B.prototype,"jp3_dianliang_Ani",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(B.prototype,"jp4_dianliang_Ani",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(B.prototype,"jp_win_Ani",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=B))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/JpSPickLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberCurrency.ts","./SubGameData27.ts"],(function(i){var t,a,n,e,o,r,p,s,c,l,u,d,_,j,h;return{setters:[function(i){t=i.applyDecoratedDescriptor,a=i.inheritsLoose,n=i.initializerDefineProperty,e=i.assertThisInitialized,o=i.createClass},function(i){r=i.cclegacy,p=i._decorator,s=i.Node,c=i.sp,l=i.UIOpacity,u=i.tween,d=i.Vec3,_=i.Component},function(i){j=i.NumberCurrency},function(i){h=i.SubGameData}],execute:function(){var m,v,N,k,f,g,A,y,b,w,L,P,B,D,z,S,J,T,C,M,x,R,X,Y,W;r._RF.push({},"ca527rKNrBN9aA1os2fWUW8","JpSPickLayer",void 0);var F=p.ccclass,G=p.property;i("JpSPickLayer",(m=F("JpSPickLayer"),v=G({displayName:"jpNode",type:[s]}),N=G({displayName:"jackpotNumReal",type:[j]}),k=G({displayName:"jackpotNumDark",type:[j]}),f=G({displayName:"jpNameDark",type:[s]}),g=G({displayName:"jpBoardNode",type:[s]}),A=G({displayName:"jp1_dianliang_Ani",type:[c.Skeleton]}),y=G({displayName:"jp2_dianliang_Ani",type:[c.Skeleton]}),b=G({displayName:"jp3_dianliang_Ani",type:[c.Skeleton]}),w=G({displayName:"jp4_dianliang_Ani",type:[c.Skeleton]}),L=G({displayName:"jp_win_Ani",type:[c.Skeleton]}),P=G({displayName:"jp_chuxian_Ani",type:[c.Skeleton]}),m((z=t((D=function(i){function t(){for(var t,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=i.call.apply(i,[this].concat(o))||this).gameLayer=null,n(t,"jpNode",z,e(t)),n(t,"jackpotNumReal",S,e(t)),n(t,"jackpotNumDark",J,e(t)),n(t,"jpNameDark",T,e(t)),n(t,"jpBoardNode",C,e(t)),n(t,"jp1_dianliang_Ani",M,e(t)),n(t,"jp2_dianliang_Ani",x,e(t)),n(t,"jp3_dianliang_Ani",R,e(t)),n(t,"jp4_dianliang_Ani",X,e(t)),n(t,"jp_win_Ani",Y,e(t)),n(t,"jp_chuxian_Ani",W,e(t)),t.jpBoardPosXList=[],t.jpBoardPosYList=[],t.jpBoardTargetPosXList=[],t.jpBoardTargetPosYList=[],t.jp_level_count=[],t.JPNum=4,t.JPMulti=[500,250,50,10],t}a(t,i);var r=t.prototype;return r.init=function(i,t){var a=this.data.total_bet;this.jpBoardPosXList=[0,0,-190,190],this.jpBoardPosYList=[485,430,386,386],this.jpBoardTargetPosXList=[0,0,-200,200],this.jpBoardTargetPosYList=[455,320,240,240];for(var n=0;n<this.JPNum;n++)this.jp_level_count[n]=0,this.jackpotNumDark[n].node.active=!1,this.jpNameDark[n].active=!1,this.jpBoardNode[n].active=!1,this.jp1_dianliang_Ani[n].node.active=!1,this.jp2_dianliang_Ani[n].node.active=!1,this.jp3_dianliang_Ani[n].node.active=!1,this.jp4_dianliang_Ani[n].node.active=!1,this.jpNode[n].active=!0,this.jpNode[n].setPosition(this.jpBoardTargetPosXList[n],this.jpBoardTargetPosYList[n]),this.jp_win_Ani[n].node.active=!1,this.jp_chuxian_Ani[n].node.active=!1;for(var e=0;e<this.JPNum;e++){var o=i[e];this.jackpotNumReal[e].node.active=!0,this.jackpotNumReal[e].updateNumber(o);var r=a*this.JPMulti[e];this.jackpotNumDark[e].updateNumber(r),this.jpNameDark[e].active=!1,this.jackpotNumDark[e].node.active=!1,this.jackpotNumDark[e].updateNumber(r)}this.checkTip(t)},r.checkTip=function(i){i&&i.length>0?(this.showLock3(1==i[3]),this.showLock2(1==i[2]),this.showLock1(1==i[1]),this.showLock0(1==i[0])):(this.showLock3(!1),this.showLock2(!1),this.showLock1(!1),this.showLock0(!1))},r.showLock0=function(i){this.jackpotNumDark[0].node.active=i,this.jpNameDark[0].active=i},r.showLock1=function(i){this.jackpotNumDark[1].node.active=i,this.jpNameDark[1].active=i},r.showLock2=function(i){this.jackpotNumDark[2].node.active=i,this.jpNameDark[2].active=i},r.showLock3=function(i){this.jackpotNumDark[3].node.active=i,this.jpNameDark[3].active=i},r.jpMove=function(){for(var i=0;i<this.JPNum;i++){this.jpNode[i].active=!1;this.jp_chuxian_Ani[i].node.active=!0,this.jp_chuxian_Ani[i].setAnimation(0,"animation",!1)}this.jpNodeMove()},r.jpNodeMove=function(){for(var i=this,t=function(t){i.jpNode[t].active=!0;var a=i.jpNode[t].getComponent(l);a&&(a.opacity=0,u(a).to(.8,{opacity:255},{easing:"fade"}).call((function(){i.jpNode[t].active=!0,i.jpBoardMove(t)})).start())},a=0;a<this.JPNum;a++)t(a)},r.jpBoardMove=function(i){var t=this;this.jpBoardNode[i].active=!0;var a=this.jpBoardNode[i].getComponent(l);a&&(a.opacity=0,u(a).to(.3,{opacity:255},{easing:"fade"}).call((function(){t.jpBoardNode[i].active=!0})).start())},r.jpBack=function(i){void 0===i&&(i=null);for(var t=0;t<this.JPNum;t++)this.jpBoardNode[t].active=!1,this.jp_win_Ani[t].node.active=!1,u(this.jpNode[t]).to(.5,{position:new d(this.jpBoardPosXList[t],this.jpBoardPosYList[t])}).start();this.scheduleOnce((function(){i&&i()}),.6)},r.jpClick=function(i){if(1==i){var t=this.jp_level_count[0];this.jp1_dianliang_Ani[t].node.active=!0,this.jp1_dianliang_Ani[t].setAnimation(0,"animation1_1",!1),this.jp1_dianliang_Ani[t].addAnimation(0,"animation1_2",!0),this.jp_level_count[0]=t+1,this.jp_level_count[0]>=2&&(this.jp1_dianliang_Ani[3].node.active=!0)}else if(2==i){var a=this.jp_level_count[1];this.jp2_dianliang_Ani[a].node.active=!0,this.jp2_dianliang_Ani[a].setAnimation(0,"animation2_1",!1),this.jp2_dianliang_Ani[a].addAnimation(0,"animation2_2",!0),this.jp_level_count[1]=a+1,this.jp_level_count[1]>=2&&(this.jp2_dianliang_Ani[3].node.active=!0)}else if(3==i){var n=this.jp_level_count[2];this.jp3_dianliang_Ani[n].node.active=!0,this.jp3_dianliang_Ani[n].setAnimation(0,"animation3_1",!1),this.jp3_dianliang_Ani[n].addAnimation(0,"animation3_2",!0),this.jp_level_count[2]=n+1,this.jp_level_count[2]>=2&&(this.jp3_dianliang_Ani[3].node.active=!0)}else if(4==i){var e=this.jp_level_count[3];this.jp4_dianliang_Ani[e].node.active=!0,this.jp4_dianliang_Ani[e].setAnimation(0,"animation4_1",!1),this.jp4_dianliang_Ani[e].addAnimation(0,"animation4_2",!0),this.jp_level_count[3]=e+1,this.jp_level_count[3]>=2&&(this.jp4_dianliang_Ani[3].node.active=!0)}},r.jpWin=function(i){var t=i;this.jp_win_Ani[t].node.active=!0},o(t,[{key:"data",get:function(){return App.dataCenter.get(h)}}]),t}(_)).prototype,"jpNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(D.prototype,"jackpotNumReal",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(D.prototype,"jackpotNumDark",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(D.prototype,"jpNameDark",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(D.prototype,"jpBoardNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(D.prototype,"jp1_dianliang_Ani",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(D.prototype,"jp2_dianliang_Ani",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(D.prototype,"jp3_dianliang_Ani",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(D.prototype,"jp4_dianliang_Ani",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(D.prototype,"jp_win_Ani",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(D.prototype,"jp_chuxian_Ani",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=D))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/LineAnimator4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./SubGameDefines27.ts"],(function(t){var i,n,e,s;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){e=t.SubGameData},function(t){s=t.THEME_GAME_TYPE}],execute:function(){n._RF.push({},"c9cdfGHXhtG+Ia82+gy0c0V","LineAnimator",void 0);t("ThemeHotChiliLineAnimator",function(){function t(){this.spinLayer=null,this.spinElementList=[]}var n=t.prototype;return n.sync=function(){this.spinElementList=[];var t=this.data.GameType;if(t===s.MAIN||t===s.FREE||t===s.BONUS||t===s.MAPFREE)for(var i=this.spinLayer.spinTable.cellList,n=0;n<i.length;n++)for(var e=i[n].visible_cells,a=0;a<e.length;a++){var o=e[a];o.symbolIndex;this.spinElementList.push(o)}},n.performLineAnimation=function(t,i){if(void 0===i&&(i=[]),this.stopAnimation(i),this.data.GameType==s.MAIN||this.data.GameType==s.FREE||this.data.GameType==s.MAPFREE)for(var n=0;n<t.length;n++)t[n]>0&&this.spinElementList[n].performLineAnimation()},n.performAnimation=function(t,i){if(void 0===i&&(i=[]),this.stopAnimation(i),this.data.GameType==s.MAIN||this.data.GameType==s.FREE||this.data.GameType==s.MAPFREE)for(var n=0;n<t.length;n++)t[n]>0&&this.spinElementList[n].performAnimation()},n.stopLineAnimation=function(){for(var t=0;t<this.spinElementList.length;t++)this.spinElementList[t].stopLineAnimation()},n.stopAnimation=function(t){if(void 0===t&&(t=[]),this.data.GameType==s.MAIN||this.data.GameType==s.FREE||this.data.GameType==s.MAPFREE)for(var i=0;i<this.spinElementList.length;i++)t&&t[i]>0||this.spinElementList[i].stopAnimation()},n.performAllLine=function(t,i){for(var n=0;n<this.spinElementList.length;n++)0!=t[n]&&(this.spinElementList[n].performAnimation(),this.spinElementList[n].performLineAnimation())},i(t,[{key:"data",get:function(){return App.dataCenter.get(e)}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingBar4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts"],(function(r){var e,i,t,a,n,o,s,l,c,p,u,b;return{setters:[function(r){e=r.applyDecoratedDescriptor,i=r.inheritsLoose,t=r.initializerDefineProperty,a=r.assertThisInitialized},function(r){n=r.cclegacy,o=r._decorator,s=r.Node,l=r.ProgressBar,c=r.Label,p=r.find,u=r.sys},function(r){b=r.default}],execute:function(){var g,d,f,y,v,B,_,h,L;n._RF.push({},"830b9zGP75Ku5no04bHxIOP","LoadingBar",void 0);var m=o.ccclass,P=o.property;r("LoadingBar",(g=m("LoadingBar"),d=P({displayName:"bg_portrai",type:s}),f=P({displayName:"progressBar",type:l}),y=P({displayName:"lab_describe",type:c}),g((_=e((B=function(r){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n))||this,t(e,"bg_portrai",_,a(e)),t(e,"progressBar",h,a(e)),t(e,"lab_describe",L,a(e)),e}i(e,r),e.getPrefabUrl=function(){return"prefabs/view/LoadingBar"};var n=e.prototype;return n.onLoad=function(){var r=p("pc_bg",this.node);r&&(u.isMobile?r.active=!1:r.active=!0)},n.updateProgress=function(r){this.progressBar.progress=r/100},e}(b)).prototype,"bg_portrai",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(B.prototype,"progressBar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(B.prototype,"lab_describe",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=B))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/MainGameView22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameView.ts","./GameLogic27.ts","./Decorators.ts","./CommonEvent.ts","./LoadingBar4.ts","./GameLayer4.ts","./IntroductionPage4.ts","./Global.ts","./SubGameDefines27.ts","./Config.ts","./GamePlay7.ts"],(function(t){var i,a,e,n,o,s,c,l,h,r,d,p,u,g,S,_,f,m,P,T,y,k,I,O,b,v,A,C,E;return{setters:[function(t){i=t.applyDecoratedDescriptor,a=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,c=t._decorator,l=t.Node,h=t.sp,r=t.find,d=t.sys,p=t.BlockInputEvents,u=t.Tween,g=t.tween,S=t.math,_=t.instantiate,f=t.Vec3},function(t){m=t.default},function(t){P=t.GameLogic},function(t){T=t.inject},function(t){y=t.CommonEvent},function(t){k=t.LoadingBar},function(t){I=t.GameLayer},function(t){O=t.IntroductionPage},function(t){b=t.Global},function(t){v=t.EventName,A=t.THEME_GAME_TYPE},function(t){C=t.ViewZOrder},function(t){E=t.default}],execute:function(){var L,N,R,B,D,M,F,G,w,U,Y,H,K;s._RF.push({},"c9196MpU51CDKCh2Rrpwiwe","MainGameView",void 0);var V=c.ccclass;c.property,t("default",(L=T({type:P,name:"logic"}),N=T("content",l),R=T("guochang_Mask",l),B=T("guochang/guochang",h.Skeleton),D=T("kaichang/kaichang",h.Skeleton),V(((K=function(t){function i(){for(var i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,e(i,"logic",G,n(i)),i.canstopmusic=!0,e(i,"content",w,n(i)),e(i,"guochang_Mask",U,n(i)),e(i,"guochang",Y,n(i)),e(i,"kaichang",H,n(i)),i.loadingView=null,i.introducPage=null,i.gameLayer=null,i.callBack=null,i.mask_node=null,i.offset_y=60,i}a(i,t),i.getPrefabUrl=function(){return"prefabs/MainGameView"};var s=i.prototype;return s.addEvents=function(){t.prototype.addEvents.call(this),this.onD(y.SWITCH_SCREEN,this.onSwitchScreen),this.onD(y.DISPATCH_SPIN_START,this.onSpinStart),this.onD(y.DISPATCH_SPIN_STOP,this.onSpinStop),this.onD(y.DISPATCH_TOTAL_BET,this.onRefreshTotalBet),this.onD(y.DISPATCH_QUICK_SPIN,this.onQuickSpin),this.onD(y.DISPATCH_TURBO_SPIN,this.onTurboSpin),this.onD(y.DISPATCH_SKIP_SCREENS,this.onSkipScreens),this.onD(y.DISPATCH_START_AUTOPLAY,this.onAutoPlay),this.onD(y.DISPATCH_PLAYBACK,this.onPlayback),this.onD(y.DISPATCH_PLAYBACK_END,this.onPlaybackEnd),this.onD(y.DISPATCH_GAME_PLAY,this.onGamePlay),this.onD(v.OnReceiveLastMap,this.onReceiveLastMap),this.onD(v.OnReceiveSlotBet,this.onReceiveSlotBet),this.onD(v.OnReceiveFGSpin,this.onReceiveFGSpin)},s.init=function(){var t=r("pc_bg",this.node);t&&(d.isMobile?t.active=!1:t.active=!0),this.loadingView=r("LoadingBar",this.node).getComponent(k),this.loadingView.node.active=!0;var i=r("IntroductionPage",this.node);if(i){var a=i.getComponent(O);a&&(a.view=this,this.introducPage=a,this.introducPage.node.active=!0)}var e=r("content/GameLayer",this.node);if(e){var n=e.getComponent(I);n&&(n.view=this,this.gameLayer=n)}this.onSwitchScreen(App.utils.getOrientation())},s.updateProgress=function(t){this.loadingView.updateProgress(t)},s.showMain=function(){App.loading.hide(),this.loadingView.node.active=!1,this.logic.data.bHasEnterGame?this.onCloseIntroducPage():1!=App.utils.PlatformType?this.introducPage.node.active=!0:(this.introducPage.node.active=!1,this.onCloseIntroducPage()),dispatch(y.NOTIFY_ENTER_GAME),App.utils.closeDocumentLoading()},s.showEnterGameAnim=function(){var t=this;this.kaichang.node.getParent().addComponent(p),this.kaichang.node.active=!0;var i=this.kaichang;i&&(i.clearTracks(),i.setAnimation(0,"animation",!1),dispatch(v.PLAY_EFFECT,"audio/base/animation_welcome"),i.setCompleteListener((function(i){"animation"===(i.animation?i.animation.name:"")&&(t.logic.data.bHasEnterGame=!0,dispatch(y.NOTIFY_SLOT_INFO,t.logic.data.slotInfo),t.stopBgMusic(!0),t.kaichang.node.active=!1,t.kaichang.node.getParent().active=!1,dispatch(v.PLAY_MUSIC,"audio/base/bg_bgm"))})))},s.onCloseIntroducPage=function(){if(this.logic.data.lastMapData?(0==this.logic.data.lastMapData.type?this.showEnterGameAnim():(b.playback||dispatch(y.NOTIFY_SLOT_INFO,this.logic.data.slotInfo),this.logic.data.bHasEnterGame=!0,this.kaichang.node.active=!1),b.playback||dispatch(y.NOTIFY_SLOT_INFO,this.logic.data.slotInfo)):(b.playback||dispatch(y.NOTIFY_SLOT_INFO,this.logic.data.slotInfo),this.logic.data.bHasEnterGame=!0),this.introducPage.node.active=!1,b.playback)this.handlePlayBack();else{dispatch(v.SLOT_BET_JACKPOT,this.logic.data.slotInfo.bet);var t=!1;1==(this.logic.data.slotInfo.is_jackpot_lock||0)&&(t=!0),this.logic.data.UnlockFunc=t,dispatch(v.UNLOCK_FUNC,t),dispatch(y.NOTIFY_SLOT_INFO,this.logic.data.slotInfo),dispatch(y.NOTIFY_USERINFO_SCORE,this.logic.data.money),dispatch(y.NOTIFY_BALANCE_SCORE,this.logic.data.money),dispatch(v.OnReceiveLastMap,this.logic.data.lastMapData),this.logic.data.bHasEnterGame=!0;var i=!1;1==(this.logic.data.slotInfo.mode||0)&&(i=!0),dispatch(y.NOTIFY_QUICK_SPIN,i),dispatch(v.REQUEST_JACKPOT)}},s.handlePlayBack=function(){Log.dump("onPlayback ",b.playbackAllData),Log.dump("onPlayback ",b.playbackData),this.logic.savePlayBackData(b.playbackData);var t=this.logic.assemblePlayBackSlot(b.playbackData);this.onReceiveLastMap(t),this.onPlayback()},s.onReceiveLastMap=function(t){dispatch(y.NOTIFY_STOP_AUTOPLAY),this.logic.onResetWinScore(),this.gameLayer.processLastSpinResult(t)},s.onReceiveSlotBet=function(t){App.loading.hide(),this.logic.onResetWinScore(),null!=t&&this.gameLayer.processSpinResult(t)},s.onReceiveFGSelect=function(t){App.loading.hide(),this.gameLayer.processFreeGameResult(t)},s.onReceiveFGSpin=function(){App.loading.hide(),this.gameLayer.processFGSpinResult()},s.onReceiveBGSpin=function(){App.loading.hide(),this.gameLayer.processBGSpinResult()},s.onSwitchScreen=function(t){if("portrait"===t){var i=0-b.real_screen_height/2+640+this.offset_y;Log.d("ssss",b.real_screen_height,b.background_width,i),this.content.setPosition(0,i)}},s.onSpinStart=function(t){var i=this;void 0===t&&(t=0),this.logic.data.GameType==A.MAIN&&this.gameLayer.canSpin()&&(this.logic.data.QUICK_STOP=!1,this.gameLayer.fakeSpin(),b.playback?dispatch(y.NOTIFY_BALANCE_SCORE,this.logic.data.money-b.playbackAllData.bet*b.SCORE_EXCHANGE):0==t?(this.logic.data.isDebug?this.scheduleOnce((function(){i.gameLayer.processSpinResult()}),.1):(this.logic.onSendBet(),dispatch(v.UNLOCK_JACKPOT,!1)),this.logic.data.received_message=!1,dispatch(y.NOTIFY_SPIN_STOP_NORMAL,!1)):this.logic.onSendGM(t),this.stopBgMusic(!1),this.logic.data.total_win=0)},s.onSpinStop=function(){this.logic.data.received_message&&this.gameLayer.canStop()&&(this.logic.data.QUICK_STOP=!0,this.logic.data.received_message=!1)},s.onRefreshTotalBet=function(t){this.logic.data.total_bet=t,this.logic.data.switch_bet=!0},s.onQuickSpin=function(t){Log.d("ssss onQuickSpin ssss b_quickSpin = ",t),this.logic.data.QUICK_SPIN=t},s.onTurboSpin=function(t){Log.d("ssss onTurboSpin ssss b_turboSpin = ",t),this.logic.data.TURBO_SPIN=t},s.onSkipScreens=function(t){this.logic.data.SKIP_SCREENS=t},s.onAutoPlay=function(t){this.logic.data.AUTOPLAY=t,dispatch(v.UNLOCK_JACKPOT,!t)},s.onPlayback=function(){var t=this;b.playback&&(this.showMaskView(),this.logic.data.money=b.playbackAllData.startScore*b.SCORE_EXCHANGE,dispatch(y.NOTIFY_SLOT_INFO,this.logic.data.slotInfo),dispatch(y.NOTIFY_USERINFO_SCORE,this.logic.data.money),dispatch(y.NOTIFY_BALANCE_SCORE,this.logic.data.money),dispatch(v.RECEIVE_JACKPOT,this.logic.data.playBack_jp_data),this.scheduleOnce((function(){dispatch(y.NOTIFY_PLAYBACK);var i=t.logic.assemblePlayBackSlot(b.playbackData);t.onReceiveSlotBet(i)}),.1))},s.onPlaybackEnd=function(){dispatch(v.STOP_JACKPOT),this.hideMaskView()},s.onGamePlay=function(){App.uiManager.open({type:E,bundle:this.logic.data.module,zIndex:C.UI})},s.onSpinEnd=function(){dispatch(y.NOTIFY_BALANCE_SCORE,this.logic.data.money),dispatch(y.NOTIFY_SPIN_END),this.canstopmusic&&this.stopBgMusic(!0)},s.requestFreeGameSpin=function(){b.playback?this.onReceiveFGSpin():(this.logic.c2sFreeSpin(),this.logic.data.received_message=!1)},s.requestBonusGameSpin=function(){var t=this;b.playback?this.onReceiveBGSpin():this.scheduleOnce((function(){t.onReceiveBGSpin(),t.logic.data.received_message=!1}),.5)},s.stopBgMusic=function(t){void 0===t&&(t=!0),this.canstopmusic=!1,t?(this.callBack=function(){this.gradientBgMusic(0),this.canstopmusic=!0},this.scheduleOnce(this.callBack,5)):this.callBack&&(this.unschedule(this.callBack),this.gradientBgMusic(1),this.canstopmusic=!0)},s.gradientBgMusic=function(t){var i=this;u.stopAllByTarget(this.node),0===t?g(this.node).to(1,{},{onUpdate:function(t,i){if(null!=i){var a=S.lerp(1,0,i);dispatch(v.SET_MUSIC_VOLUME,a)}}}).start():g(this.node).to(1,{},{onUpdate:function(t,a){if(null!=a){var e=S.lerp(i.audioHelper.musicVolume,1,a);dispatch(v.SET_MUSIC_VOLUME,e)}}}).start()},s.showMaskView=function(){this.mask_node||(this.prefab?this.mask_node=_(this.prefab):console.log("this.prefab null")),this.mask_node.removeFromParent(),App.uiManager.addView(this.mask_node,C.Tips),this.mask_node.position=f.ZERO,this.mask_node.active=!0},s.hideMaskView=function(){this.mask_node&&(this.mask_node.active=!1)},s.playEnterThemeAnimation=function(){},o(i,[{key:"prefab",get:function(){return App.uiManager.getScenePrefab("PlaybackMask")}}]),i}(m)).logicType=P,G=i((F=K).prototype,"logic",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(F.prototype,"content",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(F.prototype,"guochang_Mask",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(F.prototype,"guochang",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(F.prototype,"kaichang",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=F))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/PageChange7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SlotGameDefines.ts"],(function(e){var t,n,r,a,i,o,g,u,s,l,P,c,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,g=e.PageView,u=e.Node,s=e.SpriteFrame,l=e.Sprite,P=e.Component},function(e){c=e.CommonEvent},function(e){h=e.SoundName}],execute:function(){var p,d,f,C,m,y,b,L,x;i._RF.push({},"d001b8CODpJubi+/FdnAEKT","PageChange",void 0);var v=o.ccclass,I=o.property;e("PageChange",(p=v("PageChange"),d=I({type:g}),f=I({type:u}),C=I({type:[s]}),p((b=t((y=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"Page",b,a(t)),r(t,"Layout",L,a(t)),r(t,"Sprite",x,a(t)),t.PageNum=7,t}n(t,e);var i=t.prototype;return i.GoNextPage=function(){Log.d(this.Page.getCurrentPageIndex()+"!!!!"),this.Page.getCurrentPageIndex()<this.PageNum?this.Page.scrollToPage(this.Page.getCurrentPageIndex()+1):this.Page.scrollToPage(0)},i.GoLastPage=function(){this.Page.getCurrentPageIndex()>0?this.Page.scrollToPage(this.Page.getCurrentPageIndex()-1):this.Page.scrollToPage(this.PageNum)},i.ChangeIndex=function(){dispatch(c.PLAY_EFFECT,h.SOUND_HELP_PLAY_CHANGE);for(var e=0;e<this.Layout.children.length&&!(this.Page.getCurrentPageIndex()>this.PageNum||this.Page.getCurrentPageIndex()<0);e++)e==this.Page.getCurrentPageIndex()?this.Layout.children[e].getComponent(l).spriteFrame=this.Sprite[1]:this.Layout.children[e].getComponent(l).spriteFrame=this.Sprite[0]},t}(P)).prototype,"Page",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(y.prototype,"Layout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(y.prototype,"Sprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=y))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/PickItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,n,o,s,a,p,m,h,c,r,d,l;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){s=i.cclegacy,a=i._decorator,p=i.sp,m=i.Button,h=i.UIOpacity,c=i.Vec3,r=i.tween,d=i.Color,l=i.Component}],execute:function(){var u,S,v,k,y,b,f,A,g,w,P,B,z,D,I;s._RF.push({},"bbc49rKtP1ONZLvlY8aDgHp","PickItem",void 0);var x=a.ccclass,T=a.property;i("PickItem",(u=x("PickItem"),S=T({displayName:"itemBottomSpine",type:p.Skeleton}),v=T({displayName:"itemTopSpine",type:p.Skeleton}),k=T({displayName:"itemSpine",type:p.Skeleton}),y=T({displayName:"bgAnim",type:p.Skeleton}),b=T({displayName:"skeletonData",type:[p.SkeletonData]}),f=T({displayName:"btnPick",type:m}),u((w=t((g=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return(t=i.call.apply(i,[this].concat(s))||this).pickLayer=null,n(t,"itemBottomSpine",w,o(t)),n(t,"itemTopSpine",P,o(t)),n(t,"itemSpine",B,o(t)),n(t,"bgAnim",z,o(t)),n(t,"skeletonData",D,o(t)),n(t,"btnPick",I,o(t)),t.index=0,t.jpValue=0,t.isPicked=!1,t}e(t,i);var s=t.prototype;return s.onLoad=function(){this.itemBottomSpine.node.active=!1,this.itemSpine.node.active=!1,this.bgAnim.node.active=!0,this.itemTopSpine.node.active=!0,this.btnPick.interactable=!0,this.btnPick.node.active=!0,this.btnPick.node.getComponent(h).opacity=0,this.itemBottomSpine.node.scale=new c(2,2),this.itemSpine.node.scale=new c(2,2),this.bgAnim.node.scale=new c(1,1),this.isPicked=!1},s.onTouchOnItem=function(){Log.d("onTouchOnItem index =",this.index),this.pickLayer.finish_dialog&&(this.pickLayer.b_jpWin||(this.btnPick.interactable=!1,this.pickLayer.dealOpenPickItem(this.index)))},s.init=function(i){this.index=i,this._addBgLightAni()},s._addBgLightAni=function(){this.bgAnim.node.active=!0,this.bgAnim.setAnimation(0,"animation4",!0)},s.openPickItem=function(i,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var n=0;return t&&(n=5/30,e&&(n=.5)),this.jpValue=i,this.addOpenPickItem(i,t,e),n},s.addOpenPickItem=function(i,t,e){var n=this;if(this.bgAnim.node.active=!1,t){this.addClickAni(e);var o=e?.5:0;this.scheduleOnce((function(){n.addJpItemAni(i)}),o)}else this.addJpItemAni(i)},s.addClickAni=function(i){void 0===i&&(i=!1);var t="animation6";i&&(t="animation7"),this.bgAnim.node.active=!0,this.bgAnim.setAnimation(0,t,!1)},s.addJpItemAni=function(i){var t="animation"+i+"_1";this.itemBottomSpine.node.active=!0,this.itemBottomSpine.setAnimation(0,t,!0),this.itemSpine.node.active=!0;var e=this.getSkeletonData(i);this.itemSpine.skeletonData=e,this.itemSpine.setAnimation(0,t,!0);var n="animation1_"+i;this.itemTopSpine.node.active=!0,this.itemTopSpine.setAnimation(0,n,!0)},s.shakePickItem=function(){(1===(Math.random()<.5?1:2)?r(this.node).to(2/30,{position:new c(this.node.position.x-4,this.node.position.y,this.node.position.z)}).to(4/30,{position:new c(this.node.position.x+8,this.node.position.y,this.node.position.z)}).to(2/30,{position:new c(this.node.position.x-4,this.node.position.y,this.node.position.z)}).to(2/30,{position:new c(this.node.position.x,this.node.position.y,this.node.position.z)}):r(this.node).to(2/30,{position:new c(this.node.position.x-4,this.node.position.y,this.node.position.z)}).to(4/30,{position:new c(this.node.position.x+8,this.node.position.y,this.node.position.z)}).to(2/30,{position:new c(this.node.position.x-8,this.node.position.y,this.node.position.z)}).to(4/30,{position:new c(this.node.position.x+8,this.node.position.y,this.node.position.z)}).to(2/30,{position:new c(this.node.position.x-4,this.node.position.y,this.node.position.z)}).to(2/30,{position:new c(this.node.position.x,this.node.position.y,this.node.position.z)})).start()},s.openNotPickItem=function(i,t){void 0===t&&(t=!1),this.playNotOpenStaticTipAnim(i),this.setNotWinColor(t)},s.playNotOpenStaticTipAnim=function(i){this.bgAnim.node.active=!1;var t="animation"+i+"_0";this.itemBottomSpine.node.active=!0,this.itemBottomSpine.setAnimation(0,t,!0),this.itemSpine.node.active=!0;var e=this.getSkeletonData(i);this.itemSpine.skeletonData=e,this.itemSpine.setAnimation(0,t,!0)},s.setNotWinColor=function(i){App.utils.setColorRecursive(this.node,new d(125,125,125))},s.playNotWinStaticTipAnim=function(){var i=this.jpValue;this.bgAnim.node.active=!1;var t="animation"+i+"_0";this.itemBottomSpine.node.active=!0,this.itemBottomSpine.setAnimation(0,t,!0),this.itemSpine.node.active=!0;var e=this.getSkeletonData(i);this.itemSpine.skeletonData=e,this.itemSpine.setAnimation(0,t,!0),this.itemTopSpine.node.active=!1},s.playWillWinTipAnim=function(i){var t="animation"+i+"_2";this.itemSpine.node.active=!0,this.itemSpine.setAnimation(0,t,!0),this.itemBottomSpine.node.active=!0,this.itemBottomSpine.setAnimation(0,t,!0)},s.showPickItemWin=function(i){var t=i,e="animation"+t+"_3";5==t&&(e="animation"+t+"_2"),this.itemSpine.node.active=!0;var n=this.getSkeletonData(t);this.itemSpine.skeletonData=n,this.itemSpine.setAnimation(0,e,!0),this.itemBottomSpine.node.active=!0,this.itemBottomSpine.setAnimation(0,e,!0),this.itemTopSpine.node.active=!0,this.itemTopSpine.setAnimation(0,"animation",!0)},s.getSkeletonData=function(i){var t=i-1;return this.skeletonData[t]},t}(l)).prototype,"itemBottomSpine",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(g.prototype,"itemTopSpine",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(g.prototype,"itemSpine",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(g.prototype,"bgAnim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(g.prototype,"skeletonData",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(g.prototype,"btnPick",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=g))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/PickLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./SubGameDefines27.ts","./PickItem.ts"],(function(i){var t,e,n,a,o,c,s,r,l,p,h,u,d,k,m,f,g,y,P;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized,o=i.createClass},function(i){c=i.cclegacy,s=i._decorator,r=i.Node,l=i.Prefab,p=i.sp,h=i.instantiate,u=i.Vec3,d=i.Tween,k=i.tween,m=i.UIOpacity,f=i.Component},function(i){g=i.SubGameData},function(i){y=i.EventName},function(i){P=i.PickItem}],execute:function(){var _,v,L,b,I,N,w,C,A,S,T,E,W,M,B,F,x,z,O,j,D,V,R,Y,G;c._RF.push({},"ab8c8gUX3VDhrkY2P+J5d0G","PickLayer",void 0);var H=s.ccclass,J=s.property;i("PickLayer",(_=H("PickLayer"),v=J({displayName:"content",type:r}),L=J({displayName:"pickParent",type:r}),b=J({displayName:"actionNode",type:r}),I=J({displayName:"PickItem",type:l}),N=J({displayName:"clippingNode",type:r}),w=J({displayName:"dialog_pick",type:p.Skeleton}),C=J({displayName:"dialog_spick",type:p.Skeleton}),A=J({displayName:"shuiw",type:p.Skeleton}),S=J({displayName:"frame_loop",type:p.Skeleton}),T=J({displayName:"tr_board_change",type:p.Skeleton}),E=J({displayName:"tr_collect_change",type:p.Skeleton}),_((B=t((M=function(i){function t(){for(var t,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return(t=i.call.apply(i,[this].concat(o))||this).gameLayer=null,n(t,"content",B,a(t)),n(t,"pickParent",F,a(t)),n(t,"actionNode",x,a(t)),n(t,"pickItem",z,a(t)),n(t,"clippingNode",O,a(t)),n(t,"dialog_pick",j,a(t)),n(t,"dialog_spick",D,a(t)),n(t,"shuiw",V,a(t)),n(t,"frame_loop",R,a(t)),n(t,"tr_board_change",Y,a(t)),n(t,"tr_collect_change",G,a(t)),t.pickItemList=[],t.pickItemLength=12,t.pick_item_list=[],t.pickMaxCount=0,t.finishCount=0,t.b_jpWin=!1,t.finish_dialog=!1,t.isSuperPick=!1,t.collectList={1:0,2:0,3:0,4:0,5:0},t}e(t,i);var c=t.prototype;return c.init=function(i,t){void 0===t&&(t=!1),this.pickParent.active=!1,this.dialog_pick.node.active=!1,this.dialog_spick.node.active=!1,this.shuiw.node.active=!1,this.frame_loop.node.active=!1,this.tr_board_change.node.active=!1,this.tr_collect_change.node.active=!1,this.isSuperPick=t,this.pickMaxCount=this.data.pickMaxCount,this.pick_item_list=i,Log.d("pick_item_list = ",this.pick_item_list),this.cleanContentNode()},c.playBackRandomClick=function(){for(var i=this,t=Array.from({length:12},(function(i,t){return t})),e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),a=[t[n],t[e]];t[e]=a[0],t[n]=a[1]}for(var o=function(e){i.scheduleOnce((function(){i.dealOpenPickItem(t[e])}),1*(e+1))},c=0;c<this.pick_item_list.length;c++)o(c)},c.createPickItem=function(){if(this.clippingNode){this.clippingNode.destroyAllChildren();for(var i=this.calcPickItemPosList(),t=0;t<this.pickItemLength;t++){var e=h(this.pickItem);if(e){e.setPosition(i[t]),this.clippingNode.addChild(e);var n=e.getComponent(P);n&&(n.pickLayer=this,n.init(t),this.pickItemList[t]=n)}}}},c.calcPickItemPosList=function(){for(var i=[],t=1;t<=4;t++)for(var e=1;e<=3;e++){var n=new u(-235,94,0);n.x+=158*(t-1),n.y+=124*(1-e),i.push(n)}return i},c.cleanContentNode=function(){this.clippingNode&&(this.clippingNode.destroyAllChildren(),this.pickItemList=[])},c.stopShakingPickItems=function(){d.stopAllByTarget(this.actionNode)},c.showShakePickItems=function(){var i=this;k(this.actionNode).repeatForever(k().delay(2).call((function(){var t=i.getRandomPickItemToShake();i.pickItemList[t].shakePickItem()}))).start()},c.getRandomPickItemToShake=function(){for(var i=[],t=0;t<this.pickItemLength;t++){var e=this.pickItemList[t];e&&!e.isPicked&&i.push(t)}return i[Math.floor(Math.random()*i.length)]},c.dealOpenPickItem=function(i){var t=this;if(this.finish_dialog&&!this.b_jpWin){this.pickItemList[i].isPicked=!0;var e=this.pick_item_list[this.finishCount],n=this.getIsFullJpPos(e);n?dispatch(y.PLAY_EFFECT,"audio/pick/pick_click2"):dispatch(y.PLAY_EFFECT,"audio/pick/pick_click1");var a=this.pickItemList[i].openPickItem(e,!0,n);this.gameLayer.jpPickClick(e),this.finishCount+=1,this.collectList[e]+=1,this.scheduleOnce((function(){t.playPickItemValue(i,e)}),a),this.finishCount==this.pickMaxCount&&(this.b_jpWin=!0)}},c.showFinishPick=function(i){var t=this;k(this.node).delay(.5).call((function(){t.shakeBoard(.5)})).delay(1).call((function(){t.showNotPickItemValue(),t.setPickNotWinColor(i),t.showWinPickItem(i),t.gameLayer.jpPickWin(i)})).delay(2).call((function(){t.showCollectDialog()})).start()},c.getIsFullJpPos=function(i){return this.collectList[i]>=2},c.playPickItemValue=function(i,t){this.finishCount<this.pickMaxCount?2==this.collectList[t]&&5!=t&&this.playWillWinTipAnim(t):(this.showFinishPick(t),this.stopShakingPickItems())},c.shakeBoard=function(i,t){var e=this,n=.05,a=1;t&&(a*=t);var o=i,c=Math.floor(o/5/n);k(this.node).repeat(c,k().call((function(){return e.node.setPosition(a,1*a*1)})).delay(n).call((function(){return e.node.setPosition(-1*a,1*a)})).delay(n).call((function(){return e.node.setPosition(1*a,1*a)})).delay(n).call((function(){return e.node.setPosition(-a,1*a*1)})).delay(n).call((function(){return e.node.setPosition(0,0)})).delay(n)).start()},c.showBoardMagnifies=function(){k(this.content).delay(.2).call((function(){})).to(5/30,{scale:new u(.94,.94)}).to(8/30,{scale:new u(1.08,1.08)}).to(.2,{scale:new u(.96,.96)}).to(.2,{scale:new u(1,1)}).start()},c.playWillWinTipAnim=function(i){for(var t=0;t<this.pickItemLength;t++){var e=this.pickItemList[t];e&&e.isPicked&&e.jpValue==i&&e.playWillWinTipAnim(i)}},c.showNotPickItemValue=function(){for(var i=0,t=0;t<this.pickItemLength;t++){var e=this.pickItemList[t];if(e&&!e.isPicked){i+=1;var n=this.pickMaxCount+i-1,a=this.pick_item_list[n];Log.d("showNotPickItemValue item i,value",t,a),e.openNotPickItem(a)}}},c.setPickNotWinColor=function(i){for(var t=0;t<this.pickItemLength;t++){var e=this.pickItemList[t];e&&e.isPicked&&e.jpValue!=i&&(Log.d("setPickNotWinColor item i",t),e.setNotWinColor(),e.playNotWinStaticTipAnim())}},c.showWinPickItem=function(i){dispatch(y.PLAY_EFFECT,"audio/base/bell");for(var t=0;t<this.pickItemLength;t++){var e=this.pickItemList[t];e&&e.isPicked&&e.jpValue==i&&e.showPickItemWin(i)}this.showBoardMagnifies()},c.showCollectDialog=function(){this.gameLayer&&this.gameLayer.jpWin()},c.playEnterTransition=function(i,t,e){void 0===i&&(i=!1),void 0===t&&(t=null),void 0===e&&(e=!1),i?this.playEnterSuperPick(t,e):this.playEnterPick(t,e)},c.playExitTransition=function(i){void 0===i&&(i=!1),i?this.playExitSuperPick():this.playExitPick()},c.playEnterPick=function(i,t){void 0===i&&(i=null),void 0===t&&(t=!1),this.playMistAnim(),this.initPickBgLoop();var e=this.transitionToPickBoard(!1),n=this.changeOtherNodeToPick(t,!0);if(t){var a=Math.max(e,n);this.scheduleOnce((function(){i&&i()}),a+.5)}else i&&i()},c.playExitPick=function(){this.gameLayer.spinLayer.show_mustHitNode(!0)},c.changeOtherNodeToPick=function(i,t){return void 0===i&&(i=!1),this.gameLayer.spinLayer.hide_mustHitNode(i),i?35/30:0},c.playEnterSuperPick=function(i,t){var e=this;void 0===i&&(i=null),void 0===t&&(t=!1);var n=65/30;t?(dispatch(y.PLAY_EFFECT,"audio/base/transition_musthit"),this.gameLayer.spinLayer.playMustHitWinAnim(),this.gameLayer.changeBgToSuperPick(t),this.scheduleOnce((function(){e.gameLayer.prepareJpForSuperPick()}),n),this.scheduleOnce((function(){e.transitionToPickBoard(t)}),n+1)):(this.gameLayer.changeBgToSuperPick(!1),this.transitionToPickBoard(!1)),t?this.scheduleOnce((function(){i&&i()}),4.333333333333333):i&&i()},c.playExitSuperPick=function(){},c.playMistAnim=function(){this.shuiw.node.active=!0,this.shuiw.setAnimation(0,"animation",!0)},c.initPickBgLoop=function(){this.frame_loop.node.active=!0,this.frame_loop.setAnimation(0,"animation",!0)},c.transitionToPickBoard=function(i){var t=this;if(void 0===i&&(i=!1),i){var e="animation";this.tr_board_change.node.active=!0,this.tr_board_change.setAnimation(0,e,!1),this.tr_collect_change.node.active=!0,this.tr_collect_change.setAnimation(0,e,!1);var n=this.pickParent.getComponent(m);return n&&(this.pickParent.active=!0,this.createPickItem(),n.opacity=0,k(n).to(.5,{opacity:255},{easing:"fade"}).call((function(){t.pickParent.active=!0,t.gameLayer.spinLayer.show_clippingNode(!1)})).start()),20/30}var a=this.pickParent.getComponent(m);return a&&(this.pickParent.active=!0,this.createPickItem(),a.opacity=0,k(a).to(.5,{opacity:255},{easing:"fade"}).call((function(){t.pickParent.active=!0})).start()),0},c.transitionToBaseBoard=function(i){},c.showEnterPickDialog=function(i,t){var e=this;if(void 0===i&&(i=!1),void 0===t&&(t=null),i){this.dialog_spick.node.active=!0;var n="animation3";this.dialog_spick.setAnimation(0,"animation1",!1),this.dialog_spick.addAnimation(0,"animation2",!0),this.scheduleOnce((function(){e.dialog_spick.setAnimation(0,n,!1),e.dialog_spick.setCompleteListener((function(i){(i.animation?i.animation.name:"")===n&&(e.dialog_spick.node.active=!1,e.finish_dialog=!0,t&&t())}))}),2)}else{this.dialog_pick.node.active=!0;var a="animation3";this.dialog_pick.setAnimation(0,"animation1",!1),this.dialog_pick.addAnimation(0,"animation2",!0),this.scheduleOnce((function(){e.dialog_pick.setAnimation(0,a,!1),e.dialog_pick.setCompleteListener((function(i){(i.animation?i.animation.name:"")===a&&(e.dialog_pick.node.active=!1,e.finish_dialog=!0,t&&t())}))}),2)}},o(t,[{key:"data",get:function(){return App.dataCenter.get(g)}}]),t}(f)).prototype,"content",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(M.prototype,"pickParent",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(M.prototype,"actionNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(M.prototype,"pickItem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(M.prototype,"clippingNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(M.prototype,"dialog_pick",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(M.prototype,"dialog_spick",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(M.prototype,"shuiw",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(M.prototype,"frame_loop",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(M.prototype,"tr_board_change",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(M.prototype,"tr_collect_change",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=M))||W));c._RF.pop()}}}));

System.register("chunks:///_virtual/PopOut4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./SubGameData27.ts","./SubGameDefines27.ts","./SubGameConstants22.ts","./NumberRoller.ts"],(function(t){var e,i,n,a,o,r,s,l,p,u,_,g,c,d,b,f,h,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.Node,p=t.sp,u=t.ProgressBar,_=t.Button,g=t.Vec3},function(t){c=t.default},function(t){d=t.inject},function(t){b=t.SubGameData},function(t){f=t.EventName},function(t){h=t.ThemeJungKingdom},function(t){m=t.NumberRoller}],execute:function(){var y,j,v,P,S,B,C,w,N,k,I,A,J,z,F,L,O,T,G,D,x,E,R,U,M,V,K,Y,Z,H,q,Q,W,X,$,tt,et,it,nt,at,ot,rt,st,lt,pt,ut,_t,gt,ct,dt,bt,ft,ht,mt,yt,jt,vt,Pt,St,Bt,Ct,wt,Nt,kt,It,At,Jt,zt,Ft,Lt,Ot,Tt,Gt,Dt,xt;r._RF.push({},"e755btnITFL9ZKSeDw1sglZ","PopOut",void 0);var Et=s.ccclass,Rt=s.property;t("default",(y=Et("PopOut"),j=d("content",l),v=Rt({displayName:"FreeGamePopIn",type:l}),P=Rt({displayName:"fg_in_mask",type:l}),S=Rt({displayName:"fg_in_node",type:l}),B=Rt({displayName:"fg_start_board",type:p.Skeleton}),C=Rt({displayName:"progressBar_fg_start",type:u}),w=Rt({displayName:"fgStartBtn",type:_}),N=Rt({displayName:"fg_in_transition_board",type:p.Skeleton}),k=Rt({displayName:"FreeGamePopOut",type:l}),I=Rt({displayName:"fg_out_mask",type:l}),A=Rt({displayName:"fg_out_node",type:l}),J=Rt({displayName:"fg_collect_board",type:p.Skeleton}),z=Rt({displayName:"progressBar_fg_collect",type:u}),F=Rt({displayName:"fgCollectBtn",type:_}),L=Rt({displayName:"fg_out_transition_board",type:p.Skeleton}),O=Rt({displayName:"fgCount",type:m}),T=Rt({displayName:"JpPopOut",type:l}),G=Rt({displayName:"jp_board_Node",type:l}),D=Rt({displayName:"jp_board_di_Node",type:l}),x=Rt({displayName:"jp_board",type:p.Skeleton}),E=Rt({displayName:"jp_light_board",type:p.Skeleton}),R=Rt({displayName:"bgCount",type:m}),U=Rt({displayName:"jpCollectBtn",type:_}),M=Rt({displayName:"jpSkeletonData",type:[p.SkeletonData]}),V=Rt({displayName:"jp_light_SkeletonData",type:[p.SkeletonData]}),K=Rt({displayName:"progressBar_jp",type:u}),Y=Rt({displayName:"JungleBeastPopIn",type:l}),Z=Rt({displayName:"junglebeast_board",type:p.Skeleton}),H=Rt({displayName:"junglebeast_di_board",type:p.Skeleton}),q=Rt({displayName:"jbStartBtn",type:_}),Q=Rt({displayName:"SuperJungleBeastPopIn",type:l}),W=Rt({displayName:"superjunglebeast_board",type:p.Skeleton}),X=Rt({displayName:"superjunglebeast_di_board",type:p.Skeleton}),$=Rt({displayName:"sjbStartBtn",type:_}),tt=Rt({displayName:"JungleTipsPopIn",type:l}),et=Rt({displayName:"jungletips_board",type:p.Skeleton}),y((at=e((nt=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).gameLayer=null,n(e,"content",at,a(e)),n(e,"FreeGamePopIn",ot,a(e)),n(e,"fg_in_mask",rt,a(e)),n(e,"fg_in_node",st,a(e)),n(e,"fg_start_board",lt,a(e)),n(e,"progressBar_fg_start",pt,a(e)),n(e,"fgStartBtn",ut,a(e)),n(e,"fg_in_transition_board",_t,a(e)),n(e,"FreeGamePopOut",gt,a(e)),n(e,"fg_out_mask",ct,a(e)),n(e,"fg_out_node",dt,a(e)),n(e,"fg_collect_board",bt,a(e)),n(e,"progressBar_fg_collect",ft,a(e)),n(e,"fgCollectBtn",ht,a(e)),n(e,"fg_out_transition_board",mt,a(e)),n(e,"fgCount",yt,a(e)),n(e,"JpPopOut",jt,a(e)),n(e,"jp_board_Node",vt,a(e)),n(e,"jp_board_di_Node",Pt,a(e)),n(e,"jp_board",St,a(e)),n(e,"jp_light_board",Bt,a(e)),n(e,"bgCount",Ct,a(e)),n(e,"jpCollectBtn",wt,a(e)),n(e,"jpSkeletonData",Nt,a(e)),n(e,"jp_light_SkeletonData",kt,a(e)),n(e,"progressBar_jp",It,a(e)),n(e,"JungleBeastPopIn",At,a(e)),n(e,"junglebeast_board",Jt,a(e)),n(e,"junglebeast_di_board",zt,a(e)),n(e,"jbStartBtn",Ft,a(e)),n(e,"SuperJungleBeastPopIn",Lt,a(e)),n(e,"superjunglebeast_board",Ot,a(e)),n(e,"superjunglebeast_di_board",Tt,a(e)),n(e,"sjbStartBtn",Gt,a(e)),n(e,"JungleTipsPopIn",Dt,a(e)),n(e,"jungletips_board",xt,a(e)),e.fg_dt_time=0,e.max_fg_dt_time=5,e.jp_dt_time=0,e.max_jp_dt_time=5,e.max_tips_time=2,e}i(e,t),e.getPrefabUrl=function(){return"prefabs/view/PopOut"};var r=e.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),this.args&&this.args.length>0&&(this.gameLayer=this.args[0],this.FreeGamePopIn.active=!1,this.FreeGamePopOut.active=!1,this.JpPopOut.active=!1,this.JungleBeastPopIn.active=!1,this.SuperJungleBeastPopIn.active=!1,this.JungleTipsPopIn.active=!1)},r.addEvents=function(){t.prototype.addEvents.call(this)},r.onShow=function(){if(this.args&&this.args.length>0){this.FreeGamePopIn.active=!1,this.FreeGamePopOut.active=!1,this.JpPopOut.active=!1,this.JungleBeastPopIn.active=!1,this.SuperJungleBeastPopIn.active=!1,this.JungleTipsPopIn.active=!1;var e=this.args[1];this.init(e,this.args[2],this.args[3],this.args[4],this.args[5])}t.prototype.onShow.call(this)},r.onClose=function(){dispatch(f.SET_MUSIC_VOLUME,0),this.unscheduleAllCallbacks(),t.prototype.onClose.call(this)},r.init=function(t,e,i,n,a){var o=this;if(t==h.PopupType.FreeGamePopIn){this.FreeGamePopIn.active=!0,this.fgStartBtn.interactable=!0,this.progressBar_fg_start.progress=0,this.fg_in_mask.active=!0,this.fg_in_node.active=!0,this.fg_in_transition_board.node.active=!1;var r="animation2_1";this.fg_start_board.node.active=!0,this.fg_start_board.setAnimation(0,r,!1),this.fg_start_board.setCompleteListener((function(t){(t.animation?t.animation.name:"")===r&&(o.fg_start_board.addAnimation(0,"animation2_2",!0),o.schedule(o.updateStart_fg,.02),o.scheduleOnce((function(){o.showFinishStart_fg()}),o.max_fg_dt_time))}))}else if(t==h.PopupType.FreeGamePopAdd);else if(t==h.PopupType.FreeGamePopOut){this.FreeGamePopOut.active=!0,this.fgCollectBtn.interactable=!0,this.progressBar_fg_collect.progress=0,this.fg_out_mask.active=!0,this.fg_out_node.active=!0,this.fg_out_transition_board.node.active=!1;var s="animation3_1";this.fg_collect_board.node.active=!0,this.fg_collect_board.setAnimation(0,s,!1),this.fg_collect_board.setCompleteListener((function(t){(t.animation?t.animation.name:"")===s&&(o.fg_collect_board.addAnimation(0,"animation3_2",!0),o.schedule(o.updateCollect_fg,.02),o.scheduleOnce((function(){o.showFinishCollect_fg()}),o.max_fg_dt_time))})),this.fgCount.startRolling(0,e,3,(function(){}))}else if(t==h.PopupType.BonusGamePopIn);else if(t==h.PopupType.BonusGamePopOut);else if(t==h.PopupType.JpPopOut){this.JpPopOut.active=!0,this.jpCollectBtn.interactable=!0,this.progressBar_jp.progress=0,Log.d("JpPopOut para1 = ",e,i,n,a),this.reset_jp_board_position(e);var l="animation1_1",p="animation1_2";this.jp_board.node.active=!0;var u=this.getSkeletonData_jp(e);this.jp_board.skeletonData=u,this.jp_board.setAnimation(0,l,!1),this.jp_board.setCompleteListener((function(t){(t.animation?t.animation.name:"")===l&&(o.jp_board.addAnimation(0,p,!0),o.schedule(o.updateCollect_jp,.02),o.scheduleOnce((function(){o.showFinishCollect_jp()}),o.max_jp_dt_time))})),this.jp_light_board.node.active=!0;var _=this.getSkeletonData_jp_light(e);this.jp_light_board.skeletonData=_,this.jp_light_board.setAnimation(0,l,!1),this.jp_light_board.setCompleteListener((function(t){(t.animation?t.animation.name:"")===l&&o.jp_light_board.addAnimation(0,p,!0)})),this.bgCount.startRolling(0,i,3,(function(){}))}else if(t==h.PopupType.JungleBeastPopIn){this.JungleBeastPopIn.active=!0,this.jbStartBtn.interactable=!0;var g="animation1",c="animation2";this.junglebeast_board.node.active=!0,this.junglebeast_board.setAnimation(0,g,!1),this.junglebeast_board.addAnimation(0,c,!0),this.scheduleOnce((function(){o.onClick_jbStart()}),5),this.junglebeast_di_board.node.active=!0,this.junglebeast_di_board.setAnimation(0,g,!1),this.junglebeast_di_board.addAnimation(0,c,!0)}else if(t==h.PopupType.SuperJungleBeastPopIn){this.SuperJungleBeastPopIn.active=!0,this.sjbStartBtn.interactable=!0;var d="animation1",b="animation2";this.superjunglebeast_board.node.active=!0,this.superjunglebeast_board.setAnimation(0,d,!1),this.superjunglebeast_board.addAnimation(0,b,!0),this.scheduleOnce((function(){o.onClick_sjbStart()}),5),this.superjunglebeast_di_board.node.active=!0,this.superjunglebeast_di_board.setAnimation(0,d,!1),this.superjunglebeast_di_board.addAnimation(0,b,!0)}else if(t==h.PopupType.JungleTipsPopIn){this.JungleTipsPopIn.active=!0;this.jungletips_board.node.active=!0,this.jungletips_board.setAnimation(0,"animation1_1",!1),this.jungletips_board.addAnimation(0,"animation1_2",!0),this.scheduleOnce((function(){o.stopJungleTipsPopIn()}),this.max_tips_time)}},r.onClick_fgStart=function(){this.fgStartBtn.interactable=!1,this.showFinishStart_fg()},r.updateStart_fg=function(t){this.fg_dt_time+=t,this.progressBar_fg_start.progress=this.fg_dt_time/this.max_fg_dt_time,this.fg_dt_time>=this.max_fg_dt_time&&(this.progressBar_fg_start.progress=1,this.unschedule(this.updateStart_fg),this.fg_dt_time=0)},r.showFinishStart_fg=function(){var t=this;this.progressBar_fg_start.progress=1,this.unschedule(this.updateStart_fg),this.fg_dt_time=0;var e="animation2_3";this.fg_start_board.setAnimation(0,e,!1),this.fg_start_board.setCompleteListener((function(i){(i.animation?i.animation.name:"")===e&&(t.fg_in_mask.active=!1,t.fg_in_node.active=!1,t.scheduleOnce((function(){t.fg_in_mask.active=!0,t.gameLayer.stopFreeGameTip(),t.close()}),.5))}))},r.show_tr_base_free=function(){var t=this,e="animation1";this.fg_in_transition_board.node.active=!0,this.fg_in_transition_board.setAnimation(0,e,!1),this.fg_in_transition_board.setCompleteListener((function(i){(i.animation?i.animation.name:"")===e&&(t.gameLayer.stopFreeGameTip(),t.close())}))},r.onClick_fgCollect=function(){this.fgCollectBtn.interactable=!1,this.fgCount.stopRollingAndShowNumber(this.args[2]),this.showFinishCollect_fg()},r.updateCollect_fg=function(t){this.fg_dt_time+=t,this.progressBar_fg_collect.progress=this.fg_dt_time/this.max_fg_dt_time,this.fg_dt_time>=this.max_fg_dt_time&&(this.progressBar_fg_collect.progress=1,this.unschedule(this.updateCollect_fg),this.fg_dt_time=0)},r.showFinishCollect_fg=function(){var t=this;this.progressBar_fg_collect.progress=1,this.unschedule(this.updateCollect_fg),this.fg_dt_time=0;var e="animation3_3";this.fg_collect_board.setAnimation(0,e,!1),this.fg_collect_board.setCompleteListener((function(i){(i.animation?i.animation.name:"")===e&&(t.fg_out_mask.active=!1,t.fg_out_node.active=!1,t.scheduleOnce((function(){t.gameLayer.stopFreeGameOut(),t.close()}),.1))}))},r.show_tr_free_base=function(){var t=this,e="animation2";this.fg_out_transition_board.node.active=!0,this.fg_out_transition_board.setAnimation(0,e,!1),this.fg_out_transition_board.setCompleteListener((function(i){(i.animation?i.animation.name:"")===e&&(t.gameLayer.stopFreeGameOut(),t.close())}))},r.onClick_jpCollect=function(){this.jpCollectBtn.interactable=!1,this.bgCount.stopRollingAndShowNumber(this.args[3]),this.showFinishCollect_jp()},r.updateCollect_jp=function(t){this.jp_dt_time+=t,this.progressBar_jp.progress=this.jp_dt_time/this.max_jp_dt_time,this.jp_dt_time>=this.max_jp_dt_time&&(this.progressBar_jp.progress=1,this.unschedule(this.updateCollect_jp),this.jp_dt_time=0)},r.showFinishCollect_jp=function(){var t=this;this.progressBar_jp.progress=1,this.unschedule(this.updateCollect_jp),this.jp_dt_time=0;var e="animation1_3";this.jp_board.setAnimation(0,e,!1),this.jp_board.setCompleteListener((function(i){(i.animation?i.animation.name:"")===e&&t.close()})),this.jp_light_board.setAnimation(0,e,!1),this.gameLayer.jpEnd()},r.reset_jp_board_position=function(t){1==t?(this.jp_board_Node.setPosition(0,60),this.jp_board_di_Node.scale=new g(2,2)):2==t||3==t?(this.jp_board_Node.setPosition(0,20),this.jp_board_di_Node.scale=new g(2,2)):4==t?(this.jp_board_Node.setPosition(0,10),this.jp_board_di_Node.scale=new g(1,1)):(this.jp_board_Node.setPosition(0,0),this.jp_board_di_Node.scale=new g(2,2))},r.getSkeletonData_jp=function(t){var e=t-1;return this.jpSkeletonData[e]},r.getSkeletonData_jp_light=function(t){var e=t-1;return this.jp_light_SkeletonData[e]},r.onClick_jbStart=function(){this.jbStartBtn.interactable=!1,this.unscheduleAllCallbacks(),this.stopJungleBeastPopIn()},r.stopJungleBeastPopIn=function(){var t=this;dispatch(f.PLAY_EFFECT,"audio/dialog/dialog_withdraw");var e="animation3";this.junglebeast_board.node.active=!0,this.junglebeast_board.setAnimation(0,e,!1),this.junglebeast_board.setCompleteListener((function(i){(i.animation?i.animation.name:"")===e&&(t.gameLayer.stopJungleBeastPopIn(),t.close())})),this.junglebeast_di_board.node.active=!0,this.junglebeast_di_board.setAnimation(0,e,!1)},r.onClick_sjbStart=function(){this.sjbStartBtn.interactable=!1,this.unscheduleAllCallbacks(),this.stopSuperJungleBeastPopIn()},r.stopSuperJungleBeastPopIn=function(){var t=this;dispatch(f.PLAY_EFFECT,"audio/dialog/dialog_withdraw");var e="animation3";this.superjunglebeast_board.node.active=!0,this.superjunglebeast_board.setAnimation(0,e,!1),this.superjunglebeast_board.setCompleteListener((function(i){(i.animation?i.animation.name:"")===e&&(t.gameLayer.stopJungleBeastPopIn(),t.close())})),this.superjunglebeast_di_board.node.active=!0,this.superjunglebeast_di_board.setAnimation(0,e,!1)},r.stopJungleTipsPopIn=function(){var t=this,e="animation1_3";this.jungletips_board.node.active=!0,this.jungletips_board.setAnimation(0,e,!1),this.jungletips_board.setCompleteListener((function(i){(i.animation?i.animation.name:"")===e&&(t.gameLayer.stopJungleTipsPopIn(),t.close())}))},o(e,[{key:"data",get:function(){return App.dataCenter.get(b)}}]),e}(c)).prototype,"content",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(nt.prototype,"FreeGamePopIn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(nt.prototype,"fg_in_mask",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(nt.prototype,"fg_in_node",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(nt.prototype,"fg_start_board",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(nt.prototype,"progressBar_fg_start",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(nt.prototype,"fgStartBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(nt.prototype,"fg_in_transition_board",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(nt.prototype,"FreeGamePopOut",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(nt.prototype,"fg_out_mask",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(nt.prototype,"fg_out_node",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(nt.prototype,"fg_collect_board",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(nt.prototype,"progressBar_fg_collect",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(nt.prototype,"fgCollectBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(nt.prototype,"fg_out_transition_board",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(nt.prototype,"fgCount",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jt=e(nt.prototype,"JpPopOut",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(nt.prototype,"jp_board_Node",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(nt.prototype,"jp_board_di_Node",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(nt.prototype,"jp_board",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(nt.prototype,"jp_light_board",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(nt.prototype,"bgCount",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(nt.prototype,"jpCollectBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(nt.prototype,"jpSkeletonData",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kt=e(nt.prototype,"jp_light_SkeletonData",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),It=e(nt.prototype,"progressBar_jp",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(nt.prototype,"JungleBeastPopIn",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=e(nt.prototype,"junglebeast_board",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(nt.prototype,"junglebeast_di_board",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=e(nt.prototype,"jbStartBtn",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(nt.prototype,"SuperJungleBeastPopIn",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=e(nt.prototype,"superjunglebeast_board",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(nt.prototype,"superjunglebeast_di_board",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=e(nt.prototype,"sjbStartBtn",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(nt.prototype,"JungleTipsPopIn",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(nt.prototype,"jungletips_board",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=nt))||it));r._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol28.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"b30d5FIwQxG3pqbSyHENKx6","Protocol",void 0);var e=t("Protocol",(function(){}));e.LOGIN="login",e.LOGOUT="logout",e.USERINFO="userinfo",e.USER_KICK="user_kick",e.ERRORCODE="errorcode",e.MARQUEE="marquee",e.TIPS="tips",e.DEBUG_LOGIN="debug_login",e.MARK="mark",e.SLOTINFO="slot_info",e.SLOTBET="slot",e.ANTASLOTBET="anta_slot",e.LASTMAP="last_map",e.SLOT_TEST="test",e.BUY="buy_free",e.FREESPIN="free_spin",e.GMSLOT="gm_slot",e.SELECTSLOT="slot_select",e.JpCmd="slot_bet",e.JPREWARDREFRESH="slot_bet_refresh",o._RF.pop()}}}));

System.register("chunks:///_virtual/ReSpinElement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameConstants22.ts","./FormatNumber.ts","./SubGameData27.ts"],(function(e){var t,i,n,a,r,o,l,p,h,s,c,u,m,d,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,l=e._decorator,p=e.SpriteFrame,h=e.sp,s=e.Sprite,c=e.Node,u=e.Vec3,m=e.Component},function(e){d=e.ThemeJungKingdom},function(e){f=e.FormatNumber},function(e){y=e.SubGameData}],execute:function(){var b,S,N,F,g,D,v,C,k,I,L,x,z,O,w,B,_;o._RF.push({},"e803dWTJWhCGLd4P7zWtKdQ","ReSpinElement",void 0);var T=l.ccclass,A=l.property;e("ReSpinElement",(b=T("ReSpinElement"),S=A({displayName:"defaultFrame",type:[p]}),N=A({displayName:"skeletonData",type:[h.SkeletonData]}),F=A({displayName:"normalSprite",type:s}),g=A({displayName:"animation",type:h.Skeleton}),D=A({displayName:"frameSprite",type:h.Skeleton}),v=A({displayName:"chipNode",type:c}),C=A({displayName:"chipNum",type:f}),b((L=t((I=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"defaultFrame",L,a(t)),n(t,"skeletonData",x,a(t)),n(t,"normalSprite",z,a(t)),n(t,"animation",O,a(t)),n(t,"frameSprite",w,a(t)),n(t,"chipNode",B,a(t)),n(t,"chipNum",_,a(t)),t.symbolIndex=-1,t.clipFatherNode=null,t.higherClipFatherNode1=null,t.higherClipFatherNode2=null,t.higherClipFatherNode3=null,t.processingIndex=0,t.aboutToStopFlag=!0,t.suffix=[1,6,5,4,3,2],t}i(t,e);var o=t.prototype;return o.init=function(e){this.processingIndex=e},o.setFathers=function(e,t,i,n){this.clipFatherNode=e,this.higherClipFatherNode1=t,this.higherClipFatherNode2=i,this.higherClipFatherNode3=n},o.checkFather=function(e,t){this.node.setParent(e)},o.setAboutToStop=function(e){this.aboutToStopFlag=e},o.setSymbolIndex=function(e,t,i){if(void 0===i&&(i=!1),this.symbolIndex=e,i||e<=0)this.node.active=!1;else{this.node.active=!0;var n=this.getDefaultFrame(e,t);this.normalSprite.spriteFrame=this.defaultFrame[n],this.checkChipDisplay(),this.checkSymbolDisplay(),this.checkFather(this.clipFatherNode),this.stopLineAnimation()}},o.checkSymbolDisplay=function(){this.normalSprite.node.scale=new u(.5,.5)},o.setSymbolIndexFather=function(){this.symbolIndex==d.COLLECT_SYMBOLID?this.checkFather(this.higherClipFatherNode3):this.symbolIndex>d.BONUS_SYMBOLID?this.checkFather(this.higherClipFatherNode2):this.checkFather(this.clipFatherNode)},o.checkChipDisplay=function(){this.symbolIndex>d.BONUS_SYMBOLID?(this.chipNode.active=!0,this.chipNum.updateNumber(this.symbolIndex)):this.chipNode.active=!1},o.performLineAnimation=function(){},o.stopLineAnimation=function(){this.frameSprite.node.active=!1},o.stopAnimation=function(){this.normalSprite.node.active=!0,this.chipNode.active=!0,this.frameSprite.node.active=!1,this.animation.node.active=!1},o.getDefaultFrame=function(e,t){var i=0;return e>d.BONUS_SYMBOLID?i=t:e==d.COLLECT_SYMBOLID&&(i=0),i},r(t,[{key:"data",get:function(){return App.dataCenter.get(y)}}]),t}(m)).prototype,"defaultFrame",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(I.prototype,"skeletonData",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(I.prototype,"normalSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(I.prototype,"animation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(I.prototype,"frameSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(I.prototype,"chipNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(I.prototype,"chipNum",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=I))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/ReSpinReel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./SubGameDefines27.ts","./ReSpinElement.ts","./SubGameConstants22.ts"],(function(t){var e,i,s,l,o,n,a,h,r,p,d,u,c,S,f,g,m,b,C,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,l=t.assertThisInitialized,o=t.createClass},function(t){n=t.cclegacy,a=t._decorator,h=t.Sprite,r=t.Node,p=t.Prefab,d=t.Size,u=t.instantiate,c=t.Tween,S=t.tween,f=t.Vec3,g=t.Component},function(t){m=t.SubGameData},function(t){b=t.SpinReelState},function(t){C=t.ReSpinElement},function(t){N=t.ThemeJungKingdom}],execute:function(){var v,y,R,I,P,T,x,w,D,A,B;n._RF.push({},"f5500lvqvRMlrx8CkLNo56C","ReSpinReel",void 0);var _=a.ccclass,L=a.property;t("ReSpinReel",(v=_("ReSpinReel"),y=L({displayName:"reelBackSprite",type:h}),R=L({displayName:"speedPosNode",type:r}),I=L({displayName:"ReSpinElement",type:p}),P=L({displayName:"clippingNode",type:r}),v((w=e((x=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).spinTable=null,s(e,"reelBackSprite",w,l(e)),s(e,"speedPosNode",D,l(e)),s(e,"spinElement",A,l(e)),s(e,"clippingNode",B,l(e)),e.spinResult=0,e.upperSymbol=0,e.down_reel=0,e.RollingWithResultIndex=0,e.shouldPlayScatterDown=!1,e.shouldPlayChipDown=!1,e.reelIndex=-1,e.fake_duration=0,e.visibleCellNum=-1,e.realCellNum=-1,e.cellSize=null,e.cellHeight=null,e.windowSize=null,e.realCellStablePosYList=[],e.cells=[],e.visible_cells=[],e.elementZOrder=0,e.toStart=!1,e.toStop=!1,e.stopped=!1,e.duration=0,e.durationState1=-1,e.distanceState2=30,e.distanceState3=0,e.speedState1=2200,e.speedState2=4e3,e.speedState3=300,e.speedState4=240,e.topSpriteIndex=0,e.topReelOrderIndex=0,e.countDown=0,e.state=b.Uninitialized,e.higherClipNode1=null,e.higherClipNode2=null,e.higherClipNode3=null,e.isStrat=!1,e.shouldHideNode=!1,e}i(e,t);var n=e.prototype;return n.setFathers=function(t,e,i){this.higherClipNode1=t,this.higherClipNode2=e,this.higherClipNode3=i},n.init=function(t,e){this.visibleCellNum=t,this.realCellNum=this.visibleCellNum+2,this.cellSize=e,this.cellHeight=e.height,this.windowSize=new d(e.width,e.height*t),this.cells=[];var i=!1;this.realCellNum%2==0&&(i=!0);var s=Math.floor((this.realCellNum-1)/2);this.realCellStablePosYList=[];for(var l=0;l<this.realCellNum;l++){var o=u(this.spinElement);if(o){this.realCellStablePosYList[l]=(s-l)*this.cellSize.height,i&&(this.realCellStablePosYList[l]+=this.cellSize.height/2),o.setPosition(0,this.realCellStablePosYList[l]),this.node.addChild(o);var n=o.getComponent(C);n&&(n.setFathers(this.clippingNode,this.higherClipNode1,this.higherClipNode2,this.higherClipNode3),n.init(l),this.cells[l]=n)}}},n.initReelPositions=function(t){for(var e=0;e<this.realCellNum;e++){var i=0;i=0==e||e==this.realCellNum-1?0:t,this.cells[e].setSymbolIndex(i,this.data.respin_level)}this.topSpriteIndex=0,this.stateChangeTo(b.Idle),this.setSymbolUpFather()},n.setSymbolUpFather=function(){for(var t=0;t<this.realCellNum;t++)0==t||t==this.realCellNum-1||this.cells[t].setSymbolIndexFather()},n.startUpdate=function(){this.isStrat=!0},n.stopUpdate=function(){this.isStrat=!1},n.update=function(t){if(this.toStart||this.state!=b.Idle){var e=this.speedPosNode.position.y;if(this.toStart&&this.state==b.Idle)return this.toStart=!1,this.stopped=!1,this.stateChangeTo(b.Rolling),this.symbolDown(),this.duration=0,void(this.fake_duration=0);if(this.toStop&&(this.state==b.Rolling||this.state==b.RollingWithResult||this.state==b.AboutToStop&&this.countDown>0&&!this.data.extendSpin)){this.toStop=!1,this.setAboutToStop(!0);for(var i=0;i<this.realCellNum;i++){var s=(this.topSpriteIndex+i)%this.realCellNum;this.cells[s].node.setPosition(0,this.realCellStablePosYList[i]);var l=0;l=0==i||i==this.realCellNum-1?0:this.spinResult,this.cells[s].setSymbolIndex(l,this.data.respin_level)}this.stateChangeTo(b.AboutToStop),this.countDown=0}if(this.state==b.Rolling||this.state==b.AboutToStop||this.state==b.BounceBack||this.state==b.RollingWithResult){var o=1;if(this.state==b.AboutToStop&&0==this.countDown){var n=this.realCellStablePosYList[0]-this.distanceState2-this.cells[this.topSpriteIndex].node.position.y;o=Math.max(.4,Math.min(1,.3-n/(this.cellHeight+this.distanceState2)))}for(var a=t*e*o*.8,h=0;h<this.realCellNum;h++){var r=this.cells[h].node.position.y-a;this.cells[h].node.setPosition(0,r)}b.Rolling==this.state&&(this.data.isFakeSpinning||this.data.extendSpin)?this.fake_duration+=t:this.duration+=t}for(var p=this.topSpriteIndex;this.state==b.Rolling||this.state==b.AboutToStop&&this.countDown>0;){p=(p-1+this.realCellNum)%this.realCellNum;var d=this.cells[p].node.position.y;if(!(d<this.realCellStablePosYList[this.realCellNum-1]))break;d+=this.cellHeight*this.realCellNum,this.cells[p].node.setPosition(0,d),this.topSpriteIndex=p;var u=0,c=this.getWeightedRandom();u=1==c?0:2==c?13:3==c?Math.floor(99e4*Math.random())+11e3:0,this.state==b.AboutToStop?(this.countDown--,u=0==this.countDown?0:this.spinResult,this.cells[p].setSymbolIndex(u,this.data.respin_level,this.shouldHideNode)):this.cells[p].setSymbolIndex(u,this.data.respin_level,this.shouldHideNode)}for(;this.state==b.RollingWithResult&&this.RollingWithResultIndex>0;){p=(p-1+this.realCellNum)%this.realCellNum;var S=this.cells[p].node.position.y;if(!(S<this.realCellStablePosYList[this.realCellNum-1]))break;S+=this.cellHeight*this.realCellNum,this.cells[p].node.setPosition(0,S),this.topSpriteIndex=p;var f=this.down_reel;this.cells[p].setSymbolIndex(f,this.data.respin_level),this.RollingWithResultIndex--}if(this.state==b.Rolling)this.RollingWithResultIndex>0&&this.duration>this.durationState1&&this.cells[this.topSpriteIndex].node.position.y>this.realCellStablePosYList[0]&&!this.data.extendSpin&&this.stateChangeTo(b.RollingWithResult);else if(this.state==b.RollingWithResult)this.RollingWithResultIndex<=0&&(this.countDown=this.realCellNum-1,this.stateChangeTo(b.AboutToStop));else if(this.state==b.AboutToStop&&this.countDown<=0){var g=this.realCellStablePosYList[0]-this.distanceState2-this.cells[this.topSpriteIndex].node.position.y;if(g>0){for(var m=0;m<this.realCellNum;m++)this.cells[m].node.setPosition(0,this.cells[m].node.position.y+g);this.stateChangeTo(b.BounceBack)}}else if(this.state==b.BounceBack){var C=this.realCellStablePosYList[0]+this.distanceState3-this.cells[this.topSpriteIndex].node.position.y;if(C<0){this.visible_cells=[];for(var v=0;v<this.realCellNum;v++){this.cells[v].node.setPosition(0,this.cells[v].node.position.y+C);var y=App.utils.positiveModulus(v-this.topSpriteIndex,this.realCellNum);1==y&&(this.cells[v].setSymbolIndexFather(),this.shouldPlayChipDown&&(this.spinResult==N.COLLECT_SYMBOLID?this.spinTable.performBonus1Anim(this.reelIndex):this.spinTable.performBonus2Anim(this.reelIndex,this.spinResult,this.data.respin_level)),this.visible_cells[y-1]=this.cells[v])}this.playReelStopEffect(),this.stateChangeTo(b.Idle),this.spinTable.tableChangeToIdle(),this.stopped=!0,this.isStrat&&(this.isStrat=!1,this.stopUpdate())}}}},n.symbolUp=function(t,e,i){void 0===i&&(i=0),this.cells[t].checkFather(e,i)},n.performExpecting=function(){c.stopAllByTarget(this.speedPosNode),S(this.speedPosNode).to(.1,{position:new f(0,this.speedState2,0)},{easing:"sineInOut"}).start()},n.symbolDown=function(){for(var t=0;t<this.cells.length;t++)c.stopAllByTarget(this.cells[t].node),this.cells[t].stopAnimation(),this.cells[t].checkFather(this.clippingNode)},n.reSpinSymbolDown=function(){for(var t=0;t<this.cells.length;t++){var e=App.utils.positiveModulus(t-this.topSpriteIndex,this.realCellNum);c.stopAllByTarget(this.cells[e].node),this.cells[e].symbolIndex!=N.SCATTER_SYMBOLID&&this.cells[e].checkFather(this.clippingNode)}},n.setDurationState1=function(t){this.durationState1=t},n.getDurationState1=function(){return this.durationState1},n.setDuration=function(t){this.duration=t},n.getDuration=function(){return this.duration},n.isStarted=function(){return this.toStart||this.state!=b.Idle},n.isStopped=function(){return this.toStop||this.state==b.Idle},n.spin=function(){this.isStarted()||(this.toStart=!0,this.toStop=!1,this.setAboutToStop(!1))},n.stopSpin=function(){this.toStart=!1,this.state=b.Idle},n.stop=function(){this.isStopped()||(this.toStop=!0)},n.setAboutToStop=function(t){for(var e=0;e<this.cells.length;e++)this.cells[e].setAboutToStop(t)},n.getVisibleCellsIndexList=function(){return this.visible_cells},n.playReelStopEffect=function(){this.spinTable.playNormalStopEffect()},n.stateChangeTo=function(t){this.state=t,this.state==b.Idle?(c.stopAllByTarget(this.speedPosNode),this.speedPosNode.setPosition(new f(0,0,0))):this.state==b.Rolling?(c.stopAllByTarget(this.speedPosNode),this.speedPosNode.setPosition(new f(0,0,0)),S(this.speedPosNode).to(.1,{position:new f(0,this.speedState1,0)},{easing:"sineInOut"}).start()):this.state==b.BounceBack&&(c.stopAllByTarget(this.speedPosNode),this.speedPosNode.setPosition(new f(0,0,0)),S(this.speedPosNode).to(.15,{position:new f(0,-this.speedState3,0)},{easing:"sineOut"}).start())},n.getWeightedRandom=function(){for(var t=[70,10,20],e=[],i=0,s=0,l=t;s<l.length;s++){i+=l[s],e.push(i)}for(var o=Math.random()*i,n=0;n<e.length;n++)if(o<e[n])return n+1;return t.length},o(e,[{key:"data",get:function(){return App.dataCenter.get(m)}}]),e}(g)).prototype,"reelBackSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(x.prototype,"speedPosNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(x.prototype,"spinElement",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(x.prototype,"clippingNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=x))||T));n._RF.pop()}}}));

System.register("chunks:///_virtual/ReSpinTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReSpinReel.ts","./SubGameConstants22.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Global.ts","./CommonEvent.ts","./FormatNumber.ts","./NumberRoller.ts"],(function(i){var e,t,n,o,s,a,r,l,p,c,u,h,d,m,f,y,B,v,g,b,S,N,A,L,C,w,F,k,R,_;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.createForOfIteratorHelperLoose,a=i.createClass},function(i){r=i.cclegacy,l=i._decorator,p=i.Mask,c=i.Node,u=i.Button,h=i.sp,d=i.SpriteFrame,m=i.Sprite,f=i.ParticleSystem2D,y=i.ParticleAsset,B=i.UIOpacity,v=i.tween,g=i.Vec3,b=i.Component},function(i){S=i.ReSpinReel},function(i){N=i.ThemeJungKingdom},function(i){A=i.SubGameData},function(i){L=i.SpinTableState,C=i.THEME_GAME_TYPE,w=i.EventName},function(i){F=i.Global},function(i){k=i.CommonEvent},function(i){R=i.FormatNumber},function(i){_=i.NumberRoller}],execute:function(){var D,E,T,O,U,x,z,I,P,Y,G,M,W,X,j,H,K,V,q,J,Z,Q,$,ii,ei,ti,ni,oi,si,ai,ri,li,pi,ci,ui,hi,di,mi,fi,yi,Bi,vi,gi,bi,Si,Ni,Ai,Li,Ci,wi,Fi,ki,Ri,_i,Di,Ei,Ti,Oi,Ui,xi,zi,Ii,Pi,Yi,Gi,Mi,Wi,Xi,ji,Hi,Ki,Vi,qi,Ji,Zi,Qi,$i,ie,ee,te,ne,oe,se,ae,re,le,pe;r._RF.push({},"8bbbflMlShL3rXz69acqlZw","ReSpinTable",void 0);var ce=l.ccclass,ue=l.property;i("ReSpinTable",(D=ce("ReSpinTable"),E=ue({displayName:"clippingNode",type:p}),T=ue({displayName:"content",type:c}),O=ue({displayName:"ReSpinReel",type:[S]}),U=ue({displayName:"higherClipNode1",type:[c]}),x=ue({displayName:"higherClipNode2",type:[c]}),z=ue({displayName:"higherClipNode3",type:[c]}),I=ue({displayName:"btnTable",type:u}),P=ue({displayName:"stickyBonusNode",type:[c]}),Y=ue({displayName:"stickyBonus",type:[h.Skeleton]}),G=ue({displayName:"stickyBonusNum",type:[R]}),M=ue({displayName:"stickyBonusFire",type:[h.Skeleton]}),W=ue({displayName:"flyBonusNode",type:[c]}),X=ue({displayName:"flyBonus",type:[h.Skeleton]}),j=ue({displayName:"flyBonusNum",type:[R]}),H=ue({displayName:"flyBonusFire",type:[h.Skeleton]}),K=ue({displayName:"stickyBonus_skeletonData",type:[h.SkeletonData]}),V=ue({displayName:"respinBoardFrame",type:[d]}),q=ue({displayName:"respinBoardFrameBack",type:[d]}),J=ue({displayName:"prevRespinBoardFrameSprite",type:m}),Z=ue({displayName:"prevRespinBoardFrameBackSprite",type:m}),Q=ue({displayName:"respinBoardFrameSprite",type:m}),$=ue({displayName:"respinBoardFrameBackSprite",type:m}),ii=ue({displayName:"remainNode",type:[c]}),ei=ue({displayName:"bgLoopAnimNode",type:c}),ti=ue({displayName:"bgLoopAnim",type:h.Skeleton}),ni=ue({displayName:"bgFireLoopAnimNode",type:c}),oi=ue({displayName:"bgFireLoopAnim",type:h.Skeleton}),si=ue({displayName:"transitionNode",type:h.Skeleton}),ai=ue({displayName:"tigerTransitionNode",type:h.Skeleton}),ri=ue({displayName:"upgradeAnimNode",type:h.Skeleton}),li=ue({displayName:"tigerAnimNode",type:c}),pi=ue({displayName:"tigerAnim",type:h.Skeleton}),ci=ue({displayName:"tigerAnim_skeletonData",type:[h.SkeletonData]}),ui=ue({displayName:"bonus1Anim",type:h.Skeleton}),hi=ue({displayName:"b1_collectCount",type:R}),di=ue({displayName:"collectBox",type:c}),mi=ue({displayName:"collectAnim",type:h.Skeleton}),fi=ue({displayName:"collectCount",type:_}),yi=ue({displayName:"jinbiAnim",type:h.Skeleton}),Bi=ue({displayName:"particleSystem",type:[f]}),vi=ue({displayName:"particleAsset",type:[y]}),gi=ue({displayName:"footerAnimNode",type:h.Skeleton}),D((Ni=e((Si=function(i){function e(){for(var e,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return(e=i.call.apply(i,[this].concat(s))||this).spinLayer=null,n(e,"clippingNode",Ni,o(e)),n(e,"content",Ai,o(e)),n(e,"spinReels",Li,o(e)),n(e,"higherClipNode1",Ci,o(e)),n(e,"higherClipNode2",wi,o(e)),n(e,"higherClipNode3",Fi,o(e)),n(e,"btnTable",ki,o(e)),n(e,"stickyBonusNode",Ri,o(e)),n(e,"stickyBonus",_i,o(e)),n(e,"stickyBonusNum",Di,o(e)),n(e,"stickyBonusFire",Ei,o(e)),n(e,"flyBonusNode",Ti,o(e)),n(e,"flyBonus",Oi,o(e)),n(e,"flyBonusNum",Ui,o(e)),n(e,"flyBonusFire",xi,o(e)),n(e,"stickyBonus_skeletonData",zi,o(e)),n(e,"respinBoardFrame",Ii,o(e)),n(e,"respinBoardFrameBack",Pi,o(e)),n(e,"prevRespinBoardFrameSprite",Yi,o(e)),n(e,"prevRespinBoardFrameBackSprite",Gi,o(e)),n(e,"respinBoardFrameSprite",Mi,o(e)),n(e,"respinBoardFrameBackSprite",Wi,o(e)),n(e,"remainNode",Xi,o(e)),n(e,"bgLoopAnimNode",ji,o(e)),n(e,"bgLoopAnim",Hi,o(e)),n(e,"bgFireLoopAnimNode",Ki,o(e)),n(e,"bgFireLoopAnim",Vi,o(e)),n(e,"transitionNode",qi,o(e)),n(e,"tigerTransitionNode",Ji,o(e)),n(e,"upgradeAnimNode",Zi,o(e)),n(e,"tigerAnimNode",Qi,o(e)),n(e,"tigerAnim",$i,o(e)),n(e,"tigerAnim_skeletonData",ie,o(e)),n(e,"bonus1Anim",ee,o(e)),n(e,"b1_collectCount",te,o(e)),n(e,"collectBox",ne,o(e)),n(e,"collectAnim",oe,o(e)),n(e,"collectCount",se,o(e)),n(e,"jinbiAnim",ae,o(e)),n(e,"particle",re,o(e)),n(e,"particleAsset",le,o(e)),n(e,"footerAnimNode",pe,o(e)),e.cellList=[],e.spinResult=[],e.upperSymbols=[],e.down_reel=[],e.state=L.Idle,e.shouldExpecting=!1,e.stopIndex=0,e.isForceStop=!1,e.shouldExpectingCellList=[],e.reelEndIndex=0,e.posXList=[],e.posYList=[],e.lineNum=0,e.durationState1Base_NG=1.5,e.durationState1Base_BG=1.5,e.durationDiv=.2,e.durationDivFG=.5,e.durationFast=.04,e.reelFastEffectLength=2.1,e.spinStartEffectEnded=!0,e.spinStopEffectEnded=!0,e.centerX=0,e.centerY=0,e.isSuper=!1,e.totalSpinCount=0,e.totalWin=0,e.allSpinData=[],e.prevRespinDataUpgrade=null,e.prevRespinData=null,e.curRespinData=null,e.respinCount=0,e.spin_count=0,e.curLevel=1,e.start_score=0,e.target_score=0,e.flyBonusNum_collect=0,e.b1_win_dur=1.5,e.b1_collect_dur=34/30,e.b1_transform_dur=28/30,e.b1_super_appear_dur=34/30,e.b2_to_b1_fly_interval=.6,e.b1_update_scale_dur=.2,e.transform_dur=.5,e.collect_fly_interval=14/30,e.collect_fly_dur=.5,e.suffix=[1,6,5,4,3,2],e.upgradePre=!1,e.received_message=!1,e}t(e,i);var r=e.prototype;return r.onLoad=function(){for(var i=0;i<15;i++)this.posXList[i]=this.stickyBonusNode[i].getPosition().x,this.posYList[i]=this.stickyBonusNode[i].getPosition().y,Log.d("posXList,posYList",this.posXList[i],this.posYList[i]),this.stickyBonusNode[i].active=!1,this.flyBonusNode[i].active=!1;this.tigerAnim.node.active=!1,this.bonus1Anim.node.active=!1,this.b1_collectCount.node.active=!1,this.footerAnimNode.node.active=!1},r.onTableTouch=function(){F.playback},r.clearGroup=function(){this.unscheduleAllCallbacks()},r.init=function(i,e){void 0===e&&(e=!1),this.isSuper=e;for(var t=0;t<15;t++){var n=this.higherClipNode1[t],o=this.higherClipNode2[t],s=this.higherClipNode3[t];if(this.spinReels[t]){var a=this.spinReels[t].getComponent(S);a&&(a.reelIndex=t,a.spinTable=this,a.setFathers(n,o,s),a.init(1,i),a.setDurationState1(this.durationState1Base_NG),this.cellList[t]=a)}}},r.checkCellsInit=function(){for(var i=0;i<this.cellList.length;i++)this.cellList[i].spinResult=this.spinResult[i],this.cellList[i].upperSymbol=this.upperSymbols[i],this.cellList[i].down_reel=this.down_reel[i],this.cellList[i].initReelPositions(this.spinResult[i])},r.rearrangeTable=function(){if(C.MAIN==this.data.GameType||C.FREE==this.data.GameType||C.MAPFREE==this.data.GameType)for(var i=0;i<this.cellList.length;i++)this.cellList[i].node.active=!0},r.startUpdate=function(){for(var i=0;i<this.cellList.length;i++)this.cellList[i].startUpdate()},r.stopUpdate=function(){for(var i=0;i<this.cellList.length;i++)this.cellList[i].stopUpdate()},r.resetChangeToIdle=function(){this.stopUpdate(),this.spinLayer.gameLayer.expectEnd(),this.spinLayer.spinLayerChangeToShow(),this.stateChangeTo(L.Idle)},r.tableChangeToIdle=function(){this.reelEndIndex+=1,this.reelEndIndex<15||(this.stopUpdate(),this.dealAllReelStop())},r.tableChangeToRoll=function(){this.data.cancelEnableStop=!1,this.stateChangeTo(L.Rolling)},r.spin=function(i){var e=0;this.shouldExpecting=!1,this.stopIndex=0,this.isForceStop=!1,this.shouldExpectingCellList=[],this.reelEndIndex=0,this.data.isFakeSpinning=!1;for(var t=0;t<this.cellList.length;t++)this.showRespinElement(t,!0),this.cellList[t].spinResult=this.spinResult[t],this.cellList[t].upperSymbol=this.upperSymbols[t],this.cellList[t].down_reel=this.down_reel[t],this.cellList[t].RollingWithResultIndex=1,this.cellList[t].shouldPlayScatterDown=!1,this.cellList[t].shouldPlayChipDown=!1,e=this.durationState1Base_NG,this.cellList[t].setDurationState1(e),this.cellList[t].spin(),this.cellList[t].spinResult!=i.itemList[t]&&(this.cellList[t].shouldPlayChipDown=!0)},r.stop=function(){if(this.state==L.Rolling){this.clearGroup(),this.isForceStop=!0;for(var i=0;i<this.cellList.length;i++)this.cellList[i].stop()}},r.endSpinStartEffect=function(){this.spinStartEffectEnded=!0},r.endSpinStopEffect=function(){this.spinStopEffectEnded=!0},r.isRollingEffectFinished=function(){return this.spinStartEffectEnded&&this.spinStopEffectEnded},r.allSymbolDown=function(){for(var i=0;i<this.cellList.length;i++)this.cellList[i].symbolDown()},r.playNormalStopEffect=function(){dispatch(w.PLAY_EFFECT,"audio/base/reel_stop")},r.stopAllExpect=function(){var i=this;this.cellList.forEach((function(e,t){i.shouldExpectingCellList[t]=!1}))},r.stateChangeTo=function(i){this.state=i,Log.d("cjh-----ThemeHotChiliSpinTable state = ",i)},r.fakeSpin=function(){this.startUpdate();for(var i=this.data.getTurboStatus(),e=0;e<15;e++)0!=this.prevRespinData.itemList[e]?this.cellList[e].shouldHideNode=!0:this.cellList[e].shouldHideNode=!1,i&&this.data.GameType==C.MAIN?this.cellList[e].setDurationState1(this.durationFast):this.cellList[e].setDurationState1(this.durationState1Base_NG),this.cellList[e].spin();this.data.isFakeSpinning=!0,this.tableChangeToRoll()},r.showRespinElement=function(i,e){this.cellList[i].node.active=e,this.higherClipNode1[i].active=e,this.higherClipNode2[i].active=e,this.higherClipNode3[i].active=e},r.onRespinStart=function(){for(var i=this,e=this.prevRespinData.itemList,t=this.curRespinData.itemList,n=0;n<15;n++)e[n]>N.BONUS_SYMBOLID&&(e[n],t[n]);this.showStickyBonus(this.prevRespinData.itemList),this.fakeSpin(),this.scheduleOnce((function(){i.decrementRespinCount()}),.1),this.scheduleOnce((function(){i.onRespinStop()}),1),this.received_message=!1},r.onRespinStop=function(){if(null!=this.curRespinData){for(var i=[],e=[],t=0;t<15;t++)i[t]=0,e[t]=0;this.spinResult=this.curRespinData.itemList,this.upperSymbols=i,this.down_reel=e,this.spin(this.prevRespinData),this.received_message=!0}},r.dealAllReelStop=function(){var i=this;this.updateRespinCounts();this.curRespinData.isUpgrade||this.curRespinData.isSuperUpgrade?this.showUpgradeBoard((function(){i.playNextResult()})):this.playNextResult()},r.playNextResult=function(){var i=this,e=3==this.curRespinData.respinCount?1:.5;this.scheduleOnce((function(){Log.d("sss playNextResult this.getCurSpinCount() = ",i.getCurSpinCount(),i.totalSpinCount),i.getCurSpinCount()>=i.totalSpinCount-1?i.onRespinFinish(!0):i.handleResult()}),e)},r.handleResult=function(){var i=this;this.setCurSpinCount(this.getCurSpinCount()+1),this.setCurRespinData(),this.checkUpgradePrevRespinData(),this.scheduleOnce((function(){i.onRespinStart()}),.5)},r.checkUpgradePrevRespinData=function(){this.upgradePre&&(this.upgradePre=!1,this.prevRespinData=this.prevRespinDataUpgrade,this.prevRespinData.respinCount=3)},r.resetPrevRespinData=function(i,e){this.prevRespinDataUpgrade=this.prevRespinData;for(var t=0;t<15;t++)this.prevRespinDataUpgrade.itemList[t]=t==i?e:0},r.onRespinFinish=function(i){var e=this;void 0===i&&(i=!1),i?(this.scheduleOnce((function(){e.showUpdateSpinCount(-1)}),.5),this.scheduleOnce((function(){e.playCollectBonusItemAction(!0)}),1.8)):(this.showUpdateSpinCount(-1),this.playCollectBonusItemAction())},r.playCollectBonusItemAction=function(i){var e=this;void 0===i&&(i=!1);this.showCollectOnFinish(i,(function(){e.playCollectRespinDialog()}))},r.playCollectRespinDialog=function(){this.changeSpinBoardToBase(!0)},r.changeSpinBoardToBase=function(i,e,t){var n=this;if(i){var o=this.showTigerGrowl();this.showTransitionAnim(!1),this.scheduleOnce((function(){n.spinLayer.gameLayer.returnToMainFromBonusGame(n.totalWin)}),o)}},r.showUpgradeBoard=function(i,e){var t=this;void 0===i&&(i=null),void 0===e&&(e=!1);var n=this.getB1Pos(this.curRespinData.itemList),o=this.curLevel+1,s=this.b1_collect_dur+10/30;this.b1_collectCount.node.active=!1,s+=this.showBonus1WinAction(n,e),this.scheduleOnce((function(){t.showCollectAllB2ToB1(t.curRespinData.itemList,n,(function(){t.showChangeB1ToNextLevelB2(),t.showB2GeneratedFromB1(t.curRespinData.b1Key,n,o),t.scheduleOnce((function(){t.showRespinBoardLevel(o,n)}),14/30),t.scheduleOnce((function(){i&&(t.resetPrevRespinData(n,t.flyBonusNum_collect),t.upgradePre=!0,i())}),14/30+1)}))}),s)},r.showBonus1WinAction=function(i,e){var t=this;if(void 0===e&&(e=!1),this.curRespinData.isUpgrade)return this.playWinCollectAnimOnB1(i),0;var n=!e;this.showUpdateSpinCount(-1,n);this.scheduleOnce((function(){t.playSuperB1Drop(),t.showUpdateSpinCount(3)}),.8);var o=.8+this.b1_super_appear_dur+5/30;return this.scheduleOnce((function(){t.playWinCollectAnimOnB1(i)}),o),o},r.getB1Pos=function(i){for(var e=0,t=0;t<i.length;t++)if(i[t]==N.COLLECT_SYMBOLID){e=t;break}return e},r.updateRespinCounts=function(){var i=0;return this.curRespinData&&!this.curRespinData.isSuperUpgrade&&(i=this.showUpdateSpinCount(this.curRespinData.respinCount)),i},r.decrementRespinCount=function(){var i=this.prevRespinData.respinCount;i>0&&this.showUpdateSpinCount(i-1)},r.showUpdateSpinCount=function(i,e){void 0===e&&(e=!1);var t=0;if(this.respinCount!=i){if(e){if(i>=0){this.remainNode[i].active=!0;var n=this.remainNode[i].getComponent(B);n&&(n.opacity=0,v(n).to(5/30,{opacity:255},{easing:"fade"}).call((function(){})).start())}else this.hideAllRemainNodes();t=5/30}else this.hideAllRemainNodes(),i>=0&&(this.remainNode[i].active=!0);this.respinCount=i}return t},r.hideAllRemainNodes=function(){for(var i=0;i<4;i++)this.remainNode[i].active=!1},r.parseRespinData=function(i){if(null!=i){Log.d("sss parseRespinData data = ",i),this.totalSpinCount=i.respin_list.length,this.totalWin=i.bgWin,this.allSpinData=[];var e={itemList:i.item_list,respinCount:3,isUpgrade:!1,isSuperUpgrade:!1,b1Key:0,boardLevel:1};this.allSpinData.push(e);for(var t=e,n=0;n<i.respin_list.length;n++){var o={itemList:[],respinCount:3,isUpgrade:!1,isSuperUpgrade:!1,b1Key:0,boardLevel:1},s=i.respin_list[n],a=this.parseItemList(s);o.itemList=a;var r=this.parseSpinData(t,a,n==i.respin_list.length-1);o.respinCount=r.respinCount,o.isUpgrade=r.isUpgrade,o.isSuperUpgrade=r.isSuperUpgrade,o.b1Key=r.b1Key,o.boardLevel=r.boardLevel,t=o,this.allSpinData.push(o)}Log.d("sss parseRespinData allSpinData = ",this.allSpinData),Log.d("sss parseRespinData allSpinData")}},r.parseItemList=function(i){for(var e,t=[],n=s(i);!(e=n()).done;){var o=e.value;t.push.apply(t,o)}return t},r.parseSpinData=function(i,e,t){var n={itemList:[],respinCount:3,isUpgrade:!1,isSuperUpgrade:!1,b1Key:0,boardLevel:1};if(i&&e.length>0){for(var o=i.itemList,s=!1,a=0,r=0;r<15;r++){var l=!1;(!i.isUpgrade&&!i.isSuperUpgrade&&0==o[r]&&e[r]>0||i.isUpgrade&&o[r]!=N.COLLECT_SYMBOLID&&e[r]>0||i.isSuperUpgrade&&e[r]>0)&&(l=!0),l&&(s=!0,n.respinCount=3,e[r]==N.COLLECT_SYMBOLID&&(n.isUpgrade=!0)),e[r]>N.BONUS_SYMBOLID&&(a+=e[r])}s||(n.respinCount=i.respinCount-1,0!=n.respinCount||t||(n.respinCount=3,n.isSuperUpgrade=!0)),(n.isUpgrade||n.isSuperUpgrade)&&(n.b1Key=a),i.isUpgrade||i.isSuperUpgrade?n.boardLevel=i.boardLevel+1:n.boardLevel=i.boardLevel}return n},r.getCurSpinCount=function(){return this.spin_count},r.setCurSpinCount=function(i){this.spin_count=i},r.setCurRespinData=function(){var i=this.getCurSpinCount();i<this.allSpinData.length-1&&(this.prevRespinData=this.allSpinData[i],this.curRespinData=this.allSpinData[i+1],this.curLevel=this.curRespinData.boardLevel,this.data.respin_level=this.curLevel)},r.initRespinData=function(){var i=this;this.setCurSpinCount(0),this.setCurRespinData(),this.showStickyBonus(this.prevRespinData.itemList);for(var e=0;e<15;e++)this.showRespinElement(e,!1);this.showUpdateSpinCount(3),this.scheduleOnce((function(){i.onRespinStart()}),1.5)},r.showFrameRoot=function(i){this.content.active=i},r.initRespinLayout=function(i){this.showRespinBoardLevel(i,0),this.showRespinBgLoop(i),this.showRespinBgFireLoop(i)},r.showTransitionAnim=function(i){var e=this,t="animation";this.isSuper&&(t="animation2"),this.transitionNode.node.active=!0,this.transitionNode.setAnimation(0,t,!1),this.transitionNode.setCompleteListener((function(i){(i.animation?i.animation.name:"")===t&&(e.transitionNode.node.active=!1)})),i?dispatch(w.PLAY_EFFECT,"audio/base/transition_respin_base"):dispatch(w.PLAY_EFFECT,"audio/base/transition_base_respin")},r.showRespinBgLoop=function(i,e){},r.showRespinBgFireLoop=function(i,e){var t=this;void 0===e&&(e=!1);var n="animation"+this.suffix[i-1];if(this.bgFireLoopAnim.node.active=!0,this.bgFireLoopAnim.setAnimation(0,n,!0),e){var o=this.bgFireLoopAnimNode.getComponent(B);o&&(o.opacity=0,this.bgFireLoopAnimNode.active=!0,v(o).to(.5,{opacity:255},{easing:"fade"}).call((function(){t.bgFireLoopAnimNode.active=!0,o.opacity=255})).start())}},r.showLevel1TigerAppearAnim=function(){var i=this,e="animation7";this.tigerTransitionNode.node.active=!0,this.tigerTransitionNode.setAnimation(0,e,!1),this.tigerTransitionNode.setCompleteListener((function(t){(t.animation?t.animation.name:"")===e&&(i.tigerTransitionNode.node.active=!1,i.showTigerAnim(i.curLevel))}))},r.showTigerAnim=function(i,e){var t=this;void 0===e&&(e=!1);var n="animation5";if(this.isSuper&&(n="animation6"),this.tigerAnim.node.active=!0,this.tigerAnim.skeletonData=this.tigerAnim_skeletonData[i-1],this.tigerAnim.addAnimation(0,n,!0),e){var o=this.tigerAnimNode.getComponent(B);o&&(o.opacity=0,this.tigerAnimNode.active=!0,v(o).to(.5,{opacity:255},{easing:"fade"}).call((function(){t.tigerAnimNode.active=!0,o.opacity=255})).start())}},r.showRespinBoardLevel=function(i,e){var t=this;void 0===e&&(e=0),i=i||1,e>0?(this.upgradeAnimNode.node.active=!0,this.upgradeAnimNode.node.position=new g(this.posXList[e],this.posYList[e]-254),this.upgradeAnimNode.setAnimation(0,"animation",!1),this.upgradeAnimNode.setCompleteListener((function(i){"animation"===(i.animation?i.animation.name:"")&&(t.upgradeAnimNode.node.active=!1)})),dispatch(w.PLAY_EFFECT,"audio/respin/fire_ring"),this.scheduleOnce((function(){t.updateBoardFrameSprite(i,!0),t.showRespinBgLoop(i,!0),t.showRespinBgFireLoop(i,!0),t.showTigerAnim(i,!0)}),.5)):(this.updateBoardFrameSprite(i),this.showRespinBgLoop(i),this.showRespinBgFireLoop(i))},r.updateBoardFrameSprite=function(i,e){var t=this;if(void 0===e&&(e=!1),e){this.prevRespinBoardFrameSprite.spriteFrame=this.respinBoardFrame[i-1],this.prevRespinBoardFrameBackSprite.spriteFrame=this.respinBoardFrameBack[i-1],this.respinBoardFrameSprite.spriteFrame=this.respinBoardFrame[i-1],this.respinBoardFrameBackSprite.spriteFrame=this.respinBoardFrameBack[i-1];var n=this.prevRespinBoardFrameSprite.getComponent(B),o=this.prevRespinBoardFrameBackSprite.getComponent(B),s=this.respinBoardFrameSprite.getComponent(B),a=this.respinBoardFrameBackSprite.getComponent(B);n&&(n.opacity=255,this.prevRespinBoardFrameSprite.node.active=!0,v(n).to(.5,{opacity:0},{easing:"fade"}).call((function(){t.prevRespinBoardFrameSprite.node.active=!1,n.opacity=255})).start()),o&&(o.opacity=255,this.prevRespinBoardFrameBackSprite.node.active=!0,v(o).to(.5,{opacity:0},{easing:"fade"}).call((function(){t.prevRespinBoardFrameBackSprite.node.active=!1,o.opacity=255})).start()),s&&(s.opacity=0,this.respinBoardFrameSprite.node.active=!0,v(s).to(.5,{opacity:255},{easing:"fade"}).call((function(){t.respinBoardFrameSprite.node.active=!0,s.opacity=255})).start()),a&&(a.opacity=0,this.respinBoardFrameBackSprite.node.active=!0,v(a).to(.5,{opacity:255},{easing:"fade"}).call((function(){t.respinBoardFrameBackSprite.node.active=!0,a.opacity=255})).start())}else this.prevRespinBoardFrameSprite.spriteFrame=this.respinBoardFrame[i-1],this.prevRespinBoardFrameBackSprite.spriteFrame=this.respinBoardFrameBack[i-1],this.respinBoardFrameSprite.spriteFrame=this.respinBoardFrame[i-1],this.respinBoardFrameBackSprite.spriteFrame=this.respinBoardFrameBack[i-1],this.prevRespinBoardFrameSprite.node.active=!1,this.prevRespinBoardFrameBackSprite.node.active=!1,this.respinBoardFrameSprite.node.active=!0,this.respinBoardFrameBackSprite.node.active=!0},r.showTigerRoar=function(){var i="animation1",e="animation5";return this.isSuper&&(i="animation2",e="animation6"),this.tigerAnim.node.active=!0,this.tigerAnim.skeletonData=this.tigerAnim_skeletonData[this.curLevel-1],this.tigerAnim.setAnimation(0,i,!1),this.tigerAnim.addAnimation(0,e,!0),50/30},r.showTigerGrowl=function(){var i="animation3",e="animation5";return this.isSuper&&(i="animation4",e="animation6"),this.tigerAnim.node.active=!0,this.tigerAnim.skeletonData=this.tigerAnim_skeletonData[this.curLevel-1],this.tigerAnim.setAnimation(0,i,!1),this.tigerAnim.addAnimation(0,e,!0),50/30},r.playActivateLoopOnB2s=function(){},r.playSuperB1Drop=function(){},r.playWinCollectAnimOnB1=function(i){this.showTigerRoar(),dispatch(w.PLAY_EFFECT,"audio/respin/tiger_trigger"),this.bonus1Anim.node.active=!0,this.bonus1Anim.node.position=new g(this.posXList[i],this.posYList[i]),this.showRespinElement(i,!1),this.bonus1Anim.setAnimation(0,"animation1",!1),this.bonus1Anim.addAnimation(0,"animation3",!1),this.bonus1Anim.addAnimation(0,"animation2",!0)},r.showCollectAllB2ToB1=function(i,e,t){var n=this;void 0===t&&(t=null);var o=0,s=this.b2_to_b1_fly_interval;this.flyBonusNum_collect=0;for(var a=function(t){if(i[t]>N.BONUS_SYMBOLID){o+=1;var a=new g(n.posXList[e],n.posYList[e]);n.scheduleOnce((function(){n.showCollectB2ToB1(t,i[t],e,a)}),s*o+1)}},r=0;r<15;r++)a(r);this.scheduleOnce((function(){t&&t()}),s*(o+3))},r.showCollectB2ToB1=function(i,e,t,n){var o=this;dispatch(w.PLAY_EFFECTONESHOT,"audio/respin/tiger_collect"),dispatch(w.SET_MUSIC_VOLUME,.2),this.flyBonusNum_collect+=e,this.showRespinElement(i,!1),this.stickyBonusNode[i].active=!1,this.performFlyBonus(i,e,this.curLevel),this.flyBonus[i].setAnimation(0,"animation5",!1),v(this.flyBonusNode[i]).delay(5/30).to(10/30,{scale:new g(.2,.2),position:n}).call((function(){o.flyBonus[i].addAnimation(0,"animation4",!0),o.flyBonusNode[i].active=!1,o.flyBonusNode[i].scale=new g(1,1),o.flyBonusNode[i].position=new g(o.posXList[i],o.posYList[i]),o.updateB1Award(o.flyBonusNum_collect)})).start()},r.updateB1Award=function(i){Log.d("sss updateB1Award sum = ",i),this.b1_collectCount.node.active=!0,this.b1_collectCount.updateNumber(i),v(this.b1_collectCount.node).to(this.b1_update_scale_dur,{scale:new g(1.28,1.28)}).to(this.b1_update_scale_dur,{scale:new g(1,1)}).start()},r.showChangeB1ToNextLevelB2=function(){var i=this;this.bonus1Anim.node.active=!0,this.bonus1Anim.setAnimation(0,"animation4",!1),this.scheduleOnce((function(){i.b1_collectCount.node.active=!1}),8/30),this.scheduleOnce((function(){i.bonus1Anim.node.active=!1,i.b1_collectCount.updateNumber(0)}),this.b1_transform_dur)},r.showB2GeneratedFromB1=function(i,e,t){this.performBonus2Anim2(e,i,t)},r.showCollectOnFinish=function(i,e){var t=this;void 0===e&&(e=null);var n=this.curLevel||1;if(i){var o=this.showTigerRoar();dispatch(w.PLAY_EFFECT,"audio/base/respin_end"),this.scheduleOnce((function(){t.showCollectBox(n)}),o),this.scheduleOnce((function(){t.collectAllB2s(e)}),o+1)}else{var s=this.totalWin||0;this.showCollectBox(n,!0,s),this.clearStickyBonus(),this.scheduleOnce((function(){t.showFooterReceivesCollectBox(t.curLevel,e)}),1.4)}},r.showCollectBox=function(i,e,t){void 0===e&&(e=!1),void 0===t&&(t=0),this.collectBox.active=!0,this.jinbiAnim.node.active=!1;var n="animation"+i+"_1",o="animation"+i+"_2";return this.collectAnim.node.active=!0,e?this.collectAnim.setAnimation(0,o,!0):(this.collectAnim.setAnimation(0,n,!1),this.collectAnim.addAnimation(0,o,!0)),dispatch(w.PLAY_EFFECT,"audio/respin/bill_appear"),t>0&&this.collectCount.startRolling(0,t,1,(function(){})),e?(this.tigerAnimNode.scale=new g(1,1),this.tigerAnimNode.position=new g(0,120)):v(this.tigerAnimNode).to(.4,{scale:new g(1,1),position:new g(0,120)}).start(),this.bgFireLoopAnim.node.active=!1,1},r.collectAllB2s=function(i){var e=this;void 0===i&&(i=null);var t=14/30,n=0;this.target_score=0;for(var o=this.curRespinData.itemList,s=function(i){var s=o[i];s>N.BONUS_SYMBOLID&&(n+=1,e.scheduleOnce((function(){e.removeAllAnimOnB2(i);var t=e.stickyBonusNode[i].getPosition(),n=new g(0,323,0);e.playB2FlyCollectAnim(i,t,n,e.curLevel,s)}),(n-1)*t))},a=0;a<15;a++)s(a);var r=t*n+.5;this.scheduleOnce((function(){e.showFooterReceivesCollectBox(e.curLevel,i)}),r+3)},r.playB2FlyCollectAnim=function(i,e,t,n,o){var s=this;this.target_score+=o,dispatch(w.PLAY_EFFECTONESHOT,"audio/respin/bill_collect"),this.particle[i].node.active=!0,this.particle[i].file=this.particleAsset[n-1],this.particle[i].resetSystem(),this.particle[i].node.position=e,v(this.particle[i].node).to(16/30,{position:t}).call((function(){s.particle[i].node.active=!1,s.showCollectBoxReceiveAnim(),s.collectCount.startRolling(s.start_score,s.target_score,14/30,(function(){s.start_score=s.target_score}))})).start()},r.showCollectBoxReceiveAnim=function(){var i=this;dispatch(w.PLAY_EFFECT,"audio/respin/bill_footer"),this.jinbiAnim.node.active=!0,this.jinbiAnim.setAnimation(0,"animation",!1),this.jinbiAnim.setCompleteListener((function(e){"animation"===(e.animation?e.animation.name:"")&&(i.jinbiAnim.node.active=!1)}))},r.removeAllAnimOnB2=function(i){this.stickyBonusFire[i].node.active=!1},r.showFooterReceivesCollectBox=function(i,e){var t=this;void 0===e&&(e=null),dispatch(k.NOTIFY_FOOTER_HIDE,!1),this.scheduleOnce((function(){var n="animation"+i+"_3";t.collectAnim.setAnimation(0,n,!1),t.collectBox.active=!0,v(t.collectBox).to(.6,{scale:new g(.5,.5),position:new g(0,-600)}).call((function(){t.collectBox.active=!1})).start(),v(t.tigerAnimNode).to(.6,{scale:new g(1.4,1.4),position:new g(0,0)}).call((function(){t.showFooterReceiveAnim(),t.shakeBoardOnFooterReceive(),dispatch(w.ROLLING_WIN_SCORE,t.totalWin)})).delay(5/30).call((function(){e&&e()})).start(),t.showRespinBgFireLoop(i,!0)}),.5)},r.showFooterReceiveAnim=function(){this.footerAnimNode.node.active=!0,this.footerAnimNode.setAnimation(0,"animation",!1)},r.shakeBoardOnFooterReceive=function(){v(this.content).to(.2,{position:new g(0,-30)}).to(.2,{position:new g(0,30)}).to(.1,{position:new g(0,-8)}).to(.1,{position:new g(0,8)}).start()},r.showStickyBonus=function(i){for(var e=0;e<i.length;e++){var t=i[e];t>N.BONUS_SYMBOLID&&this.performStickyBonus(e,t,this.curLevel)}},r.clearStickyBonus=function(){for(var i=0;i<15;i++)this.stickyBonusNode[i].active=!1},r.performStickyBonusScale=function(i){var e=new g(1.5,1.5);i>1&&(e=new g(2,2));for(var t=0;t<15;t++)this.stickyBonus[t].node.scale=e},r.performStickyBonus=function(i,e,t){if(e>N.BONUS_SYMBOLID){this.stickyBonusNode[i].active=!0,this.stickyBonus[i].node.active=!0,this.stickyBonusNum[i].node.active=!0,this.stickyBonusFire[i].node.active=!0,this.stickyBonus[i].node.scale=1==t?new g(1.5,1.5):5==t?new g(2.5,2.5):new g(2,2),this.stickyBonus[i].skeletonData=this.stickyBonus_skeletonData[t-1],this.stickyBonus[i].addAnimation(0,"animation4",!0),this.stickyBonusNum[i].updateNumber(e);var n="animation"+this.suffix[t-1];this.stickyBonusFire[i].setAnimation(0,n,!0)}},r.performBonus2Anim=function(i,e,t){var n=this;this.stickyBonusNode[i].active=!0,this.stickyBonus[i].node.active=!0,this.stickyBonusNum[i].node.active=!0,this.stickyBonusFire[i].node.active=!1,this.stickyBonusNum[i].updateNumber(e),this.stickyBonus[i].node.scale=1==t?new g(1.5,1.5):5==t?new g(2.5,2.5):new g(2,2);var o="animation";this.stickyBonus[i].skeletonData=this.stickyBonus_skeletonData[t-1],this.stickyBonus[i].setAnimation(0,o,!1),dispatch(w.PLAY_EFFECT,"audio/base/bonus_land"),this.stickyBonus[i].setCompleteListener((function(e){if((e.animation?e.animation.name:"")===o){n.stickyBonus[i].addAnimation(0,"animation4",!0),n.stickyBonusFire[i].node.active=!0;var s="animation"+n.suffix[t-1];n.stickyBonusFire[i].setAnimation(0,s,!0)}}))},r.performBonus2Anim2=function(i,e,t){var n=this;this.stickyBonusNode[i].active=!0,this.stickyBonus[i].node.active=!0,this.stickyBonusNum[i].node.active=!1,this.stickyBonusFire[i].node.active=!1,this.stickyBonusNum[i].updateNumber(e),this.stickyBonus[i].node.scale=1==t?new g(1.5,1.5):5==t?new g(2.5,2.5):new g(2,2);var o="animation8";this.stickyBonus[i].skeletonData=this.stickyBonus_skeletonData[t-1],dispatch(w.SET_MUSIC_VOLUME,1),this.stickyBonus[i].setAnimation(0,o,!1),this.stickyBonus[i].setCompleteListener((function(e){if((e.animation?e.animation.name:"")===o){n.stickyBonus[i].addAnimation(0,"animation4",!0),n.stickyBonusFire[i].node.active=!0;var s="animation"+n.suffix[t-1];n.stickyBonusFire[i].setAnimation(0,s,!0),n.stickyBonusNum[i].node.active=!0}}))},r.performBonus1Anim=function(i){this.bonus1Anim.node.active=!0,this.bonus1Anim.node.position=new g(this.posXList[i],this.posYList[i]),this.showRespinElement(i,!1),this.bonus1Anim.setAnimation(0,"animation",!1),dispatch(w.PLAY_EFFECT,"audio/respin/tiger_land"),this.bonus1Anim.addAnimation(0,"animation6",!0)},r.performStickyBonus2=function(i,e,t){var n=this;e>N.BONUS_SYMBOLID&&(this.stickyBonusNode[i].active=!0,this.stickyBonus[i].node.active=!0,this.stickyBonusNum[i].node.active=!0,this.stickyBonusFire[i].node.active=!0,this.stickyBonus[i].node.scale=1==t?new g(1.5,1.5):5==t?new g(2.5,2.5):new g(2,2),this.stickyBonus[i].skeletonData=this.stickyBonus_skeletonData[t-1],this.stickyBonus[i].setAnimation(0,"animation",!1),this.stickyBonus[i].setCompleteListener((function(e){if("animation"===(e.animation?e.animation.name:"")){n.stickyBonus[i].addAnimation(0,"animation4",!0);var o="animation"+n.suffix[t-1];n.stickyBonusFire[i].setAnimation(0,o,!0)}})),this.stickyBonusNum[i].updateNumber(e))},r.performFlyBonus=function(i,e,t){if(e>N.BONUS_SYMBOLID){this.flyBonusNode[i].active=!0,this.flyBonus[i].node.active=!0,this.flyBonusNum[i].node.active=!0,this.flyBonusFire[i].node.active=!0,this.flyBonus[i].node.scale=1==t?new g(1.5,1.5):5==t?new g(2.5,2.5):new g(2,2),this.flyBonus[i].skeletonData=this.stickyBonus_skeletonData[t-1],this.flyBonus[i].addAnimation(0,"animation4",!0),this.flyBonusNum[i].updateNumber(e);var n="animation"+this.suffix[t-1];this.flyBonusFire[i].setAnimation(0,n,!0)}},a(e,[{key:"data",get:function(){return App.dataCenter.get(A)}}]),e}(b)).prototype,"clippingNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ai=e(Si.prototype,"content",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Li=e(Si.prototype,"spinReels",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ci=e(Si.prototype,"higherClipNode1",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wi=e(Si.prototype,"higherClipNode2",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fi=e(Si.prototype,"higherClipNode3",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ki=e(Si.prototype,"btnTable",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ri=e(Si.prototype,"stickyBonusNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_i=e(Si.prototype,"stickyBonus",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Di=e(Si.prototype,"stickyBonusNum",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ei=e(Si.prototype,"stickyBonusFire",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ti=e(Si.prototype,"flyBonusNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oi=e(Si.prototype,"flyBonus",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ui=e(Si.prototype,"flyBonusNum",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xi=e(Si.prototype,"flyBonusFire",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zi=e(Si.prototype,"stickyBonus_skeletonData",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ii=e(Si.prototype,"respinBoardFrame",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pi=e(Si.prototype,"respinBoardFrameBack",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yi=e(Si.prototype,"prevRespinBoardFrameSprite",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gi=e(Si.prototype,"prevRespinBoardFrameBackSprite",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mi=e(Si.prototype,"respinBoardFrameSprite",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wi=e(Si.prototype,"respinBoardFrameBackSprite",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xi=e(Si.prototype,"remainNode",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ji=e(Si.prototype,"bgLoopAnimNode",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Hi=e(Si.prototype,"bgLoopAnim",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ki=e(Si.prototype,"bgFireLoopAnimNode",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vi=e(Si.prototype,"bgFireLoopAnim",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qi=e(Si.prototype,"transitionNode",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ji=e(Si.prototype,"tigerTransitionNode",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zi=e(Si.prototype,"upgradeAnimNode",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qi=e(Si.prototype,"tigerAnimNode",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$i=e(Si.prototype,"tigerAnim",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=e(Si.prototype,"tigerAnim_skeletonData",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=e(Si.prototype,"bonus1Anim",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=e(Si.prototype,"b1_collectCount",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=e(Si.prototype,"collectBox",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=e(Si.prototype,"collectAnim",[mi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=e(Si.prototype,"collectCount",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=e(Si.prototype,"jinbiAnim",[yi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=e(Si.prototype,"particle",[Bi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=e(Si.prototype,"particleAsset",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=e(Si.prototype,"footerAnimNode",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bi=Si))||bi));r._RF.pop()}}}));

System.register("chunks:///_virtual/slot310000014",["./BigWinDefines4.ts","./BigWinLayer12.ts","./GamePlay7.ts","./PageChange7.ts","./JackpotLayer5.ts","./GameEntry27.ts","./SubGameConstants22.ts","./SubGameData27.ts","./SubGameDefines27.ts","./SubGameLanguage27.ts","./ExBannerContentProvider12.ts","./GameLogic27.ts","./LineAnimator4.ts","./GameHandler27.ts","./GameSender27.ts","./Protocol28.ts","./EffectLayer5.ts","./GameLayer4.ts","./IntroductionPage4.ts","./JpPickLayer.ts","./JpSPickLayer.ts","./LoadingBar4.ts","./MainGameView22.ts","./PickItem.ts","./PickLayer.ts","./PopOut4.ts","./ReSpinElement.ts","./ReSpinReel.ts","./ReSpinTable.ts","./SpinElement4.ts","./SpinLayer4.ts","./SpinReel4.ts","./SpinTable4.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SpinElement4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameConstants22.ts","./FormatNumber.ts","./SubGameDefines27.ts","./SubGameData27.ts"],(function(i){var t,e,n,a,o,h,r,s,c,l,p,m,u,d,S,b,f,N;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized,o=i.createClass},function(i){h=i.cclegacy,r=i._decorator,s=i.SpriteFrame,c=i.sp,l=i.Sprite,p=i.Node,m=i.Vec3,u=i.tween,d=i.Component},function(i){S=i.ThemeJungKingdom},function(i){b=i.FormatNumber},function(i){f=i.EventName},function(i){N=i.SubGameData}],execute:function(){var g,y,F,L,_,I,D,v,A,k,O,w,z,B,x,M,C,T,Y,j,E,R,J,W,U,P,G,X,q;h._RF.push({},"1043b4E62RCqoAx5bDsNNoc","SpinElement",void 0);var H=r.ccclass,K=r.property;i("SpinElement",(g=H("SpinElement"),y=K({displayName:"defaultFrame",type:[s]}),F=K({displayName:"skeletonData",type:[c.SkeletonData]}),L=K({displayName:"normalSprite",type:l}),_=K({displayName:"animation",type:c.Skeleton}),I=K({displayName:"chipNode",type:p}),D=K({displayName:"frameSprite",type:c.Skeleton}),v=K({displayName:"chipJpSprite",type:l}),A=K({displayName:"chipStrLabel",type:p}),k=K({displayName:"chipStrLabelNum",type:b}),O=K({displayName:"zhongjiang_huo",type:c.Skeleton}),w=K({displayName:"zhongjiang_chipSprite",type:l}),z=K({displayName:"zhongjiang_chipLabel",type:p}),B=K({displayName:"zhongjiang_chipLabelNum",type:b}),g((C=t((M=function(i){function t(){for(var t,e=arguments.length,o=new Array(e),h=0;h<e;h++)o[h]=arguments[h];return t=i.call.apply(i,[this].concat(o))||this,n(t,"defaultFrame",C,a(t)),n(t,"skeletonData",T,a(t)),n(t,"normalSprite",Y,a(t)),n(t,"animation",j,a(t)),n(t,"chipNode",E,a(t)),n(t,"frameSprite",R,a(t)),n(t,"chipJpSprite",J,a(t)),n(t,"chipStrLabel",W,a(t)),n(t,"chipStrLabelNum",U,a(t)),n(t,"zhongjiang_huo",P,a(t)),n(t,"zhongjiang_chipSprite",G,a(t)),n(t,"zhongjiang_chipLabel",X,a(t)),n(t,"zhongjiang_chipLabelNum",q,a(t)),t.symbolIndex=-1,t.clipFatherNode=null,t.higherClipFatherNode1=null,t.higherClipFatherNode2=null,t.higherClipFatherNode3=null,t.unclipFatherNode=null,t.unclipFatherNode2=null,t.unclipFatherNode3=null,t.unclipFatherNode4=null,t.unclipFatherNode5=null,t.unclipFatherNode6=null,t.unclipFatherNode7=null,t.unclipFatherNode8=null,t.processingIndex=0,t.aboutToStopFlag=!0,t.shouldShow_chipJpSprite=!1,t.shouldShow_chipStrLabel=!1,t}e(t,i);var h=t.prototype;return h.start=function(){this.frameSprite.node.active=!1,this.zhongjiang_huo.node.active=!1,this.zhongjiang_chipSprite.node.active=!1,this.zhongjiang_chipLabel.active=!1},h.init=function(i){this.processingIndex=i,this.performScatterDownNoWin(),this.performChipDownNoWin()},h.setFathers=function(i,t,e,n,a,o,h,r,s,c,l,p){this.clipFatherNode=i,this.unclipFatherNode=t,this.unclipFatherNode2=e,this.unclipFatherNode3=n,this.unclipFatherNode4=a,this.unclipFatherNode5=o,this.unclipFatherNode6=h,this.unclipFatherNode7=r,this.unclipFatherNode8=s,this.higherClipFatherNode1=c,this.higherClipFatherNode2=l,this.higherClipFatherNode3=p},h.checkFather=function(i,t){this.node.setParent(i)},h.setAboutToStop=function(i){this.aboutToStopFlag=i},h.setSymbolIndex=function(i){this.symbolIndex=i;var t=this.getDefaultFrame(i);this.normalSprite.spriteFrame=this.defaultFrame[t],this.checkChipDisplay(),this.checkSymbolDisplay(),this.checkFather(this.clipFatherNode),this.stopLineAnimation()},h.checkSymbolDisplay=function(){this.normalSprite.node.scale=new m(1,1)},h.setSymbolIndexFather=function(i){void 0===i&&(i=!1),i?this.checkFather(this.clipFatherNode):this.symbolIndex==S.WILD_SYMBOLID?this.checkFather(this.higherClipFatherNode1):this.symbolIndex>S.BONUS_SYMBOLID?this.checkFather(this.higherClipFatherNode2):this.symbolIndex==S.SCATTER_SYMBOLID?this.checkFather(this.higherClipFatherNode3):this.checkFather(this.clipFatherNode)},h.createAnimation=function(){var i=this.getSkeletonData(this.symbolIndex);this.animation.skeletonData=this.skeletonData[i]},h.getSymbolIndex=function(){return this.symbolIndex},h.checkChipDisplay=function(){this.chipNode.active=!0,this.chipJpSprite.node.active=!1,this.chipStrLabel.active=!1,this.shouldShow_chipJpSprite=!1,this.shouldShow_chipStrLabel=!1,this.symbolIndex>S.BONUS_SYMBOLID&&(this.chipStrLabel.active=!0,this.shouldShow_chipStrLabel=!0,this.chipStrLabelNum.updateNumber(this.symbolIndex))},h.chipMulti=function(i){var t=this;Log.d("chipMulti multiNum = ",i,this.symbolIndex),this.symbolIndex>S.BONUS_SYMBOLID&&(this.checkFather(this.unclipFatherNode6),this.scheduleOnce((function(){t.chipStrLabelNum.updateNumber(t.symbolIndex*i)}),.3))},h.chipWinAdd=function(){this.createAnimation(),this.animation.node.active=!0,this.animation.node.scale=new m(1,1),this.animation.clearTracks(),this.animation.setAnimation(0,"daiji",!0)},h.chipSprite_zhongjiang=function(i){},h.chipLabel_zhongjiang=function(i){var t=this;this.zhongjiang_chipLabel.active=!0,this.zhongjiang_chipLabelNum.updateNumber(i),u(this.zhongjiang_chipLabel).delay(.17).to(.3,{scale:new m(1.2,1.2,1)}).to(.2,{scale:new m(1,1,1)}).delay(.4).call((function(){t.zhongjiang_chipLabel.active=!1})).start()},h.chipWin_zhongjiang=function(){this.zhongjiang_huo.node.active=!0,this.zhongjiang_huo.clearTracks(),this.zhongjiang_huo.setAnimation(0,"zhongjiang_huo",!1)},h.performScatterDownAnimation=function(){if(this.symbolIndex==S.SCATTER_SYMBOLID){this.createAnimation(),this.checkFather(this.unclipFatherNode3),this.normalSprite.node.active=!1,this.animation.node.active=!0,this.animation.node.scale=new m(.75,.75),this.animation.clearTracks();dispatch(f.PLAY_EFFECT,"audio/base/scatter_land"+this.data.ScatterIndex),this.data.ScatterIndex+=1,this.animation.setAnimation(0,"animation",!1),this.animation.addAnimation(0,"animation1",!0)}},h.performScatterDownNoWin=function(){if(this.symbolIndex==S.SCATTER_SYMBOLID){this.createAnimation(),this.checkFather(this.unclipFatherNode3),this.normalSprite.node.active=!1,this.animation.node.active=!0,this.animation.node.scale=new m(.75,.75),this.animation.clearTracks();this.animation.setAnimation(0,"animation1",!0)}},h.performChipDown=function(){if(this.symbolIndex>S.BONUS_SYMBOLID){this.createAnimation(),this.checkFather(this.unclipFatherNode2),this.normalSprite.node.active=!1,this.chipJpSprite.node.active=!1,this.animation.node.active=!0,this.animation.node.scale=new m(1.5,1.5),this.animation.clearTracks();dispatch(f.PLAY_EFFECT,"audio/base/bonus_land"),this.animation.setAnimation(0,"animation",!1),this.animation.addAnimation(0,"animation1",!0)}},h.performChipDownNoWin=function(){if(this.symbolIndex>S.BONUS_SYMBOLID){this.createAnimation(),this.checkFather(this.unclipFatherNode2),this.normalSprite.node.active=!1,this.chipJpSprite.node.active=!1,this.animation.node.active=!0,this.animation.node.scale=new m(1.5,1.5),this.animation.clearTracks();this.animation.setAnimation(0,"animation1",!0)}},h.performBonus2Anim=function(){this.symbolIndex>S.BONUS_SYMBOLID&&(this.createAnimation(),this.checkFather(this.unclipFatherNode6),this.animation.node.active=!0,this.animation.node.scale=new m(1.5,1.5),this.animation.addAnimation(0,"animation2",!0))},h.performScIdle2=function(){if(this.symbolIndex==S.SCATTER_SYMBOLID){this.createAnimation(),this.checkFather(this.unclipFatherNode3),this.animation.clearTracks();this.animation.setAnimation(0,"animation3",!0)}},h.performAnimation=function(){this.createAnimation();var i="animation";1<=this.symbolIndex&&this.symbolIndex<=S.MAX_RANDOM_SYMBOLID?(this.normalSprite.node.active=!1,this.animation.node.active=!0,this.symbolIndex>=6&&this.symbolIndex<9?this.animation.node.scale=new m(2,2):this.animation.node.scale=new m(1,1),this.animation.setAnimation(0,i,!0)):this.symbolIndex==S.WILD_SYMBOLID?(this.checkFather(this.unclipFatherNode5),this.normalSprite.node.active=!1,this.animation.node.active=!0,this.animation.node.scale=new m(1,1),this.animation.setAnimation(0,i,!0)):this.symbolIndex==S.SCATTER_SYMBOLID?(this.checkFather(this.unclipFatherNode7),this.normalSprite.node.active=!1,this.animation.node.active=!0,this.animation.node.scale=new m(.75,.75),i="animation2",this.animation.setAnimation(0,i,!0)):this.symbolIndex>S.BONUS_SYMBOLID&&(this.checkFather(this.unclipFatherNode6),this.animation.node.active=!0,this.animation.node.scale=new m(1.5,1.5),i="animation2",this.animation.setAnimation(0,i,!1),this.animation.addAnimation(0,"animation1",!0))},h.performLineAnimation=function(){this.frameSprite.node.active=!0},h.stopLineAnimation=function(){this.frameSprite.node.active=!1},h.stopAnimation=function(){this.normalSprite.node.active=!0,this.chipNode.active=!0,this.chipJpSprite.node.active=!1,this.chipStrLabel.active=!1,this.shouldShow_chipJpSprite&&(this.chipJpSprite.node.active=!0),this.shouldShow_chipStrLabel&&(this.chipStrLabel.active=!0),this.frameSprite.node.active=!1,this.animation.node.active=!1,this.symbolIndex==S.WILD_SYMBOLID?this.checkFather(this.higherClipFatherNode1):this.symbolIndex>S.BONUS_SYMBOLID?this.checkFather(this.higherClipFatherNode2):this.symbolIndex==S.SCATTER_SYMBOLID?this.checkFather(this.higherClipFatherNode3):this.checkFather(this.clipFatherNode)},h.getDefaultFrame=function(i){var t=0;return i>S.MAX_RANDOM_SYMBOLID?i==S.SCATTER_SYMBOLID?t=9:i>S.BONUS_SYMBOLID?t=10:i==S.WILD_SYMBOLID?t=8:i==S.COLLECT_SYMBOLID&&(t=11):t=i-1,t},h.getSkeletonData=function(i){var t=0;return i>S.MAX_RANDOM_SYMBOLID?i==S.SCATTER_SYMBOLID?t=9:i>S.BONUS_SYMBOLID?t=10:i==S.WILD_SYMBOLID?t=8:i==S.COLLECT_SYMBOLID&&(t=11):t=i-1,t},o(t,[{key:"data",get:function(){return App.dataCenter.get(N)}}]),t}(d)).prototype,"defaultFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(M.prototype,"skeletonData",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(M.prototype,"normalSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(M.prototype,"animation",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(M.prototype,"chipNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(M.prototype,"frameSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(M.prototype,"chipJpSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(M.prototype,"chipStrLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(M.prototype,"chipStrLabelNum",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(M.prototype,"zhongjiang_huo",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(M.prototype,"zhongjiang_chipSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(M.prototype,"zhongjiang_chipLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(M.prototype,"zhongjiang_chipLabelNum",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=M))||x));h._RF.pop()}}}));

System.register("chunks:///_virtual/SpinLayer4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpinTable4.ts","./SubGameDefines27.ts","./SubGameConstants22.ts","./SubGameData27.ts","./EffectLayer5.ts","./CommonEvent.ts","./ReSpinTable.ts"],(function(e){var t,i,n,a,s,o,r,l,u,c,p,m,h,d,f,L,y,g,v,_,b,A,w,T,N,R,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,r=e._decorator,l=e.Prefab,u=e.Node,c=e.sp,p=e.Label,m=e.Vec2,h=e.instantiate,d=e.Tween,f=e.tween,L=e.Vec3,y=e.UIOpacity,g=e.Component},function(e){v=e.SpinTable},function(e){_=e.SpinLayerState,b=e.THEME_GAME_TYPE,A=e.EventName},function(e){w=e.ThemeJungKingdom},function(e){T=e.SubGameData},function(e){N=e.EffectLayer},function(e){R=e.CommonEvent},function(e){S=e.ReSpinTable}],execute:function(){var C,H,x,P,B,k,F,E,M,z,Y,X,G,I,O,D,W,U,V,j,J,K,Q,q,Z,$,ee,te,ie,ne,ae,se,oe,re,le,ue,ce,pe,me,he,de,fe,Le;o._RF.push({},"69cf3vA/u9Ey4Ayo79Qb10i","SpinLayer",void 0);var ye=r.ccclass,ge=r.property;e("SpinLayer",(C=ye("SpinLayer"),H=ge({displayName:"effectLayer",type:N}),x=ge({displayName:"spinTablePrefab",type:l}),P=ge({displayName:"clippingNode",type:u}),B=ge({displayName:"collectNode",type:u}),k=ge({displayName:"treasureNode",type:u}),F=ge({displayName:"waterfallAnimListR",type:[c.Skeleton]}),E=ge({displayName:"waterfallAnimListL",type:[c.Skeleton]}),M=ge({displayName:"coinAnimList",type:[c.Skeleton]}),z=ge({displayName:"waterfallAnimListR_max",type:[c.Skeleton]}),Y=ge({displayName:"waterfallAnimListL_max",type:[c.Skeleton]}),X=ge({displayName:"coinAnimList_max",type:[c.Skeleton]}),G=ge({displayName:"mustHitNode",type:u}),I=ge({displayName:"mustHitBoard",type:u}),O=ge({displayName:"mustHitAnim",type:c.Skeleton}),D=ge({displayName:"mustHitNum",type:p}),W=ge({displayName:"mustHitTip",type:u}),U=ge({displayName:"reclippingNode",type:u}),V=ge({displayName:"respinTablePrefab",type:l}),j=ge({displayName:"waterfall_win",type:c.Skeleton}),J=ge({displayName:"coins_win_top",type:c.Skeleton}),C((q=t((Q=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).gameLayer=null,n(t,"effectLayer",q,a(t)),n(t,"spinTablePrefab",Z,a(t)),n(t,"clippingNode",$,a(t)),n(t,"collectNode",ee,a(t)),n(t,"treasureNode",te,a(t)),n(t,"waterfallAnimListR",ie,a(t)),n(t,"waterfallAnimListL",ne,a(t)),n(t,"coinAnimList",ae,a(t)),n(t,"waterfallAnimListR_max",se,a(t)),n(t,"waterfallAnimListL_max",oe,a(t)),n(t,"coinAnimList_max",re,a(t)),n(t,"mustHitNode",le,a(t)),n(t,"mustHitBoard",ue,a(t)),n(t,"mustHitAnim",ce,a(t)),n(t,"mustHitNum",pe,a(t)),n(t,"mustHitTip",me,a(t)),n(t,"reclippingNode",he,a(t)),n(t,"respinTablePrefab",de,a(t)),n(t,"waterfall_win",fe,a(t)),n(t,"coins_win_top",Le,a(t)),t.spinTable=null,t.respinTable=null,t.centerX=0,t.centerY=0,t.tableCenterPos=new m,t.posXList=[],t.posYList=[],t.spinResult=null,t.fgResult=null,t.state=_.Idle,t.autoAvailableTmp=!0,t.fgStartNumList=[[4,6,8,10],[8,12,16,20],[12,18,24,30]],t.chipHitPos=[],t.distanceX=130,t.distanceY=129,t.reelCenterY=0,t.mustHitLevel=0,t.mustHitTarget=500,t.mustHitTipStatus=2,t.t_level_delay=8/30,t.t_shake_dur=[.5,.7,.9,1.1,1.3],t.t_shake_amp=[1.2,1.4,1.6,1.8,2],t.prevTreasureLevel=0,t.treasureLevel=0,t.test_1=0,t}i(t,e);var o=t.prototype;return o.clearGroup=function(){this.unscheduleAllCallbacks()},o.start=function(){this.centerX=0,this.centerY=0;for(var e=w.CellSize,t=this.distanceX,i=this.distanceY,n=[this.centerX-2*t,this.centerX-t,this.centerX,this.centerX+t,this.centerX+2*t],a=w.VisibleCellNum,s=(a-1)/2,o=this.reelCenterY,r=[],l=0;l<a;l++)r[l]=this.centerY-o+(s-l)*i;if(this.tableCenterPos=new m(this.centerX,this.centerY-o),this.posXList=n,this.posYList=r,this.clippingNode){this.clippingNode.destroyAllChildren();var u=h(this.spinTablePrefab);if(u){this.clippingNode.addChild(u);var c=u.getComponent(v);c&&(c.spinLayer=this,c.init(e,n,r,3),this.spinTable=c)}this.effectLayer&&(this.effectLayer.spinLayer=this);for(var p=0;p<5;p++)this.waterfallAnimListR[p].node.active=!1,this.waterfallAnimListL[p].node.active=!1,this.coinAnimList[p].node.active=!1,this.waterfallAnimListR_max[p].node.active=!1,this.waterfallAnimListL_max[p].node.active=!1,this.coinAnimList_max[p].node.active=!1;this.mustHitTip.active=!1}},o.initFgTable=function(e,t,i){void 0===i&&(i=!1);for(var n=w.CellSize,a=this.distanceX,s=this.distanceY,o=[this.centerX-2*a,this.centerX-a,this.centerX,this.centerX+a,this.centerX+2*a],r=e,l=(r-1)/2,u=this.reelCenterY,c=[],p=0;p<r;p++)c[p]=this.centerY-u+(l-p)*s;if(this.clippingNode){this.clippingNode.destroyAllChildren();var m=h(this.spinTablePrefab);if(m){this.clippingNode.addChild(m);var d=m.getComponent(v);d&&(d.spinLayer=this,d.init(n,o,c,e),this.spinTable=d)}if(this.spinTable.spinResult=this.assembleFgSpinResult(),this.spinTable.upperSymbols=t.upper_reel,this.spinTable.down_reel=t.down_reel,i&&t.fg_idx<t.fg_total_round&&t.fg_idx>0){var f=t.item_list_new[t.fg_idx-1].item_list;if(this.spinTable.spinResult=f,0==t.item_list_new[t.fg_idx-1].type){var L=t.item_list_new[t.fg_idx-1].stack_list;this.spinTable.recoverStickyBonus(L),this.spinTable.showStickyBonus(this.data.stickyBonusData)}}this.spinTable.checkCellsInit()}},o.assembleFgSpinResult=function(){return[[12,12,12],[6,4,6],[2,1,2],[6,5,6],[12,12,12]]},o.resetBoardCellsByItemList=function(e){void 0===e&&(e=!1),this.spinTable.resetBoardCellsByItemList(e)},o.get_item_list=function(e){for(var t=[],i=0;i<e.length;i++){for(var n=[],a=e[i].icon,s=0;s<a.length;s++){var o=a[s];n.push(o)}t.push(n)}return t},o.resetNgTable=function(e){void 0===e&&(e=!1);for(var t=w.CellSize,i=this.distanceX,n=this.distanceY,a=[this.centerX-2*i,this.centerX-i,this.centerX,this.centerX+i,this.centerX+2*i],s=w.VisibleCellNum,o=(s-1)/2,r=this.reelCenterY,l=[],u=0;u<s;u++)l[u]=this.centerY-r+(o-u)*n;if(this.clippingNode){this.clippingNode.destroyAllChildren();var c=h(this.spinTablePrefab);if(c){this.clippingNode.addChild(c);var p=c.getComponent(v);p&&(p.spinLayer=this,p.init(t,a,l,3),this.spinTable=p)}this.gameLayer.fgCountBoard.active=!1,e&&this.gameLayer.restore_spinResult&&this.gameLayer.restore_spinResult.length>0?(this.spinTable.spinResult=this.gameLayer.restore_spinResult,this.spinTable.upperSymbols=this.gameLayer.restore_upper_reel,this.spinTable.down_reel=this.gameLayer.restore_down_reel):(this.spinTable.spinResult=this.spinResult.item_list,this.spinTable.upperSymbols=this.spinResult.upper_reel,this.spinTable.down_reel=this.spinResult.down_reel),this.spinTable.checkCellsInit()}},o.spinLayerChangeToRoll=function(){this.stateChangeTo(_.Rolling)},o.spinLayerChangeToShow=function(){b.MAIN!=this.data.GameType&&b.FREE!=this.data.GameType&&b.MAPFREE!=this.data.GameType&&b.BONUS!=this.data.GameType||(this.stateChangeTo(_.Show),this.performWinShow(),this.autoAvailableTmp=!0)},o.effectLayerChangeToIdle=function(){Log.d("effectLayerChangeToIdle self.state = ",this.state,this.autoAvailableTmp),this.state==_.Show?this.stateChangeTo(_.Idle,this.autoAvailableTmp):this.state==_.Idle&&this.autoAvailableTmp&&(Log.d("effectLayerChangeToIdle 1"),this.processNextStep())},o.processNextStep=function(){Log.d("processNextStep =",this.data.GameType,this.data.getAutoStatus(),this.gameLayer.freeGameLeaving),this.data.GameType==b.MAIN&&this.data.getAutoStatus()?(this.autoAvailableTmp=!1,this.stopShow()):this.data.GameType==b.FREE&&this.gameLayer.freeGameLeaving?this.gameLayer.processNextRoundFreeGame():this.data.GameType==b.BONUS&&this.gameLayer.bonusGameLeaving&&this.gameLayer.processNextRoundBonusGame()},o.processLastSpinResult=function(e){if(null!=e){for(var t=0;t<15;t++)this.data.stickyBonusData[t]=0;this.spinResult=e,Log.d("spinResult = ",this.spinResult);var i=0,n=0,a=0,s=e.free_game_trig,o=e.fg_idx,r=e.fg_total_round;if(1==s&&o<r&&e.item_list_new.length>0){this.gameLayer.freeGameReconnect(e);var l=e.item_list_new[o-1];i=l.hit_value,n=l.fall_value,a=l.jungle_value}else this.gameLayer.returnToMainFromFreeGame(!1,!0),i=this.spinResult.mustHitProgress,n=this.spinResult.treasureProgress,a=this.spinResult.collectProgress;this.recoverProgress(i,n,a)}else console.error("result is empty or not defined")},o.recoverProgress=function(e,t,i){this.showMustHitProgress(e),this.showTreasureNodeProgress(t,!1),this.spinTable.showCollectProgress(i,!1)},o.processSpinResult=function(e,t){if(void 0===t&&(t=null),null!=e){this.spinResult=e,Log.d("spinResult = ",this.spinResult),this.spinTable.spinResult=t?t.item_list:this.spinResult.item_list,this.spinTable.upperSymbols=this.spinResult.upper_reel,this.spinTable.down_reel=this.spinResult.down_reel,this.spinResult.award_notice&&1==this.spinResult.award_notice&&this.gameLayer.showAwardNotice(),this.spinTable.spin(),this.data.received_message=!0,dispatch(R.NOTIFY_SPIN_STOP_NORMAL,!0);var i=this.spinResult.treasureProgress;this.showTreasureNodeProgress(i,!0)}else console.error("result is empty or not defined")},o.stopSpinTable=function(){this.spinTable.stop()},o.performWinShow=function(){this.effectLayer.perform(this.spinResult)},o.stopShow=function(){return this.effectLayer.stopShow()},o.stateChangeTo=function(e,t){void 0===t&&(t=!1),this.state=e,Log.d("stateChangeTo state=",e,t),t&&e==_.Idle&&this.processNextStep()},o.initMustHitLoopAnim=function(){this.mustHitAnim.node.active=!0,this.mustHitAnim.setAnimation(0,"animation",!0)},o.changeMustHitTipState=function(){var e=this,t=this.getMustHitTipStatus();0!==t&&(1==t?(this.mustHitTip.active?(d.stopAllByTarget(this.mustHitTip),this.setMustHitTipStatus(0),f(this.mustHitTip).to(.2,{scale:new L(0,0)}).call((function(){e.setMustHitTipStatus(2)})).call((function(){e.mustHitTip.active=!1})).start()):this.setMustHitTipStatus(2),dispatch(A.PLAY_EFFECT,"audio/base/tips_withdraw")):2==t&&(this.setMustHitTipStatus(0),this.mustHitTip.scale=new L(0,0),this.mustHitTip.active=!0,f(this.mustHitTip).to(.2,{scale:new L(1.2,1.2)}).to(.1,{scale:new L(1,1)}).call((function(){e.setMustHitTipStatus(1)})).delay(3).call((function(){e.changeMustHitTipState()})).start(),dispatch(A.PLAY_EFFECT,"audio/base/tips_pop")))},o.setMustHitTipStatus=function(e){this.mustHitTipStatus=e},o.getMustHitTipStatus=function(){return this.mustHitTipStatus||2},o.showMustHitProgress=function(e){e>this.mustHitTarget||(this.mustHitLevel=e,this.mustHitNum.string=e.toString())},o.playMustHitWinAnim=function(){var e=this;this.mustHitAnim.node.active=!0,this.mustHitAnim.setAnimation(0,"animation2",!1);var t=this.mustHitBoard.getComponent(y);t&&f(t).to(1,{opacity:0},{easing:"fade"}).start(),this.scheduleOnce((function(){e.mustHitNode.active=!1,e.mustHitBoard.getComponent(y).opacity=255,e.initMustHitLoopAnim()}),100/30)},o.showTreasureNodeProgress=function(e,t,i,n){var a=this;if(void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===n&&(n=null),t){for(var s=0,o=this.t_level_delay,r=1,l=1;l<=5;l++)if(!this.coinAnimList[l-1].node.active){r=l;break}for(var u=function(t){a.scheduleOnce((function(){i||dispatch(A.PLAY_EFFECT,"audio/base/water_one");var n=i?"animation"+t+"_2_1":"animation"+t+"_1_1",s=i?"animation"+t+"_2_2":"animation"+t+"_1_2";a.waterfallAnimListR[t-1].node.getComponent(y).opacity=255,a.waterfallAnimListR[t-1].node.active=!0,a.waterfallAnimListR[t-1].setAnimation(0,n,!1),a.waterfallAnimListR[t-1].addAnimation(0,s,!0),a.waterfallAnimListL[t-1].node.getComponent(y).opacity=255,a.waterfallAnimListL[t-1].node.active=!0,a.waterfallAnimListL[t-1].setAnimation(0,n,!1),a.waterfallAnimListL[t-1].addAnimation(0,s,!0),a.coinAnimList[t-1].node.getComponent(y).opacity=255,a.coinAnimList[t-1].node.active=!0,a.coinAnimList[t-1].setAnimation(0,"animation"+(6-t),!1),a.coinAnimList[t-1].addAnimation(0,"animation"+(6-t)+"_1",!0),a.shakeBoard(a.t_shake_dur[e-1],a.t_shake_amp[e-1])}),s*o),s+=1},c=r;c<=e;c++)u(c);this.scheduleOnce((function(){n&&n()}),s*o)}else this.showTreasureNodeProgressNoAni(e),n&&n()},o.showTreasureNodeProgressNoAni=function(e){for(var t=(this.prevTreasureLevel||0)+1;t<=e;t++){var i="animation"+t+"_1_2";this.waterfallAnimListR[t-1].node.getComponent(y).opacity=255,this.waterfallAnimListR[t-1].node.active=!0,this.waterfallAnimListR[t-1].addAnimation(0,i,!0),this.waterfallAnimListL[t-1].node.getComponent(y).opacity=255,this.waterfallAnimListL[t-1].node.active=!0,this.waterfallAnimListL[t-1].addAnimation(0,i,!0),this.coinAnimList[t-1].node.getComponent(y).opacity=255,this.coinAnimList[t-1].node.active=!0,this.coinAnimList[t-1].addAnimation(0,"animation"+(6-t)+"_1",!0)}},o.showTreasureNodeProgressMax=function(e,t,i,n){var a=this;if(void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===n&&(n=null),t){for(var s=0,o=this.t_level_delay,r=1,l=1;l<=5;l++)if(!this.coinAnimList[l-1].node.active){r=l;break}for(var u=function(e){a.scheduleOnce((function(){i||dispatch(A.PLAY_EFFECT,"audio/base/water_one");var t=i?"animation"+e+"_2_1":"animation"+e+"_1_1",n=i?"animation"+e+"_2_2":"animation"+e+"_1_2";a.waterfallAnimListR_max[e-1].node.getComponent(y).opacity=255,a.waterfallAnimListR_max[e-1].node.active=!0,a.waterfallAnimListR_max[e-1].setAnimation(0,t,!1),a.waterfallAnimListR_max[e-1].addAnimation(0,n,!0),a.waterfallAnimListL_max[e-1].node.getComponent(y).opacity=255,a.waterfallAnimListL_max[e-1].node.active=!0,a.waterfallAnimListL_max[e-1].setAnimation(0,t,!1),a.waterfallAnimListL_max[e-1].addAnimation(0,n,!0),a.coinAnimList_max[e-1].node.getComponent(y).opacity=255,a.coinAnimList_max[e-1].node.active=!0,a.coinAnimList_max[e-1].setAnimation(0,"animation"+(6-e),!1),a.coinAnimList_max[e-1].addAnimation(0,"animation"+(6-e)+"_1",!0)}),s*o),s+=1},c=r;c<=e;c++)u(c);this.scheduleOnce((function(){n&&n()}),s*o)}else this.showTreasureNodeProgressNoAni(e),n&&n()},o.clearTreasureProgress=function(e){var t=this;if(void 0===e&&(e=!1),e)for(var i=function(e){if(t.waterfallAnimListR[e-1].node.active){var i=t.waterfallAnimListR[e-1].getComponent(y);i&&f(i).delay(34/30).to(.4,{opacity:0},{easing:"fade"}).call((function(){t.waterfallAnimListR[e-1].node.active=!1})).start()}if(t.waterfallAnimListL[e-1].node.active){var n=t.waterfallAnimListL[e-1].getComponent(y);n&&f(n).delay(34/30).to(.4,{opacity:0},{easing:"fade"}).call((function(){t.waterfallAnimListL[e-1].node.active=!1})).start()}if(t.coinAnimList[e-1].node.active){var a=t.coinAnimList[e-1].getComponent(y);a&&f(a).delay(34/30).to(.4,{opacity:0},{easing:"fade"}).call((function(){t.coinAnimList[e-1].node.active=!1})).start()}if(t.waterfallAnimListR_max[e-1].node.active){var s=t.waterfallAnimListR_max[e-1].getComponent(y);s&&f(s).delay(34/30).to(.4,{opacity:0},{easing:"fade"}).call((function(){t.waterfallAnimListR_max[e-1].node.active=!1})).start()}if(t.waterfallAnimListL_max[e-1].node.active){var o=t.waterfallAnimListL_max[e-1].getComponent(y);o&&f(o).delay(34/30).to(.4,{opacity:0},{easing:"fade"}).call((function(){t.waterfallAnimListL_max[e-1].node.active=!1})).start()}if(t.coinAnimList_max[e-1].node.active){var r=t.coinAnimList_max[e-1].getComponent(y);r&&f(r).delay(34/30).to(.4,{opacity:0},{easing:"fade"}).call((function(){t.coinAnimList_max[e-1].node.active=!1})).start()}},n=1;n<=5;n++)i(n);else for(var a=0;a<5;a++)this.waterfallAnimListR[a].node.active=!1,this.waterfallAnimListL[a].node.active=!1,this.coinAnimList[a].node.active=!1,this.waterfallAnimListR_max[a].node.active=!1,this.waterfallAnimListL_max[a].node.active=!1,this.coinAnimList_max[a].node.active=!1},o.setTreasureLevel=function(e){this.prevTreasureLevel=this.treasureLevel,this.treasureLevel=e||0},o.playTreasureFull=function(){var e=this;this.setTreasureLevel(5),this.showTreasureNodeProgressMax(5,!0,!0,(function(){e.playTreasureFullAnim(),e.scheduleOnce((function(){Log.d("sss playTreasureWinRespin item_list2 = ",e.spinResult.item_list2),e.resetBoardCellsByItemList(),e.effectLayer.TreasureFullTemp=1,e.effectLayer.performTreasureFull()}),2)})),dispatch(A.PLAY_EFFECT,"audio/base/water_full")},o.playTreasureFullAnim=function(e){var t=this;void 0===e&&(e=null);var i=1.2;this.waterfall_win.node.active=!0,this.waterfall_win.setAnimation(0,"animation",!1),dispatch(A.PLAY_EFFECT,"audio/base/water_reels"),this.coins_win_top.node.active=!0,this.coins_win_top.setAnimation(0,"animation",!1),this.shakeBoard(4,4),this.scheduleOnce((function(){t.clearTreasureProgress()}),i),i=68/30,this.scheduleOnce((function(){e&&e()}),i)},o.shakeBoard=function(e,t){var i=this,n=.05,a=1;t&&(a*=t);var s=e,o=Math.floor(s/5/n);f(this.collectNode).repeat(o,f().call((function(){return i.collectNode.setPosition(a,1*a*1+70)})).delay(n).call((function(){return i.collectNode.setPosition(-1*a,1*a+70)})).delay(n).call((function(){return i.collectNode.setPosition(1*a,1*a+70)})).delay(n).call((function(){return i.collectNode.setPosition(-a,1*a*1+70)})).delay(n).call((function(){return i.collectNode.setPosition(0,70)})).delay(n)).start()},o.show_clippingNode=function(e){this.spinTable.node.active=e},o.show_mustHitNode=function(e){if(void 0===e&&(e=!1),e){this.mustHitNode.active=!0;var t=this.mustHitNode.getComponent(y);t&&f(t).to(.5,{opacity:255},{easing:"fade"}).call((function(){return t.opacity=255})).start()}else this.mustHitNode.active=!0},o.hide_mustHitNode=function(e){if(void 0===e&&(e=!1),e){var t=this.mustHitNode.getComponent(y);t&&f(t).to(.5,{opacity:0},{easing:"fade"}).start()}else this.mustHitNode.active=!1},o.processReSpinResult=function(e,t){},o.changeSpinBoardToRespin=function(e,t,i,n){var a=this;if(void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=null),this.respinTable){var s=n||1;this.respinTable.node.active=!0,e?(this.respinTable.showFrameRoot(!1),this.respinTable.showLevel1TigerAppearAnim(),this.respinTable.showTransitionAnim(!0),this.scheduleOnce((function(){a.respinTable.showFrameRoot(!0),a.respinTable.initRespinLayout(s),t&&t()}),25/30),this.scheduleOnce((function(){i&&i()}),2)):(t&&t(),i&&i())}},o.removeBgTable=function(){this.reclippingNode&&this.reclippingNode.destroyAllChildren()},o.initBgTable=function(e,t){void 0===t&&(t=!1);var i=w.CellSize;if(this.reclippingNode){this.reclippingNode.destroyAllChildren();var n=h(this.respinTablePrefab);if(n){this.reclippingNode.addChild(n);var a=n.getComponent(S);a&&(a.spinLayer=this,a.init(i,t),this.respinTable=a)}this.respinTable.spinResult=e;for(var s=[],o=[],r=0;r<15;r++)s[r]=0,o[r]=0;this.respinTable.upperSymbols=s,this.respinTable.down_reel=o,this.respinTable.checkCellsInit()}},o.playBigWinBoardShake=function(){this.gameLayer.playBigWinBoardShake()},o.getBonus2Count=function(e){for(var t=0;t<5;t++)for(var i=0;i<3;i++){e[t][i];w.BONUS_SYMBOLID}},s(t,[{key:"data",get:function(){return App.dataCenter.get(T)}}]),t}(g)).prototype,"effectLayer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(Q.prototype,"spinTablePrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Q.prototype,"clippingNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Q.prototype,"collectNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Q.prototype,"treasureNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Q.prototype,"waterfallAnimListR",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=t(Q.prototype,"waterfallAnimListL",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=t(Q.prototype,"coinAnimList",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=t(Q.prototype,"waterfallAnimListR_max",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=t(Q.prototype,"waterfallAnimListL_max",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=t(Q.prototype,"coinAnimList_max",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=t(Q.prototype,"mustHitNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(Q.prototype,"mustHitBoard",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(Q.prototype,"mustHitAnim",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(Q.prototype,"mustHitNum",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(Q.prototype,"mustHitTip",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(Q.prototype,"reclippingNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(Q.prototype,"respinTablePrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(Q.prototype,"waterfall_win",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(Q.prototype,"coins_win_top",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=Q))||K));o._RF.pop()}}}));

System.register("chunks:///_virtual/SpinReel4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData27.ts","./SubGameDefines27.ts","./SpinElement4.ts","./SubGameConstants22.ts"],(function(t){var e,i,s,l,o,n,h,a,r,p,u,d,c,S,f,m,N,g,b,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,l=t.assertThisInitialized,o=t.createClass},function(t){n=t.cclegacy,h=t._decorator,a=t.Sprite,r=t.Node,p=t.Prefab,u=t.Size,d=t.instantiate,c=t.Tween,S=t.tween,f=t.Vec3,m=t.Component},function(t){N=t.SubGameData},function(t){g=t.SpinReelState},function(t){b=t.SpinElement},function(t){C=t.ThemeJungKingdom}],execute:function(){var y,v,w,I,R,D,P,x,T,A,B;n._RF.push({},"4171eOk7L1FpLREie9eJo1n","SpinReel",void 0);var _=h.ccclass,L=h.property;t("SpinReel",(y=_("SpinReel"),v=L({displayName:"reelBackSprite",type:a}),w=L({displayName:"speedPosNode",type:r}),I=L({displayName:"SpinElement",type:p}),R=L({displayName:"clippingNode",type:r}),y((x=e((P=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).spinTable=null,s(e,"reelBackSprite",x,l(e)),s(e,"speedPosNode",T,l(e)),s(e,"spinElement",A,l(e)),s(e,"clippingNode",B,l(e)),e.spinResult=[],e.upperSymbol=0,e.down_reel=0,e.RollingWithResultIndex=0,e.shouldPlayScatterDown=!1,e.shouldPlayChipDown=!1,e.reelIndex=-1,e.fake_duration=0,e.visibleCellNum=-1,e.realCellNum=-1,e.cellSize=null,e.cellHeight=null,e.windowSize=null,e.realCellStablePosYList=[],e.cells=[],e.visible_cells=[],e.elementZOrder=0,e.toStart=!1,e.toStop=!1,e.stopped=!1,e.duration=0,e.durationState1=-1,e.distanceState2=30,e.distanceState3=0,e.speedState1=2200,e.speedState2=4e3,e.speedState3=300,e.speedState4=240,e.topSpriteIndex=0,e.topReelOrderIndex=0,e.countDown=0,e.state=g.Uninitialized,e.higherClipNode1=null,e.higherClipNode2=null,e.higherClipNode3=null,e.unclipNode=null,e.unclipNode2=null,e.unclipNode3=null,e.unclipNode4=null,e.unclipNode5=null,e.unclipNode6=null,e.unclipNode7=null,e.unclipNode8=null,e.isStrat=!1,e._updateCallback=null,e}i(e,t);var n=e.prototype;return n.setFathers=function(t,e,i,s,l,o,n,h,a,r,p){this.unclipNode=t,this.unclipNode2=e,this.unclipNode3=i,this.unclipNode4=s,this.unclipNode5=l,this.unclipNode6=o,this.unclipNode7=n,this.unclipNode8=h,this.higherClipNode1=a,this.higherClipNode2=r,this.higherClipNode3=p},n.init=function(t,e){this.visibleCellNum=t,this.realCellNum=this.visibleCellNum+2,this.cellSize=e,this.cellHeight=e.height,this.windowSize=new u(e.width,e.height*t),this.cells=[];var i=!1;this.realCellNum%2==0&&(i=!0);var s=Math.floor((this.realCellNum-1)/2);this.realCellStablePosYList=[];for(var l=0;l<this.realCellNum;l++){var o=d(this.spinElement);if(o){this.realCellStablePosYList[l]=(s-l)*this.cellSize.height,i&&(this.realCellStablePosYList[l]+=this.cellSize.height/2),o.setPosition(0,this.realCellStablePosYList[l]),this.node.addChild(o);var n=o.getComponent(b);n&&(n.setFathers(this.clippingNode,this.unclipNode,this.unclipNode2,this.unclipNode3,this.unclipNode4,this.unclipNode5,this.unclipNode6,this.unclipNode7,this.unclipNode8,this.higherClipNode1,this.higherClipNode2,this.higherClipNode3),n.init(l),this.cells[l]=n)}}},n.initReelPositions=function(t,e){void 0===e&&(e=!1);for(var i=0;i<this.realCellNum;i++){var s=0;s=0==i?this.upperSymbol:i==this.realCellNum-1?this.down_reel:t[i-1],this.cells[i].setSymbolIndex(s),this.performScatterDownNoWin(i),e?this.performBonus2Anim(i):this.performChipDownNoWin(i)}this.topSpriteIndex=0,this.stateChangeTo(g.Idle),this.setSymbolUpFather()},n.setSymbolUpFather=function(){for(var t=0;t<this.realCellNum;t++)0==t||t==this.realCellNum-1||this.cells[t].setSymbolIndexFather()},n.startUpdate=function(){this.isStrat=!0},n.stopUpdate=function(){},n.update=function(t){if(this.toStart||this.state!=g.Idle){var e=this.speedPosNode.position.y;if(this.toStart&&this.state==g.Idle)return this.toStart=!1,this.stopped=!1,this.stateChangeTo(g.Rolling),this.symbolDown(),this.duration=0,void(this.fake_duration=0);if(this.toStop&&(this.state==g.Rolling||this.state==g.RollingWithResult||this.state==g.AboutToStop&&this.countDown>0&&!this.data.extendSpin)){this.toStop=!1,this.setAboutToStop(!0);for(var i=0;i<this.realCellNum;i++){var s=(this.topSpriteIndex+i)%this.realCellNum;this.cells[s].node.setPosition(0,this.realCellStablePosYList[i]);var l=0;l=0==i?this.upperSymbol:i==this.realCellNum-1?this.down_reel:this.spinResult[i-1],this.cells[s].setSymbolIndex(l)}this.stateChangeTo(g.AboutToStop),this.countDown=0}if(this.state==g.Rolling||this.state==g.AboutToStop||this.state==g.BounceBack||this.state==g.RollingWithResult){var o=1.2;if(this.state==g.AboutToStop&&0==this.countDown){var n=this.realCellStablePosYList[0]-this.distanceState2-this.cells[this.topSpriteIndex].node.position.y;o=Math.max(.4,Math.min(1,.3-n/(this.cellHeight+this.distanceState2)))}for(var h=t*e*o,a=0;a<this.realCellNum;a++){var r=this.cells[a].node.position.y-h;this.cells[a].node.setPosition(0,r)}g.Rolling==this.state&&(this.data.isFakeSpinning||this.data.extendSpin)?this.fake_duration+=t:this.duration+=t}for(var p=this.topSpriteIndex;this.state==g.Rolling||this.state==g.AboutToStop&&this.countDown>0;){p=(p-1+this.realCellNum)%this.realCellNum;var u=this.cells[p].node.position.y;if(!(u<this.realCellStablePosYList[this.realCellNum-1]))break;u+=this.cellHeight*this.realCellNum,this.cells[p].node.setPosition(0,u),this.topSpriteIndex=p;var d=Math.floor(Math.random()*(C.MAX_RANDOM_SYMBOLID-1+1))+1;this.state==g.AboutToStop?(this.countDown--,void 0===(d=0==this.countDown?this.upperSymbol:this.spinResult[this.countDown-1])&&(console.warn("symbolIndex is undefined"),d=1),this.cells[p].setSymbolIndex(d)):(2==this.reelIndex&&(d=Math.floor(Math.random()*(C.MAX_RANDOM_SYMBOLID-1+1))+1),this.cells[p].setSymbolIndex(d))}for(;this.state==g.RollingWithResult&&this.RollingWithResultIndex>0;){p=(p-1+this.realCellNum)%this.realCellNum;var c=this.cells[p].node.position.y;if(!(c<this.realCellStablePosYList[this.realCellNum-1]))break;c+=this.cellHeight*this.realCellNum,this.cells[p].node.setPosition(0,c),this.topSpriteIndex=p;var S=this.down_reel;this.cells[p].setSymbolIndex(S),this.RollingWithResultIndex--}if(this.state==g.Rolling)this.RollingWithResultIndex>0&&this.duration>this.durationState1&&this.cells[this.topSpriteIndex].node.position.y>this.realCellStablePosYList[0]&&!this.data.extendSpin&&this.stateChangeTo(g.RollingWithResult);else if(this.state==g.RollingWithResult)this.RollingWithResultIndex<=0&&(this.countDown=this.realCellNum-1,this.stateChangeTo(g.AboutToStop));else if(this.state==g.AboutToStop&&this.countDown<=0){var f=this.realCellStablePosYList[0]-this.distanceState2-this.cells[this.topSpriteIndex].node.position.y;if(f>0){for(var m=0;m<this.realCellNum;m++)this.cells[m].node.setPosition(0,this.cells[m].node.position.y+f);this.stateChangeTo(g.BounceBack)}}else if(this.state==g.BounceBack){var N=this.realCellStablePosYList[0]+this.distanceState3-this.cells[this.topSpriteIndex].node.position.y;if(N<0){this.visible_cells=[];for(var b=0;b<this.realCellNum;b++){this.cells[b].node.setPosition(0,this.cells[b].node.position.y+N);var y=App.utils.positiveModulus(b-this.topSpriteIndex,this.realCellNum);y>=1&&y<=this.realCellNum-2&&(this.cells[b].setSymbolIndexFather(),this.performChipDown(b),this.performScatterDown(b),this.visible_cells[y-1]=this.cells[b])}this.playReelStopEffect(),this.stopExpecting(),this.stateChangeTo(g.Idle),this.spinTable.tableChangeToIdle(),this.stopped=!0,this.isStrat&&(this.isStrat=!1,this.stopUpdate())}}}},n.performScatterDown=function(t){this.cells[t].performScatterDownAnimation()},n.performScatterDownNoWin=function(t){this.cells[t].performScatterDownNoWin()},n.performChipDown=function(t){this.cells[t].performChipDown()},n.performChipDownNoWin=function(t){this.cells[t].performChipDownNoWin()},n.performBonus2Anim=function(t){this.cells[t].performBonus2Anim()},n.symbolUp=function(t,e,i){void 0===i&&(i=0),this.cells[t].checkFather(e,i)},n.performExpecting=function(){c.stopAllByTarget(this.speedPosNode),S(this.speedPosNode).to(.1,{position:new f(0,this.speedState2,0)},{easing:"sineInOut"}).start()},n.stopExpecting=function(){this.spinTable&&this.spinTable.stopExpecting(this.reelIndex)},n.chipMulti=function(t,e){},n.chipWinAdd=function(t){this.cells[t].chipWinAdd()},n.performScIdle2=function(){for(var t=0;t<this.spinResult.length;t++)if(this.spinResult[t]==C.SCATTER_SYMBOLID){var e=App.utils.positiveModulus(t-this.topSpriteIndex,this.realCellNum);this.cells[e].performScIdle2()}},n.symbolDown=function(){for(var t=0;t<this.cells.length;t++)c.stopAllByTarget(this.cells[t].node),this.cells[t].stopAnimation(),this.cells[t].checkFather(this.clippingNode)},n.reSpinSymbolDown=function(){for(var t=0;t<this.cells.length;t++){var e=App.utils.positiveModulus(t-this.topSpriteIndex,this.realCellNum);c.stopAllByTarget(this.cells[e].node),this.cells[e].symbolIndex!=C.SCATTER_SYMBOLID&&this.cells[e].checkFather(this.clippingNode)}},n.setDurationState1=function(t){this.durationState1=t},n.getDurationState1=function(){return this.durationState1},n.setDuration=function(t){this.duration=t},n.getDuration=function(){return this.duration},n.isStarted=function(){return this.toStart||this.state!=g.Idle},n.isStopped=function(){return this.toStop||this.state==g.Idle},n.spin=function(){this.isStarted()||(this.toStart=!0,this.toStop=!1,this.setAboutToStop(!1))},n.reSpin=function(){this.toStart=!0,this.toStop=!1,this.setAboutToStop(!1)},n.stop=function(){this.isStopped()||(this.toStop=!0)},n.setAboutToStop=function(t){for(var e=0;e<this.cells.length;e++)this.cells[e].setAboutToStop(t)},n.getVisibleCellsIndexList=function(){return this.visible_cells},n.playReelStopEffect=function(){this.spinTable.playNormalStopEffect()},n.stateChangeTo=function(t){this.state=t,this.state==g.Idle?(c.stopAllByTarget(this.speedPosNode),this.speedPosNode.setPosition(new f(0,0,0))):this.state==g.Rolling?(c.stopAllByTarget(this.speedPosNode),this.speedPosNode.setPosition(new f(0,0,0)),S(this.speedPosNode).to(.1,{position:new f(0,this.speedState1,0)},{easing:"sineInOut"}).start()):this.state==g.BounceBack&&(c.stopAllByTarget(this.speedPosNode),this.speedPosNode.setPosition(new f(0,0,0)),S(this.speedPosNode).to(.15,{position:new f(0,-this.speedState3,0)},{easing:"sineOut"}).start())},o(e,[{key:"data",get:function(){return App.dataCenter.get(N)}}]),e}(m)).prototype,"reelBackSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(P.prototype,"speedPosNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(P.prototype,"spinElement",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(P.prototype,"clippingNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=P))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpinTable4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpinReel4.ts","./SubGameConstants22.ts","./SubGameData27.ts","./SubGameDefines27.ts","./Global.ts","./CommonEvent.ts","./FormatNumber.ts"],(function(t){var i,e,s,n,a,o,l,c,r,h,u,p,d,f,m,y,L,g,S,N,b,v,C,E;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,l=t._decorator,c=t.Mask,r=t.Node,h=t.sp,u=t.Button,p=t.Vec3,d=t.tween,f=t.Tween,m=t.Component},function(t){y=t.SpinReel},function(t){L=t.ThemeJungKingdom},function(t){g=t.SubGameData},function(t){S=t.SpinTableState,N=t.EventName,b=t.THEME_GAME_TYPE},function(t){v=t.Global},function(t){C=t.CommonEvent},function(t){E=t.FormatNumber}],execute:function(){var _,T,B,k,I,F,w,D,x,A,P,O,R,M,Y,G,z,U,W,H,j,X,V,J,K,q,Q,Z,$,tt,it,et,st,nt,at,ot,lt,ct,rt,ht,ut,pt,dt,ft,mt,yt,Lt,gt,St,Nt,bt,vt,Ct,Et,_t,Tt,Bt;o._RF.push({},"72608CH6n9Ik7x4q0su2vvw","SpinTable",void 0);var kt=l.ccclass,It=l.property;t("SpinTable",(_=kt("SpinTable"),T=It({displayName:"clippingNode",type:c}),B=It({displayName:"SpinReel",type:[y]}),k=It({displayName:"higherClipNode1",type:[r]}),I=It({displayName:"higherClipNode2",type:[r]}),F=It({displayName:"higherClipNode3",type:[r]}),w=It({displayName:"unclipNode",type:[r]}),D=It({displayName:"unclipNode2",type:[r]}),x=It({displayName:"unclipNode3",type:[r]}),A=It({displayName:"unclipNode4",type:[r]}),P=It({displayName:"unclipNode5",type:[r]}),O=It({displayName:"unclipNode6",type:[r]}),R=It({displayName:"unclipNode7",type:[r]}),M=It({displayName:"unclipNode8",type:[r]}),Y=It({displayName:"expectAnimation",type:[h.Skeleton]}),G=It({displayName:"skeletonData",type:[h.SkeletonData]}),z=It({displayName:"respinAnimation",type:[h.Skeleton]}),U=It({displayName:"flyAniList",type:[h.Skeleton]}),W=It({displayName:"btnTable",type:u}),H=It({displayName:"collectItemList",type:[h.Skeleton]}),j=It({displayName:"collect_jili",type:h.Skeleton}),X=It({displayName:"collect_full",type:h.Skeleton}),V=It({displayName:"collect_lock",type:h.Skeleton}),J=It({displayName:"collectTipNode",type:r}),K=It({displayName:"stickyBonusNode",type:[r]}),q=It({displayName:"stickyBonus",type:[h.Skeleton]}),Q=It({displayName:"stickyBonusNum",type:[E]}),Z=It({displayName:"bigwin",type:h.Skeleton}),_((it=i((tt=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(i=t.call.apply(t,[this].concat(a))||this).spinLayer=null,s(i,"clippingNode",it,n(i)),s(i,"spinReels",et,n(i)),s(i,"higherClipNode1",st,n(i)),s(i,"higherClipNode2",nt,n(i)),s(i,"higherClipNode3",at,n(i)),s(i,"unclipNode",ot,n(i)),s(i,"unclipNode2",lt,n(i)),s(i,"unclipNode3",ct,n(i)),s(i,"unclipNode4",rt,n(i)),s(i,"unclipNode5",ht,n(i)),s(i,"unclipNode6",ut,n(i)),s(i,"unclipNode7",pt,n(i)),s(i,"unclipNode8",dt,n(i)),s(i,"expectAnimation",ft,n(i)),s(i,"skeletonData",mt,n(i)),s(i,"respinAnimation",yt,n(i)),s(i,"flyAniList",Lt,n(i)),s(i,"btnTable",gt,n(i)),s(i,"collectItemList",St,n(i)),s(i,"collect_jili",Nt,n(i)),s(i,"collect_full",bt,n(i)),s(i,"collect_lock",vt,n(i)),s(i,"collectTipNode",Ct,n(i)),s(i,"stickyBonusNode",Et,n(i)),s(i,"stickyBonus",_t,n(i)),s(i,"stickyBonusNum",Tt,n(i)),s(i,"bigwin",Bt,n(i)),i.cellList=[],i.spinResult=[],i.upperSymbols=[],i.down_reel=[],i.reSpinChipTemp=!1,i.state=S.Idle,i.shouldExpecting=!1,i.stopIndex=0,i.isForceStop=!1,i.shouldExpectingCellList=[],i.shouldExpectingCellList2=[],i.reelEndIndex=0,i.hasScatter=[],i.hasScatterFromLeftNum=[],i.hasChip=[],i.hasChipFromLeftNum=[],i.posXList=[],i.posYList=[],i.lineNum=0,i.durationState1Base_NG=.4,i.durationState1Base_BG=1.5,i.durationDiv=.12,i.durationDivFG=.5,i.durationFast=.04,i.reelFastEffectLength=2.1,i.spinStartEffectEnded=!0,i.spinStopEffectEnded=!0,i.centerX=0,i.centerY=0,i._updateCallback=null,i.mustHitLevel=0,i.levelTarget=8,i.closeTipStatus=2,i.sticky_posXList=[],i.sticky_posYList=[],i.hasChipCount=0,i}e(i,t);var o=i.prototype;return o.onTableTouch=function(){v.playback||dispatch(C.NOTIFY_CLICK_SPIN)},o.clearGroup=function(){this.unscheduleAllCallbacks()},o.onLoad=function(){for(var t=0;t<15;t++)this.sticky_posXList[t]=this.stickyBonusNode[t].getPosition().x,this.sticky_posYList[t]=this.stickyBonusNode[t].getPosition().y,this.stickyBonusNode[t].active=!1,this.stickyBonus[t].node.scale=new p(1.5,1.5);this.bigwin.node.active=!1},o.init=function(t,i,e,s){this.centerX=0,this.centerY=0,this.posXList=i,this.posYList=e,this.lineNum=s;for(var n=0;n<i.length;n++){var a=i[n],o=this.centerY-254,l=this.higherClipNode1[n],c=this.higherClipNode2[n],r=this.higherClipNode3[n],h=this.unclipNode[n],u=this.unclipNode2[n],p=this.unclipNode3[n],d=this.unclipNode4[n],f=this.unclipNode5[n],m=this.unclipNode6[n],L=this.unclipNode7[n],g=this.unclipNode8[n];if(this.spinReels[n]){l.setPosition(a,o),c.setPosition(a,o),r.setPosition(a,o),h.setPosition(a,o),u.setPosition(a,o),p.setPosition(a,o),d.setPosition(a,o),f.setPosition(a,o),m.setPosition(a,o),L.setPosition(a,o),g.setPosition(a,o);var S=this.spinReels[n].getComponent(y);S&&(S.reelIndex=n,S.spinTable=this,S.setFathers(h,u,p,d,f,m,L,g,l,c,r),S.init(s,t),S.setDurationState1(this.durationState1Base_NG+n*this.durationDiv),this.cellList[n]=S)}}},o.checkCellsInit=function(t){void 0===t&&(t=!1);for(var i=0;i<this.cellList.length;i++)this.cellList[i].spinResult=this.spinResult[i],this.cellList[i].upperSymbol=this.upperSymbols[i],this.cellList[i].down_reel=this.down_reel[i],this.cellList[i].initReelPositions(this.spinResult[i],t)},o.performCollectB2ToMustHit=function(){var t=this,i=this.spinLayer.spinResult,e=i.item_list,s=i.mustHitProgress;this.mustHitLevel=s;for(var n,a,o=[1,4,7,2,5,8,3,6,9,2,5,8,1,4,7],l=0;l<e.length;l++)for(var c=this.cellList[l].getVisibleCellsIndexList(),r=0;r<c.length;r++)n=void 0,a=void 0,a="animation"+o[n=3*l+r],c[r].symbolIndex>L.BONUS_SYMBOLID&&(t.flyAniList[n].node.active=!0,t.flyAniList[n].setAnimation(0,a,!1),dispatch(N.PLAY_EFFECT,"audio/base/bonus_fire"),d(t.flyAniList[n].node).delay(1).call((function(){t.spinLayer.showMustHitProgress(s)})).start())},o.performChipWin=function(t){},o.chipMulti=function(t){dispatch(N.PLAY_EFFECT,"audio/bgscmul_win");for(var i=this.spinLayer.chipHitPos,e=this.spinLayer.spinResult.item_list,s=0;s<e.length;s++)for(var n=this.cellList[s].getVisibleCellsIndexList(),a=0;a<n.length;a++){n[a].symbolIndex>L.CHIP_SYMBOLID&&1==i[s][a]&&(n[a].chipWin_zhongjiang(),n[a].chipMulti(t))}},o.chipWinAdd=function(t){for(var i=this,e=0,s=this.spinLayer.chipHitPos,n=this.spinLayer.spinResult.item_list,a=function(){for(var n=i.cellList[o].getVisibleCellsIndexList(),a=function(a){var l=n[a].symbolIndex;if(l>L.CHIP_SYMBOLID&&1==s[o][a]){var c=l*t;i.scheduleOnce((function(){dispatch(N.PLAY_EFFECT,"audio/bgsc_win"),n[a].chipWinAdd(),n[a].chipLabel_zhongjiang(c),n[a].chipWin_zhongjiang()}),e),i.scheduleOnce((function(){dispatch(N.ROLLING_WIN_SCORE,c),dispatch(N.PLAY_EFFECT,"audio/frame_win"),dispatch(N.SET_MUSIC_VOLUME,.2)}),e+.17),e+=.5}},l=0;l<n.length;l++)a(l)},o=0;o<n.length;o++)a();this.scheduleOnce((function(){i.spinLayer.effectLayer.ChipWinTemp=1,i.spinLayer.effectLayer.performChipWin()}),e+.5)},o.performChipWinAfterQuickStop=function(){for(var t=this,i=1,e=this.cellList[2].getVisibleCellsIndexList(),s=0;s<e.length;s++){var n=e[s].symbolIndex;if(n>=12&&n<=15){i=n-10;break}}for(var a=this.spinLayer.chipHitPos,o=this.spinLayer.spinResult.item_list,l=0,c=0;c<o.length;c++)for(var r=this.cellList[c].getVisibleCellsIndexList(),h=0;h<r.length;h++){var u=r[h].symbolIndex;if(u>L.CHIP_SYMBOLID&&1==a[c][h])l+=u*i,r[h].chipMulti(i),r[h].chipWin_zhongjiang()}dispatch(N.ROLLING_WIN_SCORE,l),this.scheduleOnce((function(){t.spinLayer.effectLayer.ChipWinTemp=1,t.spinLayer.effectLayer.performChipWin()}),.5)},o.rearrangeTable=function(){if(b.MAIN==this.data.GameType||b.FREE==this.data.GameType||b.MAPFREE==this.data.GameType)for(var t=0;t<this.cellList.length;t++)this.cellList[t].node.active=!0},o.startUpdate=function(){for(var t=0;t<this.cellList.length;t++)this.cellList[t].startUpdate()},o.stopUpdate=function(){},o.resetChangeToIdle=function(){this.stopUpdate(),this.spinLayer.gameLayer.expectEnd(),this.spinLayer.spinLayerChangeToShow(),this.stateChangeTo(S.Idle)},o.tableChangeToIdle=function(){if(this.reelEndIndex+=1,!(this.reelEndIndex<L.ColumnNum)&&(this.stopUpdate(),this.spinLayer.gameLayer.expectEnd(),this.spinLayer.spinLayerChangeToShow(),this.data.getAutoStatus()||this.data.GameType!=b.MAIN||this.stateChangeTo(S.Idle),b.FREE==this.data.GameType)){var t=this.data.stickyBonusData;this.moveStickyBonusToCorner(t),this.saveStickyBonusData()}},o.saveStickyBonusData=function(){for(var t=this.spinResult,i=0;i<5;i++)for(var e=0;e<3;e++){var s=t[i][e],n=3*i+e;s>L.BONUS_SYMBOLID&&(this.data.stickyBonusData[n]=s)}},o.tableChangeToRoll=function(){this.data.ScatterIndex=1,this.data.cancelEnableStop=!1,this.spinLayer.spinLayerChangeToRoll(),this.stateChangeTo(S.Rolling)},o.spin=function(){if(Log.d("cjh-----spin this.state = ",this.state,this.data.isFakeSpinning),this.state==S.Idle||this.data.isFakeSpinning){var t=0;if(this.shouldExpecting=!1,this.stopIndex=0,this.isForceStop=!1,this.shouldExpectingCellList=[],this.shouldExpectingCellList2=[],this.reelEndIndex=0,Log.d("cjh-----spin type = ",this.data.GameType),b.MAIN==this.data.GameType||b.FREE==this.data.GameType){this.data.isFakeSpinning=!1,this.hasScatter=[],this.hasScatterFromLeftNum=[],this.hasChip=[],this.hasChipFromLeftNum=[];for(var i=0;i<L.ColumnNum;i++)this.hasScatter[i]=!1,this.hasScatterFromLeftNum[i]=0,this.shouldExpectingCellList[i]=!1,this.shouldExpectingCellList2[i]=!1,this.hasChip[i]=!1,this.hasChipFromLeftNum[i]=0,this.cellList[i].setDurationState1(this.durationState1Base_NG);for(var e=0;e<this.cellList.length;e++){this.cellList[e].spinResult=this.spinResult[e],this.cellList[e].upperSymbol=this.upperSymbols[e],this.cellList[e].down_reel=this.down_reel[e],this.cellList[e].RollingWithResultIndex=1,this.cellList[e].shouldPlayScatterDown=!1,this.cellList[e].shouldPlayChipDown=!1;for(var s=L.SCATTER_SYMBOLID,n=0;n<this.cellList[e].spinResult.length;n++)this.cellList[e].spinResult[n]==s&&(this.hasScatter[e]=!0,e>=0&&e<=2?this.cellList[e].shouldPlayScatterDown=!0:3==e?this.hasScatterFromLeftNum[e]>=1&&(this.cellList[e].shouldPlayScatterDown=!0):4==e&&this.hasScatterFromLeftNum[e]>=2&&(this.cellList[e].shouldPlayScatterDown=!0));for(var a=0,o=0,l=0;l<this.cellList[e].spinResult.length;l++){this.cellList[e].spinResult[l]>=L.BONUS_SYMBOLID&&(this.hasChip[e]=!0,a+=1);var c=3*e+l;this.data.stickyBonusData[c]>L.BONUS_SYMBOLID&&(o+=1)}this.hasChip[e]&&e<L.ColumnNum-1?this.hasChipFromLeftNum[e+1]=this.hasChipFromLeftNum[e]+a:this.hasChipFromLeftNum[e+1]=this.hasChipFromLeftNum[e],this.hasScatter[e]&&e<L.ColumnNum-1?this.hasScatterFromLeftNum[e+1]=this.hasScatterFromLeftNum[e]+1:this.hasScatterFromLeftNum[e+1]=this.hasScatterFromLeftNum[e];var r=!1;b.MAIN==this.data.GameType&&(r=this.data.getTurboStatus()),r?0==e?((t=this.durationFast-this.cellList[e].fake_duration)<0&&(t=0),this.cellList[e].setDurationState1(t)):this.cellList[e].setDurationState1(this.cellList[e-1].getDurationState1()):this.hasChipFromLeftNum[e]+this.hasChipCount>=4?0==e?((t=this.durationState1Base_NG-this.cellList[e].fake_duration)<0&&(t=0),this.cellList[e].setDurationState1(t)):3==o?this.cellList[e].setDurationState1(this.cellList[e-1].getDurationState1()+this.durationDiv):(this.cellList[e].setDurationState1(this.cellList[e-1].getDurationState1()+this.reelFastEffectLength),this.shouldExpectingCellList2[e]=!0,this.shouldExpecting=!0):0==e?((t=this.durationState1Base_NG-this.cellList[e].fake_duration)<0&&(t=0),this.cellList[e].setDurationState1(t)):4==e&&this.hasScatterFromLeftNum[e]>=2?(this.cellList[e].setDurationState1(this.cellList[e-1].getDurationState1()+this.reelFastEffectLength),this.shouldExpectingCellList[e]=!0,this.shouldExpecting=!0):this.cellList[e].setDurationState1(this.cellList[e-1].getDurationState1()+this.durationDiv),this.cellList[e].spin()}}var h=t+.5;this.spinStartEffectEnded=!1,this.scheduleOnce(this.endSpinStartEffect,h)}},o.stop=function(){if(this.state==S.Rolling){if(this.clearGroup(),this.isForceStop=!0,b.MAIN==this.data.GameType||b.FREE==this.data.GameType||b.MAPFREE==this.data.GameType)for(var t=0;t<this.cellList.length;t++)this.cellList[t].stop();this.spinStartEffectEnded=!0,this.spinStopEffectEnded=!1,this.scheduleOnce(this.endSpinStopEffect,.25)}},o.endSpinStartEffect=function(){this.spinStartEffectEnded=!0},o.endSpinStopEffect=function(){this.spinStopEffectEnded=!0},o.isRollingEffectFinished=function(){return this.spinStartEffectEnded&&this.spinStopEffectEnded},o.allSymbolDown=function(){for(var t=0;t<this.cellList.length;t++)this.cellList[t].symbolDown()},o.playNormalStopEffect=function(){var t=this;this.stopIndex=this.stopIndex+1,this.isForceStop||this.data.getTurboStatus()&&b.MAIN==this.data.GameType?5==this.stopIndex&&dispatch(N.PLAY_EFFECT,"audio/base/reel_stop"):dispatch(N.PLAY_EFFECT,"audio/base/reel_stop");var i=this.stopIndex;i=Math.min(i,5),this.shouldExpectingCellList[i]?(this.shouldExpectingCellList[i]=!1,this.spinLayer.gameLayer.expectStart(),this.performExpecting(i,!1),dispatch(N.PLAY_EFFECT,"audio/base/scatter_notify"),this.scheduleOnce((function(){t.stopExpecting(i),dispatch(N.STOP_EFFECT,"audio/base/scatter_notify")}),this.reelFastEffectLength+4)):this.shouldExpectingCellList2[i]&&(this.shouldExpectingCellList2[i]=!1,this.spinLayer.gameLayer.expectStart(),this.performExpecting(i,!0),dispatch(N.PLAY_EFFECT,"audio/base/bonus_notify"),this.scheduleOnce((function(){t.stopExpecting(i),dispatch(N.STOP_EFFECT,"audio/base/bonus_notify")}),this.reelFastEffectLength+4))},o.stopAllExpect=function(){var t=this;this.cellList.forEach((function(i,e){t.shouldExpectingCellList[e]=!1,t.shouldExpectingCellList2[e]=!1}))},o.stateChangeTo=function(t){this.state=t,Log.d("cjh-----ThemeHotChiliSpinTable state = ",t)},o.fakeSpin=function(){this.startUpdate();for(var t=this.data.getTurboStatus(),i=0;i<L.ColumnNum;i++)t&&this.data.GameType==b.MAIN?this.cellList[i].setDurationState1(this.durationFast):0==i?this.cellList[i].setDurationState1(this.durationState1Base_NG):this.cellList[i].setDurationState1(this.cellList[i].getDurationState1()+this.durationDiv),this.cellList[i].spin();if(this.data.isFakeSpinning=!0,this.tableChangeToRoll(),this.hasChipCount=0,this.data.GameType==b.FREE){this.hasChipCount=this.getBonusCount(this.data.stickyBonusData),this.showStickyBonus(this.data.stickyBonusData);var e=this.spinLayer.spinResult.stickyBonusData;this.dealStickyBonusOnSpinStart(e)}},o.performExpecting=function(t,i){void 0===i&&(i=!1);this.expectAnimation[t].node.active=!0,this.expectAnimation[t].skeletonData=i?this.skeletonData[2]:this.skeletonData[1],this.expectAnimation[t].clearTracks(),this.expectAnimation[t].setAnimation(0,"animation",!0),this.cellList[t].performExpecting()},o.stopExpecting=function(t){this.expectAnimation[t].node.active=!1},o.clearCollectProgress=function(){for(var t=1;t<=this.levelTarget;t++)this.showCollectItemStatus(t,!1);this.clearLastLevelJili()},o.showCollectProgress=function(t,i){var e=this;if(void 0===i&&(i=!1),!(t<=0||t>this.levelTarget))if(i){var s=t-1;this.showCollectProgress(t-1),this.showCollectItemStatus(t,!0,!0),d(this.collectItemList[s]).delay(.1).call((function(){t==e.levelTarget-1?e.showLastLevelJili():t==e.levelTarget&&(e.clearLastLevelJili(),e.scheduleOnce((function(){e.playCollectFull()}),3))})).start()}else{for(var n=1;n<=t;n++)this.showCollectItemStatus(n,!0);t==this.levelTarget-1&&this.showLastLevelJili()}},o.showCollectItemStatus=function(t,i,e){if(void 0===i&&(i=!1),void 0===e&&(e=!1),!(t<=0||t>this.levelTarget)){var s=t-1;if(i)if(e){var n="animation1_1",a="animation1_2";t==this.levelTarget&&(n="animation2_1",a="animation2_2"),this.collectItemList[s].node.active=!0,this.collectItemList[s].setAnimation(0,n,!1),this.collectItemList[s].addAnimation(0,a,!0)}else{var o="animation1_2";t==this.levelTarget&&(o="animation2_2"),this.collectItemList[s].node.active=!0,this.collectItemList[s].setAnimation(0,o,!0)}else this.collectItemList[s].node.active&&(this.collectItemList[s].node.active=!1)}},o.showLastLevelJili=function(){this.collect_jili.node.active=!0;this.collect_jili.setAnimation(0,"animation",!0)},o.clearLastLevelJili=function(){this.collect_jili.node.active=!1},o.playCollectFull=function(){var t=this;this.collect_full.node.active=!0;this.collect_full.setAnimation(0,"animation",!0),this.scheduleOnce((function(){t.collect_full.node.active=!1}),4)},o.setCollectPartState=function(t,i,e){},o.setCloseTipStatus=function(t){this.closeTipStatus=t},o.getCloseTipStatus=function(){return this.closeTipStatus||2},o.changeStoreTipState=function(){var t=this,i=this.getCloseTipStatus();0!==i&&(1==i?(this.collectTipNode.active?(f.stopAllByTarget(this.collectTipNode),this.setCloseTipStatus(0),d(this.collectTipNode).to(.2,{scale:new p(0,0)}).call((function(){t.setCloseTipStatus(2)})).call((function(){t.collectTipNode.active=!1})).start()):this.setCloseTipStatus(2),dispatch(N.PLAY_EFFECT,"audio/base/tips_withdraw")):2==i&&(this.setCloseTipStatus(0),this.collectTipNode.scale=new p(0,0),this.collectTipNode.active=!0,d(this.collectTipNode).to(.2,{scale:new p(1.2,1.2)}).to(.1,{scale:new p(1,1)}).call((function(){t.setCloseTipStatus(1)})).delay(3).call((function(){t.changeStoreTipState()})).start(),dispatch(N.PLAY_EFFECT,"audio/base/tips_pop")))},o.showStickyBonus=function(t){for(var i=0;i<t.length;i++){var e=t[i];e>L.BONUS_SYMBOLID&&(this.stickyBonusNode[i].active=!0,this.stickyBonusNum[i].updateNumber(e))}},o.clearStickyBonus=function(){for(var t=0;t<15;t++)this.stickyBonusNode[t].active=!1,this.data.stickyBonusData[t]=0},o.dealStickyBonusOnSpinStart=function(t){for(var i=0,e=0;e<t.length;e++){if(t[e]>L.BONUS_SYMBOLID){i+=1;var s=this.stickyBonusNode[e],n=this.sticky_posXList[e],a=this.sticky_posYList[e];this.dealItemMoveBack(s,new p(n,a))}}return i},o.dealStickyBonusOnFastStop=function(t){for(var i=0;i<t.length;i++){if(t[i]>L.BONUS_SYMBOLID){var e=this.stickyBonusNode[i],s=this.sticky_posXList[i],n=this.sticky_posYList[i];this.dealItemMoveBack(e,new p(s,n))}}this.moveStickyBonusToCorner(t)},o.dealItemMoveBack=function(t,i,e){void 0===e&&(e=!1),e?(f.stopAllByTag(1005,t),t.position=i,t.scale=new p(1,1)):d(t).tag(1005).to(.2,{scale:new p(1,1),position:i}).start()},o.moveStickyBonusToCorner=function(t){for(var i=0;i<t.length;i++){if(t[i]>L.BONUS_SYMBOLID){this.stickyBonusNode[i].active=!0;var e=this.stickyBonusNode[i],s=this.sticky_posXList[i],n=this.sticky_posYList[i];f.stopAllByTag(1004,e),d(e).tag(1004).to(.2,{scale:new p(.5,.5),position:new p(s+50,n-50)}).start()}}},o.recoverStickyBonus=function(t){for(var i=0;i<15;i++){var e=t[i];e>L.BONUS_SYMBOLID&&(this.data.stickyBonusData[i]=e)}},o.playFreeStickyBonusWin=function(t){this.dealStickyBonusOnSpinStart(t),dispatch(N.PLAY_EFFECT,"audio/base/respin_trigger");for(var i=0;i<t.length;i++){var e=t[i];e>L.BONUS_SYMBOLID&&(this.stickyBonusNode[i].active=!0,this.stickyBonusNum[i].updateNumber(e),this.stickyBonus[i].node.scale=new p(1.5,1.5),this.stickyBonus[i].setAnimation(0,"animation2",!1),this.stickyBonus[i].addAnimation(0,"animation1",!0))}},o.playBaseBigWinAnim=function(){dispatch(N.PLAY_EFFECT,"audio/base/animation_cele"),this.bigwin.node.active=!0,this.bigwin.setAnimation(0,"animation",!1),this.playBigWinBoardShake()},o.playBigWinBoardShake=function(){this.spinLayer.playBigWinBoardShake()},o.resetBoardCellsByItemList=function(t){void 0===t&&(t=!1);for(var i=this.spinLayer.spinResult.item_list2,e=0;e<5;e++)for(var s=this.cellList[e].getVisibleCellsIndexList(),n=0;n<3;n++){var a=i[e][n];a>L.CHIP_SYMBOLID&&(s[n].setSymbolIndex(a),t&&s[n].performAnimation())}},o.getBonusCount=function(t){for(var i=0,e=0;e<15;e++){t[e]>L.BONUS_SYMBOLID&&(i+=1)}return i},a(i,[{key:"data",get:function(){return App.dataCenter.get(g)}}]),i}(m)).prototype,"clippingNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(tt.prototype,"spinReels",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=i(tt.prototype,"higherClipNode1",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=i(tt.prototype,"higherClipNode2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=i(tt.prototype,"higherClipNode3",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=i(tt.prototype,"unclipNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lt=i(tt.prototype,"unclipNode2",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=i(tt.prototype,"unclipNode3",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=i(tt.prototype,"unclipNode4",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ht=i(tt.prototype,"unclipNode5",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ut=i(tt.prototype,"unclipNode6",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pt=i(tt.prototype,"unclipNode7",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dt=i(tt.prototype,"unclipNode8",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ft=i(tt.prototype,"expectAnimation",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mt=i(tt.prototype,"skeletonData",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yt=i(tt.prototype,"respinAnimation",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lt=i(tt.prototype,"flyAniList",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gt=i(tt.prototype,"btnTable",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=i(tt.prototype,"collectItemList",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=i(tt.prototype,"collect_jili",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=i(tt.prototype,"collect_full",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=i(tt.prototype,"collect_lock",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=i(tt.prototype,"collectTipNode",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=i(tt.prototype,"stickyBonusNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_t=i(tt.prototype,"stickyBonus",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tt=i(tt.prototype,"stickyBonusNum",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bt=i(tt.prototype,"bigwin",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=tt))||$));o._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameConstants22.ts",["cc"],(function(e){var n,o;return{setters:[function(e){n=e.cclegacy,o=e.Size}],execute:function(){var t;e("ThemeJungKingdom",void 0),n._RF.push({},"0fbcfnu//RA6K/zLmDiZo0w","SubGameConstants",void 0),function(e){e.InfoPageNum=4,e.CellSize=new o(130,129),e.ColumnNum=5,e.RowNum=3,e.CellNum=15,e.VisibleCellNum=3;var n=function(e){return e[e.Idle=0]="Idle",e[e.CollectB2ToMustHit=1]="CollectB2ToMustHit",e[e.TreasureFull=2]="TreasureFull",e[e.ChipWin=3]="ChipWin",e[e.BonusAnimation=4]="BonusAnimation",e[e.ScatterAnimation=5]="ScatterAnimation",e[e.SymbolLineAnimation=6]="SymbolLineAnimation",e[e.BigWinAnimation=7]="BigWinAnimation",e[e.FreeGameTrigger=8]="FreeGameTrigger",e[e.StandbyBeforeBonusGameEnter=9]="StandbyBeforeBonusGameEnter",e[e.EnterBonusGame=10]="EnterBonusGame",e[e.StandbyBeforeFreeGameEnter=11]="StandbyBeforeFreeGameEnter",e[e.StandbyBeforePickGameEnter=12]="StandbyBeforePickGameEnter",e[e.NoWinDelay=13]="NoWinDelay",e[e.WinDelay=14]="WinDelay",e[e.Checking=15]="Checking",e}({});e.WinShowState=n;for(var t=e.WinShowStateMap={},a=e.WinShowStateList=["Idle","CollectB2ToMustHit","TreasureFull","ChipWin","BonusAnimation","ScatterAnimation","SymbolLineAnimation","BigWinAnimation","FreeGameTrigger","StandbyBeforeBonusGameEnter","EnterBonusGame","StandbyBeforeFreeGameEnter","StandbyBeforePickGameEnter","NoWinDelay","WinDelay","Checking"],i=0;i<a.length;i++)t[a[i]]=i;var r=function(e){return e[e.FreeGamePopIn=0]="FreeGamePopIn",e[e.FreeGamePopAdd=1]="FreeGamePopAdd",e[e.FreeGamePopOut=2]="FreeGamePopOut",e[e.BonusGamePopIn=3]="BonusGamePopIn",e[e.BonusGamePopAdd=4]="BonusGamePopAdd",e[e.BonusGamePopOut=5]="BonusGamePopOut",e[e.JpPopOut=6]="JpPopOut",e[e.JungleBeastPopIn=7]="JungleBeastPopIn",e[e.SuperJungleBeastPopIn=8]="SuperJungleBeastPopIn",e[e.JungleTipsPopIn=9]="JungleTipsPopIn",e}({});e.PopupType=r;e.TIGER_SYMBOLID=1,e.CHIP_SYMBOLID=11,e.BONUS_SYMBOLID=100,e.SCATTER_SYMBOLID=10,e.WILD_SYMBOLID=12,e.COLLECT_SYMBOLID=13,e.MAX_RANDOM_SYMBOLID=8}(t||(t=e("ThemeJungKingdom",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameData27.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./SubGameDefines27.ts"],(function(t){var e,n,a,i,o,s,r;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){a=t.cclegacy,i=t.Prefab,o=t.instantiate},function(t){s=t.GameData},function(t){r=t.THEME_GAME_TYPE}],execute:function(){a._RF.push({},"42638SaRPtCk41qcUncNNCJ","SubGameData",void 0),t("SubGameData",function(t){function a(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).QUICK_STOP=!1,e.QUICK_SPIN=!1,e.TURBO_SPIN=!1,e.SKIP_SCREENS=!0,e.AUTOPLAY=!1,e.bHasLoadedRes=!1,e.bHasEnterGame=!1,e.ScatterIndex=0,e.m_money=0,e.m_total_bet=0,e.m_buyFreeSpins=15,e.m_slotInfo=null,e.m_lastMapData=null,e.m_response=0,e.loadDataFinish=!1,e.loadFinish=!1,e.isDebug=!1,e.pools=new Map,e.cancelEnableStop=!1,e.isFakeSpinning=!1,e.extendSpin=!1,e.performChipWin=!1,e.QuickStartReelOrders=[],e.bow_state2=1,e.bow_state1=1,e.received_message=!1,e.switch_bet=!1,e.reSpin=!1,e.free_spins=0,e.playBack_jp_data=null,e.ChipWinTemp=!1,e.auto_play_delay=1,e.total_win=0,e.pickMaxCount=0,e.isSuperPick=!1,e.isSuperRespin=!1,e.respin_level=1,e.update_level=!1,e.stickyBonusData=[],e.UnlockFunc=!0,e.m_gameType=r.MAIN,e}e(a,t);var s=a.prototype;return s.initPools=function(){for(var t=1;t<=17;t++)this._createSymbol(t)},s.getPrefabsName=function(t){var e=null;return t>=1&&t<=5?e="H"+t:t>=6&&t<=10?e="L"+(t-5):11==t?e="sc":t>=12&&t<=14?e="bgSc":15==t?e="bgScMulti":16==t?e="chipJpSprite":17==t?e="chipStrLabel":t>1e4&&(e="bgSc"),e},s._createSymbol=function(t){var e=this.getPrefabsName(t);if(e){var n;if(!this.pools.has(e)){var a,s=App.pool.createPool(e),r=null==(a=App.cache.get(this.module,"prefabs/symbol/"+e,i))?void 0:a.data;if(r instanceof i){var u=o(r);s.cloneNode=u}this.pools.set(e,s)}var l=null==(n=this.pools.get(e))?void 0:n.get();if(l)return l}return null},s._recycleSymbol=function(t){var e;this.pools.has(t.name)&&(t.isValid&&(null==(e=this.pools.get(t.name))||e.put(t)))},s.getAutoStatus=function(){return this.AUTOPLAY},s.getTurboStatus=function(){return this.QUICK_SPIN||this.TURBO_SPIN},s.generateRandomArray=function(t,e,n,a,i){void 0===i&&(i=0);for(var o=[],s=0;s<t;s++){for(var r=[],u=0;u<e;u++){var l=Math.floor(Math.random()*(a-n+1))+n;i>0&&l==i&&(l-=1),r.push(l)}o.push(r)}return o},s.reshapeArray=function(t,e,n){if(t.length!==e*n)return null;for(var a=[],i=0;i<e;i++)a.push(t.slice(i*n,i*n+n));return a},s.getBigWinType=function(t){var e=0,n=t/this.total_bet;return Log.d("getJackpotType = ",t,this.total_bet,n),n>=50?e=5:n>=30?e=4:n>=15?e=3:n>=10?e=2:n>=5&&(e=1),e},n(a,[{key:"money",get:function(){return this.m_money},set:function(t){this.m_money=t}},{key:"total_bet",get:function(){return this.m_total_bet},set:function(t){this.m_total_bet=t}},{key:"buyFreeSpins",get:function(){return this.m_buyFreeSpins},set:function(t){this.m_buyFreeSpins=t}},{key:"slotInfo",get:function(){return this.m_slotInfo},set:function(t){this.m_slotInfo=t}},{key:"lastMapData",get:function(){return this.m_lastMapData},set:function(t){this.m_lastMapData=t}},{key:"response",get:function(){return this.m_response},set:function(t){this.m_response=t}},{key:"GameType",get:function(){return this.m_gameType},set:function(t){this.m_gameType=t}}]),a}(s)).module="slot310000014",a._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameDefines27.ts",["cc"],(function(i){var a;return{setters:[function(i){a=i.cclegacy}],execute:function(){a._RF.push({},"9322dtzs4RDDaF/R0V7NKnT","SubGameDefines",void 0);i("EventName",function(i){return i.OnReceiveSlotBet="OnReceiveSlotBet",i.OnReceiveLastMap="OnReceiveLastMap",i.OnReceiveFGSelect="OnReceiveFGSelect",i.OnReceiveFGSpin="OnReceiveFGSpin",i.LoadDataFinish="LoadDataFinish",i.ROLLING_WIN_SCORE="ROLLING_WIN_SCORE",i.RESET_WIN_SCORE="RESET_WIN_SCORE",i.PLAY_EFFECT="PLAY_EFFECT",i.PLAY_MUSIC="PLAY_MUSIC",i.PLAY_EFFECTONESHOT="PLAY_EFFECTONESHOT",i.STOP_ALL_EFFECTS="STOP_ALL_EFFECTS",i.STOP_EFFECT="STOP_EFFECT",i.STOP_MUSIC="STOP_MUSIC",i.SET_MUSIC_VOLUME="SET_MUSIC_VOLUME",i.SET_EFFECT_VOLUME="SET_EFFECT_VOLUME",i.REQUEST_JACKPOT="REQUEST_JACKPOT",i.RECEIVE_JACKPOT="RECEIVE_JACKPOT",i.START_JACKPOT="START_JACKPOT",i.STOP_JACKPOT="STOP_JACKPOT",i.REFRESH_JACKPOT="REFRESH_JACKPOT",i.SLOT_BET_JACKPOT="SLOT_BET_JACKPOT",i.UNLOCK_JACKPOT="UNLOCK_JACKPOT",i.JACKPOT_MOVE="JACKPOT_MOVE",i.JACKPOT_BACK="JACKPOT_BACK",i.GET_JP_REWARD="GET_JP_REWARD",i.UNLOCK_FUNC="UNLOCK_FUNC",i}({})),i("preloadAudio",["audio/base/bg_bgm","audio/free/fg_bgm","audio/respin/respin_bgm","audio/respin/sp_respin_bgm","audio/pick/pick_bgm","audio/base/win1","audio/base/win1end","audio/base/win2","audio/base/win2end","audio/base/reel_stop","audio/base/click","audio/base/bell","audio/voice/nice_win","audio/base/animation_welcome","audio/base/map_lock","audio/base/map_unlock","audio/base/map_full","audio/base/tips_pop","audio/base/tips_withdraw","audio/base/base_click1","audio/base/base_click2","audio/base/base_click3","audio/base/bonus_fire","audio/base/water_one","audio/base/water_full","audio/base/bonus_land","audio/base/bonus_notify","audio/base/scatter_land1","audio/base/scatter_land2","audio/base/scatter_land3","audio/base/scatter_notify","audio/base/animation_notify","audio/base/animation_cele","audio/voice/voice_reg1","audio/voice/voice_reg2","audio/voice/voice_reg3","audio/voice/voice_roar1","audio/voice/voice_roar2","audio/voice/voice_roar3","audio/voice/voice_roar4","audio/voice/voice_roar5","audio/base/water_reels","audio/base/transition_base_respin","audio/base/transition_respin_base","audio/base/transition_base_free","audio/base/transition_free_base","audio/base/transition_musthit","audio/base/respin_trigger","audio/respin/tiger_land","audio/respin/tiger_trigger","audio/respin/tiger_collect","audio/respin/tiger_transition","audio/respin/tiger_add","audio/respin/bill_appear","audio/respin/bill_collect","audio/respin/bill_footer","audio/respin/fire_ring","audio/base/respin_end","audio/respin/respin_click","audio/pick/pick_click1","audio/pick/pick_click2","audio/pick/sp_jp_appear","audio/voice/voice_pick","audio/voice/voice_cele1","audio/voice/voice_cele2","audio/voice/voice_cele3","audio/dialog/dialog_tips","audio/dialog/dialog_respin","audio/dialog/dialog_sp_respin","audio/dialog/dialog_fg_start","audio/dialog/dialog_fg_collect","audio/dialog/pick_start","audio/dialog/sp_pick_start","audio/dialog/dialog_double1","audio/dialog/dialog_grand1","audio/dialog/dialog_major1","audio/dialog/dialog_minor1","audio/dialog/dialog_mini1","audio/dialog/dialog_double2","audio/dialog/dialog_grand2","audio/dialog/dialog_major2","audio/dialog/dialog_minor2","audio/dialog/dialog_mini2","audio/dialog/dialog_withdraw","audio/base/reel_stop","audio/base/bell","audio/base/win1","audio/base/win1end","audio/base/win2","audio/base/win2end","audio/base/click"]),i("preloadAudio_common",["audio/bet1","audio/bet2","audio/bet3","audio/bet4","audio/bet5","audio/bet6","audio/bet7","audio/bet8","audio/bet9","audio/bet10","audio/bet11","audio/bet12","audio/bet13","audio/bet14","audio/bet15","audio/bet16","audio/bet17","audio/bet18","audio/bet19","audio/bet20","audio/bet21","audio/bet21_max"]),i("SpinLayerState",function(i){return i[i.Uninitialized=0]="Uninitialized",i[i.Idle=1]="Idle",i[i.Rolling=2]="Rolling",i[i.Show=3]="Show",i}({})),i("SpinTableState",function(i){return i[i.Uninitialized=0]="Uninitialized",i[i.Idle=1]="Idle",i[i.Rolling=2]="Rolling",i}({})),i("SpinReelState",function(i){return i[i.Uninitialized=0]="Uninitialized",i[i.Idle=1]="Idle",i[i.Rolling=2]="Rolling",i[i.RollingWithResult=3]="RollingWithResult",i[i.AboutToStop=4]="AboutToStop",i[i.BounceBack=5]="BounceBack",i}({})),i("THEME_GAME_TYPE",function(i){return i[i.MAIN=0]="MAIN",i[i.FREE=1]="FREE",i[i.BONUS=2]="BONUS",i[i.FREEBONUS=3]="FREEBONUS",i[i.MAPFREE=4]="MAPFREE",i[i.MAPBONUS=5]="MAPBONUS",i[i.SPECIAL=6]="SPECIAL",i[i.superFG=7]="superFG",i[i.BIG_GAME=8]="BIG_GAME",i[i.REG_GAME=9]="REG_GAME",i}({}));a._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameLanguage27.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageDelegate.ts","./SubGameData27.ts","./Enums.ts"],(function(e){var u,t,n,_,a,i;return{setters:[function(e){u=e.inheritsLoose},function(e){t=e.cclegacy},function(e){n=e.injectLanguageData,_=e.LanguageDelegate},function(e){a=e.SubGameData},function(e){i=e.sys_Language}],execute:function(){var r;t._RF.push({},"601a92w5sJPhKhB0o0i+5FT","SubGameLanguage",void 0);var g={language:i.CHINESE,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},o={language:i.ENGLISH,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},l={language:i.Indonesian,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},x={language:i.Malay,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},b={language:i.Portuguese,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},s={language:i.Thai,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},f={language:i.Vietnamese,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}};e("slot3000505_Lan",o),e("SubGameLanguage",n(r=function(e){function t(){for(var u,t=arguments.length,n=new Array(t),_=0;_<t;_++)n[_]=arguments[_];return(u=e.call.apply(e,[this].concat(n))||this).bundle=a.module,u}return u(t,e),t.prototype.init=function(){this.add(g),this.add(o),this.add(l),this.add(x),this.add(b),this.add(s),this.add(f)},t}(_))||r);t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/slot310000014', 'chunks:///_virtual/slot310000014'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});