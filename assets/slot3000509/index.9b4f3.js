System.register("chunks:///_virtual/AutoScaleNode5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(t){var e,n,o,i,a,r,c,s,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.NodeEventType,s=t.UITransform,l=t.Vec3},function(t){u=t.default}],execute:function(){var d,h,p;a._RF.push({},"5db1f+8whFM7bIgPN2tdiF3","AutoScaleNode",void 0);var f=r.ccclass,v=r.property;t("AutoScaleNode",f("AutoScaleNode")((p=e((h=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"maxWidth",p,i(e)),e}n(e,t);var a=e.prototype;return a.start=function(){},a.addEvents=function(){t.prototype.addEvents.call(this),this.onN(this.node,c.SIZE_CHANGED,this.autoScaleSelf,this)},a.autoScaleSelf=function(){var t,e=null==(t=this.node)||null==(t=t.getComponent(s))?void 0:t.contentSize;if(e){var n=1,o=new l(n,n,n),i=this.node.scale;e.width>this.maxWidth?(n=this.maxWidth/e.width,this.node.setScale(new l(n,n,n))):i.x!==o.x&&this.node.setScale(o)}},e}(u)).prototype,"maxWidth",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),d=h))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundView5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameDefines8.ts","./SubGameConstants7.ts","./CommonEvent.ts"],(function(e){var t,i,a,r,n,o,c,l,s,p,u,f,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,c=e.Node,l=e.NodeEventType,s=e.Vec3,p=e.UITransform},function(e){u=e.default},function(e){f=e.EventName},function(e){d=e.SubGameConstants},function(e){h=e.CommonEvent}],execute:function(){var _,m,v,y,b,g,S,E,N,w,C,A;n._RF.push({},"fb499qHI0hEJbREiatXHWlB","BackgroundView",void 0);var L=o.ccclass,T=o.property;e("default",(_=T({type:c,displayName:"Landspcape Free"}),m=T({type:c,displayName:"Landscape Normal"}),v=T({type:c,displayName:"Portrait Free"}),y=T({type:c,displayName:"Portrait Normal"}),b=T({type:c,displayName:"TOUCH FOLIAGES"}),L((E=t((S=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"landscape_free",E,r(t)),a(t,"landscape_normal",N,r(t)),a(t,"portrait_free",w,r(t)),a(t,"portrait_normal",C,r(t)),a(t,"touch_foliages",A,r(t)),t.b_freeModel=!1,t}i(t,e);var n=t.prototype;return n.onLoad=function(){e.prototype.onLoad.call(this)},n.addEvents=function(){e.prototype.addEvents.call(this),this.onN(this.touch_foliages,l.TOUCH_END,this.onTouchEnd),this.onD(h.SWITCH_SCREEN,this.onSwitchScreen)},n.switchFreeScene=function(e,t){this.landscape_free.active=!1,this.landscape_normal.active=!1,this.portrait_free.active=!1,this.portrait_normal.active=!1;var i=null;e?(this.b_freeModel=!0,i=d.AudioSource.BGM_Aztec_03,"portrait"===App.utils.getOrientation()?this.portrait_free.active=!0:this.landscape_free.active=!0):(this.b_freeModel=!1,i=d.AudioSource.BGM_Aztec_01,"portrait"===App.utils.getOrientation()?this.portrait_normal.active=!0:this.landscape_normal.active=!0),dispatch(f.PLAY_MUSIC,i)},n.onSwitchScreen=function(e){this.landscape_free.active=!1,this.landscape_normal.active=!1,this.portrait_free.active=!1,this.portrait_normal.active=!1,this.b_freeModel?"portrait"===e?this.portrait_free.active=!0:this.landscape_free.active=!0:"portrait"===e?this.portrait_normal.active=!0:this.landscape_normal.active=!0},n.onTouchEnd=function(e){var t=new s(e.getUILocation().x,e.getUILocation().y,0),i=this.touch_foliages.getComponent(p).convertToNodeSpaceAR(t);dispatch(f.SHOW_TOUCH_FOLIAGES,i)},t}(u)).prototype,"landscape_free",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(S.prototype,"landscape_normal",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(S.prototype,"portrait_free",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(S.prototype,"portrait_normal",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(S.prototype,"touch_foliages",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=S))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./NumberRoller.ts","./SubGameDefines8.ts"],(function(i){var n,e,t,a,o,s,c,u,r,p,l,d,_,h,w,g,b,m;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized,o=i.createClass},function(i){s=i.cclegacy,c=i._decorator,u=i.Node,r=i.sp,p=i.Animation,l=i.find,d=i.ParticleSystem2D,_=i.tween,h=i.Vec3},function(i){w=i.default},function(i){g=i.inject},function(i){b=i.NumberRoller},function(i){m=i.EventName}],execute:function(){var T,E,y,F,f,S,C,k,A,P,L,v,O,N,Y,B,W,V,z,D,M;s._RF.push({},"a86e6Ne0LBL6IYe0h33eNIe","BigWinLayer",void 0);var U=c.ccclass,R=c.property;i("default",(T=U("BigWinLayer"),E=g("content",u),y=R({displayName:"glow1",type:r.Skeleton}),F=R({displayName:"thecoins",type:u}),f=R({displayName:"coin",type:u}),S=R({displayName:"animation",type:r.Skeleton}),C=R({displayName:"dk",type:r.Skeleton}),k=R({displayName:"winScoreNode",type:u}),A=R({displayName:"winScore",type:b}),P=R({displayName:"animCoin",type:p}),T((O=n((v=function(i){function n(){for(var n,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o))||this,t(n,"content",O,a(n)),t(n,"glow1",N,a(n)),t(n,"thecoins",Y,a(n)),t(n,"coin",B,a(n)),t(n,"animation",W,a(n)),t(n,"dk",V,a(n)),t(n,"winScoreNode",z,a(n)),t(n,"winScore",D,a(n)),t(n,"animCoin",M,a(n)),n.cinType=[6,6,4,30,10,10,10,10,6,6,6,4,12,12],n.winTypeSkin=["default","big","super","epic","mega","ultimate"],n.winTypeSkinAni=["ani_intro","ani_idle_big","ani_idle_super","ani_idle_epic","ani_idle_mega","ani_idle_ultimate"],n.winTypeAnim=["ani_idle","ani_intro","ani_out"],n.winTypeDuration=[0,6.4,6.4,8,8,11.2],n.winType=0,n.winNum=0,n.WinMusicTimes=[0,3,3,4,4,6],n.cb=null,n.tb=1,n.close_type=0,n.scoreTween=null,n.isout=!1,n}e(n,i),n.getPrefabUrl=function(){return"bigwin/prefab/BigWinLayer"};var s=n.prototype;return s.onLoad=function(){i.prototype.onLoad.call(this),this.onN(l("mask",this.node),u.EventType.TOUCH_END,this.onQuickClose)},s.addEvents=function(){i.prototype.addEvents.call(this)},n.isBigWin=function(i){return i>=5},s.onShow=function(){if(this.args&&this.args.length>0){if(this.winType=this.args[0],this.winNum=this.args[1],this.cb=this.args[2],this.winType<=0&&this.args.length>3){var n=this.args[3];this.winType=n>=5&&n<10?1:n>=10&&n<15?2:n>=15&&n<30?3:n>=30&&n<50?4:5}this.stopScoreEffect(),this.isout=!1,this.close_type=0,this.coin.active=!1,this.glow1.node.active=!1,this.animCoin.stop(),this.dk.node.active=!1,this.init(this.winType,this.winNum,this.args[2]),this.playBigWinStartSound(this.winTypeSkin[this.winType])}i.prototype.onShow.call(this)},s.onClose=function(){this.unscheduleAllCallbacks(),i.prototype.onClose.call(this)},s.init=function(i,n,e){for(var t=this,a=0;a<this.thecoins.children.length;a++){this.thecoins.children[a].getComponent(d).emissionRate=this.cinType[a]}this.animation.clearTracks(),this.animation.node.active=!0,this.animation.setSkin(this.winTypeSkin[i]),this.playBigWinVocals(this.winTypeSkin[i]),this.animation.setAnimation(0,this.winTypeAnim[1],!1),this.animation.addAnimation(0,this.winTypeAnim[0],!0);var o=0;this.animation.setCompleteListener((function(n){(n.animation?n.animation.name:"")===t.winTypeAnim[0]&&++o===t.WinMusicTimes[i]&&t.stopAnimation()})),this.dk.setAnimation(0,this.winTypeSkinAni[0],!1),this.glow1.node.active=!0,this.glow1.setAnimation(0,"glow_intro",!1),this.dk.node.active=!0,this.scheduleOnce((function(){var n;"ani_idle_out"!=(null==(n=t.dk.getComponent(r.Skeleton))?void 0:n.animation)&&(t.dk.setAnimation(0,t.winTypeSkinAni[i],!1),t.glow1.setAnimation(0,"glow_idle",!0))}),2),this.scheduleOnce((function(){t.coin.active=!0,t.animCoin.play("coin_ani")}),1),this.winScore.startRolling(0,n,this.winTypeDuration[i],(function(){_(t.winScoreNode).to(.2,{scale:new h(1.5,1.5,1.5)}).to(.2,{scale:new h(1,1,1)}).start()}))},s.onQuickClose=function(){this.isout||(0==this.close_type?(this.StopBigWinStartSound(this.winTypeSkin[this.winType]),this.playBigWinFinishSound(this.winTypeSkin[this.winType]),this.stopAnimation()):1==this.close_type&&(dispatch(m.STOP_ALL_EFFECTS),this._stopAllEffect(this.winTypeSkin[this.winType]),this.playBigWinlastSound(this.winTypeSkin[this.winType]),this.unscheduleAllCallbacks(),this.stopAndCloseView()))},s.stopAnimation=function(){var i=this;this.close_type=1,this.winScore.stopRollingAndShowNumber(this.winNum),this.animation.setAnimation(0,this.winTypeAnim[2],!1),this.animation.setCompleteListener((function(n){(n.animation?n.animation.name:"")===i.winTypeAnim[2]&&(i.animation.node.active=!1,i.dk.node.active=!1,i.isout=!0,i.glow1.node.active=!1)})),this.dk.setAnimation(0,"ani_idle_out",!1),this.glow1.setAnimation(0,"glow_out",!1),this.animCoin.stop(),this.scheduleOnce((function(){for(var n=0;n<i.thecoins.children.length;n++){i.thecoins.children[n].getComponent(d).emissionRate=0}}),.5),this.scheduleOnce((function(){i.stopAndCloseView()}),1.5)},s.playScoreEffect=function(){this.scoreTween=_(this.dk.node).to(.4,{scale:new h(1,1,1)}).to(.4,{scale:new h(.8,.8,.8)}).union().repeatForever().start()},s.stopScoreEffect=function(){this.scoreTween&&this.scoreTween.stop()},s.stopAndCloseView=function(){this.close_type=2,this.stopScoreEffect(),this.cb&&this.cb(),dispatch(m.STOP_ALL_EFFECTS),dispatch(m.SET_MUSIC_VOLUME,1),this.close()},s.playBigWinVocals=function(i){switch(i){case"big":dispatch(m.PLAY_EFFECT,"bigwin/audio/big");break;case"mega":dispatch(m.PLAY_EFFECT,"bigwin/audio/mega");break;case"epic":dispatch(m.PLAY_EFFECT,"bigwin/audio/epic");break;case"super":dispatch(m.PLAY_EFFECT,"bigwin/audio/super");break;case"ultimate":dispatch(m.PLAY_EFFECT,"bigwin/audio/ultimate")}},s.playBigWinStartSound=function(i){switch(dispatch(m.SET_MUSIC_VOLUME,0),i){case"big":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_big_win_01");break;case"epic":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_epic_win_01");break;case"super":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_super_win_01");break;case"mega":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_mega_win_01");break;case"ultimate":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_ultimate_win_01")}},s.StopBigWinStartSound=function(i){switch(dispatch(m.SET_MUSIC_VOLUME,0),i){case"big":dispatch(m.STOP_EFFECT,"bigwin/audio/sound_big_win_01");break;case"epic":dispatch(m.STOP_EFFECT,"bigwin/audio/sound_epic_win_01");break;case"super":dispatch(m.STOP_EFFECT,"bigwin/audio/sound_super_win_01");break;case"mega":dispatch(m.STOP_EFFECT,"bigwin/audio/sound_mega_win_01");break;case"ultimate":dispatch(m.STOP_EFFECT,"bigwin/audio/sound_ultimate_win_01")}},s.playBigWinFinishSound=function(i){switch(i){case"big":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_big_win_02");break;case"epic":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_epic_win_02");break;case"super":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_super_win_02");break;case"mega":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_mega_win_02");break;case"ultimate":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_ultimate_win_02")}},s.playBigWinlastSound=function(i){switch(i){case"big":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_big_win_03");break;case"epic":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_epic_win_03");break;case"super":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_super_win_03");break;case"mega":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_mega_win_03");break;case"ultimate":dispatch(m.PLAY_EFFECT,"bigwin/audio/sound_ultimate_win_03")}},s._stopAllEffect=function(i){switch(i){case"big":dispatch(m.STOP_EFFECT,"bigwin/audio/sound_big_win_01"),dispatch(m.STOP_EFFECT,"bigwin/audio/sound_big_win_02"),dispatch(m.STOP_EFFECT,"bigwin/audio/sound_big_win_03");break;case"epic":dispatch(m.STOP_EFFECT,"bigwin/audio/sound_epic_win_01"),dispatch(m.STOP_EFFECT,"bigwin/audio/sound_epic_win_02"),dispatch(m.STOP_EFFECT,"bigwin/audio/sound_epic_win_03");break;case"super":dispatch(m.STOP_EFFECT,"bigwin/audio/sound_super_win_01"),dispatch(m.STOP_EFFECT,"bigwin/audio/sound_super_win_02"),dispatch(m.STOP_EFFECT,"bigwin/audio/sound_super_win_03");break;case"mega":dispatch(m.STOP_EFFECT,"bigwin/audio/sound_super_mega_01"),dispatch(m.STOP_EFFECT,"bigwin/audio/sound_super_mega_02"),dispatch(m.STOP_EFFECT,"bigwin/audio/sound_super_mega_03");break;case"ultimate":dispatch(m.STOP_EFFECT,"bigwin/audio/sound_ultimate_win_01"),dispatch(m.STOP_EFFECT,"bigwin/audio/sound_ultimate_win_02"),dispatch(m.STOP_EFFECT,"bigwin/audio/sound_ultimate_win_03")}},o(n,[{key:"showAction",get:function(){var i=this;return function(n){App.utils.showView(i.content,n)}}},{key:"closeAction",get:function(){var i=this;return function(n){App.utils.hideView(i.content,n)}}}]),n}(w)).prototype,"content",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(v.prototype,"glow1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(v.prototype,"thecoins",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(v.prototype,"coin",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(v.prototype,"animation",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(v.prototype,"dk",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(v.prototype,"winScoreNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(v.prototype,"winScore",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(v.prototype,"animCoin",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=v))||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/BuyFreeSpinsView5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./CommonEvent.ts","./SubGameDefines8.ts","./NumberCurrency.ts","./SubGameConstants7.ts"],(function(t){var e,i,n,o,s,a,c,r,l,u,h,p,_,b,d,f,E,y,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,c=t.sp,r=t.Node,l=t.Button,u=t.UIOpacity,h=t.tween},function(t){p=t.default},function(t){_=t.CommonEvent},function(t){b=t.ANI_APPEAR,d=t.EventName,f=t.ANI_LOOP,E=t.ANI_DISAPPEAR},function(t){y=t.NumberCurrency},function(t){m=t.SubGameConstants}],execute:function(){var k,S,v,A,g,C,P,F,O,T,U,L,R;s._RF.push({},"0d73fkdMu1MCI7T4lj8zWkg","BuyFreeSpinsView",void 0);var B=a.ccclass,N=a.property;t("default",(k=B("BuyFreeSpinsView"),S=N({type:c.Skeleton}),v=N({type:r}),A=N({type:y}),g=N({type:l}),C=N({type:l}),k((O=e((F=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"skeleton",O,o(e)),n(e,"label_score_node",T,o(e)),n(e,"label_score",U,o(e)),n(e,"btn_ok",L,o(e)),n(e,"btn_close",R,o(e)),e.logic=null,e.b_clickable=!1,e}i(e,t),e.getPrefabUrl=function(){return"prefabs/BuyFreeSpinsView"};var s=e.prototype;return s.onLoad=function(){this.skeleton&&(this.skeleton.setCompleteListener(this.onSpinsCompleteListener.bind(this)),this.skeleton.setEventListener(this.onJackpotEventListener.bind(this))),t.prototype.onLoad.call(this)},s.addEvents=function(){t.prototype.addEvents.call(this),this.onD(_.SWITCH_SCREEN,this.onSwitchScreen),this.onD(_.DISPATCH_TOTAL_BET,this.onRefreshBetAmount)},s.onClose=function(){t.prototype.onClose.call(this)},s.onDestroy=function(){t.prototype.onDestroy.call(this)},s.onShow=function(){this.args&&this.args.length>0&&(this.logic=this.args[0],this.b_clickable=!1,this.label_score_node.active=!0,this.btn_close.node.active=!0,this.btn_ok.node.active=!0,this.onRefreshBetAmount(),this.skeleton.clearTracks(),this.skeleton.setAnimation(0,b,!1),dispatch(d.PLAY_EFFECT,m.AudioSource.SOUND_POPUPS_OPEN)),dispatch(_.NOTIFY_BUY_FEATURE,!0),t.prototype.onShow.call(this)},s.onSpinsCompleteListener=function(t){var e=t.animation?t.animation.name:"";e===b?(this.skeleton.setAnimation(0,f,!0),this.b_clickable=!0):e===E&&this.close()},s.onJackpotEventListener=function(t,e){var i=t.animation?t.animation.name:"";i===b?this.increaseOpacity():i===E&&this.reduceOpacity()},s.onRefreshBetAmount=function(){var t=this.logic.data.total_bet*this.logic.data.BUYFEATURE_MULTIPLE;this.label_score.updateNumber(t)},s.onSwitchScreen=function(t){"portrait"===t?this.node.setPosition(20,240,0):this.node.setPosition(20,0,0)},s.onClickClose=function(){this.b_clickable&&(this.b_clickable=!1,this.btn_close.node.active=!1,this.btn_ok.node.active=!1,this.label_score_node.active=!1,this.skeleton.clearTracks(),this.skeleton.setAnimation(0,E,!1),dispatch(d.RECOVER_BUY_FREE_BTN),dispatch(d.PLAY_EFFECT,m.AudioSource.SOUND_POPUPS_CLOSE),dispatch(_.NOTIFY_BUY_FEATURE))},s.onClickOK=function(){if(this.b_clickable){var t=this.logic.data.total_bet*this.logic.data.BUYFEATURE_MULTIPLE;App.utils.notEnoughScore(this.logic.data.money,t)||(this.b_clickable=!1,this.btn_close.node.active=!1,this.btn_ok.node.active=!1,this.label_score_node.active=!1,this.logic.data.buy_free_spins=!0,this.logic.onSendBuyFreeSpins(),this.skeleton.clearTracks(),this.skeleton.setAnimation(0,E,!1),dispatch(_.NOTIFY_FREE_MODE),dispatch(d.RECOVER_BUY_FREE_BTN),dispatch(d.PLAY_EFFECT,m.AudioSource.SOUND_POPUPS_CONFIRM))}},s.increaseOpacity=function(){var t=this.label_score_node.getComponent(u);h(t).to(.13,{opacity:255}).start()},s.reduceOpacity=function(){var t=this.label_score_node.getComponent(u);h(t).to(.13,{opacity:0}).start()},e}(p)).prototype,"skeleton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(F.prototype,"label_score_node",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(F.prototype,"label_score",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(F.prototype,"btn_ok",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(F.prototype,"btn_close",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=F))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/EffectView4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameDefines8.ts","./NumberCurrency.ts","./SubGameData8.ts","./UIView.ts","./CommonEvent.ts","./SubGameConstants7.ts"],(function(e){var t,o,n,i,a,s,r,c,l,u,d,p,h,f,_,m,S,y,C,g,v,E,N,b,L,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,c=e.Node,l=e.find,u=e.UIOpacity,d=e.tween,p=e.Vec3,h=e.Label,f=e.sp,_=e.Sprite,m=e.UITransform,S=e.Prefab,y=e.instantiate},function(e){C=e.EventName,g=e.CELL_ANI_DROP,v=e.CELL_ICON_URL},function(e){E=e.NumberCurrency},function(e){N=e.SubGameData},function(e){b=e.default},function(e){L=e.CommonEvent},function(e){P=e.SubGameConstants}],execute:function(){var I,w,A,R,T,k,F;s._RF.push({},"b750dEcJC9Cbp2mCPj1IfdX","EffectView",void 0);var O=r.ccclass,M=r.property;e("default",(I=O("EffectView"),w=M({type:c}),A=M({type:c}),I((k=t((T=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"win_score_effect_landscape",k,i(t)),n(t,"win_score_effect_portrait",F,i(t)),t.pools=new Map,t.raidenSkeleton=null,t.raidenNode=null,t.foliagesSke=null,t.foliagesNode=null,t}o(t,e);var s=t.prototype;return s.onLoad=function(){e.prototype.onLoad.call(this),this.raidenSkeleton&&this.raidenSkeleton.setCompleteListener(this.onRaidenCompleteListener.bind(this)),this.foliagesSke&&this.foliagesSke.setCompleteListener(this.foliagesAnimCompleteListener.bind(this))},s.onDestroy=function(){this.pools.forEach((function(e){App.pool.deletePool(e)})),this.pools.clear()},s.addEvents=function(){e.prototype.addEvents.call(this),this.onD(C.SHOW_WIN_SCORE,this.initWinningScore),this.onD(C.SHOW_WIN_MULTIPILER_SCORE,this.initLabelMultipiler),this.onD(C.SHOW_RAIDEN_ANIM,this.createRaiden),this.onD(C.SHOW_WINNING_ITEM,this.createIconRecord),this.onD(C.RECYCLE_WINNING_ITEM,this.recycleIconRecord),this.onD(C.SHOW_TOUCH_FOLIAGES,this.createFoliages),this.onD(C.MOVE_SCATTER_ICON,this.setScatterPos)},s.initWinningScore=function(e,t,o){var n=this,i=l("GridViewMask",this.node.parent).getScale(),a=this.convertNodePos(this.node,e),s=this.winScoreMoveToPos(),r=this._createSymbol("LabelScore");if(r){var c,h;r.getComponent(u);r.setPosition(a),r.setScale(i),this.node.addChild(r);var f=null==(c=l("NumberCurrency/label_currency",r))?void 0:c.getComponent(E);f&&f.updateNumber(t);var _=[],m=d(r).to(.1,{scale:new p(1.4*i.x,1.4*i.y),position:new p(a.x,a.y+10*i.y,a.z)},{easing:"circOut"}).to(.5,{scale:new p(1,1),position:new p(s)},{easing:"quadIn"}).call((function(){dispatch(C.PLAY_EFFECT,P.AudioSource.NUMBER_FLY)})).union();_.push(m),_.push(d().call((function(){dispatch(L.NOTIFY_WINSCORE_TIPS,o,!0),null==r||r.setPosition(a),n._recycleSymbol(r),n.data.SWITCH_FREE_MODE,dispatch(C.PLAY_EFFECT,P.AudioSource.WIN_COUNT1),n.audioHelper.musicVolume=.2}))),(h=d(r)).sequence.apply(h,_).call((function(){n.scheduleOnce((function(){n.audioHelper.musicVolume=1}))})).start()}},s.initLabelMultipiler=function(e,t){var o=this,n=l("GridViewMask",this.node.parent).getScale(),i=this.convertNodePos(this.node,e),a=this._createSymbol("LabelMultipiler");if(a){var s;a.setScale(n),a.setPosition(i),this.node.addChild(a);var r=a.getComponent(h),c=a.getComponent(u),f=[];r&&(r.string=t+"x"),f.push(d(a).set({scale:new p(1.25*n.x,1.25*n.y)}).to(.25,{scale:new p(1.8*n.x,1.8*n.y)}).delay(.05).to(.35,{scale:new p(.4*n.x,.4*n.y),position:new p(this.data.CONVERT_POS)},{onUpdate:function(e,t){var o=t,n=e.getComponent(u);o>.9&&(n.opacity=c.opacity-c.opacity*o)},onComplete:function(e){dispatch(C.PLAY_EFFECT,P.AudioSource.NUMBER_FLY)},easing:"sineOut"}).union()),f.push(d().call((function(){dispatch(C.REFRESH_TUMBLE_WIN_MULTIPLE,t),a.getComponent(u).opacity=255,o._recycleSymbol(a)}))),(s=d(a)).sequence.apply(s,f).start(),dispatch(C.PLAY_EFFECT,P.AudioSource.ALL_NUMBER_FLY)}},s.createRaiden=function(e,t){var o=l("GridViewMask",this.node.parent).getScale(),n=this.convertNodePos(this.node,e),i=this._createSymbol("Raidens");if(i){i.setPosition(n),i.setScale(o),this.node.addChild(i),this.raidenNode=i;var a=l("eff_icon_bshf2/eff_icon_bshf2",i);this.raidenSkeleton=a.getComponent(f.Skeleton),this.raidenSkeleton.setSkin(t),this.raidenSkeleton.clearTrack(0),this.raidenSkeleton.setAnimation(0,g,!1),this.scheduleOnce((function(){dispatch(C.PLAY_EFFECT,P.AudioSource.FLASH,!1,!0)}),.1)}},s.onRaidenCompleteListener=function(e){(e.animation?e.animation.name:"")===g&&(this.raidenSkeleton.clearTracks(),this._recycleSymbol(this.raidenNode))},s.setScatterPos=function(e,t){var o=this.convertNodePos(this.node,t);e.setParent(this.node),e.setPosition(o)},s.createIconRecord=function(e,t,o){var n=this._createSymbol("IconRecord");if(n){var i=l("layout/num",n).getComponent(h),a=l("layout/icon",n).getComponent(_),s=l("scoreNode/label_currency",n).getComponent(h),r=v[e.icon];null==a||a.changeSpriteFrameFromAtlas(r),i.string=e.num+"",s.string=App.utils.formatNumber(e.add),t.addChild(n),n.setPosition(o)}},s.recycleIconRecord=function(e){this._recycleSymbol(e)},s.createFoliages=function(e){var t=this._createSymbol("TouchFoliages"),o=l("BackgroundView/touch_foliages",this.node.parent);if(t){this.foliagesNode=t,t.setPosition(e),o.addChild(this.foliagesNode);var n=l("eff_Touch/eff_Touch",t);this.foliagesSke=n.getComponent(f.Skeleton),this.foliagesSke.clearTracks(),this.foliagesSke.setAnimation(0,"ani",!1)}},s.foliagesAnimCompleteListener=function(e){"ani"===(e.animation?e.animation.name:"")&&this._recycleSymbol(this.foliagesNode)},s.winScoreMoveToPos=function(){var e=new p(0,0,0),t=this.node.parent.getComponent(m);return e="portrait"===App.utils.getOrientation()?this.win_score_effect_portrait.worldPosition:this.win_score_effect_landscape.worldPosition,t.convertToNodeSpaceAR(e)},s._createSymbol=function(e){var t;if(!this.pools.has(e)){var o,n=App.pool.createPool(e),i=null==(o=App.cache.get(this.data.module,"prefabs/item/"+e,S))?void 0:o.data;if(i instanceof S){var a=y(i);n.cloneNode=a}this.pools.set(e,n)}var s=null==(t=this.pools.get(e))?void 0:t.get();return s||null},s._recycleSymbol=function(e){var t;this.pools.has(e.name)&&(null==(t=this.pools.get(e.name))||t.put(e))},s.convertNodePos=function(e,t){return e.getComponent(m).convertToNodeSpaceAR(t)},a(t,[{key:"data",get:function(){return App.dataCenter.get(N)}}]),t}(b)).prototype,"win_score_effect_landscape",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(T.prototype,"win_score_effect_portrait",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=T))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/EliminateCellView5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameDefines8.ts","./SubGameData8.ts","./SubGameConstants7.ts"],(function(t){var i,n,e,s,a,o,l,h,r,c,p,u,d,_,m,C,I,S,f,v,y,w,P,D,L,A,E,T,b,k,g,B,N,O;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,l=t._decorator,h=t.Sprite,r=t.sp,c=t.Vec3,p=t.find,u=t.Label,d=t.tween,_=t.UITransform,m=t.Tween,C=t.Component},function(t){I=t.CELL_SIZE,S=t.CELL_SIZE_HEIGHT,f=t.CELL_FREEMODEL_ID,v=t.beilv_Multiple,y=t.DELAY_columns,w=t.GRID_PIXEL_HEIGHT,P=t.EventName,D=t.CELL_ANI_ICON,L=t.CELL_SCATTER_PRO,A=t.CELL_ANI_DROP,E=t.CELL_ANI_CRUSH,T=t.CELL_ANI_PANE,b=t.MULTIPLE_SPRITE,k=t.GRID_WIDTH,g=t.GRID_HEIGHT,B=t.DELAY_rows},function(t){N=t.SubGameData},function(t){O=t.SubGameConstants}],execute:function(){var M,R,U,F,x,Y,H,q,G,K;o._RF.push({},"d2c35nnIohI4Kxll5yvNvFT","EliminateCellView",void 0);var W=l.ccclass,Q=l.property,z=18e4,V="sineIn",j=function(t){return t[t.default=0]="default",t[t["1_green"]=1]="1_green",t[t["2_blue"]=2]="2_blue",t[t["3_purple"]=3]="3_purple",t[t["4_red"]=4]="4_red",t}(j||{});t("default",(M=Q(h),R=Q(r.Skeleton),U=Q(r.Skeleton),F=Q(r.Skeleton),W((H=i((Y=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a))||this,e(i,"m_sprite",H,s(i)),e(i,"m_spine",q,s(i)),e(i,"m_crush",G,s(i)),e(i,"m_pane",K,s(i)),i.m_icon_id=-1,i.m_multiple=0,i.m_columns=0,i.m_rows=0,i.spine_multiple=null,i.sprite_multiple=null,i.mul_ani_Index=0,i.isMultiple=!1,i.newCellDropCallBack=null,i.bIsNewCellDown=!1,i.preCellDropCallBack=null,i.bIsPreCellDrop=!1,i.isRemoveDrop=!1,i.winCallBack=null,i.scatterParent=null,i.rc_scatter_pos=new c,i.isStartDrop=!1,i}n(i,t);var o=i.prototype;return o.onLoad=function(){this.m_spine.setCompleteListener(this.onSpineCompleteListener.bind(this)),this.m_crush&&this.m_crush.setCompleteListener(this.onCrushCompleteListener.bind(this))},o.initWithModel=function(t,i,n){this.node.attr({icon_id:t,i:i,j:n}),this.IconId=t,this.m_columns=n,this.m_rows=i,this.data.soundIndex=0;var e=I*(this.m_columns-.5),s=S*(this.m_rows-.5);if(this.node.setPosition(new c(e,s)),this.scatterParent=this.node.parent,this.m_sprite.node.active=!0,this.m_spine.node.active=!1,this.isCrush(!1),this.isPane(!1),t>f){this.spine_multiple=p("targetNode/LabelMultipiler",this.m_spine.node).getComponent(u),this.sprite_multiple=p("sprite/multiple",this.node).getComponent(u);var a=(t-f)%100;this.m_multiple=v[a-1],this.spine_multiple.string=this.m_multiple+"x",this.sprite_multiple.string=this.m_multiple+"x",this.spine_multiple.node.active=!0,this.sprite_multiple.node.active=!0,this.showMultipleType(a),this.isMultiple=!0}this.bIsNewCellDown=!1,this.bIsPreCellDrop=!1,this.newCellDropCallBack=null,this.preCellDropCallBack=null},o.initNewCellAndDrop=function(t,i,n){var e,s=this;void 0===n&&(n=!1),this.newCellDropCallBack=i;var a=[],o=0,l=0,h=0,r=0;this.data.QUICK_SPIN||this.data.TURBO_SPIN||this.data.QUICKSTOP?(this.isStartDrop=!1,l=1.2*y,h=w,o=Math.sqrt(2*h/22e3),r=.4*l,a.push(d().target(this.node).delay(l))):(this.isStartDrop=!0,l=y*(this.m_columns-1),h=w+S*(this.m_columns-1+(this.m_rows-1))*1.5,o=Math.sqrt(2*h/1e4),r=.4*l,a.push(d().target(this.node).delay(l))),this.node.setPosition(new c(this.node.position.x,this.node.position.y+h));var p=this,u=!1;a.push(d(this.node).by(o,{position:new c(0,-h,0)},{onUpdate:function(t,e){if(p.IconId===f&&n){var s=S*(p.m_rows-.5)+3*S;t.position.y<=s&&!u&&(u=!0,p.play_ani_drop(i,n))}},onComplete:function(t){s.moveScatterLayer(n),p.playSoundColumn(s.m_columns,s.m_rows,n)},easing:V})),a.push(d().call((function(){(s.IconId!=f||s.IconId===f&&!n)&&s.play_ani_drop(i,n)}))),(e=d(this.node)).sequence.apply(e,a).start(),this.isMultiple&&this.scheduleOnce((function(){dispatch(P.NPC_SKILL_ANIM)}),r)},o.dropAndRemove=function(t){var i,n=this;this.preCellDropCallBack=t;var e=[],s=y*this.m_columns,a=this.node.position.clone(),o=a.y+S*(this.m_columns-1+(this.m_rows-1))*.5,l=Math.sqrt(o/9e3);this.data.QUICK_SPIN||this.data.TURBO_SPIN?(Log.d("no need delay"),l=Math.sqrt(2*a.y/22e3)):e.push(d().target(this.node).delay(s)),e.push(d(this.node).by(l,{position:new c(0,-w,0)},{easing:V})),e.push(d().call((function(){n.bIsPreCellDrop=!0,t&&t(),n.preCellDropCallBack=null}))),(i=d(this.node)).sequence.apply(i,e).start()},o.downAction=function(t,i,n,e){var s,a=this;this.m_columns=i,this.m_rows=t;var o=I*(i-.5),l=S*(t-.5),h=y*n+B*(t-1)*.8;this.data.TURBO_SPIN&&(h=B*(t-1)+.2);var r=[],p=this.node.position.clone(),u=Math.sqrt(2*p.y/z);r.push(d().target(this.node).delay(h)),r.push(d(this.node).to(u,{position:new c(o,l,0)},{easing:V})),r.push(d().call((function(){a.play_ani_drop(e,!1)}))),(s=d(this.node)).sequence.apply(s,r).start()},o.downAction2=function(t,i,n,e,s,a){var o,l=this;this.m_columns=i,this.m_rows=t,this.isRemoveDrop=!0;var h=I*(i-.5),r=S*(t-.5),p=I*(i-.5),u=S*(t-.5),_=0,m=0,C=0;this.data.TURBO_SPIN?(n>0&&(r=n),_=B*(t-1)+.2,m=Math.sqrt(2*r/z)):(n>0&&(r=n),m=Math.sqrt(2*r/z),C=.6*(_=y*s+B*(t-1))),this.node.setPosition(new c(h,r));var f=[];f.push(d().target(this.node).delay(_)),f.push(d(this.node).to(m,{position:new c(p,u,0)},{onComplete:function(t){l.playSoundColumn(l.m_columns,l.m_rows,!1,s)},easing:V})),f.push(d().call((function(){l.play_ani_drop(a,!1)}))),(o=d(this.node)).sequence.apply(o,f).start(),this.scheduleOnce((function(){l.isMultiple&&(l.data.isDrownSc=!0,dispatch(P.NPC_SKILL_ANIM))}),C)},o.play_winning_animation=function(t,i){var n=this;this.data.TURBO_SPIN?this.IconId===f?(this.m_sprite.node.active=!0,this.m_spine.node.active=!1,this.isCrush(!1),this.isPane(!1),i&&i()):this.IconId<f&&this.turbo_spin_bomb_animation(i):(this.m_sprite.node.active=!1,this.m_spine.node.active=!0,this.isPane(!0),this.isCrush(!0),this.data.PLAYBOMBSOUND||(this.data.PLAYBOMBSOUND=!0,this.scheduleOnce((function(){Log.d("play_bomb_animation",O.SOUND_CLEARS[n.data.soundClearIdx]),dispatch(P.PLAY_EFFECT,O.SOUND_CLEARS[n.data.soundClearIdx]),n.data.soundClearIdx++,n.data.soundClearIdx>=O.SOUND_CLEARS.length&&(n.data.soundClearIdx=4)}),1.5)),this.IconId<=f&&(this.m_spine.clearTrack(0),this.m_spine.setAnimation(0,D,!1),this.winCallBack=i,(this.IconId>=5&&this.IconId<f||this.IconId>=1&&this.IconId<5&&this.IconId<f)&&(this.m_spine.timeScale=1.18,this.m_crush.timeScale=1.05))),this.playSoundWinning(t,this.IconId)},o.turbo_spin_bomb_animation=function(t){this.m_sprite.node.active=!1,this.m_spine.node.active=!1,this.isPane(!1),this.isCrush(!1),this.IconId>=1&&this.IconId<=4&&(this.m_spine.node.active=!0,this.isCrush(!0),this.setSkeleton(this.m_spine,.74),this.winCallBack=t),this.IconId>=5&&this.IconId<f&&(this.isCrush(!0),this.setSkeleton(this.m_crush,.74),this.winCallBack=t)},o.play_completion=function(){this.m_sprite.node.active=!1,this.m_spine.node.active=!1,this.isCrush(!1),this.m_spine.clearTracks()},o.clearSelf=function(){this.node.removeFromParent(),this.node.destroy()},o.play_ani_drop=function(t,i){void 0===i&&(i=!1),this.bIsNewCellDown=!0,this.newCellDropCallBack=null,this.m_sprite.node.active=!1,this.m_spine.node.active=!0,this.isPane(!1),this.isCrush(!1),this.winCallBack=t,this.m_spine.clearTrack(0),this.IconId<=f?this.IconId===f&&i?this.m_spine.setAnimation(0,L,!1):this.m_spine.setAnimation(0,A,!1):this.play_anim_multiple(this.mul_ani_Index)},o.resetCanBombSound=function(){this.data.PLAYBOMBSOUND=!1},o.onSpineCompleteListener=function(t){var i=t.animation?t.animation.name:"";i===A||i===L?(this.IconId===f&&(i===L&&(this.node.setParent(this.scatterParent),this.node.setPosition(this.rc_scatter_pos)),this.m_spine.clearTracks()),this.m_spine.node.active=!1,this.m_sprite.node.active=!0,this.m_spine.timeScale=1,this.winCallBack&&this.winCallBack()):(this.isPane(!1),this.IconId===f?(this.m_sprite.node.active=!0,this.m_spine.node.active=!1,this.isCrush(!1),this.isPane(!1),this.winCallBack&&this.winCallBack()):this.IconId>f&&this.winCallBack&&this.winCallBack())},o.onCrushCompleteListener=function(t){(t.animation?t.animation.name:"")===E&&(this.winCallBack&&this.winCallBack(),this.play_completion(),this.m_crush.clearTracks())},o.play_ani_multiple=function(t){this.data.TURBO_SPIN?this.IconId>f&&(this.m_sprite.node.active=!0,this.m_spine.node.active=!1,this.isPane(!1),this.isCrush(!1),this.sprite_multiple.node.active=!1,t&&t()):this.IconId>f&&this.play_bomb_animation2(t)},o.hideMultiple=function(){this.spine_multiple.node.active=!1},o.play_anim_multiple=function(t){this.m_sprite.node.active=!1,this.m_spine.node.active=!0,this.isPane(!1),this.isCrush(!1);var i=j[t];if(this.isMultiple){var n;this.isMultiple=!1;var e=I*(this.m_columns-.5),s=S*(this.m_rows-.5),a=new c(e,s,0),o=null==(n=this.node.parent.getComponent(_))?void 0:n.convertToWorldSpaceAR(a);dispatch(P.SHOW_RAIDEN_ANIM,o,i)}this.m_spine.setSkin(i),this.m_spine.setAnimation(0,A,!1)},o.play_bomb_animation2=function(t){this.m_sprite.node.active=!1,this.m_spine.node.active=!0,this.isPane(!1),this.isCrush(!1),this.winCallBack=t,this.m_spine.clearTrack(0),this.m_spine.setAnimation(0,D,!1),dispatch(P.PLAY_EFFECT,O.AudioSource.FLASHBOOM)},o.isCrush=function(t){this.m_crush&&(this.m_crush.node.active=t,t&&(this.m_crush.clearTrack(0),this.m_crush.setAnimation(0,E,!1)))},o.isPane=function(t){this.m_pane&&(this.m_pane.node.active=t,t&&(this.m_pane.clearTrack(0),this.m_pane.setAnimation(0,T,!0),dispatch(P.PLAY_EFFECT,O.AudioSource.SOUND_SYMBOL_SHARK),this.scheduleOnce((function(){dispatch(P.PLAY_EFFECT,O.playWinIconSound[0])}),.5),this.m_pane.timeScale=1.34))},o.showMultipleType=function(t){this.m_sprite.spriteFrame=null,(t>12||t>8&&t<=12||t>4&&t<=8||t>0&&t<=4)&&(this.mul_ani_Index=Math.ceil(t/4)),this.m_sprite.changeSpriteFrameFromAtlas(b[this.mul_ani_Index-1])},o.quickStopDown=function(t){var i=this;void 0===t&&(t=!1);var n=I*(this.m_columns-.5),e=S*(this.m_rows-.5),s=this.node.position.clone();if(!this.bIsNewCellDown&&(m.stopAllByTarget(this.node),this.newCellDropCallBack)){var a=3e3;this.isStartDrop&&(a=6500);var o=Math.abs(s.y-e)/a;d(this.node).to(o,{position:new c(n,e)}).call((function(){i.play_ani_drop(i.newCellDropCallBack,t),i.moveScatterLayer(t),i.playSoundColumn(i.m_columns,i.m_rows,t)})).start()}},o.quickDorpRemove=function(){this.bIsPreCellDrop||(m.stopAllByTarget(this.node),this.preCellDropCallBack&&(this.bIsPreCellDrop=!0,this.preCellDropCallBack()))},o.moveScatterLayer=function(t){if(this.IconId===f&&t){this.rc_scatter_pos=this.node.getPosition();var i=this.scatterParent.getComponent(_).convertToWorldSpaceAR(this.node.position);dispatch(P.MOVE_SCATTER_ICON,this.node,i)}},o.setSkeleton=function(t,i){t.timeScale=1;var n=t.getCurrent(0);t.updateAnimation(i);var e=n.animationEnd,s=e*(n.getAnimationTime()/e);n.animationStart=s},o.setAnimEndTime=function(t,i){var n=t.getCurrent(0),e=n.animation.duration,s=.016666666666666666*Math.ceil(60*e)-i;n.animationEnd=s},o.playSoundColumn=function(t,i,n,e){if(void 0===n&&(n=!1),this.data.QUICKSTOP||this.data.QUICK_SPIN){if(!this.data.canOneSound)return;this.playOneSound(),this.data.canOneSound=!1}if((this.data.TURBO_SPIN||this.data.QUICK_SPIN||this.data.QUICKSTOP)&&!this.isRemoveDrop)return t===k&&i===g&&this.playSoundCol(),void(n&&this.IconId===f&&this.playSoundScatter(n));this.isRemoveDrop?this.data.TURBO_SPIN?(1===e&&this.playSoundCol(),n&&this.IconId===f&&this.playSoundScatter(n)):(this.data.indexColumn!==t&&(this.playSoundCol(!1,!0),this.data.indexColumn=t),n&&this.IconId===f&&this.playSoundScatter(n)):(1===i&&this.playSoundCol(!1,!0),n&&this.IconId===f&&this.playSoundScatter(n))},o.playSoundWinning=function(t,i){if(1===t){if(i>=5&&i<f)return;if(i===f){O.playWinIconSound.length;dispatch(P.PLAY_EFFECT,O.playWinIconSound[0])}else dispatch(P.PLAY_EFFECT,O.playWinIconSound[i])}},o.playSoundCol=function(t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),dispatch(P.PLAY_EFFECT,O.AudioSource.SOUND_TUMBLE,t,i)},o.playOneSound=function(t){void 0===t&&(t=!1),dispatch(P.PLAY_EFFECT,O.AudioSource.SOUND_ONE,t)},o.playSoundScatter=function(t){void 0===t&&(t=!1),this.m_icon_id==f&&t&&(!this.data.bHasPlayScatterSound&&this.data.buy_free_spins||!this.data.buy_free_spins)&&(this.data.bHasPlayScatterSound=!0,dispatch(P.PLAY_EFFECT,O.SOUND_SCATTERS[this.data.scatterSoundIdx],!1,!0),this.data.scatterSoundIdx++,this.data.scatterSoundIdx>=O.SOUND_SCATTERS.length&&(this.data.scatterSoundIdx=0))},a(i,[{key:"data",get:function(){return App.dataCenter.get(N)}},{key:"IconId",get:function(){return this.m_icon_id},set:function(t){this.m_icon_id=t}},{key:"Multiple",get:function(){return this.m_multiple},set:function(t){this.m_multiple=t}},{key:"colums",get:function(){return this.m_columns}},{key:"rows",get:function(){return this.m_rows}}]),i}(C)).prototype,"m_sprite",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(Y.prototype,"m_spine",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(Y.prototype,"m_crush",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(Y.prototype,"m_pane",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=Y))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/FunctionButtonView5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameDefines8.ts","./NumberCurrency.ts","./SubGameData8.ts","./SubGameConstants7.ts","./CommonEvent.ts"],(function(t){var e,i,n,r,o,a,l,c,s,u,p,h,f,b,d,_,y,m,w,v,B,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,l=t._decorator,c=t.Node,s=t.Button,u=t.Label,p=t.ScrollView,h=t.UIOpacity,f=t.Vec3,b=t.tween,d=t.UITransform,_=t.Tween},function(t){y=t.default},function(t){m=t.EventName},function(t){w=t.NumberCurrency},function(t){v=t.SubGameData},function(t){B=t.SubGameConstants},function(t){N=t.CommonEvent}],execute:function(){var g,C,S,E,M,F,R,O,L,P,z,V,k,I,T,D,A,Y,H,G,U,x,W,q,j,K,J,Q,X,Z,$,tt,et,it,nt,rt,ot,at,lt,ct,st,ut,pt,ht,ft,bt,dt,_t,yt,mt,wt,vt,Bt,Nt,gt,Ct,St,Et,Mt;a._RF.push({},"e2b5ax4KctCl5grAizmsDIg","FunctionButtonView",void 0);var Ft=l.ccclass,Rt=l.property;t("FunctionButtonView",(g=Ft("FunctionButtonView"),C=Rt({type:c}),S=Rt({type:s}),E=Rt({type:w}),M=Rt({type:s}),F=Rt({type:w}),R=Rt({type:c}),O=Rt({type:c}),L=Rt({type:c}),P=Rt({type:c}),z=Rt({type:u}),V=Rt({type:c}),k=Rt({type:c}),I=Rt({type:s}),T=Rt({type:w}),D=Rt({type:s}),A=Rt({type:w}),Y=Rt({type:c}),H=Rt({type:c}),G=Rt({type:c}),U=Rt({type:c}),x=Rt({type:u}),W=Rt({type:c}),q=Rt({type:c}),j=Rt({type:p}),K=Rt({type:c}),J=Rt({type:c}),Q=Rt({type:c}),X=Rt({type:u}),g((tt=e(($=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).view=null,n(e,"landscapeNode",tt,r(e)),n(e,"buyBtn_landscape",et,r(e)),n(e,"buyPrice_landscape",it,r(e)),n(e,"betBtn_landscape",nt,r(e)),n(e,"betPrice_landscape",rt,r(e)),n(e,"check_off_landscape",ot,r(e)),n(e,"check_on_landscape",at,r(e)),n(e,"freeNum_landscape",lt,r(e)),n(e,"freeNum_tip_landscape",ct,r(e)),n(e,"freeNumLabel_landscape",st,r(e)),n(e,"endFreeSpin_landscape",ut,r(e)),n(e,"portraitNode",pt,r(e)),n(e,"buyBtn_portrait",ht,r(e)),n(e,"buyPrice_portrait",ft,r(e)),n(e,"betBtn_portrait",bt,r(e)),n(e,"betPrice_portrait",dt,r(e)),n(e,"check_off_portrait",_t,r(e)),n(e,"check_on_portrait",yt,r(e)),n(e,"freeNum_portrait",mt,r(e)),n(e,"freeNum_tip_portrait",wt,r(e)),n(e,"freeNumLabel_portrait",vt,r(e)),n(e,"endFreeSpin_portrait",Bt,r(e)),n(e,"scoreBoardNode",Nt,r(e)),n(e,"scrollView",gt,r(e)),n(e,"scrollViewContent",Ct,r(e)),n(e,"freeMultiple",St,r(e)),n(e,"anim_mult",Et,r(e)),n(e,"freeMultipleLabel",Mt,r(e)),e.buy_not_clickable=!1,e.bet_not_clickable=!1,e.showCount=6,e.recordDisY=28,e.firstStop=14,e.contentHeight=167,e.recordStartPosY=220,e.count=0,e.listLength=0,e.times=0,e.isCheckOn=!1,e.rc_Multiple=0,e.isMultip=!1,e}i(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this)},a.addEvents=function(){t.prototype.addEvents.call(this),this.onD(m.RECOVER_BUY_FREE_BTN,this.showView),this.onD(N.SWITCH_SCREEN,this.onSwitchScreen)},a.onSwitchScreen=function(t){this.landscapeNode.active=!1,this.portraitNode.active=!1,"portrait"===t?(this.portraitNode.active=!0,this.freeMultiple.setPosition(220,-220,0),this.scoreBoardNode.setPosition(0,-220,0),this.scoreBoardNode.setScale(1,1)):(this.landscapeNode.active=!0,this.freeMultiple.setPosition(-552,170,0),this.scoreBoardNode.setPosition(-550,-181,0),this.scoreBoardNode.setScale(.88,.88))},a.onRefreshBuyPrice=function(t){this.buyPrice_landscape.updateNumber(t),this.buyPrice_portrait.updateNumber(t)},a.onRefreshBetPrice=function(t){this.betPrice_landscape.updateNumber(t),this.betPrice_portrait.updateNumber(t)},a.onRefreshBuyOpacity=function(t){this.buy_not_clickable=!t,this.buyBtn_landscape.interactable=t,this.buyBtn_portrait.interactable=t,this.buyBtn_landscape.node.getComponent(h).opacity=t?255:140,this.buyBtn_portrait.node.getComponent(h).opacity=t?255:140},a.onRefreshBetOpacity=function(t){this.bet_not_clickable=!t,this.betBtn_landscape.interactable=t,this.betBtn_portrait.interactable=t,this.betBtn_landscape.node.getComponent(h).opacity=t?255:140,this.betBtn_portrait.node.getComponent(h).opacity=t?255:140},a.onRefreshFunctionBtn=function(t,e){void 0===e&&(e=!0),t||(this.isMultip=!0),this.buyBtn_landscape.node.active=t,this.buyBtn_portrait.node.active=t,this.betBtn_landscape.node.active=t,this.betBtn_portrait.node.active=t,this.freeNum_landscape.active=!t,this.freeNum_portrait.active=!t,this.freeMultiple.active=!!e&&!t},a.enterNormalModel=function(){this.onSwitchScreen(App.utils.getOrientation()),this.onRefreshBetOpacity(!0),this.onRefreshFunctionBtn(!0),this.isCheckOn?(this.onRefreshBuyOpacity(!1),this.view.switchDoubleFeature(this.isCheckOn)):this.onRefreshBuyOpacity(!0),this.data.buy_free_spins=!1},a.switchFreeScene=function(t){this.landscapeNode.active=!1,this.portraitNode.active=!1;var e=App.utils.getOrientation();t?(this.freeMultiple.active=!0,"portrait"===e?(this.portraitNode.active=!0,this.onRefreshFunctionBtn(!1),this.freeMultiple.setPosition(220,-220,0)):(this.landscapeNode.active=!0,this.onRefreshFunctionBtn(!1,!1),this.freeMultiple.setPosition(-552,170,0))):(this.freeMultiple.active=!1,"portrait"===e?(this.portraitNode.active=!0,this.onRefreshFunctionBtn(!0)):(this.landscapeNode.active=!0,this.onRefreshFunctionBtn(!0)))},a.updateFreeAmount=function(t){(this.freeNumLabel_landscape||this.freeNumLabel_portrait)&&(this.freeNumLabel_landscape.string=t+"",this.freeNumLabel_portrait.string=t+"",0===t?this.showFreeNum(!1):this.showFreeNum(!0))},a.showFreeNum=function(t){this.freeNumLabel_landscape.node.active=t,this.freeNumLabel_portrait.node.active=t,this.freeNum_tip_landscape.active=t,this.freeNum_tip_portrait.active=t,this.endFreeSpin_landscape.active=!t,this.endFreeSpin_portrait.active=!t},a.onClickBuy=function(){this.buy_not_clickable||(this.hideView(),this.view.openBuyFreeSpinsView())},a.onClickBet=function(){if(!this.bet_not_clickable){var t=!this.isCheckOn;this.isCheckOn=t,this.check_off_landscape.active=!1,this.check_on_landscape.active=!1,this.check_off_portrait.active=!1,this.check_on_portrait.active=!1,t?(this.check_on_landscape.active=!0,this.check_on_portrait.active=!0,this.onRefreshBuyOpacity(!1),dispatch(m.PLAY_EFFECT,B.AudioSource.SOUND_OVERWEIGHT_OPEN)):(this.check_off_landscape.active=!0,this.check_off_portrait.active=!0,this.onRefreshBuyOpacity(!0),dispatch(m.PLAY_EFFECT,B.AudioSource.SOUND_OVERWEIGHT_CLOSE)),this.view.switchDoubleFeature(t)}},a.addItem=function(t){var e=this;0===this.times&&this.scrollViewContent.children.forEach((function(t){dispatch(m.RECYCLE_WINNING_ITEM,t)})),this.times++,this.listLength=t.length,null==t||t.map((function(t,i){10!==t.icon?(e.creatorIconRecord(t,i,e.count),e.count++):e.listLength-=1}))},a.creatorIconRecord=function(t,e,i){var n=new f(0,this.recordStartPosY+i*this.recordDisY,0);dispatch(m.SHOW_WINNING_ITEM,t,this.scrollViewContent,n);var r=this.firstStop+i*this.recordDisY,o=n.y-r,a=Math.sqrt(2*o/7200),l=new f(0,r+12,0),c=new f(0,r,0),s=this.scrollViewContent.children[i],u=7200*a/7200*.25+.015*e;b(s).to(a,{position:c}).to(u,{position:l}).to(u,{position:c}).start(),this.moveShowItem(e)},a.moveShowItem=function(t){var e=this.count>=this.showCount,i=this.count*this.recordDisY;if(this.scrollView.vertical=e,e){var n;i+=this.recordDisY,null==(n=this.scrollViewContent.getComponent(d))||n.setContentSize(164,i);var r=this.times>1&&this.count>=this.showCount?this.showCount-t:t;this.scrollView.scrollToTop(.03*r,!0)}},a.destroyAllChildren=function(){var t=this;this.times=0,this.count=0;var e=this.scrollViewContent.children.length;this.scrollViewContent.children.map((function(i,n){var r=.03*n,o=.04*(n+1);b(i).delay(r).to(o,{position:new f(0,i.position.y-(n+1)*t.recordDisY,0)},{easing:"quadIn"}).call((function(){var r;(dispatch(m.RECYCLE_WINNING_ITEM,i),n===e-1)&&(t.count=0,t.times=0,t.scrollView.scrollToTop(.1),t.scrollViewContent.setPosition(0,-83.5,0),null==(r=t.scrollViewContent.getComponent(d))||r.setContentSize(164,t.contentHeight))})).start()}))},a.tweenBuyBtnShow=function(t){var e=this;b(t).set({scale:new f(.2,.2,.2)}).to(.3,{scale:new f(1,1,1)},{onStart:function(t){e.onRefreshBuyOpacity(!1)},easing:"sineOut"}).call((function(){e.data.buy_free_spins?e.onRefreshBuyOpacity(!1):e.onRefreshBuyOpacity(!0)})).start()},a.tweenBuyBtnHide=function(t){var e=this;b(t).set({scale:new f(1,1,1)}).to(.3,{scale:new f(0,0,0)},{onStart:function(t){e.onRefreshBuyOpacity(!1)},easing:"sineIn"}).call((function(){e.buyBtn_landscape.node.active=!1})).start()},a.showView=function(){this.buyBtn_landscape.node&&(this.buyBtn_landscape.node.active=!0,this.tweenBuyBtnShow(this.buyBtn_landscape.node)),this.buyBtn_portrait.node&&(this.buyBtn_portrait.node.active=!0,this.tweenBuyBtnShow(this.buyBtn_portrait.node))},a.hideView=function(){this.buyBtn_landscape.node&&this.tweenBuyBtnHide(this.buyBtn_landscape.node),this.buyBtn_portrait.node&&this.tweenBuyBtnHide(this.buyBtn_portrait.node)},a.creatorRecordMultiple=function(){var t=this;if(!(this.rc_Multiple<2)){createPrefab({url:"prefabs/item/LabelMultipiler",view:this.view,complete:function(e){var i;t.node.addChild(e);var n=e.getComponent(u);n&&(n.string=t.rc_Multiple+"x"),e.setPosition(t.freeMultiple.position.x+2.5,t.freeMultiple.position.y-20);var r=e.position.x+.5*(t.data.CONVERT_POS.x-e.position.x),o=e.position.y+.5*(t.data.CONVERT_POS.y-e.position.y),a=e.getComponent(h),l=[],c=b(e).to(.2,{scale:new f(2,2,1),position:new f(r,o)},{easing:"sineIn"}),s=b(e).to(.15,{scale:new f(.5,.5,.5),position:new f(t.data.CONVERT_POS)},{onUpdate:function(t,e){var i=e,n=t.getComponent(h);i>.9&&(n.opacity=a.opacity-a.opacity*i)},easing:"sineOut"});l.push(c),l.push(s),l.push(b().call((function(){dispatch(m.REFRESH_TUMBLE_WIN_MULTIPLE,t.rc_Multiple),e.removeFromParent(),e.destroy()}))),(i=b(e)).sequence.apply(i,l).start(),dispatch(m.PLAY_EFFECT,B.AudioSource.ALL_NUMBER_FLY)}})}},a.recordFreeMultiple=function(t){var e=this;t>1?(this.isMultip&&(this.freeMultiple.active=!0,this.isMultip=!1),this.freeMultipleLabel.string=t+"x",this.rc_Multiple=t,b(this.freeMultipleLabel.node).to(.08,{scale:new f(1.25,1.25,1)},{onStart:function(t){b(e.anim_mult).hide()},easing:"cubicOut"}).to(.08,{scale:new f(1,1,1)}).union().call((function(){b(e.anim_mult).show()})).start(),t>=10&&b(this.anim_mult).to(.3,{scale:new f(1.04,1.04,1)},{easing:"sineOut"}).to(.3,{scale:new f(1,1,1)}).union().repeatForever().start()):(this.freeMultipleLabel.string="",this.rc_Multiple=0,_.stopAllByTarget(this.anim_mult))},o(e,[{key:"data",get:function(){return App.dataCenter.get(v)}}]),e}(y)).prototype,"landscapeNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e($.prototype,"buyBtn_landscape",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e($.prototype,"buyPrice_landscape",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e($.prototype,"betBtn_landscape",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e($.prototype,"betPrice_landscape",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e($.prototype,"check_off_landscape",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e($.prototype,"check_on_landscape",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e($.prototype,"freeNum_landscape",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e($.prototype,"freeNum_tip_landscape",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e($.prototype,"freeNumLabel_landscape",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e($.prototype,"endFreeSpin_landscape",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e($.prototype,"portraitNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e($.prototype,"buyBtn_portrait",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e($.prototype,"buyPrice_portrait",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e($.prototype,"betBtn_portrait",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e($.prototype,"betPrice_portrait",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e($.prototype,"check_off_portrait",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e($.prototype,"check_on_portrait",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e($.prototype,"freeNum_portrait",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e($.prototype,"freeNum_tip_portrait",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e($.prototype,"freeNumLabel_portrait",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e($.prototype,"endFreeSpin_portrait",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e($.prototype,"scoreBoardNode",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e($.prototype,"scrollView",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e($.prototype,"scrollViewContent",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e($.prototype,"freeMultiple",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e($.prototype,"anim_mult",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=e($.prototype,"freeMultipleLabel",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=$))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameEntry8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entry.ts","./Decorators.ts","./MainGameView7.ts","./GameService.ts","./GameHandler8.ts","./SubGameLanguage8.ts","./LoadingView7.ts","./Config.ts"],(function(){var e,n,t,a,o,i,r,u,c,s;return{setters:[function(n){e=n.inheritsLoose},function(e){n=e.cclegacy},function(e){t=e.Entry},function(e){a=e.registerEntry},function(e){o=e.default},function(e){i=e.GameService},function(e){r=e.default},function(e){u=e.SubGameLanguage},function(e){c=e.LoadingView},function(e){s=e.ViewZOrder}],execute:function(){var l;n._RF.push({},"0bac50O8JZJUKL4IcTQ4P3K","GameEntry",void 0);a("GameEntry","slot3000509",o)(l=function(n){function t(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))||this).language=new u,e}e(t,n);var a=t.prototype;return a.addNetHandler=function(){App.handlerManager.get(r)},a.removeNetHandler=function(){App.handlerManager.destory(r)},a.loadResources=function(e){App.uiManager.open({type:c,bundle:this.bundle,zIndex:s.UI}).then((function(){App.utils.closeDocumentFrameAnimation(),e()}))},a.initData=function(){App.serviceManager.get(i,!0)},a.pauseMessageQueue=function(){},a.resumeMessageQueue=function(){},a.openGameView=function(){n.prototype.openGameView.call(this)},a.onUnloadBundle=function(){n.prototype.onUnloadBundle.call(this),App.serviceManager.destory(i)},t}(t));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameHandler8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Handler.ts","./GameService.ts","./Protocol9.ts","./Global.ts","./CommonEvent.ts","./SubGameData8.ts","./SubGameDefines8.ts"],(function(e){var t,s,n,a,o,i,c,r,u,m;return{setters:[function(e){t=e.inheritsLoose,s=e.createClass},function(e){n=e.cclegacy},function(e){a=e.Handler},function(e){o=e.GameService},function(e){i=e.Protocol},function(e){c=e.Global},function(e){r=e.CommonEvent},function(e){u=e.SubGameData},function(e){m=e.EventName}],execute:function(){n._RF.push({},"59bb1zjCERO75jXLwVenmKN","GameHandler",void 0),e("default",function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var a=n.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),this.onS(i.LOGIN,this.s2cLogin),this.onS(i.USERINFO,this.s2cUserInfo),this.onS(i.SLOTINFO,this.s2cSlotInfo),this.onS(i.SLOTBET,this.s2cSlotBet),this.onS(i.LASTMAP,this.s2cLastMap),this.onS(i.FREESPIN,this.s2cFreeSpin)},a.s2cLogin=function(e){e&&e.message&&1==e.message.issucc&&(c.account=e.message.account,c.currency=e.message.mtype,this.c2sUserInfo(),this.c2sSlotInfo(),dispatch(r.OnLoginSuccess,e),dispatch(r.SWITCH_CURRENCY))},a.c2sUserInfo=function(){var e,t={type:i.USERINFO,message:{}};null==(e=this.service)||e.sendMessage(i.USERINFO,t)},a.c2sSlotInfo=function(){var e,t={type:i.SLOTINFO,message:{}};null==(e=this.service)||e.sendMessage(i.SLOTINFO,t)},a.s2cUserInfo=function(e){Log.d("s2cUserInfo message.money = ",e.message.money),Log.d("s2cUserInfo data.money = ",this.data.money),e.message.money>this.data.money?this.data.INCREASE_SCORE=!0:this.data.INCREASE_SCORE=!1,this.data.money=e.message.money},a.s2cSlotInfo=function(e){var t=e.message;this.data.slotInfo=t,this.data.loadDataFinish=!0,dispatch(m.LoadDataFinish);var s=!1;1==t.can_gm&&(s=!0),dispatch(r.NOTIFY_GMTOOL_VISIBLE,s)},a.s2cSlotBet=function(e){var t=e.message;dispatch(m.OnReceiveSlotBet,t)},a.s2cLastMap=function(e){var t=e.message;this.data.lastMapData=t},a.s2cFreeSpin=function(e){var t=e.message;dispatch(m.S2C_FREE_SPIN,t)},s(n,[{key:"data",get:function(){return App.dataCenter.get(u)}},{key:"service",get:function(){return App.serviceManager.get(o)}}]),n}(a)).module="Game",n._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logic.ts","./CommonEvent.ts","./GameSender8.ts","./Global.ts","./GameService.ts","./SubGameData8.ts","./SubGameDefines8.ts","./ResourceLoader.ts","./Resource.ts","./SubGameConstants7.ts","./LoadingView7.ts"],(function(e){var t,o,n,a,i,s,r,u,l,d,c,h,p,f,m,b,S,L,g,v;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose,n=e.createClass},function(e){a=e.cclegacy,i=e.Prefab,s=e.AudioClip,r=e.UIRenderer,u=e.randomRangeInt},function(e){l=e.Logic},function(e){d=e.CommonEvent},function(e){c=e.GameSender},function(e){h=e.Global},function(e){p=e.GameService},function(e){f=e.SubGameData},function(e){m=e.EventName,b=e.POOL_PREFAB_URL},function(e){S=e.default},function(e){L=e.Resource},function(e){g=e.SubGameConstants},function(e){v=e.LoadingView}],execute:function(){a._RF.push({},"f18f3OpkxdIYKv8QMj7rhW6","GameLogic",void 0);e("GameLogic",function(e){function a(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this)._view=null,t.loader=new S,t}t(a,e);var l=a.prototype;return l.addEvents=function(){e.prototype.addEvents.call(this),this.onD(d.GAME_SERVICE_CONNECTED,this.onNetConnected),this.onD(d.GAME_SERVICE_CLOSE,this.onNetClose),this.onD(m.LoadDataFinish,this.enterMainGameView),this.onD(m.PLAY_EFFECT,this.onPlaySound),this.onD(m.STOP_EFFECT,this.onStopEffect),this.onD(m.PLAY_MUSIC,this.onPlayMusic),this.onD(m.STOP_MUSIC,this.onStopMusic),this.onD(m.SET_MUSIC_VOLUME,this.setMusicVolume),this.onD(m.STOP_ALL_EFFECTS,this.onStopAllEffects)},l.onLoad=function(t){e.prototype.onLoad.call(this,t),App.uiManager.close(v),this.view.init(),this.loadResources(),h.playback?(this.data.loadDataFinish=!0,this.enterMainGameView()):this.onConnect()},l.loadResources=function(){var e=this;this.loader.getLoadResources=function(){for(var t=[],o=0;o<b.length;o++)b[o]&&t.push({url:b[o],type:i,bundle:e.module});return t.push({url:"prefabs/item/LabelMultipiler",type:i,bundle:e.module}),t.push({url:"prefabs/item/LabelScore",type:i,bundle:e.module}),t.push({url:"prefabs/item/IconRecord",type:i,bundle:e.module}),t.push({url:"prefabs/item/Raidens",type:i,bundle:e.module}),t.push({url:"prefabs/item/TouchFoliages",type:i,bundle:e.module}),t.push({url:"prefabs/LoadingView",type:i,bundle:e.module}),t.push({url:"prefabs/IntroductionView",type:i,bundle:e.module}),t.push({url:"prefabs/BackgroundView",type:i,bundle:e.module}),t.push({url:"prefabs/BuyFreeSpinsView",type:i,bundle:e.module}),t.push({url:"prefabs/FunctionButtonView",type:i,bundle:e.module}),t.push({url:"prefabs/GridBgView",type:i,bundle:e.module}),t.push({url:"prefabs/EnterGameView",type:i,bundle:e.module}),t.push({url:"prefabs/slotgame/Alert",type:i,bundle:e.module}),t.push({url:"prefabs/slotgame/AutoPlayView",type:i,bundle:e.module}),t.push({url:"prefabs/slotgame/MenuView",type:i,bundle:e.module}),t.push({url:g.AudioSource.ENTERGAME_BGM,type:s,bundle:e.module}),t},this.loader.onLoadComplete=function(t){L.LoaderError.SUCCESS&&(e.data.loadFinish=!0,e.data.initPools(),e.enterMainGameView())},this.loader.onLoadProgress=function(t,o){var n,a=Math.ceil(t/o*100);null==(n=e.view)||n.updateProgress(a),App.utils.onDocumentProgress(a)},this.loader.loadResources(),App.utils.clearHtmlTimer()},l.onDestroy=function(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];(t=e.prototype.onDestroy).call.apply(t,[this].concat(n))},l.onConnect=function(){var e=this.gameService;if(e.isConnected)return Log.d(e.module+" ..."),void e.close();Log.d(e.module+" ..."),e.connect()},l.onNetConnected=function(e){Log.d(e.module+" !");var t=App.senderManager.get(c);t&&t.c2sLogin(h.gameId)},l.onNetClose=function(e){Log.d(e.module+" !")},l.enterMainGameView=function(){this.data.loadFinish&&this.data.loadDataFinish&&(Log.d("enterMainGameView",this.data.slotInfo),dispatch(d.NOTIFY_SLOT_INFO,this.data.slotInfo),dispatch(d.NOTIFY_USERINFO_SCORE,this.data.money),this.view.showMain(),this.data.bHasLoadedRes||(this.onAfterGameLoadResources(),this.data.bHasLoadedRes=!0))},l.onAfterGameLoadResources=function(){var e=this;this.loader=new S,this.loader.getLoadResources=function(){var t=[];t.push({url:"bigwin/prefab/BigWinLayer",type:i,bundle:e.module}),t.push({url:"prefabs/TransFreeGameView",type:i,bundle:e.module}),t.push({url:"prefabs/WinScoreCheckoutView",type:i,bundle:e.module});for(var n,a=o(g.preLoadAudio.values());!(n=a()).done;){var r=n.value;t.push({url:r,type:s,bundle:e.module})}return t},this.loader.onLoadComplete=function(e){L.LoaderError.SUCCESS&&console.log("onAfterGameLoadResources SUCCESS ")},this.loader.onLoadProgress=function(e,t){var o=Math.ceil(e/t*100);console.log("onAfterGameLoadResources progress = ",o)},this.loader.loadResources()},l.onPlaySound=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),o?this.view.audioHelper.playEffectOneShot(e,this.module,!1):this.view.audioHelper.playEffect(e,this.module,t)},l.onStopEffect=function(e){this.view.audioHelper.stopEffect(e,this.module)},l.setMusicVolume=function(e){this.view.audioHelper.musicVolume=e},l.onStopAllEffects=function(){this.view.audioHelper.stopAllEffects()},l.onPlayMusic=function(e){this.view.audioHelper.playMusic(e,this.module)},l.onStopMusic=function(){this.view.audioHelper.stopMusic()},l.updateChildColor=function(e,t){var o=this;if(e){var n=e.getComponent(r);n&&(n.color=t),e.children.forEach((function(e){return o.updateChildColor(e,t)}))}},l.c2sFreeSpin=function(){var e;null==(e=this._sender)||e.c2sFreeSpin()},l.onSendBet=function(){var e,t;this.data.SWITCH_DOUBLE_FEATURE?(null==(e=this._sender)||e.c2sDoubleSlotBet({bet:this.data.total_bet}),dispatch(d.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet*this.data.DOUBLE_CHANCE_MULTIPLE)):(null==(t=this._sender)||t.c2sSlotBet({bet:this.data.total_bet}),dispatch(d.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet));this._view.showLoadingScreen()},l.onSendGM=function(e){var t;null==(t=this._sender)||t.c2sGMSlot({bet:this.data.total_bet,gm_type:e}),dispatch(d.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet),this._view.showLoadingScreen()},l.onSendBuyFreeSpins=function(){var e;null==(e=this._sender)||e.c2sBuyFreeSpins({type:1,bet:this.data.total_bet}),dispatch(d.NOTIFY_BALANCE_SCORE,this.data.money-this.data.total_bet*this.data.BUYFEATURE_MULTIPLE),this._view.showLoadingScreen(),this._view.onRefreshFuncBtnView(!1)},l.randomLastMap=function(){for(var e=[],t=0;t<30;t++)e[t]=u(1,10);return e},l.clearLastMap=function(){this.view.clearLastMap()},l.transformArray=function(e){for(var t=[],o=4;o<e.length;o+=5)t.push(e[o]);for(var n=3;n<e.length;n+=5)t.push(e[n]);for(var a=2;a<e.length;a+=5)t.push(e[a]);for(var i=1;i<e.length;i+=5)t.push(e[i]);for(var s=0;s<e.length;s+=5)t.push(e[s]);return t},n(a,[{key:"data",get:function(){return App.dataCenter.get(f)}},{key:"gameService",get:function(){return App.serviceManager.get(p)}},{key:"_sender",get:function(){return App.senderManager.get(c)}},{key:"view",get:function(){return this._view}}]),a}(l));a._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./CommonEvent.ts","./SlotGameDefines.ts"],(function(t){var n,e,o,i,c,r,a,s,l,u,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,c=t.createClass},function(t){r=t.cclegacy,a=t._decorator,s=t.Node},function(t){l=t.default},function(t){u=t.inject},function(t){p=t.CommonEvent},function(t){f=t.SoundName}],execute:function(){var h,d,y,m,E;r._RF.push({},"7f078FZG+xJQ6nRJ2Jf+Y72","GamePlay",void 0);var P=a.ccclass;a.property,t("default",(h=P("GamePlay"),d=u("content",s),h((E=n((m=function(t){function n(){for(var n,e=arguments.length,c=new Array(e),r=0;r<e;r++)c[r]=arguments[r];return n=t.call.apply(t,[this].concat(c))||this,o(n,"content",E,i(n)),n}e(n,t),n.getPrefabUrl=function(){return"prefabs/slotgame/GamePlay"};var r=n.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this)},r.addEvents=function(){t.prototype.addEvents.call(this)},r.onShow=function(){t.prototype.onShow.call(this)},r.onClose=function(){t.prototype.onClose.call(this)},r.onBackToGame=function(){dispatch(p.PLAY_EFFECT,f.SOUND_CLOSE_HELP_PAGE),this.close()},r.onMoreLanguage=function(){dispatch(p.PLAY_EFFECT,f.SOUND_HELP_PLAY_CHANGE),dispatch(p.NOTIFY_GAME_PLAY),this.close()},c(n,[{key:"showAction",get:function(){var t=this;return function(n){App.utils.showView(t.content,n)}}},{key:"closeAction",get:function(){var t=this;return function(n){App.utils.hideView(t.content,n)}}}]),n}(l)).prototype,"content",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameSender8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sender.ts","./GameService.ts","./Config.ts","./Global.ts","./Protocol9.ts"],(function(e){var n,s,t,i,c,o,r,a;return{setters:[function(e){n=e.inheritsLoose,s=e.createClass},function(e){t=e.cclegacy},function(e){i=e.Sender},function(e){c=e.GameService},function(e){o=e.Config},function(e){r=e.Global},function(e){a=e.Protocol}],execute:function(){t._RF.push({},"f7a56wgiElNR4xbzhOXmUxP","GameSender",void 0),e("GameSender",function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.c2sLogin=function(e){o.isDebugLogin?this.c2sDebug_login({uid:r.userId,game_id:e,money:Number(r.money),money_type:r.currency}):this.c2sOfficial_login({token:r.token,gameid:e,direct:r.direct_login})},i.c2sDebug_login=function(e){var n,s={type:a.DEBUG_LOGIN,message:e};null==(n=this.service)||n.sendMessage(a.DEBUG_LOGIN,s)},i.c2sOfficial_login=function(e){var n,s={type:a.LOGIN,message:e};null==(n=this.service)||n.sendMessage(a.LOGIN,s)},i.c2sMark=function(e){var n,s={type:a.MARK,message:e};null==(n=this.service)||n.sendMessage(a.MARK,s)},i.sendPack=function(e,n){var s;null==(s=this.service)||s.sendMessage(e,n)},i.c2sSlotBet=function(e){var n={type:a.SLOTBET,message:e};this.sendPack(a.SLOTBET,n)},i.c2sDoubleSlotBet=function(e){var n={type:a.ANTASLOTBET,message:e};this.sendPack(a.SLOTBET,n)},i.c2sFreeSpin=function(){var e={type:a.FREESPIN,message:{}};this.sendPack(a.FREESPIN,e)},i.c2sBuyFreeSpins=function(e){var n={type:a.BUY,message:e};this.sendPack(a.SLOT_TEST,n)},i.c2sGMSlot=function(e){var n={type:a.GMSLOT,message:e};this.sendPack(a.GMSLOT,n)},s(t,[{key:"service",get:function(){return App.serviceManager.get(c)}}]),t}(i)).module="Game",t._RF.pop()}}}));

System.register("chunks:///_virtual/GridBgView5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameDefines8.ts","./Decorators.ts","./NumberRoller.ts","./SubGameData8.ts","./SubGameConstants7.ts","./CommonEvent.ts"],(function(t){var e,i,n,r,l,o,a,s,c,p,u,h,_,d,b,m,f,g,w,S,v,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,l=t.createClass},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,c=t.Label,p=t.RichText,u=t.sp,h=t.UITransform,_=t.tween,d=t.Vec3,b=t.UIOpacity},function(t){m=t.default},function(t){f=t.EventName},function(t){g=t.inject},function(t){w=t.NumberRoller},function(t){S=t.SubGameData},function(t){v=t.SubGameConstants},function(t){N=t.CommonEvent}],execute:function(){var T,C,I,y,A,R,F,L,E,x,O,B,P,z,M,W,k,D,K,U,G,H,Y,V,j,Q,X,q,J,Z,$,tt,et,it,nt,rt,lt;o._RF.push({},"b1051wOpfFCv4jrb/CA4SRR","GridBgView",void 0);var ot=a.ccclass,at=(a.property,function(t){return t[t.ani_idle=0]="ani_idle",t[t.ani_skill=1]="ani_skill",t}(at||{}));t("GridBgView",(T=ot("GridBgView"),C=g("landscape",s),I=g("landscape/normal",s),y=g("landscape/free",s),A=g("portrait",s),R=g("portrait/normal",s),F=g("portrait/free",s),L=g("portrait/tipBg",s),E=g("portrait/tipBg/win_bg/tumble_win/NumberRoller/label_currency",w),x=g("portrait/tipBg/win_bg/tumble_win/label_multiple",c),O=g("landscape/tipBg",s),B=g("landscape/tipBg/win_bg/tumble_win/NumberRoller/label_currency",w),P=g("landscape/tipBg/win_bg/tumble_win/label_multiple",c),z=g("tipListItem",s),M=g("tipListItem/richText",p),W=g("tipListItem/shadow",c),k=g("role",s),D=g("role/skeleton",u.Skeleton),T((G=e((U=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return e=t.call.apply(t,[this].concat(l))||this,n(e,"landscapeNode",G,r(e)),n(e,"bg_landscape_normal",H,r(e)),n(e,"bg_landscape_free",Y,r(e)),n(e,"portraitNode",V,r(e)),n(e,"bg_portrait_normal",j,r(e)),n(e,"bg_portrait_free",Q,r(e)),n(e,"tipBg_portrait",X,r(e)),n(e,"win_label_score_portrait",q,r(e)),n(e,"win_label_multiple_portrait",J,r(e)),n(e,"tipBg_landscape",Z,r(e)),n(e,"win_label_score_landscape",$,r(e)),n(e,"win_label_multiple_landscape",tt,r(e)),n(e,"tipListItem",et,r(e)),n(e,"richTextComp",it,r(e)),n(e,"richTextShadow",nt,r(e)),n(e,"roleNode",rt,r(e)),n(e,"roleSKeleton",lt,r(e)),e.ld_label_score=null,e.pt_label_score=null,e.target_number=0,e.total_multiple=0,e.index=0,e.isShowScore=!1,e.isShowTip=!1,e.b_freeModel=!1,e.isSkill=!1,e.tipArr=["SYMBOLS PAY ANYWHERE ON THE SCREEN","WIN UP TO 5000X BET","4X WINS PREE SPINS","HIT TO MULTIPLY TUBLE WIND"],e}i(e,t);var o=e.prototype;return o.start=function(){this.roleSKeleton&&this.roleSKeleton.setCompleteListener(this.onRoleCompleteListener.bind(this)),this.ld_label_score=this.win_label_score_landscape.node.getComponent(c),this.pt_label_score=this.win_label_score_portrait.node.getComponent(c),this.showTipContent(!0,this.target_number),this.showTips(!0),this.roleAnimIdle()},o.addEvents=function(){t.prototype.addEvents.call(this),this.onD(f.REFRESH_TUMBLE_WIN,this.showTumbleWin),this.onD(f.REFRESH_TUMBLE_WIN_MULTIPLE,this.onRefreshTumbleWinMultiple),this.onD(f.REFRESH_TUMBLE_WIN_FINAL,this.onRefreshTumbleWinFinal),this.onD(f.NPC_SKILL_ANIM,this.roleAnimSkill),this.onD(N.SWITCH_SCREEN,this.onSwitchScreen)},o.onSwitchScreen=function(t){this.landscapeNode.active=!1,this.portraitNode.active=!1,this.normalOrFreeScene(t),"portrait"===t?(this.portraitNode.active=!0,this.roleNode.setPosition(162,432,0),this.roleNode.setSiblingIndex(0),this.tipListItem.setPosition(0,465,0),this.tipListItem.setScale(.85,.85,1)):(this.landscapeNode.active=!0,this.roleNode.setPosition(540,-35,0),this.roleNode.setSiblingIndex(this.node.children.length-1),this.tipListItem.setPosition(-4,335,0),this.tipListItem.setScale(1,1,1))},o.onRefreshTumbleWin=function(t){Log.d("ssssssss onRefreshTumbleWin",t);var e=this.target_number;this.target_number=t,this.update_portrait_win_score(e,this.target_number),this.update_landscape_win_score(e,this.target_number)},o.onRefreshTumbleWinMultiple=function(t){0!==t?(this.total_multiple+=t,this.win_label_multiple_landscape.node.active=!0,this.win_label_multiple_portrait.node.active=!0,this.scrollCompleteCallback()):this.total_multiple=t},o.onRefreshTumbleWinFinal=function(t){var e=this;if(0!==this.total_multiple){var i=this.target_number*this.total_multiple;this.addScoreTween(this.win_label_multiple_landscape.node,(function(){e.win_label_score_landscape.stopRollingAndShowNumber(i),e.totalScoreTween(e.win_label_score_landscape.node.parent),e.b_freeModel||dispatch(N.NOTIFY_WINSCORE_TIPS,i)})),this.addScoreTween(this.win_label_multiple_portrait.node,(function(){e.win_label_score_portrait.stopRollingAndShowNumber(i),e.totalScoreTween(e.win_label_score_portrait.node.parent)}))}},o.enterNormalModel=function(t){this.switchFreeScene(!1),t&&t()},o.enterFreeModel=function(t){this.switchFreeScene(!0),t&&t()},o.switchFreeScene=function(t){this.landscapeNode.active=!1,this.portraitNode.active=!1,this.bg_landscape_normal.active=!1,this.bg_portrait_normal.active=!1,this.bg_landscape_free.active=!1,this.bg_portrait_free.active=!1,this.showTipContent(!0,this.target_number),t?(this.b_freeModel=!0,"portrait"===App.utils.getOrientation()?(this.portraitNode.active=!0,this.bg_portrait_free.active=!0):(this.landscapeNode.active=!0,this.bg_landscape_free.active=!0)):(this.b_freeModel=!1,"portrait"===App.utils.getOrientation()?(this.portraitNode.active=!0,this.bg_portrait_normal.active=!0):(this.landscapeNode.active=!0,this.bg_landscape_normal.active=!0))},o.normalOrFreeScene=function(t){this.landscapeNode.active=!1,this.portraitNode.active=!1,this.bg_landscape_normal.active=!1,this.bg_portrait_normal.active=!1,this.bg_landscape_free.active=!1,this.bg_portrait_free.active=!1,this.b_freeModel?"portrait"===t?(this.portraitNode.active=!0,this.bg_portrait_free.active=!0):(this.landscapeNode.active=!0,this.bg_landscape_free.active=!0):"portrait"===t?(this.portraitNode.active=!0,this.bg_portrait_normal.active=!0):(this.landscapeNode.active=!0,this.bg_landscape_normal.active=!0)},o.convertNodePos=function(t,e){var i=e.getComponent(h),n=t.worldPosition;i.convertToNodeSpaceAR(n,this.data.CONVERT_POS)},o.roleAnimIdle=function(){this.roleSKeleton.timeScale=1,this.roleSKeleton.clearTrack(0),this.roleSKeleton.setAnimation(0,at[0],!0)},o.roleAnimSkill=function(){dispatch(f.PLAY_EFFECT,v.AudioSource.SOUND_MAN_01),this.isSkill||((this.data.TURBO_SPIN||this.data.QUICK_SPIN||this.data.QUICKSTOP)&&(this.roleSKeleton.timeScale=1.34),this.data.isDrownSc&&(this.data.isDrownSc=!1,this.roleSKeleton.timeScale=1.3),this.isSkill=!0,this.roleSKeleton.clearTrack(0),this.roleSKeleton.setAnimation(0,at[1],!1),this.scheduleOnce((function(){dispatch(f.PLAY_EFFECT,v.AudioSource.SOUND_MAN_02)}),.5))},o.onRoleCompleteListener=function(t){(t.animation?t.animation.name:"")===at[1]&&(this.roleAnimIdle(),this.isSkill=!1)},o.showTipContent=function(t,e){if(t){if(this.isShowTip)return;this.isShowTip=!0,this.isShowScore=!1,this.increaseOpacity(this.tipListItem),this.reduceOpacity(this.tipBg_landscape,e),this.reduceOpacity(this.tipBg_portrait,e)}else{if(this.isShowScore)return;this.isShowTip=!1,this.isShowScore=!0,this.reduceOpacity(this.tipListItem,e),this.increaseOpacity(this.tipBg_landscape),this.increaseOpacity(this.tipBg_portrait)}},o.showTumbleWin=function(t){0===t?(this.target_number=0,this.total_multiple=0,this.showTipContent(!0,t)):(this.showTipContent(!1,t),this.onRefreshTumbleWin(t))},o.update_landscape_win_score=function(t,e){var i=this;this.win_label_score_landscape.startRolling(t,e,.5,(function(){i.scrollCompleteCallback()}))},o.update_portrait_win_score=function(t,e){var i=this;this.win_label_score_portrait.startRolling(t,e,.5,(function(){i.scrollCompleteCallback()}))},o.scrollCompleteCallback=function(){this.win_label_multiple_landscape.string=this.total_multiple+"",this.win_label_multiple_portrait.string=this.total_multiple+"",this.total_multiple>0?(this.pt_label_score.string=App.utils.formatNumber(this.target_number)+"x",this.ld_label_score.string=App.utils.formatNumber(this.target_number)+"x",this.multipleTween(this.win_label_multiple_landscape.node),this.multipleTween(this.win_label_multiple_portrait.node)):("portrait"===App.utils.getOrientation()?this.win_label_score_landscape.stopRollingAndShowNumber(this.target_number):this.win_label_score_portrait.stopRollingAndShowNumber(this.target_number),this.win_label_multiple_landscape.string="",this.win_label_multiple_portrait.string=""),this.tipBg_landscape.active?this.convertNodePos(this.win_label_multiple_landscape.node,this.node):this.convertNodePos(this.win_label_multiple_portrait.node,this.node)},o.multipleTween=function(t){_(t).delay(.05).to(.1,{scale:new d(1.28,1.28)}).to(.1,{scale:new d(1,1)}).union().start()},o.addScoreTween=function(t,e){var i=this;t.active=!0;var n=t.getPosition();_(t).to(.15,{position:new d(0,0,0)},{onStart:function(t){i.pt_label_score.string=App.utils.formatNumber(i.target_number),i.ld_label_score.string=App.utils.formatNumber(i.target_number)},onComplete:function(i){t.active=!1,e&&e()}}).call((function(){t.setPosition(n)})).start()},o.totalScoreTween=function(t){_(t).to(.15,{scale:new d(1.3,1.3,1.3)}).to(.15,{scale:new d(1,1,1)}).union().start()},o.showTips=function(t){var e=this;this.tipListItem.active=!0,this.richTextComp.string="<color=#FFF445 > "+this.tipArr[this.index]+"</color>",this.richTextShadow.string=this.tipArr[this.index];this.schedule((function i(){if(t){if(e.index>e.tipArr.length-1&&(e.index=0),2===e.index){var n=e.tipArr[e.index].split(" "),r=n.slice(1).join(" ");e.richTextComp.string="<color=#FFF445> "+n[0]+" </color><img src = 'eff_icon_Scatter' align = center width = 46.5 height = 35/><color=#FFF445> "+r+"</color>",e.richTextShadow.string=n[0]+"        "+r}else if(3===e.index){var l=e.tipArr[e.index].split(" "),o=l.slice(1).join(" ");e.richTextComp.string="<color=#FFF445> "+l[0]+" </color><img src = 'mul_icon_1' align = center width = 46.5 height = 35/><color=#FFF445> "+o+"</color>",e.richTextShadow.string=l[0]+"        "+o}else e.richTextComp.string="<color=#FFF445> "+e.tipArr[e.index]+"</color>",e.richTextShadow.string=e.tipArr[e.index];e.index++}else e.unschedule(i)}),6)},o.increaseOpacity=function(t){t.active=!0;var e=t.getComponent(b);_(e).to(.3,{opacity:255}).call((function(){})).start()},o.reduceOpacity=function(t,e){var i=this,n=t.getComponent(b);_(n).to(.3,{opacity:0}).call((function(){t.name===i.tipListItem.name&&i.onRefreshTumbleWin(e),t.active=!1})).start()},l(e,[{key:"data",get:function(){return App.dataCenter.get(S)}}]),e}(m)).prototype,"landscapeNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(U.prototype,"bg_landscape_normal",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(U.prototype,"bg_landscape_free",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(U.prototype,"portraitNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(U.prototype,"bg_portrait_normal",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(U.prototype,"bg_portrait_free",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(U.prototype,"tipBg_portrait",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(U.prototype,"win_label_score_portrait",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(U.prototype,"win_label_multiple_portrait",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(U.prototype,"tipBg_landscape",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(U.prototype,"win_label_score_landscape",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(U.prototype,"win_label_multiple_landscape",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(U.prototype,"tipListItem",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(U.prototype,"richTextComp",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(U.prototype,"richTextShadow",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(U.prototype,"roleNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(U.prototype,"roleSKeleton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=U))||K));o._RF.pop()}}}));

System.register("chunks:///_virtual/GridView5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameDefines8.ts","./EliminateCellView5.ts","./SubGameData8.ts","./Config.ts","./CommonEvent.ts","./WinScoreCheckoutView5.ts","./Global.ts","./SubGameConstants7.ts","./BigWinLayer3.ts"],(function(t){var e,i,s,a,n,r,o,l,h,_,c,d,p,f,u,m,g,E,v,I,w,C,T,L,S,M,y,b,R,N,O,A,F;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy,a=t._decorator,n=t.Node,r=t.Vec3,o=t.UITransform,l=t.randomRangeInt},function(t){h=t.default},function(t){_=t.EventName,c=t.GRID_HEIGHT,d=t.GRID_WIDTH,p=t.DEFAULT_FREE_TIMES,f=t.CELL_FREEMODEL_ID,u=t.GRID_LENGTH,m=t.CELL_SIZE,g=t.CELL_SIZE_HEIGHT,E=t.DEFAULT_ADD_FREE_TIMES,v=t.GRID_PIXEL_HEIGHT,I=t.CELL_PREFAB_URL,w=t.PREFAB_URL_Scatter,C=t.CELL_Multiple_ID,T=t.PREFAB_URL_Multiplier,L=t.CELL_ICON_URL,S=t.CELL_WEIGHT},function(t){M=t.default},function(t){y=t.SubGameData},function(t){b=t.ViewZOrder},function(t){R=t.CommonEvent},function(t){N=t.WinScoreCheckoutView},function(t){O=t.Global},function(t){A=t.SubGameConstants},function(t){F=t.default}],execute:function(){var D;s._RF.push({},"dd6a5xqXKdAIb4ZAlpZuq6y","GridView",void 0);var x=a.ccclass;a.property,t("default",x(D=function(t){function s(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this).view=null,e.cellViews=null,e.lastCellView=[],e._baseMap=void 0,e._freeMap=void 0,e.cards=[],e.card_index=0,e.total_add=0,e.total_score=0,e.multiple=0,e.total_multiple=0,e.free_total_multiple=0,e.win_score=0,e.win=0,e.total_play_count=0,e.total_play_id=0,e.total_fill_up_count=0,e.total_fill_up_id=0,e.total_freemodel_times=0,e.free_times_remaining=0,e.free_array_inidex=0,e.b_multiplier=!1,e.b_jackpot=!1,e.freeModelType=0,e.freeModelType_count=0,e.total_multiple_count=0,e.tumble_win=0,e.base_map_delay=!1,e.delayTimes=0,e.winning_index_cards=0,e.fr_cur_i=0,e.fr_cur_j=0,e.sc_cur_i=0,e.sc_cur_j=0,e.fall_index=0,e._bIsFirstDown=!1,e}e(s,t);var a=s.prototype;return a.onLoad=function(){this.initListener()},a.onDestroy=function(){this.data.pools.forEach((function(t){App.pool.deletePool(t)})),this.data.pools.clear()},a.initListener=function(){this.onD(_.START_FREE_MODEL,this.onRemainingFreeTimes),this.onD(_.FREE_MODE_SPIN_END,this.onSpinEnd),this.node.on(n.EventType.TOUCH_END,this.onTouchEnd,this)},a.onTouchEnd=function(){if(!O.playback){var t=Date.now();t-this.delayTimes<500||(this.delayTimes=t,dispatch(R.NOTIFY_CLICK_SPIN))}},a.resetInit=function(){this.cards=[],this.card_index=0,this.total_add=0,this.total_score=0,this.multiple=0,this.total_multiple=0,this.total_play_count=0,this.total_play_id=0,this.total_fill_up_count=0,this.total_fill_up_id=0,this.tumble_win=0,this.bIsFirstDownComplete=!1},a.reset_free_init=function(){this.total_freemodel_times=0,this.free_array_inidex=0,this.win_score=0,this.win=0,this.free_total_multiple=0,dispatch(R.NOTIFY_WINSCORE_TIPS,this.win_score)},a.clearLastMap=function(){var t=this;this.view.onGridMaskEnable(!0),this.lastCellView=this.cellViews.map((function(t){return[].concat(t)})),this.cellViews=[];var e=0;this.fall_index=0,this.data.soundClearIdx=0,this.data.indexColumn=0;for(var i=1;i<=c;i++)for(var s=function(){if(t.lastCellView&&t.lastCellView.length>0){var s=t.lastCellView[i][a];if(s){var n=s.getComponent(M);n&&n.dropAndRemove((function(){t.data._recycleSymbol(s),e+=1,t.clearCompleted(e)}))}}},a=1;a<=d;a++)s();this.tumble_win=0,dispatch(_.REFRESH_TUMBLE_WIN,this.tumble_win),dispatch(_.PLAY_EFFECT,A.AudioSource.SOUND_REFRESH),this.view.onClearScoreBoradItem()},a.clearCompleted=function(t){26==t&&(this.data.SWITCH_FREE_MODE?(dispatch(_.RESET_TIP_SCORE),this.process_free_map()):(Log.d("clearCompleted data received = ",this.data.DATARECEIVED),this.data.DATARECEIVED?this.process_first_map():this.base_map_delay=!0,Log.d("clearCompleted this.base_map_delay = ",this.base_map_delay)))},a.handleReceiveSlotBet=function(t){this.resetInit(),this.reset_free_init(),this._baseMap=t.base,this._freeMap=t.free,this._freeMap.length>0&&(this.free_times_remaining=p,this.refreshFreeSpinView()),this.total_freemodel_times=t.free_times,Log.d("ssss handleReceiveSlotBet base = ",this._baseMap,this.base_map_delay),this.card_index=0,this._baseMap&&this._baseMap.length>0?(this.init_base_map(this._baseMap),this.data.DATARECEIVED=!0):this.view.onSpinEnd(),this.base_map_delay&&(this.base_map_delay=!1,this.process_first_map(),this.data.QUICKSTOP&&(this.quickStopPreCellDrop(),this.quickStopNewCellDown())),this.view.onGridMaskEnable(!0)},a.refreshLastMap=function(){Log.d(""),this.data.QUICKSTOP=!1,this.data.INITNEWCELL=!1,this.data.DATARECEIVED=!1,this.base_map_delay=!1,this.bIsFirstDownComplete=!1,this.node.destroyAllChildren(),this.cellViews=[],this.lastCellView=[],App.uiManager.close(N),App.uiManager.close(F)},a.handleReceiveLastMap=function(t){if(this.refreshLastMap(),t)if(this.resetInit(),this.reset_free_init(),this._baseMap=t.base||{},this._freeMap=t.free||{},this.free_times_remaining=t.free_remain_times||0,this.total_freemodel_times=t.free_times||0,this.data.total_bet=t.bet||0,this.win_score+=t.win||0,this.win=t.win||0,0!==this._freeMap.length?this.free_total_multiple=t.free_multi:this.free_total_multiple=0,dispatch(R.NOTIFY_DEFAULT_BET,t.bet),t.base&&t.base.length>0){this.init_base_map(this._baseMap);var e=this.cards.length-1;if(this.card_index=e,this.handle_last_map_icons(this.cards[this.card_index]),Log.d("this._freeMap.length = ",this._freeMap.length),this._freeMap.length>0&&dispatch(R.NOTIFY_FREE_MODE),this._freeMap.length===t.free_times?(this.data.INITNEWCELL=!0,this.data.SWITCH_DOUBLE_FEATURE=!1,this.view.onRefreshFuncBtnView(!1)):this._freeMap.length>0?(this.view.switchFreeScene(!0),this.refreshFreeSpinView()):(this.data.SWITCH_FREE_MODE=!1,dispatch(_.ENTER_NORMAL_MODEL)),this.view.updateFreeMultiple(this.free_total_multiple),this.view.onGridMaskEnable(!1),0==this._freeMap.length)if(dispatch(_.ENTER_NORMAL_MODEL),this.data.isFirstgame){var i=this.cards[this.card_index].map,s=this.transformArray(i);this.handle_map(s,!1)}else{var a=this.getSpecialLastMap(),n=this.transformArray(a);this.handle_map(n,!1,!1),this.data.isFirstgame=!0}else{var r=this.cards[this.card_index].map,o=this.transformArray(r);this.handle_map(o,!1)}}else{var l=this.randomLastMap(),h=this.transformArray(l);this.handle_map(h,!1),O.playback||dispatch(_.ENTER_NORMAL_MODEL)}else{var c=this.randomLastMap(),d=this.transformArray(c);this.handle_map(d,!1),dispatch(_.ENTER_NORMAL_MODEL)}},a.handle_last_map_icons=function(t){var e=t.icons;if(e&&e.length>0){var i=e[0],s=i.icon,a=i.num;s===f&&a>=3||(this.cards[this.card_index].icons=[])}this.cards[this.card_index].multiple=0},a.process_free_map=function(){this.free_times_remaining>0?(this.handle_free_map(this.free_array_inidex),this.free_times_remaining-=1,this.free_array_inidex+=1,this.refreshFreeSpinView()):(Log.d(""),this.resetInit(),this.reset_free_init()),this.view.onClearScoreBoradItem()},a.handle_free_map=function(t){if(Log.d("ssssssss handle_free_map index = ",t),t>=this._freeMap.length)Log.d("handle_free_map finish !!!");else if(this._freeMap&&this._freeMap.length>0){var e=this._freeMap[t].one;Log.d("handle_free_map base = ",e),e&&e.length>0&&(this._baseMap=e,this.init_base_map(this._baseMap),this.process_first_map())}},a.init_base_map=function(t){this.resetInit(),this.cards=[];for(var e=[],i=0;i<t.length;i++){var s=t[i],a=s.map,n=s.icons;e=[];for(var r=0;r<n.length;r++){var o=n[r];e.push({add:o.add,icon:o.icon,num:o.num})}this.cards.push({add:s.add,icons:e,map:a,multiple:s.multiple,score:s.score})}},a.process_first_map=function(){if(Log.d("process_first_map ssssssssss !!!",this.cards,this.card_index),this.cards.length>0){var t=this.cards[this.card_index],e=null==t?void 0:t.map;if(e){var i=this.transformArray(e);this.handle_map(i,!0),this.data.INITNEWCELL=!0}}},a.init_complete=function(t){if(t===u)if(this.card_index>=this.cards.length)Log.d("init_complete this.cards finish !!!");else if(this.cards.length>0){var e=this.cards[this.card_index];this.handleOneCard(e)}},a.drop_complete=function(t){if(t===u)if(Log.d("ssss drop_complete = ",this.cards),this.view.onGridMaskEnable(!1),this.data.buy_free_spins=!1,this.bIsFirstDownComplete=!0,dispatch(R.NOTIFY_SPIN_STOP_NORMAL,!1),this.card_index>=this.cards.length)Log.d("drop_complete this.cards finish !!!",this.card_index,this.cards.length);else if(this.cards.length>0){var e=this.cards[this.card_index];this.handleOneCard(e)}},a.play_complete=function(){if(Log.d("play_complete index = ",this.total_play_id,this.total_play_count),this.total_play_id===this.total_play_count)if(this.total_play_count=0,this.total_play_id=0,Log.d("play_complete remain cards = ",this.card_index,this.cards.length),this.card_index>=this.cards.length)Log.d("play_complete this.cards finish !!!",this.total_add);else if(this.cards.length>0){var t=this.cards[this.card_index].map;if(t){this.view.onGridMaskEnable(!0);var e=this.transformArray(t);this.fill_up_map(e)}}},a.fill_up_complete=function(){if(this.total_fill_up_id===this.total_fill_up_count)if(this.total_fill_up_count=0,this.total_fill_up_id=0,Log.d("ssssssss fill_up_complete",this.cellViews),Log.d("time downAction end",Date.now()),this.view.onGridMaskEnable(!1),this.card_index>=this.cards.length)Log.d("fill_up_complete this.cards finish !!!");else if(this.cards.length>0){this.view.onGridMaskEnable(!0);var t=this.cards[this.card_index];this.handleOneCard(t)}},a.handleOneCard=function(t){this.card_index+=1,this.view.c2sFreeSpin();var e=t.add,i=t.score,s=t.map,a=t.icons,n=t.multiple;Log.d("handleOneCard",a),this.multiple=n,this.total_add+=e,this.total_score+=i;var r=i;if(r&&(this.win_score+=r,this.win_score>0&&Log.d("YOU WIN = ",App.utils.formatNumber(this.win_score))),this.tumble_win+=i,Log.d("TUMBLE WIN = ",App.utils.formatNumber(this.tumble_win)),dispatch(_.REFRESH_TUMBLE_WIN,this.tumble_win),this.b_multiplier=!1,this.b_jackpot=!1,this.freeModelType=0,this.freeModelType_count=0,this.freeModelType=this.getFreeModelType(s),Log.d("handleOneCard freeModelType = ",this.freeModelType,this.freeModelType_count),this.multiple>1&&this.card_index===this.cards.length&&(this.total_multiple_count=this.getMultipleCount(s),this.total_multiple+=this.multiple,this.b_multiplier=!0),Log.d("handleOneCard score = ",i),0==i)this.handleLastCard();else if(Log.d("handleOneCard total_play_count = ",this.total_play_count),this.total_play_count=0,a&&a.length>0){for(var o=0;o<a.length;o++){var l=a[o];this.total_play_count+=l.num}Log.d("handleOneCard total_play_count = ",this.total_play_count),this.handle_icons(a)}else Log.e("")},a.handleLastCard=function(){var t=this.total_add-this.total_score;Log.d("Each card add score2 = ",App.utils.formatNumber(t)),this.win_score+=t,Log.d("Each card YOU WIN = ",App.utils.formatNumber(this.win_score)),Log.d("Each card add score = ",App.utils.formatNumber(this.total_add)),this.b_jackpot=this.data.getJackpot(this.total_add),this.b_multiplier?(this.b_multiplier=!1,this.view.freeRecordMultipleTween(),this.handle_multiplier_symbols(),this.data.SWITCH_FREE_MODE||dispatch(_.REFRESH_TUMBLE_WIN_MULTIPLE,0)):(dispatch(R.NOTIFY_WINSCORE_TIPS,this.win_score),this.onShowJackpot())},a.handle_multiplier_symbols=function(){for(var t=this,e=[],i=0,s=1;s<=d;s++)for(var a=1;a<=c;a++){var n=this.cellViews[a][s];if(n){var l=n.getComponent(M);l&&l.IconId>f&&(i+=1,e.push(n))}}var h=0,p=this;this.data.TURBO_SPIN?(this.view.onGridMaskEnable(!1),e.forEach((function(e,s){var a=e.getComponent(M);if(a){var n,l=m*(a.colums-.5),h=g*(a.rows-.5)-35,c=new r(l,h,0),d=null==(n=t.node.getComponent(o))?void 0:n.convertToWorldSpaceAR(c);dispatch(_.SHOW_WIN_MULTIPILER_SCORE,d,a.Multiple),a.play_ani_multiple((function(){s+=1,Log.d("handle_multiplier_symbols complete = ",s,i,t.total_score,t.total_add,t.win_score),s===i&&(t.scheduleOnce((function(){dispatch(_.REFRESH_TUMBLE_WIN_FINAL),t.view.updateFreeMultiple(t.total_multiple)}),1),t.scheduleOnce((function(){t.b_jackpot||t.win_score>0&&dispatch(R.NOTIFY_WINSCORE_TIPS,t.win_score)}),.4),t.scheduleOnce((function(){dispatch(R.NOTIFY_WINSCORE_TIPS,p.win_score),t.onShowJackpot()}),1.5))}))}}))):e.reduce((function(t,e){return t.then((function(){return function(t){return new Promise((function(e,s){if(t){var a=t.getComponent(M);if(a&&a.IconId>f){p.view.onGridMaskEnable(!1);var n=m*(a.m_columns-.5),l=g*(a.m_rows-.5)-35;p.scheduleOnce((function(){var t,e=new r(n,l,0),i=null==(t=p.node.getComponent(o))?void 0:t.convertToWorldSpaceAR(e);dispatch(_.SHOW_WIN_MULTIPILER_SCORE,i,a.Multiple),a.hideMultiple()}),.25),a.play_ani_multiple((function(){e(),h+=1,Log.d("handle_multiplier_symbols complete = ",h,i,p.total_score,p.total_add,p.win_score),h===i&&(dispatch(_.REFRESH_TUMBLE_WIN_FINAL),p.view.updateFreeMultiple(p.total_multiple),p.scheduleOnce((function(){p.b_jackpot||p.win_score>0&&dispatch(R.NOTIFY_WINSCORE_TIPS,p.win_score)}),.4),p.scheduleOnce((function(){dispatch(R.NOTIFY_WINSCORE_TIPS,p.win_score),p.onShowJackpot()}),1.2))}))}}}))}(e)}))}),Promise.resolve())},a.onShowJackpot=function(){var t=this;this.b_jackpot?(this.b_jackpot=!1,App.uiManager.open({type:F,bundle:this.data.module,zIndex:b.UI,args:[this.data.getJackpotType(this.total_add),this.total_add,function(){dispatch(_.FREE_MODE_SPIN_END)}]})):this.win_score>0?(dispatch(R.NOTIFY_WINSCORE_TIPS,this.win_score,!1),this.scheduleOnce((function(){t.onSpinEnd()}),.1)):this.onSpinEnd()},a.onSpinEnd=function(){this.fall_index=0,this.data.canOneSound=!0,this.data.soundClearIdx=0,this.data.scatterSoundIdx=0,0===this.freeModelType?this.onRemainingFreeTimes():this.handle_scatter_icon()},a.handle_scatter_icon=function(){for(var t=this,e=0,i=0,s=1;s<=c;s++)for(var a=1;a<=d;a++){var n=this.cellViews[s][a];if(n){var r=n.getComponent(M);r&&r.IconId===f&&(i++,r.play_winning_animation(i,(function(){e+=1,t.play_scatter_complete(e)})))}}},a.play_scatter_complete=function(t){Log.d("play_scatter_complete index = ",t,this.freeModelType_count),t===this.freeModelType_count&&(this.freeModelType_count=0,this.handle_freeModel_type())},a.play_no_scatter_complete=function(t){Log.d("play_no_scatter_complete index = ",t,this.freeModelType_count),t===this.freeModelType_count&&this.handleLastCard()},a.handle_freeModel_type=function(){1===this.freeModelType?(this.data.add_freeGame_times=!1,this.view.enterFreeModel()):2===this.freeModelType?(this.free_times_remaining+=E,this.data.add_freeGame_times=!0,this.refreshFreeSpinView(),App.uiManager.open({type:N,bundle:this.data.module,zIndex:b.UI,args:[1,E]})):this.onRemainingFreeTimes()},a.handle_special_icon=function(){for(var t=1;t<=c;t++)for(var e=1;e<=d;e++)if(this.cellViews&&this.cellViews.length>0){var i=this.cellViews[t][e];if(i){var s=i.getComponent(M);if(s&&s.IconId>=f){var a=this.node.children.length;s.IconId===f&&s.node.setSiblingIndex(a+1),s.IconId>f&&s.node.setSiblingIndex(a+1)}}}},a.onRemainingFreeTimes=function(){if(Log.d("",this.free_times_remaining),this.free_times_remaining>0)this.data.QUICKSTOP=!1,this.data.INITNEWCELL=!1,this.data.DATARECEIVED=!1,this.bIsFirstDownComplete=!1,this.clearLastMap(),this.data.TURBO_SPIN||this.data.QUICK_SPIN||dispatch(R.NOTIFY_SPIN_START_NORMAL);else if(this.data.SWITCH_FREE_MODE){this.data.add_freeGame_times=!1,Log.d("",this.win_score,this.win);var t=this.win_score-this.win;App.uiManager.open({type:N,bundle:this.data.module,zIndex:b.UI,args:[2,this.total_freemodel_times,t,this.data.getJackpotType(t)]});var e=App.getLanguage("90049");dispatch(R.NOTIFY_RICH_TEXT_TIPS,e)}else Log.d(""),this.data.QUICKSTOP=!1,this.data.INITNEWCELL=!1,this.data.DATARECEIVED=!1,this.bIsFirstDownComplete=!1,this.reset_free_init(),this.view.onSpinEnd()},a.handle_map=function(t,e,i){var s=this;void 0===i&&(i=!0),this.cellViews=[];for(var a=0,n=[],r=1;r<=c;r++){this.cellViews[r]=[];for(var o=1;o<=d;o++){var l=t[o-1+(r-1)*d],h=!1;if(l===f){var _=this.getScatterNum(r,o,t);n.push(_),n=this.setForArr(n),h=this.checkSpecialAnim(_,o,d)}var p=this.data._createSymbol(l);if(p){this.node.addChild(p);var u=p.getComponent(M);null==u||u.initWithModel(l,r,o),this.cellViews[r][o]=p,e?null==u||u.initNewCellAndDrop(n.length,(function(){a+=1,s.drop_complete(a)}),h):(a+=1,i&&this.init_complete(a))}}}this.handle_special_icon()},a.handle_icons=function(t){for(var e=0;e<t.length;e++){var i=t[e];this.winning_index_cards=e+1,this.handle_target_icon(i.add,i.icon,i.num)}if(1===t.length){var s=t[0].icon,a=this.getCellIconUrl(s);if(Log.d("sssssssss richText url = ",a,t[0].add),a)App.getLanguage("90045",[t[0].num,a,"{score:"+t[0].add+"}"])}else if(t.length>1)App.getLanguage("90046");this.view.onAddScoreBoradItem(t)},a.handle_target_icon=function(t,e,i){var s=this,a=0,n=0,l=0,h=1,p=1,u=[];if(this.cards.length>0){for(var E=function(t){for(var i=function(i){var r=s.cellViews[t][i];if(r){var o=r.getComponent(M),_=s.node.children.length;if(o&&o.IconId===e)if(l++,e===f)a+=1,s.play_no_scatter_complete(a),o.node.setSiblingIndex(_);else if(e>=1&&e<5&&o.node.setSiblingIndex(_-l),o.play_winning_animation(l,(function(){s.data._recycleSymbol(r),s.total_play_id+=1,s.cellViews[t][i]=null,s.play_complete(),s.total_play_id==s.total_play_count&&(null==o||o.resetCanBombSound())})),1===s.winning_index_cards)S[t-1][i-1]>n&&(n=S[t-1][i-1],s.fr_cur_i=t,s.fr_cur_j=i,h=s.fr_cur_i,p=s.fr_cur_j);else if(2===s.winning_index_cards){if(t===s.fr_cur_i&&(i===s.fr_cur_j-1||i===s.fr_cur_j+1))return 0;u.push(i);var c=u[u.length-1];S[t-1][c-1]>n&&(n=S[t-1][c-1],s.sc_cur_i=t,s.sc_cur_j=c,h=s.sc_cur_i,p=s.sc_cur_j)}else if(3===s.winning_index_cards){var d=(s.fr_cur_i||s.sc_cur_i)===t,m=(s.fr_cur_j-1||s.fr_cur_j+1||s.sc_cur_j-1||s.sc_cur_j+1)===i;if(d&&m)return 0;u.push(i);var g=u[u.length-1];S[t-1][g-1]>n&&(n=S[t-1][g-1],h=t,p=g)}}},r=1;r<=d;r++)i(r)},v=1;v<=c;v++)E(v);if(n>0){var I=m*(p-.5),w=g*(h-.65);if(this.data.TURBO_SPIN){var C,T=new r(I,w,0),L=null==(C=this.node.getComponent(o))?void 0:C.convertToWorldSpaceAR(T);dispatch(_.SHOW_WIN_SCORE,L,t,this.win_score)}else this.scheduleOnce((function(){var e,i=new r(I,w,0),a=null==(e=s.node.getComponent(o))?void 0:e.convertToWorldSpaceAR(i);dispatch(_.SHOW_WIN_SCORE,a,t,s.win_score)}),1.2)}}},a.fill_up_map=function(t){var e=this;this.view.onGridMaskEnable(!0);for(var i=[],s=[],a=[],n=1;n<=d;n++)for(var r=1;r<=c;r++)if(null===this.cellViews[r][n]){i.push(n),i=this.setForArr(i);for(var o=r+1;o<=c;o++)if(null!==this.cellViews[o][n]){this.cellViews[r][n]=this.cellViews[o][n],this.cellViews[o][n]=null;var l=this.cellViews[r][n];if(l){var h=l.getComponent(M);if(h){this.cellViews[r][n]=l;var _=0;if(n<=i.length)for(var p=0;p<i.length;p++)n===i[p]&&(_=p+1);else _=i.length;Log.d("time downAction start",Date.now()),this.total_fill_up_count+=1,h.downAction(r,n,_,(function(){e.total_fill_up_id+=1,e.fill_up_complete()}))}}break}}for(var u=1;u<=d;u++)for(var m=0,E=1;E<=c;E++)if(null===this.cellViews[E][u]){var I=v+g*(m+=1),w=this.getIconIndex(E,u);if(t[w]===f){var C=this.getScatterNum(E,u,t);a.push(C),a=this.setForArr(a)}var T=a.length;s.push(u);var L=(s=this.setForArr(s)).length;this.createNewCell(t[w],E,u,I,T,L)}this.handle_special_icon()},a.getIconIndex=function(t,e){return e-1+(t-1)*d},a.createNewCell=function(t,e,i,s,a,n){var r=this,o=this.data._createSymbol(t);if(o){this.node.addChild(o);var l=o.getComponent(M);null==l||l.initWithModel(t,e,i),this.cellViews[e][i]=o,l&&(this.total_fill_up_count+=1,l.downAction2(e,i,s,a,n,(function(){r.total_fill_up_id+=1,r.fill_up_complete()})))}},a.getCellPrefabUrl=function(t){var e=null;return t>=1&&t<=9?e=I[t]:t===f?e=w:(t>f||t>=C||t>=C)&&(e=T),e},a.getCellIconUrl=function(t){var e=null;return t>=1&&t<=9&&(e=L[t]),e},a.getMultipleCount=function(t){var e=0;return t.forEach((function(t){t>f&&e++})),e},a.getFreeModelType=function(t){var e=0;return t.forEach((function(t){t===f&&e++})),this.freeModelType_count=e,e>=4&&!this.data.SWITCH_FREE_MODE?1:e>=3&&this.data.SWITCH_FREE_MODE?2:0},a.transformArray=function(t){for(var e=[],i=4;i<t.length;i+=5)e.push(t[i]);for(var s=3;s<t.length;s+=5)e.push(t[s]);for(var a=2;a<t.length;a+=5)e.push(t[a]);for(var n=1;n<t.length;n+=5)e.push(t[n]);for(var r=0;r<t.length;r+=5)e.push(t[r]);return e},a.randomLastMap=function(){for(var t=[],e=0;e<30;e++)t[e]=l(1,9);return t},a.refreshFreeSpinView=function(){this.view.updateFreeTimes(this.free_times_remaining);var t=App.getLanguage("90047",[this.free_times_remaining]);0===this.free_times_remaining&&(t=App.getLanguage("90072")),dispatch(R.NOTIFY_RICH_TEXT_TIPS,t)},a.setForArr=function(t){return Array.from(new Set(t))},a.getSpecialLastMap=function(){return[23,1,2,4,23,2,10,9,10,2,4,9,10,7,4,3,5,10,6,3,1,10,9,10,1,23,1,2,4,23]},a.getScatterNum=function(t,e,i){for(var s=0,a=1;a<=e;a++)for(var n=1;n<=c;n++){if(a<e||a==e&&n<=t)i[this.getIconIndex(n,a)]===f&&(s+=1)}return s},a.checkSpecialAnim=function(t,e,i){void 0===i&&(i=d);var s=!1,a=i-e,n=3-t;return e<=3&&(n=4-t),a>=n&&(s=!0),Log.d("checkSpecialAnim",t,e,i,a,n,s),s},a.quickStopNewCellDown=function(){var t=0;if(this.cards.length>0)for(var e=1;e<=c;e++)for(var i=1;i<=d;i++)if(this.cellViews&&this.cellViews.length>0){var s=this.cellViews[e][i],a=this.cards[this.card_index].map,n=this.transformArray(a),o=!1;if(n[i-1+(e-1)*d]===f){var l=this.getScatterNum(e,i,n);o=this.checkSpecialAnim(l,i,d)}if(s){var h=s.getComponent(M);if(h){if(0!=t||h.bIsNewCellDown||(t=i),i>t&&0!=t){var _=this.cellViews[e][t].position.clone();s.setPosition(new r(s.position.x,_.y))}h.quickStopDown(o)}}}},a.quickStopPreCellDrop=function(){if(0==this.card_index||this.data.SWITCH_FREE_MODE)for(var t=1;t<=c;t++)for(var e=1;e<=d;e++)if(this.lastCellView&&this.lastCellView.length>0){var i=this.lastCellView[t][e];if(i){var s=i.getComponent(M);s&&s.quickDorpRemove()}}},i(s,[{key:"data",get:function(){return App.dataCenter.get(y)}},{key:"bIsFirstDownComplete",get:function(){return this._bIsFirstDown},set:function(t){this._bIsFirstDown=t}}]),s}(h))||D);s._RF.pop()}}}));

System.register("chunks:///_virtual/IntroductionView5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./CommonEvent.ts"],(function(t){var e,i,n,o,r,s,a,c,l,p,u,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,c=t.Tween,l=t.tween,p=t.Vec3,u=t.UIOpacity},function(t){h=t.default},function(t){d=t.CommonEvent}],execute:function(){var f,g,y,m,b,v,w,I,_,S,C,L,N,z,E;r._RF.push({},"decf3smdKhPWrz6UJyAv+p8","IntroductionView",void 0);var T=s.ccclass,k=s.property;t("IntroductionView",(f=T("IntroductionView"),g=k({type:a}),y=k({type:a}),m=k({type:a}),b=k({type:a}),v=k({type:a}),w=k({type:a}),f((S=e((_=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).view=null,n(e,"maskNode",S,o(e)),n(e,"bg_landscape",C,o(e)),n(e,"bg_portrait",L,o(e)),n(e,"tipListItems",N,o(e)),n(e,"tipsNode",z,o(e)),n(e,"content_logo",E,o(e)),e}i(e,t);var r=e.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),this.maskNode.once(a.EventType.TOUCH_END,this.onClose,this),this.tipsNode&&this.tweenTipFr(),this.content_logo.active=!1,this.onSwitchScreen(App.utils.getOrientation())},r.addEvents=function(){t.prototype.addEvents.call(this),this.onD(d.SWITCH_SCREEN,this.onSwitchScreen)},r.onSwitchScreen=function(t){this.bg_landscape.active=!1,this.bg_portrait.active=!1,"portrait"===t?(this.bg_portrait.active=!0,this.tipListItems.setPosition(0,-100,0)):(this.bg_landscape.active=!0,this.tipListItems.setPosition(-180,-190,0))},r.onClose=function(){this.view.onCloseIntroductionView(),c.stopAllByTarget(this.tipsNode)},r.ctlCheckMark=function(t){t.isChecked?console.log("SSS"):console.log("SSS")},r.tweenTipFr=function(){l(this.tipsNode).to(.28,{scale:new p(this.tipsNode.scale.x+.1,this.node.scale.y+.1)},{easing:"sineOut"}).to(.28,{scale:new p(this.tipsNode.scale.x,this.tipsNode.scale.y)}).union().repeatForever().start()},r.tweenTip=function(){for(var t=this,e=0,i=1;i<this.tipListItems.children.length;i++)this.tipListItems.children[i].getComponent(u).opacity=0;this.schedule((function i(){if(t.node.active){e>t.tipListItems.children.length-1&&(e=0);var n=e+1;n>t.tipListItems.children.length-1&&(n=0);var o=t.tipListItems.children[e].getComponent(u);l(o).to(.8,{opacity:0},{easing:"sineIn"}).start();var r=t.tipListItems.children[n].getComponent(u);l(r).to(.8,{opacity:255},{easing:"sineIn"}).start(),e++}else t.unschedule(i)}),3)},e}(h)).prototype,"maskNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(_.prototype,"bg_landscape",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(_.prototype,"bg_portrait",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(_.prototype,"tipListItems",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(_.prototype,"tipsNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(_.prototype,"content_logo",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=_))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotView5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts"],(function(t){var e,c,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){c=t.cclegacy,n=t._decorator},function(t){i=t.default}],execute:function(){var r;c._RF.push({},"81329TX90dEhbvnDk8iGKet","JackpotView",void 0);var o=n.ccclass;t("JackpotView",o("JackpotView")(r=function(t){function c(){return t.apply(this,arguments)||this}return e(c,t),c.getPrefabUrl=function(){return"prefabs/JackpotView"},c}(i))||r);c._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingView7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./CommonEvent.ts"],(function(t){var r,e,i,o,n,s,a,c,l,u,p,g,f;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,a=t.Node,c=t.ProgressBar,l=t.UITransform,u=t.find,p=t.sys},function(t){g=t.default},function(t){f=t.CommonEvent}],execute:function(){var h,b,d,y,_,v,w,m,B,P,S,z,L,C,E;n._RF.push({},"1caeeQuXBdGwpHrJwZQKPK7","LoadingView",void 0);var V=s.ccclass,D=s.property;t("LoadingView",(h=V("LoadingView"),b=D({type:a}),d=D({type:a}),y=D({type:a}),_=D({type:c}),v=D({type:l}),w=D({type:a}),h((P=r((B=function(t){function r(){for(var r,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return r=t.call.apply(t,[this].concat(n))||this,i(r,"bg_portrait",P,o(r)),i(r,"bg_landscape",S,o(r)),i(r,"content_logo",z,o(r)),i(r,"progressBar",L,o(r)),i(r,"uitfCompsBar",C,o(r)),i(r,"cursor",E,o(r)),r.cursor_startPosX=0,r}e(r,t),r.getPrefabUrl=function(){return"prefabs/LoadingView"};var n=r.prototype;return n.onLoad=function(){var r=u("bg",this.node);r&&(p.isMobile?r.active=!1:r.active=!0),this.cursor_startPosX=this.cursor.position.x,this.onSwitchScreen(App.utils.getOrientation()),t.prototype.onLoad.call(this)},n.addEvents=function(){t.prototype.addEvents.call(this),this.onD(f.SWITCH_SCREEN,this.onSwitchScreen)},n.updateProgress=function(t){this.progressBar.progress=t/100;var r=this.progressBar.progress*this.uitfCompsBar.contentSize.x+this.cursor_startPosX;this.cursor.setPosition(r,this.cursor.position.y,this.cursor.position.z)},n.onSwitchScreen=function(t){this.bg_portrait.active=!1,this.bg_landscape.active=!1,"portrait"===t?(this.bg_portrait.active=!0,this.progressBar.node.setScale(.85,.85,1),this.content_logo.setPosition(0,120,0)):(this.bg_landscape.active=!0,this.progressBar.node.setScale(1,1,1),this.content_logo.setPosition(0,0,0))},r}(g)).prototype,"bg_portrait",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=r(B.prototype,"bg_landscape",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=r(B.prototype,"content_logo",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(B.prototype,"progressBar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=r(B.prototype,"uitfCompsBar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=r(B.prototype,"cursor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=B))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/MainGameView7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameView.ts","./SubGameDefines8.ts","./GameLogic8.ts","./Decorators.ts","./CommonEvent.ts","./Config.ts","./GridView5.ts","./GridBgView5.ts","./IntroductionView5.ts","./BackgroundView5.ts","./WinScoreCheckoutView5.ts","./FunctionButtonView5.ts","./BuyFreeSpinsView5.ts","./Global.ts","./TransFreeGameView3.ts","./LoadingView7.ts","./SubGameConstants7.ts","./BigWinLayer3.ts","./GamePlay3.ts"],(function(i){var t,e,n,o,a,s,c,r,l,h,u,d,p,g,f,S,w,_,E,T,m,V,A,B,I,M,C,R,y,b,v,L,F,k,O,P,D,N;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,s=i._decorator,c=i.find,r=i.sys,l=i.Mask,h=i.Vec3,u=i.UIOpacity,d=i.sp,p=i.tween,g=i.UITransform,f=i.size,S=i.Tween,w=i.math},function(i){_=i.default},function(i){E=i.EventName,T=i.DEFAULT_FREE_TIMES,m=i.HOR_OR_VOR_ANIM},function(i){V=i.GameLogic},function(i){A=i.inject},function(i){B=i.CommonEvent},function(i){I=i.ViewZOrder},function(i){M=i.default},function(i){C=i.GridBgView},function(i){R=i.IntroductionView},function(i){y=i.default},function(i){b=i.WinScoreCheckoutView},function(i){v=i.FunctionButtonView},function(i){L=i.default},function(i){F=i.Global},function(i){k=i.TransFreeGameView},function(i){O=i.LoadingView},function(i){P=i.SubGameConstants},function(i){D=i.default},function(i){N=i.default}],execute:function(){var G,U,H,Y,W;a._RF.push({},"c1cbas50wZLtIS8iB0edfg3","MainGameView",void 0);var z=s.ccclass;s.property,i("default",(G=A({type:V,name:"logic"}),z(((W=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return t=i.call.apply(i,[this].concat(a))||this,n(t,"logic",Y,o(t)),t.loadingView=null,t.introductionView=null,t.gridBgView=null,t.gridViewMask=null,t.gridView=null,t.backgroundView=null,t.functionButtonView=null,t.loadingTimer=null,t.winScoreTimer=null,t.trainsitionNode=null,t.trains_anim=null,t.trainCallBack=null,t.topTipIndex=0,t.callBack=null,t}e(t,i),t.getPrefabUrl=function(){return"prefabs/MainGameView"};var a=t.prototype;return a.addEvents=function(){i.prototype.addEvents.call(this),this.onD(B.SWITCH_SCREEN,this.onSwitchScreen),this.onD(B.DISPATCH_SPIN_START,this.onSpinStart),this.onD(B.DISPATCH_SPIN_STOP,this.onSpinStop),this.onD(B.DISPATCH_TOTAL_BET,this.onRefreshTotalBet),this.onD(B.DISPATCH_QUICK_SPIN,this.onQuickSpin),this.onD(B.DISPATCH_TURBO_SPIN,this.onTurboSpin),this.onD(B.DISPATCH_SKIP_SCREENS,this.onSkipScreens),this.onD(B.DISPATCH_START_AUTOPLAY,this.onAutoPlay),this.onD(B.DISPATCH_PLAYBACK,this.onPlayback),this.onD(B.DISPATCH_GAME_PLAY,this.onGamePlay),this.onD(E.OnReceiveLastMap,this.onReceiveLastMap),this.onD(E.OnReceiveSlotBet,this.onReceiveSlotBet),this.onD(E.ENTER_NORMAL_MODEL,this.enterNormalModel),this.onD(E.S2C_FREE_SPIN,this.onReceiveFreeSpin),this.onD(E.TRANS_FREEMODEL_ANIM,this.trans_FreeModel_Animation),this.onD(E.ON_AFTER_TRANS_ANIAMTIONS,this.onAfterTransFreeGame)},a.init=function(){var i,t=c("bg",this.node);t&&(r.isMobile?t.active=!1:t.active=!0),this.loadingView=c("LoadingView",this.node).getComponent(O),this.loadingView.node.active=!0;var e=c("IntroductionView",this.node);if(e){var n=e.getComponent(R);n&&(n.view=this,this.introductionView=n)}var o=c("BackgroundView",this.node);if(o){var a=o.getComponent(y);a&&(this.backgroundView=a)}var s=c("GridBgView",this.node);if(s){var h=s.addComponent(C);this.gridBgView=h}this.gridViewMask=null==(i=c("GridViewMask",this.node))?void 0:i.getComponent(l);var u=c("GridViewMask/GridView",this.node);if(u){var d=u.addComponent(M);d.view=this,this.gridView=d}var p=c("FunctionButtonView",this.node);if(p){var g=p.getComponent(v);g.view=this,this.functionButtonView=g}this.onSwitchScreen(App.utils.getOrientation())},a.onSwitchScreen=function(i){"portrait"===i?(this.gridViewMask.node.setScale(new h(.79,.79,1)),this.gridViewMask.node.setPosition(new h(0,209,0))):(this.gridViewMask.node.setScale(new h(1,1,1)),this.gridViewMask.node.setPosition(new h(0,14,0)))},a.showEnterGameAnim=function(){var i=this;if(!this.logic.data.ENTER_GAME){if(this.logic.data.lastMapData){var t=this.logic.data.lastMapData,e=t.free||{};t.free_times;if(e.length>0)return}if("portrait"==App.utils.getOrientation())return this.logic.data.ENTER_GAME=!0,void dispatch(E.PLAY_MUSIC,P.AudioSource.BGM_Aztec_01);createPrefab({url:"prefabs/EnterGameView",view:this,complete:function(t){if(t){var e;i.node.addChild(t),Log.d("showEnterGameAnim",F.real_screen_height),dispatch(E.SET_MUSIC_VOLUME,0),dispatch(E.PLAY_EFFECT,P.AudioSource.ENTERGAME_BGM),t.getComponent(u).opacity=255;var n=null==(e=c("eff_enter",t))?void 0:e.getComponent(d.Skeleton);n&&(Log.d("showEnterGameAnim",Date.now()),n.clearTracks(),n.setAnimation(0,"ani",!1),i.scheduleOnce(i.enterCallBack.bind(i,t),5.6))}}})}},a.enterCallBack=function(i){if(this.logic.data.ENTER_GAME=!0,i.isValid){var t=i.getComponent(u);p(t).to(.4,{opacity:0}).call((function(){dispatch(E.PLAY_MUSIC,P.AudioSource.BGM_Aztec_01),dispatch(E.SET_MUSIC_VOLUME,1)})).call((function(){i.removeFromParent(),i.destroy()})).start()}this.stopBgMusic(!0)},a.onCloseIntroductionView=function(){this.showEnterGameAnim(),this.introductionView.node.active=!1,F.playback?this.handlePlayBack():dispatch(E.OnReceiveLastMap,this.logic.data.lastMapData)},a.showMain=function(){App.loading.hide(),this.clearTimer(),this.loadingView.node.active=!1,this.logic.data.ENTER_GAME?this.onCloseIntroductionView():1!=App.utils.PlatformType?this.introductionView.node.active=!0:(this.introductionView.node.active=!1,this.onCloseIntroductionView()),dispatch(B.NOTIFY_ENTER_GAME),App.utils.closeDocumentLoading()},a.handlePlayBack=function(){Log.dump("onPlayback ",F.playbackAllData),Log.dump("onPlayback ",F.playbackData);var i={base:{},free:{}};i.bet=F.playbackData.bet*F.playbackData.line_num,this.onReceiveLastMap(i),this.onPlayback()},a.onPlayback=function(){var i=this;App.uiManager.close(D),F.playback&&(this.logic.data.money=F.playbackAllData.startScore*F.SCORE_EXCHANGE,dispatch(B.NOTIFY_SLOT_INFO,this.logic.data.slotInfo),dispatch(B.NOTIFY_USERINFO_SCORE,this.logic.data.money),dispatch(B.NOTIFY_BALANCE_SCORE,this.logic.data.money),this.scheduleOnce((function(){dispatch(B.NOTIFY_PLAYBACK);var t={};t.base=F.playbackData.base,t.free=F.playbackData.free,t.free_times=F.playbackData.free_times,t.reward=F.playbackData.reward,i.onReceiveSlotBet(t)}),.1))},a.onGridMaskEnable=function(i){var t,e=540;e=i?540:680,null==(t=this.gridViewMask.getComponent(g))||t.setContentSize(f(916,e))},a.updateProgress=function(i){this.loadingView.node.active&&this.loadingView.updateProgress(i)},a.onGamePlay=function(){App.uiManager.open({type:N,bundle:this.logic.data.module,zIndex:I.UI})},a.enterNormalModel=function(){this.functionButtonView.enterNormalModel(),this.backgroundView&&(this.logic.data.ENTER_GAME?this.backgroundView.switchFreeScene(!1,!0):this.backgroundView.switchFreeScene(!1,!1)),this.gridBgView&&this.gridBgView.enterNormalModel((function(){})),this.logic.data.SWITCH_FREE_MODE=!1,this.logic.data.QUICKSTOP=!1,this.logic.data.INITNEWCELL=!1,this.onSpinEnd()},a.enterFreeModel=function(){this.onRefreshFuncBtnView(!1),App.uiManager.open({type:b,bundle:this.bundle,zIndex:I.UI,args:[1,T]})},a.switchFreeScene=function(i){this.functionButtonView&&i&&(this.onRefreshFuncBtnView(!1),this.functionButtonView.switchFreeScene(!0),this.logic.data.ENTER_GAME=!0),this.backgroundView&&i&&this.backgroundView.switchFreeScene(!0),this.gridBgView&&i&&(this.gridBgView.switchFreeScene(!0),this.gridBgView.onSwitchScreen(App.utils.getOrientation())),i&&(this.logic.data.SWITCH_FREE_MODE=!0)},a.c2sFreeSpin=function(){F.playback?this.onReceiveFreeSpin():this.logic.c2sFreeSpin()},a.clearLastMap=function(){this.gridView.clearLastMap(),dispatch(E.RESET_TIP_SCORE)},a.onAddScoreBoradItem=function(i){this.functionButtonView.addItem(i)},a.onClearScoreBoradItem=function(){this.functionButtonView.destroyAllChildren()},a.updateFreeTimes=function(i){this.functionButtonView.updateFreeAmount(i)},a.updateFreeMultiple=function(i){this.functionButtonView.recordFreeMultiple(i)},a.freeRecordMultipleTween=function(){this.logic.data.SWITCH_FREE_MODE&&this.functionButtonView.creatorRecordMultiple()},a.onReceiveLastMap=function(i){Log.d("sssssss onReceiveLastMap",i),dispatch(B.NOTIFY_STOP_AUTOPLAY),this.gridView.handleReceiveLastMap(i)},a.onReceiveSlotBet=function(i){Log.d("onReceiveSlotBet",i),App.loading.hide(),this.clearTimer(),this.gridView.handleReceiveSlotBet(i),this.logic.data.buy_free_spins&&this.clearLastMap()},a.onReceiveFreeSpin=function(){Log.d("onReceiveFreeSpin")},a.onRefreshTotalBet=function(i){this.logic.data.total_bet=i,this.onRefreshBuyMoney()},a.onSpinStart=function(i){void 0===i&&(i=0),this.onRefreshFuncBtnView(!1),this.logic.data.bIsSpinEnd=!1,F.playback?dispatch(B.NOTIFY_BALANCE_SCORE,this.logic.data.money-F.playbackAllData.bet*F.SCORE_EXCHANGE):0==i?this.logic.onSendBet():this.logic.onSendGM(i),this.clearLastMap(),this.onGridMaskEnable(!0),this.stopBgMusic(!1)},a.onSpinStop=function(){this.logic.data.TURBO_SPIN||(this.gridView.bIsFirstDownComplete?Log.d("onSpinStop all has down, can not quick stop"):(this.logic.data.INITNEWCELL,this.logic.data.QUICKSTOP||this.logic.data.QUICK_SPIN||(this.logic.data.QUICKSTOP=!0,this.gridView.quickStopPreCellDrop(),this.gridView.quickStopNewCellDown())))},a.onQuickSpin=function(i){Log.d("ssss onQuickSpin ssss b_quickSpin = ",i),this.logic.data.QUICK_SPIN=i},a.onTurboSpin=function(i){Log.d("ssss onTurboSpin ssss b_turboSpin = ",i),this.logic.data.TURBO_SPIN=i},a.onSkipScreens=function(i){this.logic.data.SKIP_SCREENS=i},a.onAutoPlay=function(i){this.logic.data.AUTOPLAY=i},a.onAfterTransFreeGame=function(i){this.functionButtonView.switchFreeScene(i),this.switchFreeScene(i),this.updateFreeMultiple(0)},a.trans_FreeModel_Animation=function(i,t){this.logic.data.add_freeGame_times?t&&t():App.uiManager.open({type:k,bundle:this.bundle,zIndex:I.UI,args:[i,t]})},a.onTrainsCompleteListener=function(i){(i.animation?i.animation.name:"")===m[0]&&(this.trainCallBack&&this.trainCallBack(),this.trains_anim.clearTracks(),this.trainsitionNode.active=!1)},a.onSpinEnd=function(){this.logic.data.bIsSpinEnd=!0,dispatch(B.NOTIFY_BALANCE_SCORE,this.logic.data.money),dispatch(B.NOTIFY_SPIN_END),this.logic.data.AUTOPLAY||(this.onRefreshFuncBtnView(!0),this.stopBgMusic(!0))},a.showLoadingScreen=function(){this.clearTimer(),this.loadingTimer=setTimeout((function(){App.loading.show("loading...")}),2e3)},a.onRefreshBuyMoney=function(){var i=this.logic.data.total_bet*this.logic.data.BUYFEATURE_MULTIPLE;this.functionButtonView.onRefreshBuyPrice(i);var t=this.logic.data.total_bet*this.logic.data.DOUBLE_CHANCE_MULTIPLE;this.functionButtonView.onRefreshBetPrice(t)},a.openBuyFreeSpinsView=function(){App.uiManager.open({type:L,bundle:this.bundle,zIndex:I.UI,args:[this.logic]})},a.switchDoubleFeature=function(i){this.logic.data.SWITCH_DOUBLE_FEATURE=i,dispatch(B.NOTIFY_SWITCH_DOUBLE_FEATURE,i?this.logic.data.DOUBLE_CHANCE_MULTIPLE:1)},a.onRefreshFuncBtnView=function(i){this.functionButtonView.onRefreshBetOpacity(i),!this.logic.data.SWITCH_DOUBLE_FEATURE&&i?this.functionButtonView.onRefreshBuyOpacity(!0):this.functionButtonView.onRefreshBuyOpacity(!1)},a.clearTimer=function(){this.loadingTimer&&clearTimeout(this.loadingTimer)},a.clearWinScoreTimer=function(){this.winScoreTimer&&clearTimeout(this.winScoreTimer)},a.onShow=function(){i.prototype.onShow.call(this)},a.onDestroy=function(){i.prototype.onDestroy.call(this),this.clearTimer()},a.onGridViewTouch=function(){F.playback||dispatch(B.NOTIFY_CLICK_SPIN)},a.gradientBgMusic=function(i){var t=this;S.stopAllByTarget(this.node),0===i?p(this.node).to(1,{},{onUpdate:function(i,e){if(null!=e){var n=w.lerp(1,0,e);t.logic.data.changeMusicVolume(n)}}}).start():p(this.node).to(1,{},{onUpdate:function(i,e){if(null!=e){var n=w.lerp(t.audioHelper.musicVolume,1,e);t.logic.data.changeMusicVolume(n)}}}).start()},a.stopBgMusic=function(i){void 0===i&&(i=!0),console.log(i),this.logic.data.SWITCH_FREE_MODE||(i?(this.callBack=function(){this.gradientBgMusic(0)},this.scheduleOnce(this.callBack,5)):this.callBack&&(this.unschedule(this.callBack),this.gradientBgMusic(1)))},t}(_)).logicType=V,Y=t((H=W).prototype,"logic",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=H))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/PageChange3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SlotGameDefines.ts"],(function(e){var t,n,r,a,i,o,g,u,s,l,P,c,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,g=e.PageView,u=e.Node,s=e.SpriteFrame,l=e.Sprite,P=e.Component},function(e){c=e.CommonEvent},function(e){h=e.SoundName}],execute:function(){var p,d,f,m,C,y,x,L,b;i._RF.push({},"76937exTwRKGblmgezzdjpf","PageChange",void 0);var v=o.ccclass,I=o.property;e("PageChange",(p=v("PageChange"),d=I({type:g}),f=I({type:u}),m=I({type:[s]}),p((x=t((y=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"Page",x,a(t)),r(t,"Layout",L,a(t)),r(t,"Sprite",b,a(t)),t.PageNum=3,t}n(t,e);var i=t.prototype;return i.GoNextPage=function(){Log.d(this.Page.getCurrentPageIndex()+"!!!!"),this.Page.getCurrentPageIndex()<this.PageNum?this.Page.scrollToPage(this.Page.getCurrentPageIndex()+1):this.Page.scrollToPage(0)},i.GoLastPage=function(){this.Page.getCurrentPageIndex()>0?this.Page.scrollToPage(this.Page.getCurrentPageIndex()-1):this.Page.scrollToPage(this.PageNum)},i.ChangeIndex=function(){dispatch(c.PLAY_EFFECT,h.SOUND_HELP_PLAY_CHANGE);for(var e=0;e<this.Layout.children.length&&!(this.Page.getCurrentPageIndex()>this.PageNum||this.Page.getCurrentPageIndex()<0);e++)e==this.Page.getCurrentPageIndex()?this.Layout.children[e].getComponent(l).spriteFrame=this.Sprite[1]:this.Layout.children[e].getComponent(l).spriteFrame=this.Sprite[0]},t}(P)).prototype,"Page",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(y.prototype,"Layout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(y.prototype,"Sprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=y))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol9.ts",["cc"],(function(o){var t;return{setters:[function(o){t=o.cclegacy}],execute:function(){t._RF.push({},"cbe762iEsZGdYR50An3eOKS","Protocol",void 0);var e=o("Protocol",(function(){}));e.LOGIN="login",e.LOGOUT="logout",e.USERINFO="userinfo",e.USER_KICK="user_kick",e.ERRORCODE="errorcode",e.MARQUEE="marquee",e.TIPS="tips",e.DEBUG_LOGIN="debug_login",e.MARK="mark",e.SLOTINFO="slot_info",e.SLOTBET="slot",e.ANTASLOTBET="anta_slot",e.LASTMAP="last_map",e.SLOT_TEST="test",e.BUY="buy_free",e.FREESPIN="free_spin",e.GMSLOT="gm_slot",t._RF.pop()}}}));

System.register("chunks:///_virtual/slot3000509",["./BigWinLayer3.ts","./PageChange3.ts","./GameEntry8.ts","./AutoScaleNode5.ts","./SubGameConstants7.ts","./SubGameData8.ts","./SubGameDefines8.ts","./SubGameLanguage8.ts","./GameLogic8.ts","./GameHandler8.ts","./GameSender8.ts","./Protocol9.ts","./BackgroundView5.ts","./BuyFreeSpinsView5.ts","./EffectView4.ts","./EliminateCellView5.ts","./FunctionButtonView5.ts","./GamePlay3.ts","./GridBgView5.ts","./GridView5.ts","./IntroductionView5.ts","./JackpotView5.ts","./LoadingView7.ts","./MainGameView7.ts","./TransFreeGameView3.ts","./WinScoreCheckoutView5.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SubGameConstants7.ts",["cc"],(function(_){var N;return{setters:[function(_){N=_.cclegacy}],execute:function(){N._RF.push({},"55693Pyud5NNZjx7qIqtcfV","SubGameConstants",void 0);var S=function(_){return _.BGM_Aztec_01="audio/bgm_AZTEC_01",_.BGM_Aztec_03="audio/bgm_AZTEC_02",_.ENTERGAME_BGM="audio/sound_game_open",_.SOUND_BIG_WIN_01="bigwin/audio/sound_big_win_01",_.SOUND_BIG_WIN_02="bigwin/audio/sound_big_win_02",_.SOUND_BIG_WIN_03="bigwin/audio/sound_big_win_03",_.SOUND_EPIC_WIN_01="bigwin/audio/sound_epic_win_01",_.SOUND_EPIC_WIN_02="bigwin/audio/sound_epic_win_02",_.SOUND_EPIC_WIN_03="bigwin/audio/sound_epic_win_03",_.SOUND_MEGA_WIN_01="bigwin/audio/sound_mega_win_01",_.SOUND_MEGA_WIN_02="bigwin/audio/sound_mega_win_02",_.SOUND_MEGA_WIN_03="bigwin/audio/sound_mega_win_03",_.SOUND_SUPERB_WIN_01="bigwin/audio/sound_super_win_01",_.SOUND_SUPERB_WIN_02="bigwin/audio/sound_super_win_02",_.SOUND_SUPERB_WIN_03="bigwin/audio/sound_super_win_03",_.SOUND_SENSATIONAL_WIN_01="bigwin/audio/sound_ultimate_win_01",_.SOUND_SENSATIONAL_WIN_02="bigwin/audio/sound_ultimate_win_02",_.SOUND_SENSATIONAL_WIN_03="bigwin/audio/sound_ultimate_win_03",_.SOUND_JACKPOT_QUICK_STOP="audio/sound_dajiang_end",_.SOUND_LIMINATE_01="audio/sound_symbol_explode1",_.SOUND_LIMINATE_02="audio/sound_symbol_explode2",_.SOUND_LIMINATE_03="audio/sound_symbol_explode3",_.SOUND_LIMINATE_04="audio/sound_symbol_explode4",_.SOUND_LIMINATE_05="audio/sound_symbol_explode5",_.SOUND_SCATTER_1="audio/sound_scatter_default01",_.SOUND_SCATTER_2="audio/sound_scatter_default02",_.SOUND_SCATTER_3="audio/sound_scatter_default03",_.SOUND_SCATTER_4="audio/sound_scatter_default04",_.SOUND_SCATTER_5="audio/sound_scatter_default05",_.SOUND_SCATTER_6="audio/sound_scatter_default06",_.SOUND_CLICK="audio/sound_click",_.SOUND_REFRESH="audio/sound_refresh",_.SOUND_TUMBLE="audio/sound_tumble",_.SOUND_ONE="audio/sound_tumble_together",_.SOUND_TUMBLE_SCATTER="audio/sound_scatter_default01",_.SOUND_OVERWEIGHT_OPEN="audio/sound_bet_on",_.SOUND_OVERWEIGHT_CLOSE="audio/sound_bet_off",_.SOUND_POPUPS_OPEN="audio/sound_popups_open",_.SOUND_POPUPS_CLOSE="audio/sound_popups_close",_.SOUND_POPUPS_CONFIRM="audio/sound_popups_confirm",_.SOUND_TRANSITION="audio/sound_transition",_.SOUND_SYMBOL_ORDINARY_WIN="audio/sound_symbol_remove02",_.SOUND_SYMBOL_IION_WIN="audio/sound_symbol_bonce_win",_.SOUND_SYMBOL_TIGER_WIN="audio/sound_symbol_leopard_win",_.SOUND_SYMBOL_FROG_WIN="audio/sound_symbol_frog_win",_.SOUND_SYMBOL_ELEPANT_WIN="audio/sound_symbol_lizard_win",_.SOUND_SYMBOL_EXPLODE="audio/sound_symbol_explode1",_.SOUND_FREEGAMES_FINISH="audio/sound_popups_finish",_.SOUND_FREEGAMES_START="audio/sound_popups_getfreetimes_appear",_.SOUND_MAN_01="audio/sound_character_voice",_.SOUND_MAN_02="audio/sound_charcater_spear",_.SOUND_SYMBOL_SHARK="audio/sound_symbol_remove01",_.FLASHBOOM="audio/sound_multiple_win",_.NUMBER_FLY="audio/sound_multiple_fly",_.ALL_NUMBER_FLY="audio/sound_total_multiplier_fly",_.FLASH="audio/sound_multiple_thunder",_.WIN_COUNT1="audio/sound_win_count_default01",_.WIN_COUNT2="audio/sound_win_count_default02",_.WIN_COUNT1_FREE="audio/sound_win_count_freemode01",_.Win_Score_Roll="audio/sound_popups_finish_loop",_}(S||{}),O=_("SubGameConstants",(function(){}));O.AudioSource=S,O.Multiple=[2,3,4,5,6,8,10,12,15,20,25,50,100,250,500],O.playWinIconSound=[S.SOUND_SYMBOL_ORDINARY_WIN,S.SOUND_SYMBOL_IION_WIN,S.SOUND_SYMBOL_TIGER_WIN,S.SOUND_SYMBOL_ELEPANT_WIN,S.SOUND_SYMBOL_FROG_WIN],O.SOUND_CLEARS=[S.SOUND_LIMINATE_01,S.SOUND_LIMINATE_02,S.SOUND_LIMINATE_03,S.SOUND_LIMINATE_04,S.SOUND_LIMINATE_05],O.playBigPrizeSound=[S.SOUND_BIG_WIN_01,S.SOUND_EPIC_WIN_01,S.SOUND_MEGA_WIN_01,S.SOUND_SUPERB_WIN_01,S.SOUND_SENSATIONAL_WIN_01],O.playBigPrizeEndSound=[S.SOUND_BIG_WIN_02,S.SOUND_EPIC_WIN_02,S.SOUND_MEGA_WIN_02,S.SOUND_SUPERB_WIN_02,S.SOUND_SENSATIONAL_WIN_02],O.playBGM=[S.BGM_Aztec_01,S.BGM_Aztec_03],O.SOUND_SCATTERS=[S.SOUND_SCATTER_1,S.SOUND_SCATTER_2,S.SOUND_SCATTER_3,S.SOUND_SCATTER_4,S.SOUND_SCATTER_5,S.SOUND_SCATTER_6],O.preLoadAudio=[S.WIN_COUNT1_FREE,S.SOUND_FREEGAMES_FINISH,S.WIN_COUNT1,S.WIN_COUNT2,S.SOUND_SYMBOL_SHARK,S.SOUND_FREEGAMES_START,S.ALL_NUMBER_FLY,S.NUMBER_FLY,S.FLASH,S.FLASHBOOM,S.BGM_Aztec_01,S.BGM_Aztec_03,S.SOUND_EPIC_WIN_01,S.SOUND_EPIC_WIN_02,S.SOUND_EPIC_WIN_03,S.SOUND_MEGA_WIN_01,S.SOUND_MEGA_WIN_02,S.SOUND_MEGA_WIN_03,S.SOUND_SUPERB_WIN_01,S.SOUND_SUPERB_WIN_02,S.SOUND_SUPERB_WIN_03,S.SOUND_SENSATIONAL_WIN_01,S.SOUND_SENSATIONAL_WIN_02,S.SOUND_SENSATIONAL_WIN_03,S.SOUND_SCATTER_1,S.SOUND_SCATTER_2,S.SOUND_SCATTER_3,S.SOUND_SCATTER_4,S.SOUND_SCATTER_5,S.SOUND_SCATTER_6,S.SOUND_LIMINATE_01,S.SOUND_LIMINATE_02,S.SOUND_LIMINATE_03,S.SOUND_LIMINATE_04,S.SOUND_LIMINATE_05,S.SOUND_CLICK,S.SOUND_REFRESH,S.SOUND_TUMBLE,S.SOUND_TUMBLE_SCATTER,S.SOUND_OVERWEIGHT_OPEN,S.SOUND_OVERWEIGHT_CLOSE,S.SOUND_POPUPS_OPEN,S.SOUND_POPUPS_CLOSE,S.SOUND_POPUPS_CONFIRM,S.SOUND_TRANSITION,S.SOUND_SYMBOL_ORDINARY_WIN,S.SOUND_SYMBOL_IION_WIN,S.SOUND_SYMBOL_TIGER_WIN,S.SOUND_SYMBOL_ELEPANT_WIN,S.SOUND_SYMBOL_FROG_WIN,S.SOUND_SYMBOL_EXPLODE,S.SOUND_ONE,S.Win_Score_Roll],N._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameData8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./SubGameDefines8.ts"],(function(t){var e,n,o,s,a,i,u,r,l,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy,s=t.Prefab,a=t.instantiate,i=t.Vec3},function(t){u=t.GameData},function(t){r=t.JackpotType,l=t.CELL_FREEMODEL_ID,c=t.CELL_Multiple_ID}],execute:function(){o._RF.push({},"8e521EG6CJHNouetrH8q3Uo","SubGameData",void 0),t("SubGameData",function(t){function o(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).SWITCH_FREE_MODE=!1,e.QUICKSTOP=!1,e.bHasPlayScatterSound=!1,e.scatterSoundIdx=0,e.canOneSound=!0,e.isFirstgame=!1,e.SECOND_QUICKSTOP=!1,e.INITNEWCELL=!1,e.DATARECEIVED=!1,e.QUICK_SPIN=!1,e.TURBO_SPIN=!1,e.SKIP_SCREENS=!0,e.AUTOPLAY=!1,e.PLAYBOMBSOUND=!1,e.playisBoom=!1,e.BUYFEATURE_MULTIPLE=100,e.DOUBLE_CHANCE_MULTIPLE=1.25,e.SWITCH_DOUBLE_FEATURE=!1,e.CONVERT_POS=new i,e.soundIndex=0,e.buy_free_spins=!1,e.add_freeGame_times=!1,e.isDrownSc=!1,e.indexColumn=0,e.bIsSpinEnd=!1,e.INCREASE_SCORE=!1,e.FIRST_FREESPIN=!1,e.ENTER_GAME=!1,e.bHasLoadedRes=!1,e.soundClearIdx=0,e.m_money=0,e.m_total_bet=0,e.m_buyFreeSpins=15,e.m_slotInfo=null,e.m_lastMapData=null,e.m_response=0,e.loadDataFinish=!1,e.loadFinish=!1,e.pools=new Map,e}e(o,t);var u=o.prototype;return u.getJackpotType=function(t){var e=t/this.total_bet;return Log.d("getJackpotType = ",t,this.total_bet,e),e>=50?r.SENSATIONAL:e>=30?r.MEGA:e>=15?r.EPIC:e>=10?r.SUPER:e>=5?r.BIG:r.NONE},u.getJackpot=function(t){return this.getJackpotType(t)>r.NONE},u.changeMusicVolume=function(t){void 0===t&&(t=1),App.globalAudio.isMusicOn&&(App.globalAudio.musicVolume=t)},u.initPools=function(){for(var t=1;t<=11;t++)this._createSymbol(t)},u.getPrefabsName=function(t){var e=null;return t>=1&&t<=9?e="symbol0"+t:t==l?e="symbol_Scatter":(t>l||t>=c||t>=c)&&(e="symbol_Multiplier"),e},u._createSymbol=function(t){var e=this.getPrefabsName(t);if(e){var n;if(!this.pools.has(e)){var o,i=App.pool.createPool(e),u=null==(o=App.cache.get(this.module,"prefabs/symbols/"+e,s))?void 0:o.data;if(u instanceof s){var r=a(u);i.cloneNode=r}this.pools.set(e,i)}var l=null==(n=this.pools.get(e))?void 0:n.get();if(l)return l}return null},u._recycleSymbol=function(t){var e;this.pools.has(t.name)&&(t.isValid&&(null==(e=this.pools.get(t.name))||e.put(t)))},n(o,[{key:"money",get:function(){return this.m_money},set:function(t){this.m_money=t}},{key:"total_bet",get:function(){return this.m_total_bet},set:function(t){this.m_total_bet=t}},{key:"buyFreeSpins",get:function(){return this.m_buyFreeSpins},set:function(t){this.m_buyFreeSpins=t}},{key:"slotInfo",get:function(){return this.m_slotInfo},set:function(t){this.m_slotInfo=t}},{key:"lastMapData",get:function(){return this.m_lastMapData},set:function(t){this.m_lastMapData=t}},{key:"response",get:function(){return this.m_response},set:function(t){this.m_response=t}}]),o}(u)).module="slot3000509",o._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameDefines8.ts",["cc"],(function(_){var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){E._RF.push({},"e5bd88cJWZKe6tEd9RmoAn7","SubGameDefines",void 0);_("CELL_ICON_URL",[null,"eff_icon_1","eff_icon_2","eff_icon_3","eff_icon_4","eff_icon_5","eff_icon_6","eff_icon_7","eff_icon_8","eff_icon_9"]),_("CELL_PREFAB_URL",[null,"prefabs/symbols/symbol01","prefabs/symbols/symbol02","prefabs/symbols/symbol03","prefabs/symbols/symbol04","prefabs/symbols/symbol05","prefabs/symbols/symbol06","prefabs/symbols/symbol07","prefabs/symbols/symbol08","prefabs/symbols/symbol09"]),_("MULTIPLE_SPRITE",["mul_icon_1","mul_icon_2","mul_icon_3","mul_icon_4"]),_("HOR_OR_VOR_ANIM",["ani","ani_ver"]),_("HOR_ANIM",["ani_appear_hor","ani_loop_hor","ani_disappear_hor"]),_("VER_ANIM",["ani_appear_ver","ani_loop_ver","ani_disappear_ver"]),_("POOL_PREFAB_URL",["prefabs/symbols/symbol01","prefabs/symbols/symbol02","prefabs/symbols/symbol03","prefabs/symbols/symbol04","prefabs/symbols/symbol05","prefabs/symbols/symbol06","prefabs/symbols/symbol07","prefabs/symbols/symbol08","prefabs/symbols/symbol09","prefabs/symbols/symbol_Scatter","prefabs/symbols/symbol_Multiplier"]),_("CELL_WEIGHT",[[1,1,1,1,1,1],[2,4,5,5,4,2],[3,6,7,7,6,3],[2,4,5,5,4,2],[1,1,1,1,1,1]]),_("PREFAB_URL_Multiplier","prefabs/symbols/symbol_Multiplier"),_("PREFAB_URL_Scatter","prefabs/symbols/symbol_Scatter"),_("CELL_ANI_DROP","ani_springback_icon"),_("CELL_SCATTER_PRO","ani_pre"),_("CELL_ANI_ICON","ani_icon"),_("CELL_ANI_CRUSH","ani_bomd"),_("CELL_ANI_PANE","ani"),_("CELL_MUL_ANI_CRUSH","beilvfuhao_chuxian"),_("ANI_APPEAR","ani_appear"),_("ANI_LOOP","ani_loop"),_("ANI_DISAPPEAR","ani_disappear"),_("CELL_FREEMODEL_ID",10),_("CELL_Multiple_ID",11),_("DEFAULT_FREE_TIMES",15),_("DEFAULT_ADD_FREE_TIMES",5);var s=_("GRID_WIDTH",6),I=_("GRID_HEIGHT",5),L=(_("GRID_LENGTH",30),_("CELL_SIZE",142)),R=_("CELL_SIZE_HEIGHT",108);_("GRID_PIXEL_WIDTH",s*L),_("GRID_PIXEL_HEIGHT",I*R),_("DELAY_columns",1/30*2.7),_("DELAY_rows",1/30),_("CELL_DROP_TIME",1/30*10),_("CELL_DROP_TIME2",1/30*2),_("STOP_CD_TIME",3),_("STOP_CD_TIME_2",3e3),_("GRID_MOVE_TIME",1/30*10),_("EventName",function(_){return _.OnReceiveSlotBet="OnReceiveSlotBet",_.OnReceiveLastMap="OnReceiveLastMap",_.LoadDataFinish="LoadDataFinish",_.RESET_TIP_SCORE="RESET_TIP_SCORE",_.ENTER_NORMAL_MODEL="ENTER_NORMAL_MODEL",_.START_FREE_MODEL="START_FREE_MODEL",_.FREE_MODE_SPIN_END="FREE_MODE_SPIN_END",_.REFRESH_TUMBLE_WIN="REFRESH_TUMBLE_WIN",_.REFRESH_TUMBLE_WIN_MULTIPLE="REFRESH_TUMBLE_WIN_MULTIPLE",_.REFRESH_TUMBLE_WIN_FINAL="REFRESH_TUMBLE_WIN_FINAL",_.RECOVER_BUY_FREE_BTN="RECOVER_BUY_FREE_BTN",_.TRANS_FREEMODEL_ANIM="TRANS_FREEMODEL_ANIM",_.NPC_SKILL_ANIM="NPC_SKILL_ANIM",_.SHOW_RAIDEN_ANIM="SHOW_RAIDEN_ANIM",_.SHOW_WIN_SCORE="SHOW_WIN_SCORE",_.SHOW_WIN_MULTIPILER_SCORE="SHOW_WIN_MULTIPILER_SCORE",_.SHOW_WINNING_ITEM="SHOW_WINNING_ITEM",_.SHOW_TOUCH_FOLIAGES="SHOW_TOUCH_FOLIAGES",_.RECYCLE_WINNING_ITEM="RECYCLE_WINNING_ITEM",_.MOVE_SCATTER_ICON="MOVE_SCATTER_ICON",_.S2C_FREE_SPIN="S2C_FREE_SPIN",_.ON_AFTER_TRANS_ANIAMTIONS="ON_AFTER_TRANS_ANIAMTIONS",_.PLAY_EFFECT="PLAY_EFFECT",_.PLAY_MUSIC="PLAY_MUSIC",_.STOP_ALL_EFFECTS="STOP_ALL_EFFECTS",_.STOP_EFFECT="STOP_EFFECT",_.STOP_MUSIC="STOP_MUSIC",_.SET_MUSIC_VOLUME="SET_MUSIC_VOLUME",_.SET_EFFECT_VOLUME="SET_EFFECT_VOLUME",_}({})),_("JackpotType",function(_){return _[_.NONE=0]="NONE",_[_.BIG=1]="BIG",_[_.SUPER=2]="SUPER",_[_.EPIC=3]="EPIC",_[_.MEGA=4]="MEGA",_[_.SENSATIONAL=5]="SENSATIONAL",_}({})),_("beilv_Multiple",[2,3,4,5,6,8,10,12,15,20,25,50,100,250,500]);E._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameLanguage8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageDelegate.ts","./SubGameData8.ts","./Enums.ts"],(function(e){var t,u,n,a,_,i;return{setters:[function(e){t=e.inheritsLoose},function(e){u=e.cclegacy},function(e){n=e.injectLanguageData,a=e.LanguageDelegate},function(e){_=e.SubGameData},function(e){i=e.sys_Language}],execute:function(){var r;u._RF.push({},"d1ea2vZFEVMeo6/5SlcdLxI","SubGameLanguage",void 0);var g={language:i.CHINESE,data:{buy_feature_1:"texture/ui/language/buy_feature_zh",buy_feature_2:"texture/ui/language/buy_feature_zh",bet:"texture/ui/language/bet_zh",double_1:"texture/ui/language/double_1_zh",double_2:"texture/ui/language/double_2_zh",on:"texture/ui/language/on_zh",off:"texture/ui/language/off_zh",congratualations:"texture/ui/language/congratulations_zh",free_spins:"texture/ui/language/free_spins_zh",in_spins:"texture/ui/language/in_spins_zh",press_continue:"texture/ui/language/press_continue_zh",buy_free:"texture/ui/language/buy_free_zh",you_won:"/texture/ui/language/you_won_zh",intro_bet_1:"texture/ui/language/intro_bet_zh",intro_bet_2:"texture/ui/language/intro_bet_zh",win_over_1:"texture/ui/language/intro_win_zh",win_over_2:"texture/ui/language/intro_win_zh",intro_time:"texture/ui/language/intro_time_zh",intro_volatLity:"texture/ui/language/intro_volatLity_zh"}},o={language:i.ENGLISH,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},l={language:i.Indonesian,data:{buy_feature_1:"texture/ui/language/buy_feature_id",buy_feature_2:"texture/ui/language/buy_feature_id",bet:"texture/ui/language/bet_id",double_1:"texture/ui/language/double_1_id",double_2:"texture/ui/language/double_2_id",on:"texture/ui/language/on_id",off:"texture/ui/language/off_id",congratualations:"texture/ui/language/congratulations_id",free_spins:"texture/ui/language/free_spins_id",in_spins:"texture/ui/language/in_spins_id",press_continue:"texture/ui/language/press_continue_id",buy_free:"texture/ui/language/buy_free_id",you_won:"/texture/ui/language/you_won_id",intro_bet_1:"texture/ui/language/intro_bet_id",intro_bet_2:"texture/ui/language/intro_bet_id",win_over_1:"texture/ui/language/intro_win_id",win_over_2:"texture/ui/language/intro_win_id",intro_time:"texture/ui/language/intro_time_id",intro_volatLity:"texture/ui/language/intro_volatLity_id"}},s={language:i.Malay,data:{buy_feature_1:"texture/ui/language/buy_feature_ms",buy_feature_2:"texture/ui/language/buy_feature_ms",bet:"texture/ui/language/bet_ms",double_1:"texture/ui/language/double_1_ms",double_2:"texture/ui/language/double_2_ms",on:"texture/ui/language/on_ms",off:"texture/ui/language/off_ms",congratualations:"texture/ui/language/congratulations_ms",free_spins:"texture/ui/language/free_spins_ms",in_spins:"texture/ui/language/in_spins_ms",press_continue:"texture/ui/language/press_continue_ms",buy_free:"texture/ui/language/buy_free_ms",you_won:"/texture/ui/language/you_won_ms",intro_bet_1:"texture/ui/language/intro_bet_ms",intro_bet_2:"texture/ui/language/intro_bet_ms",win_over_1:"texture/ui/language/intro_win_ms",win_over_2:"texture/ui/language/intro_win_ms",intro_time:"texture/ui/language/intro_time_ms",intro_volatLity:"texture/ui/language/intro_volatLity_ms"}},x={language:i.Portuguese,data:{buy_feature_1:"texture/ui/language/buy_feature_pt",buy_feature_2:"texture/ui/language/buy_feature_pt",bet:"texture/ui/language/bet_pt",double_1:"texture/ui/language/double_1_pt",double_2:"texture/ui/language/double_2_pt",on:"texture/ui/language/on_pt",off:"texture/ui/language/off_pt",congratualations:"texture/ui/language/congratulations_pt",free_spins:"texture/ui/language/free_spins_pt",in_spins:"texture/ui/language/in_spins_pt",press_continue:"texture/ui/language/press_continue_pt",buy_free:"texture/ui/language/buy_free_pt",you_won:"/texture/ui/language/you_won_pt",intro_bet_1:"texture/ui/language/intro_bet_1_pt",intro_bet_2:"texture/ui/language/intro_bet_2_pt",win_over_1:"texture/ui/language/intro_win_1_pt",win_over_2:"texture/ui/language/intro_win_2_pt",intro_time:"texture/ui/language/intro_time_pt",intro_volatLity:"texture/ui/language/intro_volatLity_pt"}},b={language:i.Thai,data:{buy_feature_1:"texture/ui/language/buy_feature_1_th",buy_feature_2:"texture/ui/language/buy_feature_2_th",bet:"texture/ui/language/bet_th",double_1:"texture/ui/language/double_1_th",double_2:"texture/ui/language/double_2_th",on:"texture/ui/language/on_th",off:"texture/ui/language/off_th",congratualations:"texture/ui/language/congratulations_th",free_spins:"texture/ui/language/free_spins_th",in_spins:"texture/ui/language/in_spins_th",press_continue:"texture/ui/language/press_continue_th",buy_free:"texture/ui/language/buy_free_th",you_won:"/texture/ui/language/you_won_th",intro_bet_1:"texture/ui/language/intro_bet_th",intro_bet_2:"texture/ui/language/intro_bet_th",win_over_1:"texture/ui/language/intro_win_th",win_over_2:"texture/ui/language/intro_win_th",intro_time:"texture/ui/language/intro_time_th",intro_volatLity:"texture/ui/language/intro_volatLity_th"}},f={language:i.Vietnamese,data:{buy_feature_1:"texture/ui/language/buy_feature_vi",buy_feature_2:"texture/ui/language/buy_feature_vi",bet:"texture/ui/language/bet_vi",double_1:"texture/ui/language/double_1_vi",double_2:"texture/ui/language/double_2_vi",on:"texture/ui/language/on_vi",off:"texture/ui/language/off_vi",congratualations:"texture/ui/language/congratulations_vi",free_spins:"texture/ui/language/free_spins_vi",in_spins:"texture/ui/language/in_spins_vi",press_continue:"texture/ui/language/press_continue_vi",buy_free:"texture/ui/language/buy_free_vi",you_won:"/texture/ui/language/you_won_vi",intro_bet_1:"texture/ui/language/intro_bet_vi",intro_bet_2:"texture/ui/language/intro_bet_vi",win_over_1:"texture/ui/language/intro_win_vi",win_over_2:"texture/ui/language/intro_win_vi",intro_time:"texture/ui/language/intro_time_vi",intro_volatLity:"texture/ui/language/intro_volatLity_vi"}};e("slot3000509_Lan",o),e("SubGameLanguage",n(r=function(e){function u(){for(var t,u=arguments.length,n=new Array(u),a=0;a<u;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).bundle=_.module,t}return t(u,e),u.prototype.init=function(){this.add(g),this.add(o),this.add(l),this.add(s),this.add(x),this.add(b),this.add(f)},u}(a))||r);u._RF.pop()}}}));

System.register("chunks:///_virtual/TransFreeGameView3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData8.ts","./UIView.ts","./CommonEvent.ts","./SubGameDefines8.ts","./Decorators.ts","./SubGameConstants7.ts"],(function(t){var e,n,i,a,s,o,r,c,l,p,u,h,_,f,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.createClass},function(t){o=t.cclegacy,r=t._decorator,c=t.Node,l=t.sp},function(t){p=t.SubGameData},function(t){u=t.default},function(t){h=t.CommonEvent},function(t){_=t.HOR_OR_VOR_ANIM,f=t.EventName},function(t){d=t.inject},function(t){m=t.SubGameConstants}],execute:function(){var C,S,b,g,T,v,y,w,E,L,A;o._RF.push({},"46f9db4ZthMhrEJD3z9RKhX","TransFreeGameView",void 0);var k=r.ccclass;r.property,t("TransFreeGameView",(C=k("TransFreeGameView"),S=d("content_landscape",c),b=d("content_portrait",c),g=d("content_landscape/eff_transition",l.Skeleton),T=d("content_portrait/eff_transition",l.Skeleton),C((w=e((y=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,i(e,"content_landscape",w,a(e)),i(e,"content_portrait",E,a(e)),i(e,"spine_landspace",L,a(e)),i(e,"spine_portrait",A,a(e)),e.flag=!1,e.trainCallBack=null,e}n(e,t),e.getPrefabUrl=function(){return"prefabs/TransFreeGameView"};var o=e.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),this.spine_landspace&&this.spine_landspace.setCompleteListener(this.onTrainsCompleteListener.bind(this)),this.spine_portrait&&this.spine_portrait.setCompleteListener(this.onTrainsCompleteListener.bind(this))},o.addEvents=function(){t.prototype.addEvents.call(this),this.onD(h.SWITCH_SCREEN,this.onSwitchScreen)},o.onSwitchScreen=function(t){this.content_portrait.active=!1,this.content_landscape.active=!1,"portrait"===t?this.content_portrait.active=!0:this.content_landscape.active=!0},o.onShow=function(){this.args&&(this.flag=this.args[0],this.trainCallBack=this.args[1]),this.spine_portrait&&(this.spine_portrait.clearTracks(),this.spine_portrait.setAnimation(0,_[1],!1),dispatch(f.PLAY_EFFECT,m.AudioSource.SOUND_TRANSITION),dispatch(f.SET_MUSIC_VOLUME,0),this.scheduleOnce((function(){dispatch(f.SET_MUSIC_VOLUME,1)}),2.1)),this.spine_landspace&&(this.spine_landspace.clearTracks(),this.spine_landspace.setAnimation(0,_[0],!1)),this.onSwitchScreen(App.utils.getOrientation()),t.prototype.onShow.call(this)},o.onClose=function(){t.prototype.onClose.call(this)},o.onCompleted=function(){Log.d("sssss onCompleted sssssssss"),dispatch(f.ON_AFTER_TRANS_ANIAMTIONS,this.flag),this.close()},o.onTrainsCompleteListener=function(t){var e=t.animation?t.animation.name:"";e!==_[0]&&e!==_[1]||(Log.d("sssss onCompleted sssssssss"),this.trainCallBack&&this.trainCallBack(),this.trainCallBack=null,this.onCompleted())},s(e,[{key:"data",get:function(){return App.dataCenter.get(p)}}]),e}(u)).prototype,"content_landscape",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(y.prototype,"content_portrait",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(y.prototype,"spine_landspace",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(y.prototype,"spine_portrait",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/WinScoreCheckoutView5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./SubGameDefines8.ts","./CommonEvent.ts","./Decorators.ts","./SubGameData8.ts","./NumberRoller.ts","./Global.ts","./SubGameConstants7.ts"],(function(e){var t,i,n,o,s,r,l,c,a,h,u,p,m,_,b,f,d,S,g,k,w,N,C,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,l=e._decorator,c=e.Node,a=e.sp,h=e.Label,u=e.find,p=e.UIOpacity,m=e.tween},function(e){_=e.default},function(e){b=e.EventName,f=e.ANI_APPEAR,d=e.ANI_LOOP,S=e.ANI_DISAPPEAR},function(e){g=e.CommonEvent},function(e){k=e.inject},function(e){w=e.SubGameData},function(e){N=e.NumberRoller},function(e){C=e.Global},function(e){E=e.SubGameConstants}],execute:function(){var T,y,R,v,A,L,F,O,P,D,I,W,z,M,G,U,V;r._RF.push({},"a58d37WHEJFcYL8+kyiupXc","WinScoreCheckoutView",void 0);var H=l.ccclass,j=function(e){return e[e.default=0]="default",e[e.trigger=1]="trigger",e[e.billing=2]="billing",e}(j||{});e("WinScoreCheckoutView",(T=H("WinScoreCheckoutView"),y=k("content",c),R=k("content/skeleton",a.Skeleton),v=k("content/skeleton/winscoreNode/NumberRoller",c),A=k("content/skeleton/winscoreNode/NumberRoller/label_currency",N),L=k("content/skeleton/winscoreNode/wintimes",h),F=k("content/skeleton/freetimesNode",c),O=k("content/skeleton/freetimesNode/freetimes",h),T((I=t((D=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"content",I,o(t)),n(t,"skeleton",W,o(t)),n(t,"numberRollerNode",z,o(t)),n(t,"label_winscore",M,o(t)),n(t,"label_wintimes",G,o(t)),n(t,"freetimesNode",U,o(t)),n(t,"label_freetimes",V,o(t)),t.jackpot_type=0,t.anim_type=0,t.win_score=0,t.win_times=0,t.free_times=0,t.loopingTimer=null,t.skip_loopingTimer=null,t.b_looping=!1,t.b_clickable=!1,t}i(t,e),t.getPrefabUrl=function(){return"prefabs/WinScoreCheckoutView"};var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),this.onN(u("mask",this.node),c.EventType.TOUCH_END,this.onClickClose),this.numberRollerNode.active=!1,this.freetimesNode.active=!1,this.label_wintimes.node.active=!1,this.skeleton.setCompleteListener(this.onWinScoreCompleteListener.bind(this)),this.skeleton.setEventListener(this.onWinScoreEventListener.bind(this))},r.addEvents=function(){e.prototype.addEvents.call(this),this.onD(g.SWITCH_SCREEN,this.onSwitchScreen)},r.onClose=function(){e.prototype.onClose.call(this)},r.onDestroy=function(){e.prototype.onDestroy.call(this),this.clearTimer()},r.onSwitchScreen=function(e){"portrait"===e?(this.content.setScale(.6,.6),this.content.setPosition(0,100,0)):(this.content.setScale(1,1),this.content.setPosition(0,0,0))},r.onClickClose=function(){var e=this;this.b_clickable&&(this.b_clickable=!1,this.b_looping||(this.b_looping=!0,this.clearTimer(),1===this.anim_type?this.scrollCompleteCallback():(this.label_winscore.stopRollingAndShowNumber(this.win_score),this.getSkipScreens()?(this.clearTimer(),this.skip_loopingTimer=setTimeout((function(){e.scrollCompleteCallback()}),1e3)):(this.clearTimer(),this.skip_loopingTimer=setTimeout((function(){e.scrollCompleteCallback()}),500)))))},r.onShow=function(){var t=this;if(this.args&&this.args.length>0){this.b_looping=!1,this.b_clickable=!1,this.anim_type=this.args[0];var i=j[this.args[0]];this.numberRollerNode.active=!1,this.freetimesNode.active=!1,this.label_wintimes.node.active=!1,1===this.args[0]?(this.label_wintimes.node.active=!0,this.win_times=this.args[1],this.label_wintimes.string=this.args[1]+"",dispatch(b.PLAY_EFFECT,E.AudioSource.SOUND_FREEGAMES_START)):(this.numberRollerNode.active=!0,this.freetimesNode.active=!0,dispatch(b.PLAY_EFFECT,E.AudioSource.SOUND_FREEGAMES_FINISH),this.audioHelper.musicVolume=.2,this.scheduleOnce((function(){t.audioHelper.musicVolume=2}),1),this.free_times=this.args[1],this.label_freetimes.string=this.args[1]+"",this.win_score=this.args[2],this.jackpot_type=this.args[3],this.data.TURBO_SPIN?this.label_winscore.stopRollingAndShowNumber(this.win_score):this.label_winscore.stopRollingAndShowNumber(0)),Log.d("WinScoreCheckoutView onShow = ",this.args[0],i),this.skeleton.clearTracks(),this.skeleton.setSkin(i),this.skeleton.setAnimation(0,f,!1),this.numberRollerNode.getComponent(p).opacity=255}e.prototype.onShow.call(this)},r.onWinScoreCompleteListener=function(e){var t=e.animation?e.animation.name:"";t===f?(this.skeleton.setAnimation(0,d,!0),this.b_clickable=!0,1===this.anim_type?this.onShowSkipScreens():(dispatch(b.PLAY_EFFECT,E.AudioSource.Win_Score_Roll,!0),this.update_win_score())):t===S&&(1===this.anim_type?dispatch(b.TRANS_FREEMODEL_ANIM,!0,(function(){dispatch(b.START_FREE_MODEL)})):dispatch(b.TRANS_FREEMODEL_ANIM,!1,(function(){dispatch(b.ENTER_NORMAL_MODEL)})),this.clearTimer(),this.close())},r.onWinScoreEventListener=function(e,t){(e.animation?e.animation.name:"")===S&&"sz"===t.data.name&&this.tweenOpacity()},r.onShowSkipScreens=function(){var e=this;this.getSkipScreens()&&(this.clearTimer(),this.skip_loopingTimer=setTimeout((function(){e.onClickClose()}),1e3))},r.update_win_score=function(){var e=this;this.data.TURBO_SPIN?(this.label_winscore.stopRollingAndShowNumber(this.win_score),this.getSkipScreens()&&this.onClickClose()):this.label_winscore.startRolling(0,this.win_score,3*this.jackpot_type,(function(){dispatch(b.STOP_EFFECT,E.AudioSource.Win_Score_Roll),e.getSkipScreens()&&e.onClickClose()}))},r.scrollCompleteCallback=function(){this.skeleton.clearTracks(),this.skeleton.setAnimation(0,S,!1),this.numberRollerNode.active=!1,this.freetimesNode.active=!1,this.label_wintimes.node.active=!1,dispatch(b.STOP_EFFECT,E.AudioSource.Win_Score_Roll)},r.getSkipScreens=function(){return!!(this.data.AUTOPLAY&&this.data.SKIP_SCREENS||C.playback)},r.clearTimer=function(){this.loopingTimer&&clearTimeout(this.loopingTimer),this.skip_loopingTimer&&clearTimeout(this.skip_loopingTimer)},r.tweenOpacity=function(){var e=this.numberRollerNode.getComponent(p);m(e).to(.4,{opacity:0}).start()},s(t,[{key:"data",get:function(){return App.dataCenter.get(w)}}]),t}(_)).prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(D.prototype,"skeleton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(D.prototype,"numberRollerNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"label_winscore",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(D.prototype,"label_wintimes",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(D.prototype,"freetimesNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(D.prototype,"label_freetimes",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=D))||P));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/slot3000509', 'chunks:///_virtual/slot3000509'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});