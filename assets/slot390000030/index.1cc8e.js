System.register("chunks:///_virtual/310000030.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy}],execute:function(){var o;e("getResult",v),n._RF.push({},"de6bcj8osFIgbjqNuuhHi01","310000030",void 0);var r,a,c,i,s=1e6,l=1,u=[],p=((o={})[1]="MINI",o[2]="MINOR",o[3]="MAJOR",o[4]="GRAND",o[5]="UPGRADE",o);function v(e,n){return u=[],a=e.bet,r=e.line_num||1,c=a*r,i=e.reward,l=1==(n||1)?function(e){var t=e.coin_rate;t||(t=100);return t}(e):1,function(e){for(var n,o=[],r=[],i=0,s=t(e.base);!(n=s()).done;)for(var l=n.value,v=0;v<1;v++){var h=l,b=[];h.icons&&h.icons.length>0&&(b=h.icons);var k=[];h.jb_lines&&h.jb_lines.length>0&&(k=h.jb_lines[0].hit_pos),h.sc_lines&&h.sc_lines.length>0&&h.sc_lines[0].hit_pos;var m=h?h.add:0;if(h.jackpot_open.length>0){var w,I=_(h.jackpot_open);i+=h.jp_chose_add,r.push({name:""+(null!=(w=p[I])?w:""),score:R(h.jp_chose_add)})}k&&k.length>0&&j(h.icon_list);var M={bet:R(a),win:R(m),scatterRate:g(h.icon_list),slotsIdx:f(h.icon_list,b),map:d(h.icon_list)};o.push(M)}var F={slot:o[0].map,totalBet:R(c),linewin:o,scatterRate:o[0].scatterRate,jackpotTotalScore:R(i),jackpots:r};u.push(F);for(var N,O=t(e.free);!(N=O()).done;){var x=N.value,y=[],A=0,B=x.icons,H=x?x.add:0;if(x.jackpot_open.length>0){var P,S=_(x.jackpot_open);A+=x.jp_chose_add,r.push({name:""+(null!=(P=p[S])?P:""),score:R(x.jp_chose_add)})}var T={bet:R(a),win:R(H),scatterRate:g(x.icon_list),slotsIdx:f(x.icon_list,B),map:d(x.icon_list)};y.push(T);var D={slot:y[0].map,totalBet:R(c),linewin:y,scatterRate:y[0].scatterRate,jackpotTotalScore:R(A),jackpots:r};u.push(D)}}(e),{gameType:2,gameWin:u,totalWin:R(i),row:3,col:5,isPropOpen:!1}}function _(e){for(var t=e.length,n={},o=!1,r=-1,a=0;a<t;a++){var c=e[a];if(null==n[c]&&(n[c]=0),n[c]++,n[c]>=3){if(5!=c){r=c;break}o=!0}}return o?r+1:r}function f(e,t,n,o){for(var r=[],a=t.length,c=0;c<a;c++){var i=h(t[c].icon,t[c].col,e);i&&i.length>0&&r.push(i)}return r}function h(e,t,n,o,r,a){for(var c=[],i=t,s=0,l=(n.length,0);l<5;l++)for(var u=0;u<3;u++){var p=3*l+u,v=n[p].icon,_=n[p].re_icon;c[s]=l<i&&(9==_||v==e)?1:0,s+=1}return c}function d(e){for(var t=[],n=e.length,o=0;o<n;o++){var r=e[o],a=r.icon,c=r.re_icon;t[o]=a==c?a:c}return t}function g(e,t){for(var n=[],o=(e.length,0);o<5;o++){e[o].icon;n[o]=0}return n}function j(e){for(var n,o=e[2]&&e[2].icon?e[2].icon:[],r=t(o);!(n=r()).done;){var a=n.value;if(a>=12&&a<=15)return a-10}return 1}function R(e){var t=e/s*l;return Math.floor(t*s)/s}window.getResult=v,n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatedSymbol6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberCurrency.ts","./SubGameData32.ts"],(function(i){var n,t,a,e,o,l,s,h,r,m,c,u,b,g,p,y;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,a=i.initializerDefineProperty,e=i.assertThisInitialized,o=i.createClass},function(i){l=i.cclegacy,s=i._decorator,h=i.sp,r=i.Sprite,m=i.Node,c=i.UIOpacity,u=i.Vec3,b=i.Tween,g=i.Component},function(i){p=i.NumberCurrency},function(i){y=i.SubGameData}],execute:function(){var d,S,_,k,f,v,D,H,w,I,C,N,A,x,F,M,B,z,L;l._RF.push({},"139c1nG0V9JYabblOrwgSGE","AnimatedSymbol",void 0);var V=s.ccclass,E=s.menu,G=s.property,O=((d={})[1]={scale:1,animationsHash:{hit:"animation"}},d[2]={scale:1,animationsHash:{hit:"animation"}},d[3]={scale:1,skin:"normal",animationsHash:{hit:"animation"}},d[4]={scale:1,skin:"normal",animationsHash:{hit:"animation"}},d[5]={scale:1,skin:"normal",animationsHash:{hit:"animation"}},d[6]={animationsHash:{hit:"animation"}},d[7]={animationsHash:{hit:"animation"}},d[8]={animationsHash:{hit:"animation"}},d[9]={animationsHash:{hit:"animation"}},d[10]={animationsHash:{hit:"animation"}},d[11]={animationsHash:{hit:"animation"}},d[12]={scale:1,animationsHash:{hit:"animation"}},d[13]={scale:1,skin:"golden",animationsHash:{hit:"animation"}},d[14]={scale:1,skin:"golden",animationsHash:{hit:"animation"}},d[15]={scale:1,skin:"golden",animationsHash:{hit:"animation"}},d[16]={scale:1,animationsHash:{uncover:"animation4",collect:"animation2_1",idle:"animation4",appear:"animation4",highlight:"animation3"}},d[18]={scale:1,skin:"lv",animationsHash:{uncover:"animation4",collect:"animation2_3",idle:"animation4",appear:"animation4",highlight:"animation3"}},d[19]={scale:1,skin:"lan",animationsHash:{uncover:"animation4",collect:"animation2_2",idle:"animation4",appear:"animation4",highlight:"animation3"}},d[20]={scale:1,skin:"hong",animationsHash:{uncover:"animation4",collect:"animation2_1",idle:"animation4",appear:"animation4",highlight:"animation3"}},d[21]={scale:1,skin:"hong",animationsHash:{uncover:"animation4",collect:"animation2_1",idle:"animation4",appear:"animation4",highlight:"animation3"},bonusSpriteFrameName:"theme277_s_r301"},d[22]={scale:1,skin:"hong",animationsHash:{uncover:"animation4",collect:"animation2_1",idle:"animation4",appear:"animation4",highlight:"animation3"},bonusSpriteFrameName:"theme277_s_r302"},d[31]={scale:1,skin:"hong",animationsHash:{uncover:"animation4",collect:"animation2_1",idle:"animation4",appear:"animation4",highlight:"animation3"},bonusSpriteFrameName:"theme277_s_r304"},d[32]={scale:1,skin:"hong",animationsHash:{uncover:"animation4",collect:"animation2_1",idle:"animation4",appear:"animation4",highlight:"animation3"},bonusSpriteFrameName:"theme277_s_r303"},d);i("AnimatedSymbol",(S=V("AnimatedSymbol"),_=E(y.module+"/elements/AnimatedSymbol"),k=G(h.Skeleton),f=G(r),v=G(p),D=G(h.Skeleton),H=G(m),w=G(c),I=G({type:[h.SkeletonData],visible:!0}),S(C=_((A=n((N=function(i){function n(){for(var n,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return n=i.call.apply(i,[this].concat(o))||this,a(n,"symbolSkeleton",A,e(n)),a(n,"bonusSprite",x,e(n)),a(n,"scoreNumberCurrency",F,e(n)),a(n,"highlightSkeleton",M,e(n)),a(n,"bgmaxNode",B,e(n)),a(n,"bagmaxUiopacity",z,e(n)),a(n,"_symbolSkeletonDatasList",L,e(n)),n.row=-1,n.column=-1,n._symbolID=0,n._freeMode=!1,n.re_icon=0,n._collectingInfo={towerPosition:u.ZERO},n._highlightCallback=void 0,n}t(n,i);var l=n.prototype;return l.onLoad=function(){this.symbolSkeleton.setCompleteListener(this._onSymbolSkeletonAnimationComplete.bind(this)),this.scoreNumberCurrency.node.parent.active=!1},l.onEnable=function(){this.f_showBgMax(!0)},l.reset=function(){b.stopAllByTarget(this.node),this._collectingInfo.towerPosition=u.ZERO,this._collectingInfo.callback=void 0,this.node.scale=new u(1,1,1),this._highlightCallback=void 0,this.symbolSkeleton.node.active=!1,this.highlightSkeleton.node.active=!1,this._updateBonus(),this._updateScoreVisible()},l.f_showBgMax=function(i){this.bagmaxUiopacity.opacity=i?255:0},l.hit=function(i,n){var t,a;void 0===i&&(i=!0),this.reset(),n&&(this._symbolID=n);var e=O[this._symbolID],o=null!=(t=null==e?void 0:e.skin)?t:"default",l=null==e||null==(a=e.animationsHash)?void 0:a.hit;if(l)if(i){this.f_showBgMax(!0);try{var s;this.symbolSkeleton.node.active=!0,this.symbolSkeleton.skeletonData=null!=(s=this._symbolSkeletonDatasList[this._symbolID])?s:null,this.symbolSkeleton.setSkin(o),this.symbolSkeleton.setAnimation(0,l,!0),this.highlightSkeleton.node.active=!0,this.highlightSkeleton.setAnimation(0,"animation",!0)}catch(i){this.f_showBgMax(!1)}}else this.f_showBgMax(!1),this.highlightSkeleton.node.active=!1,this.node.active=!1},l.highlight=function(i){var n;this.reset();var t=null==(n=O[this._symbolID])||null==(n=n.animationsHash)?void 0:n.highlight;return!!t&&(this._highlightCallback=i,this.symbolSkeleton.node.active=!0,this.symbolSkeleton.setAnimation(0,t,!1),!0)},l.idle=function(){var i;this.reset();var n=null==(i=O[this._symbolID])||null==(i=i.animationsHash)?void 0:i.idle;n&&(this.symbolSkeleton.node.active=!0,this.symbolSkeleton.setAnimation(0,n,!0))},l._updateBonus=function(){var i=O[this._symbolID];if(null!=i&&i.bonusSpriteFrameName){var n,t=null!=(n=null==i?void 0:i.bonusSpriteFrameName)?n:"";this.bonusSprite.changeSpriteFrameFromAtlas(t)}else this.bonusSprite.spriteFrame=null},l._updateScoreVisible=function(){this.scoreNumberCurrency.node.parent.active=this._freeMode&&y.isScoreableSymbol(this._symbolID)},l._onSymbolSkeletonAnimationComplete=function(i){var n,t=i.animation.name,a=null==(n=O[this._symbolID])?void 0:n.animationsHash;if(t&&a)switch(t){case a.highlight:var e=this._highlightCallback;this._highlightCallback=void 0,null==e||e(this)}},o(n,[{key:"symbolID",get:function(){return this._symbolID},set:function(i){var n,t,a;if(i!==this._symbolID){this._symbolID=i;var e=O[i],o=null!=(n=null==e?void 0:e.scale)?n:1,l=null!=(t=null==e?void 0:e.skin)?t:"default";this.symbolSkeleton.setSkin(l),this.symbolSkeleton.node.setScale(o,o,1),this.symbolSkeleton.skeletonData=null!=(a=this._symbolSkeletonDatasList[this._symbolID])?a:null,null==this.symbolSkeleton.skeletonData&&(this.symbolSkeleton.skeletonData=this._symbolSkeletonDatasList[1],console.error("AnimatedSymbol 没有数据 id:"+this._symbolID)),this._updateBonus(),this._updateScoreVisible()}}},{key:"score",set:function(i){this.scoreNumberCurrency.updateNumber(i)}},{key:"freeMode",set:function(i){i!==this._freeMode&&(this._freeMode=i,this._updateScoreVisible())}}]),n}(g)).prototype,"symbolSkeleton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(N.prototype,"bonusSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(N.prototype,"scoreNumberCurrency",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(N.prototype,"highlightSkeleton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(N.prototype,"bgmaxNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(N.prototype,"bagmaxUiopacity",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(N.prototype,"_symbolSkeletonDatasList",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=N))||C)||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatedSymbolNodePool6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./AnimatedSymbol6.ts"],(function(e){var t,n,a,i,r,o,l,s;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){i=e.cclegacy,r=e.instantiate,o=e.Prefab},function(e){l=e.SubGameData},function(e){s=e.AnimatedSymbol}],execute:function(){i._RF.push({},"8ea6cJzRwRLibufdNRDIawX","AnimatedSymbolNodePool",void 0),e("AnimatedSymbolNodePool",function(){function e(){this._prefab=null,this._pool=[],this._availableIndex=0}var i=e.prototype;return i.preload=function(){var e=n(a().mark((function e(){var t,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Log.d("preload animated symbol prefab"),e.next=4,App.cache.getCacheByAsync("prefabs/elements/AnimatedSymbol",o,l.module);case 4:(n=e.sent)[0],(i=n[1]).addRef(),null==(t=this._prefab)||t.decRef(),this._prefab=i,l.setLoadingTaskProgress("preloadAnimatedSymbol",1),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),Log.e("failed to preload animated symbol prefab: "+(e.t0?e.t0.toString():"unknown reason")),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),i.push=function(e){var t=this._pool.indexOf(e);if(t<0)return!1;if(!e.isValid)return this._pool.splice(t,1),t<=this._availableIndex&&this._availableIndex>0&&--this._availableIndex,!1;e.removeFromParent();var n=e.getComponent(s);return!!n&&(n.reset(),t<this._availableIndex&&(--this._availableIndex,this._pool[t]=this._pool[this._availableIndex],this._pool[this._availableIndex]=e),!0)},i.pop=function(){var e;if(this._pool.length<=0||this._pool.length<=this._availableIndex){if(!this._prefab)return null;this._pool[this._availableIndex]=r(this._prefab)}return null!=(e=this._pool[this._availableIndex++])?e:null},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioHelper8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts"],(function(t){var u,e,i,s,n;return{setters:[function(t){u=t.createClass},function(t){e=t.cclegacy,i=t.Tween,s=t.tween},function(t){n=t.SubGameData}],execute:function(){e._RF.push({},"c81e1v2O+5AkZwv9C9nim7+","AudioHelper",void 0);var o=function(t){return t[t.PLAYING=0]="PLAYING",t[t.FADING_OUT=1]="FADING_OUT",t[t.FADING_IN=2]="FADING_IN",t}(o||{});t("AudioHelper",function(){function t(){this._audioImpl=null,this._state=o.PLAYING,this._currentBackgroundMusic=null,this._currentMusicVolume=1,this._musicVolumeLoweringRequestsMap=new Map,this.soundEffectMap=new Map}var e=t.prototype;return e.playBackgroundMusic=function(t,u){var e=this;if(void 0===u&&(u=1),t===this._currentBackgroundMusic){if(this._state===o.PLAYING)return;this._state===o.FADING_OUT&&(this._state=o.FADING_IN)}else this._state===o.FADING_IN&&(this._state=o.FADING_OUT);i.stopAllByTarget(this);var c=s(this),l=u;if(this._state===o.FADING_IN)l=u*(1-this.musicVolume);else{var a=u;this._state===o.FADING_OUT&&(a=u*this.musicVolume),c.to(this._currentBackgroundMusic?a:0,{musicVolume:0},{onStart:function(){return e._state=o.FADING_OUT}})}c.to(t?l:0,{musicVolume:1},{onStart:function(){var u;if(e._state=o.FADING_IN,t){if(t!==e._currentBackgroundMusic){var i;null==(i=e._audioImpl)||i.playMusic(t,n.module,!0)}}else null==(u=e._audioImpl)||u.stopMusic();e._currentBackgroundMusic=t},onComplete:function(){return e._state=o.PLAYING}}).start()},e.playSoundEffect=function(t,u){var e;void 0===u&&(u=!1),null==(e=this._audioImpl)||e.playEffect(t,n.module,u)},e.playOneShotSoundEffect=function(t){var u;this.checkSoundEffect(t)&&(Log.d("play sound effect: "+t),null==(u=this._audioImpl)||u.playEffectOneShot(t,n.module))},e.checkSoundEffect=function(t){var u=Date.now();return this.soundEffectMap.has(t)?!(u-this.soundEffectMap.get(t)<50)&&(this.soundEffectMap.set(t,u),!0):(this.soundEffectMap.set(t,u),!0)},e.stopEffect=function(t){var u;null==(u=this._audioImpl)||u.stopEffect(t,n.module)},e.stopAllEffects=function(){var t;null==(t=this._audioImpl)||t.stopAllEffects()},e.clearMusicVolumeLoweringRequests=function(){this._musicVolumeLoweringRequestsMap.clear(),this._updateMusicVolume()},e.requestLoweringMusicVolume=function(t,u){this._musicVolumeLoweringRequestsMap.set(u,t),this._updateMusicVolume()},e.revokeLoweringMusicVolume=function(t){this._musicVolumeLoweringRequestsMap.delete(t)&&this._updateMusicVolume()},e._updateMusicVolume=function(){var t=this._currentMusicVolume;this._musicVolumeLoweringRequestsMap.forEach((function(u){return t=Math.min(t,u)})),this._audioImpl&&(t>.4&&t<.6&&(t=.8),this._audioImpl.musicVolume=t)},u(t,[{key:"audioImpl",set:function(t){this._audioImpl=t}},{key:"musicVolume",get:function(){var t,u;return null!=(t=null==(u=this._audioImpl)?void 0:u.musicVolume)?t:1},set:function(t){t!==this._currentMusicVolume&&(this._currentMusicVolume=t,this._updateMusicVolume())}},{key:"effectVolume",get:function(){var t,u;return null!=(t=null==(u=this._audioImpl)?void 0:u.effectVolume)?t:1},set:function(t){this._audioImpl&&(this._audioImpl.effectVolume=t)}},{key:"isEffectOn",get:function(){var t,u;return null==(t=null==(u=this._audioImpl)?void 0:u.isEffectOn)||t},set:function(t){this._audioImpl&&(this._audioImpl.isEffectOn=t)}},{key:"isMusicOn",get:function(){var t,u;return null==(t=null==(u=this._audioImpl)?void 0:u.isMusicOn)||t},set:function(t){this._audioImpl&&(this._audioImpl.isMusicOn=t)}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/AutoFittableBackground8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts"],(function(t){var n,e,o,i,a,s,u,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Node,a=t.sys,s=t.UITransform,u=t.Component},function(t){r=t.SubGameData}],execute:function(){var c;e._RF.push({},"d0f6eyw2SBB96WOe2qJgJOP","AutoFittableBackground",void 0);var h=o.ccclass,l=o.menu;o.property,t("AutoFittableBackground",h("AutoFittableBackground")(c=l(r.module+"/components/AutoFittableBackground")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onLoad=function(){this.node.on(i.EventType.SIZE_CHANGED,this._onSizeChange,this),this.node.active=!a.isMobile},o.onDestroy=function(){this.isValid&&this.node.off(i.EventType.SIZE_CHANGED,this._onSizeChange,this)},o.onEnable=function(){this._onSizeChange()},o._onSizeChange=function(){var t,n=null==(t=this.node.getComponent(s))?void 0:t.contentSize;if(n){var e=2560/n.width;this.node.setScale(e,e,1)}},e}(u))||c)||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundLayer8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./AudioHelper8.ts","./CommonEvent.ts"],(function(e){var n,t,i,a,o,r,u,s,c,l,p,m,_,E,d,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,i=e.inheritsLoose,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,u=e.Enum,s=e.SpriteFrame,c=e.Sprite,l=e.sp},function(e){p=e.default},function(e){m=e.SubGameData},function(e){_=e.common},function(e){E=e.DisplayTaskManager},function(e){d=e.AudioHelper},function(e){h=e.CommonEvent}],execute:function(){var f,g,S,k,y,T,F,G,b,M,B,O,D,R,A,L,v,U,H,w,I,N,W,C,P,z;o._RF.push({},"3a4610EWVxMNboCfqSkNwIl","BackgroundLayer",void 0);var $=r.ccclass,x=r.menu,Y=r.property,q=(e("MapGamePickingBackgroundData30",(f=$("MapGamePickingBackgroundData30"),g=Y({type:u(_.EStageType)}),S=Y(s),f((T=n((y=function(){t(this,"stageType",T,this),t(this,"spriteFrame",F,this)}).prototype,"stageType",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.EStageType.GOLD}}),F=n(y.prototype,"spriteFrame",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=y))||k)),(G={})[_.EFeatureType.NONE]={SHOW:"animation4_1",HODE:"animation4_2"},G[_.EFeatureType.GREEN_TOWER]={SHOW:"animation3_1",HODE:"animation3_2"},G[_.EFeatureType.BLUE_TOWER]={SHOW:"animation2_1",HODE:"animation2_2"},G[_.EFeatureType.BLUE_AND_GREEN_TOWER]={SHOW:"animation4_1",HODE:"animation4_2"},G[_.EFeatureType.RED_TOWER]={SHOW:"animation1_1",HODE:"animation1_2"},G[_.EFeatureType.RED_AND_GREEN_TOWER]={SHOW:"animation4_1",HODE:"animation4_2"},G[_.EFeatureType.RED_AND_BLUE_TOWER]={SHOW:"animation4_1",HODE:"animation4_2"},G[_.EFeatureType.SUPER_TOWER]={SHOW:"animation1_1",HODE:"animation1_2"},G);e("BackgroundLayer",(b=$("BackgroundLayer"),M=x(m.module+"/layers/BackgroundLayer"),B=Y(c),O=Y(s),D=Y(s),R=Y(s),A=Y([s]),L=Y(l.Skeleton),v=Y(l.Skeleton),b(U=M((w=n((H=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,t(n,"sprite",w,a(n)),t(n,"normalGameBackgroundSpriteFrame",I,a(n)),t(n,"bonusGameBackgroundSpriteFrame",N,a(n)),t(n,"freeGameBackgroundSpriteFrame",W,a(n)),t(n,"bgSpriteFrames",C,a(n)),t(n,"switchSketon",P,a(n)),t(n,"bgFishSketon",z,a(n)),n._mapGameBackgroundSpriteFramesHash={},n._timeoutID=null,n.$_isFull=null,n.$_isFirst=!0,n}i(n,e);var o=n.prototype;return o.onLoad=function(){var n=this;e.prototype.onLoad.call(this),E.addHandler(this),this.bgFishSketon.node.active=!1,this.switchSketon.setCompleteListener((function(){n.switchSketon.node.active=!1})),this.onD(_.EventName.PLAY_FREE_GAME_START,this.f_onFreeGameStart.bind(this))},o.f_onFreeGameStart=function(){this.bgFishSketon.node.active=!1},o.onEnable=function(){this.onD(h.DISPATCH_TOTAL_BET,this._dispatch_total_bet.bind(this)),this.onD(_.EventName.PLAY_BG_FISH,this.f_playBgFishSketion.bind(this))},o.onDisable=function(){this.offD(h.DISPATCH_TOTAL_BET),this.offD(_.EventName.PLAY_BG_FISH)},o._dispatch_total_bet=function(){var e=m.f_collectDanEnough(2);e!=this.$_isFull&&(this.$_isFull=e,e?(this.sprite.spriteFrame=this.bgSpriteFrames[0],this.switchSketon.node.active=!0,this.switchSketon.setAnimation(0,"animation",!1),0==this.$_isFirst&&d.instance.playOneShotSoundEffect(m.AUDIO_URLS.base_background)):this.sprite.spriteFrame=this.bgSpriteFrames[1],this.$_isFirst=!1)},o.f_playBgFishSketion=function(){this.bgFishSketon.node.active=!0,this.bgFishSketon.setAnimation(0,"animation",!1)},o.onDestroy=function(){this._stopCountdown(),e.prototype.onDestroy.call(this)},o.onTaskInitialize=function(e,n){switch(d.instance.clearMusicVolumeLoweringRequests(),this._updateBackground(n.gameMode),n.gameMode){case _.EGameMode.BONUS:d.instance.playBackgroundMusic(m.AUDIO_URLS.BGM_BONUS_GAME);break;case _.EGameMode.FREE:(n.featureType&_.EFeatureType.RED_TOWER)>0?d.instance.playBackgroundMusic(m.AUDIO_URLS.BGM_SUPER_FREE_GAME):d.instance.playBackgroundMusic(m.AUDIO_URLS.BGM_FREE_GAME);break;default:this._startCountdown((function(){return d.instance.playBackgroundMusic(m.AUDIO_URLS.BGM_NORMAL_GAME)}),3)}},o.onTaskSpinStart=function(e,n){n.spinType===_.ESpinType.BET&&(this._stopCountdown(),d.instance.playBackgroundMusic(m.AUDIO_URLS.BGM_NORMAL_GAME))},o.onTaskBonusGameTrigger=function(e,n){var t=this;this.scheduleOnce((function(){d.instance.playBackgroundMusic(null),t.bgFishSketon.node.active=!0,t.bgFishSketon.setAnimation(0,q[_.EFeatureType.RED_TOWER].SHOW,!1),t.bgFishSketon.setAnimation(0,q[_.EFeatureType.RED_TOWER].HODE,!0),t.scheduleOnce((function(){t.bgFishSketon.node.active=!1}),5)}),m.$_bonusGameWaitTime)},o.onTaskBonusGameEnter=function(e,n){d.instance.playBackgroundMusic(m.AUDIO_URLS.BGM_BONUS_GAME),this.bgFishSketon.node.active=!1},o.onTaskBonusGameWinJackpot=function(e,n){d.instance.playBackgroundMusic(null)},o.onTaskFreeGameTrigger=function(e,n){var t=this;this.scheduleOnce((function(){d.instance.playBackgroundMusic(null),t.bgFishSketon.node.active=!0,t.bgFishSketon.setAnimation(0,q[n.featureType].SHOW,!1),t.bgFishSketon.setAnimation(0,q[n.featureType].HODE,!0)}),m.$_freeGameWaitTime)},o.onTaskFreeGameEnter=function(e,n){(n.featureType&_.EFeatureType.RED_TOWER)>0?d.instance.playBackgroundMusic(m.AUDIO_URLS.BGM_SUPER_FREE_GAME):d.instance.playBackgroundMusic(m.AUDIO_URLS.BGM_FREE_GAME),this.bgFishSketon.node.active=!1},o.onTaskBonusGameTransit=function(e,n){n.type},o.onTaskFreeGameSettle=function(e,n){d.instance.playBackgroundMusic(null)},o.onTaskMapGameTrigger=function(e,n){d.instance.playBackgroundMusic(null)},o.onTaskMapGameMoveCursor=function(e,n){},o.onTaskMapGameSettle=function(e,n){d.instance.playBackgroundMusic(null)},o.onTaskNormalGameBack=function(e,n){d.instance.playBackgroundMusic(m.AUDIO_URLS.BGM_NORMAL_GAME)},o.onTaskRoundEnd=function(e,n){this._startCountdown((function(){return d.instance.playBackgroundMusic(null)}),5)},o.onTaskChangeGame=function(e,n){var t=this._inferGameModeFromFeatureType(n.previousFeatureType),i=this._inferGameModeFromFeatureType(n.nextFeatureType);t!==i&&this._updateBackground(i)},o.onTaskShowMapGame=function(e,n){n.mapStageInfo.super&&this._updateBackground(_.EGameMode.SUPER_MAP,n.mapStageInfo.type)},o.onTaskHideMapGame=function(e,n){n.mapStageInfo.super&&this._updateBackground(_.EGameMode.NORMAL)},o._startCountdown=function(e,n){this._stopCountdown(),this._timeoutID=setTimeout(e,1e3*n)},o._stopCountdown=function(){null!==this._timeoutID&&void 0!==this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},o._inferGameModeFromFeatureType=function(e){return e===_.EFeatureType.NONE?_.EGameMode.NORMAL:e===_.EFeatureType.RED_TOWER?_.EGameMode.BONUS:_.EGameMode.FREE},o._updateBackground=function(e,n){void 0===n&&(n=_.EStageType.GREEN)},n}(p)).prototype,"sprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(H.prototype,"normalGameBackgroundSpriteFrame",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(H.prototype,"bonusGameBackgroundSpriteFrame",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(H.prototype,"freeGameBackgroundSpriteFrame",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(H.prototype,"bgSpriteFrames",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=n(H.prototype,"switchSketon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(H.prototype,"bgFishSketon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=H))||U)||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseView7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceLoader.ts","./GameView.ts","./Global.ts","./CommonEvent.ts","./GameService.ts","./BigWinDefines12.ts","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./AudioHelper8.ts","./LoadingHelper8.ts","./GameSender32.ts","./Protocol33.ts","./Defines8.ts","./Ts30.ts"],(function(e){var a,t,s,o,n,r,i,p,c,l,d,u,_,h,T,m,k,E,f,y,g,S,b;return{setters:[function(e){a=e.inheritsLoose,t=e.createForOfIteratorHelperLoose,s=e.regeneratorRuntime,o=e.createClass},function(e){n=e.cclegacy,r=e._decorator,i=e.AudioClip,p=e.math},function(e){c=e.default},function(e){l=e.default},function(e){d=e.Global},function(e){u=e.CommonEvent},function(e){_=e.GameService},function(e){h=e.preloadAudio_bigwin},function(e){T=e.SubGameData},function(e){m=e.common},function(e){k=e.DisplayTaskManager},function(e){E=e.AudioHelper},function(e){f=e.LoadingHelper},function(e){y=e.GameSender},function(e){g=e.Protocol},function(e){S=e.EDisplayTaskName},function(e){b=e.Ts30}],execute:function(){var R;n._RF.push({},"a1105hqCf1B041BONM88EuX","BaseView",void 0);var N=r.ccclass,M=r.menu;r.property,e("BaseView",N("BaseView")(R=M(T.module+"/views/BaseView")(R=function(e){function n(){for(var a,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return(a=e.call.apply(e,[this].concat(s))||this)._spinResultsCacheList=[],a._spinResultHandler=null,a._cachedBalances=[],a._currentTotalScore=0,a._currentTotalFreeTimes=0,a._cachedJackpotPickedLocationsList=[],a._cachedMapItemPickedResultsList=[],a.$_updateBlaneWaitTime=0,a.$_curBlane=-1,a.$_gamemodel=void 0,a.$_jackpotSymbolLocationsMap=void 0,a.$_initialData=void 0,a}a(n,e),n.getPrefabUrl=function(){return"prefabs/views/BaseView"};var r=n.prototype;return r.onLoad=function(){var a;null==(a=e.prototype.onLoad)||a.call(this),this._loadResources(),T.spinRequestor=this,this.onD(m.EventName.ENTER_COMPLETE,this.f_toStar.bind(this)),this.onD(m.EventName.NEXT_FUNC,this.f_handleNext.bind(this))},r.onDestroy=function(){this.isValid&&(this.offD(u.GAME_SERVICE_CLOSE),this.offD(u.DISPATCH_PLAYBACK),this.offD(m.EventName.ENTER_COMPLETE),this.offD(m.EventName.NEXT_FUNC),this._offS(g.BET_SPIN),this._offS(g.FREE_SPIN),this._offS(g.USERINFO),this._offS(g.CHANGE_BET),this._offS(g.PICK_JACKPOT_SYMBOL),this._offS(g.PICK_MAP_ITEM),this._offS(g.SLOT_INFO),this._offS(g.COLLECT_JACKPOT)),f.instance.hide(),e.prototype.onDestroy.call(this)},r.f_handleNext=function(){this._handleNextData()},r.update=function(e){this.$_updateBlaneWaitTime-=e,this.$_updateBlaneWaitTime<=0&&this.$_curBlane>=0&&(dispatch(u.NOTIFY_BALANCE_SCORE,this._cachedBalances[0]),this.$_curBlane=-1,this.$_updateBlaneWaitTime=1.5)},r.start=function(){dispatch(u.NOTIFY_ENTER_GAME),E.instance.audioImpl=this.audioHelper,E.instance.playOneShotSoundEffect(T.AUDIO_URLS.enter_game),d.playback?this._handlePlayBackData(!0):this._handleInitialData(!1)},r.addEvents=function(){e.prototype.addEvents.call(this),this.onD(u.GAME_SERVICE_CLOSE,this._onConnectionClose),this.onD(u.DISPATCH_PLAYBACK,this._onPlayBack),this._onS(g.BET_SPIN,this._onBetSpinRespond),this._onS(g.FREE_SPIN,this._onFreeSpinRespond),this._onS(g.USERINFO,this._onUserInfoRespond),this._onS(g.CHANGE_BET,this._onChangeBetRespond),this._onS(g.PICK_JACKPOT_SYMBOL,this._onPickJackpotSymbolRespond),this._onS(g.PICK_MAP_ITEM,this._onPickMapItemRespond),this._onS(g.SLOT_INFO,this._onSlotInfoRespond),this._onS(g.COLLECT_JACKPOT,this._onCollectJackpotRespond)},r.lateUpdate=function(e){k.runNextTask()},r.request=function(e,a){switch(T.$_isSpining=!0,d.playback||f.instance.show(2),dispatch(m.EventName.SPIN_START),e){case m.ESpinRequestType.GM_SPIN:k.addTask("spinStart",{spinType:m.ESpinType.BET}),this._cachedBalances.length=0,this._gameSender.c2sGMBet({bet:T.totalBet,gm_type:a});break;case m.ESpinRequestType.FREE_SPIN:this._gameSender.c2sFreeSpin();break;default:k.addTask("spinStart",{spinType:m.ESpinType.BET}),this._cachedBalances.length=0,this._gameSender.c2sBetSpin({bet:T.totalBet})}},r._onS=function(e,a,t,s){void 0===s&&(s=!0),this._gameService.addListener(e,t,a,s,this)},r._offS=function(e){this._gameService.removeListeners(this,e)},r._loadResources=function(){var e=new c;e.getLoadResources=function(){var e=[];for(var a in T.AUDIO_URLS)a.startsWith("BGM_")||"SE_ENTRANCE"===a||e.push({url:T.AUDIO_URLS[a],type:i,bundle:T.module});return h.forEach((function(a){return e.push({url:a,type:i,bundle:T.module})})),e},e.loadResources()},r._onBetSpinRespond=function(e){f.instance.hide(),e&&e.message&&(e.message.base[0].map=b.f_getMap(e.message.base[0].icon_list),this._spinResultsCacheList.push(e.message),this._spinResultHandler||this._handleNextData())},r._onFreeSpinRespond=function(e){f.instance.hide(),e&&e.message&&this._handleNextData()},r._onUserInfoRespond=function(e){this._cachedBalances.push(e.message.money),this._cachedBalances[0]&&(this.$_curBlane=this._cachedBalances[0])},r._onChangeBetRespond=function(e){var a;if(e&&e.message){var t=((a={})[m.EJackpotType.MINI]=0,a[m.EJackpotType.MINOR]=0,a[m.EJackpotType.MAJOR]=0,a[m.EJackpotType.GRAND]=0,a[m.EJackpotType.DOUBLE_GRAND]=0,a);this._updateJackpotBonuses(t,e.message.jackpot_reward),T.currentChangeBetType===m.EChangeBetRequestType.SYNCHRONISE_JACKPOTS?k.runTask("synchroniseJackpots",{jackpotBonusesHash:t,jackpotSynchronTimestamp:T.changeBetTimestamp}):k.runTask("changeBet",{jackpotBonusesHash:t,jackpotSynchronTimestamp:T.changeBetTimestamp,mapCollectionProgress:e.message.cur_val,mapStageID:e.message.map_progress})}},r._onPickJackpotSymbolRespond=function(e){f.instance.hide(),e&&e.message&&(this._updateJackpotPickedLocations(e.message.jackpot_pos),this._handleNextData())},r._onPickMapItemRespond=function(e){f.instance.hide(),e&&e.message&&(this._updateMapItemPickedResults(e.message.floor_list),this._handleNextData())},r._onSlotInfoRespond=function(e){f.instance.hide(),this._handleInitialData(!0)},r._onCollectJackpotRespond=function(e){e&&e.message&&k.runTask("collectJackpot",{data:e.message})},r._handleInitialData=function(e){var a,s,o=this;0==e&&k.clearTasks(),T.lastMap&&(T.lastMap.base[0].map=b.f_getMap(T.lastMap.base[0].icon_list));var n=T.lastMap;this._currentTotalScore=0,this._currentTotalFreeTimes=0,this._cachedJackpotPickedLocationsList.length=0,this._cachedMapItemPickedResultsList.length=0;var r=T.balance,i=m.EGameMode.NORMAL,p=T.f_getDefaultSymbols(),c=m.EFeatureType.NONE,l=((a={})[m.ETowerType.GREEN]=0,a[m.ETowerType.BLUE]=0,a[m.ETowerType.RED]=0,a),d=((s={})[m.EJackpotType.MINI]=0,s[m.EJackpotType.MINOR]=0,s[m.EJackpotType.MAJOR]=0,s[m.EJackpotType.GRAND]=0,s[m.EJackpotType.DOUBLE_GRAND]=0,s),u=new Map,_=0,h=0,E=0,f=0,y=m.EGameMode.NORMAL;if(n){if(T.totalBet=n.bet,this._updateFeatureProgresses(l,n.tower_list),n.free.length>0&&(this._currentTotalFreeTimes=n.free_times,_=n.free.length,n.free.forEach((function(e){e.map=b.f_getMap(e.icon_list),e.map.forEach((function(e){e.icon.forEach((function(e){var a=T.getFreeTimesOnSymbol(e);o._currentTotalFreeTimes-=a,_-=a}))}))})),this._currentTotalFreeTimes=Math.max(0,this._currentTotalFreeTimes),_=Math.max(0,_)),h=n.cur_val,E=n.map_progress,f=n.start_prize,n.base.length>0){var g=n.base[0];if(this._updateFeatureProgresses(l,g.tower_state),g.jackpot_open.length>0){i=m.EGameMode.BONUS,c=m.EFeatureType.RED_TOWER,this._cachedJackpotPickedLocationsList.length=0,n.jackpot_pos.forEach((function(e,a){o._cachedJackpotPickedLocationsList.push(e);var t=T.getJackpotSymbolType(g.jackpot_open[a]),s=u.get(t);null==s&&(s=[],u.set(t,s)),s.push(e)}));for(var R,N=t(u);!(R=N()).done;){var M=R.value,G=M[0],B=M[1];if(G!==m.EJackpotSymbolType.UNKNOWN&&G!==m.EJackpotSymbolType.UPGRADE&&B.length>=3){i=m.EGameMode.NORMAL,c=m.EFeatureType.NONE;break}}i===m.EGameMode.BONUS&&(r-=g.jp_chose_add,this._currentTotalScore=n.win-g.jp_chose_add,this._updateJackpotBonuses(d,g.jackpot_before),this._updateJackpotPickedLocations(n.jackpot_pos))}}if(i===m.EGameMode.NORMAL&&n.free.length>0&&(i=m.EGameMode.FREE,T.gameMode=i,c=T.getFeatureType(n.free_tower_ids),this._currentTotalScore=n.win),i===m.EGameMode.NORMAL)this._updateFeatureProgresses(l,n.reset_tower_list),this._updateJackpotBonuses(d,n.jackpot_reward);else{if(n.base.length>0){var D=n.base[0];p=this._symbolsDataToGroups(D.map,D.tower_reward),this._updateFeatureProgresses(l,D.tower_state)}l[m.ETowerType.RED]>=3&&(l[m.ETowerType.RED]=0),i!==m.EGameMode.BONUS&&(this._updateFeatureProgresses(l,n.reset_tower_list),i===m.EGameMode.FREE?this._updateJackpotBonuses(d,n.jackpot_before):this._updateJackpotBonuses(d,n.jackpot_reward)),y===m.EGameMode.NORMAL||i!==m.EGameMode.BONUS&&i!==m.EGameMode.FREE||(h<=0&&(h=1e4),E=(E-1+T.MAP_STAGES_NUMBER)%T.MAP_STAGES_NUMBER)}T.gameMode=i}if(e)return i==m.EGameMode.FREE?void this._handleNextData():void 0;k.runTask(S.initialize,{isReconnect:e,entrance:!e&&i===m.EGameMode.NORMAL,balance:r,totalBet:T.totalBet,gameMode:i,symbolsGroups:p,featureType:c,featureProgressesHash:l,jackpotBonusesHash:d,jackpotSynchronTimestamp:T.lastMapTimestamp<=0?Date.now():T.lastMapTimestamp,jackpotSymbolLocationsMap:u,totalFreeTimes:this._currentTotalFreeTimes,freeTimesRemaining:_,currentScoreInSpecialMode:this._currentTotalScore,mapCollectionProgress:h,mapStageID:E,mapStartPrize:f,mapTierInfosGroup:this._cachedMapItemPickedResultsList,mapStageInfo:T.getMapStageInfo(E)}),this.$_gamemodel=i,this.$_jackpotSymbolLocationsMap=u,this.$_initialData=n},r.f_toStar=function(){this.$_initialData&&(this._spinResultHandler=this._generateInitialDataHandler(this.$_initialData,this.$_gamemodel,this.$_jackpotSymbolLocationsMap),this._handleNextData())},r._handlePlayBackData=function(e){var a,t,s;T.balance=d.playbackAllData.startScore*d.SCORE_EXCHANGE,T.totalBet=d.playbackData.bet*(null!=(a=d.playbackData.line_num)?a:1),T.jackpotsLockedStatesWhenPlayBack=d.playbackData.lock_list,this._cachedJackpotPickedLocationsList.length=0,this._cachedMapItemPickedResultsList.length=0;var o=d.playbackData,n=((t={})[m.ETowerType.GREEN]=0,t[m.ETowerType.BLUE]=0,t[m.ETowerType.RED]=0,t),r=((s={})[m.EJackpotType.MINI]=0,s[m.EJackpotType.MINOR]=0,s[m.EJackpotType.MAJOR]=0,s[m.EJackpotType.GRAND]=0,s[m.EJackpotType.DOUBLE_GRAND]=0,s);this._updateFeatureProgresses(n,o.old_tower_list),this._updateJackpotBonuses(r,o.jackpot_before);k.clearTasks(),k.runTask(S.initialize,{isReconnect:null,entrance:!1,balance:T.balance,totalBet:T.totalBet,gameMode:m.EGameMode.NORMAL,symbolsGroups:T.f_getDefaultSymbols(),featureType:m.EFeatureType.NONE,featureProgressesHash:n,jackpotBonusesHash:r,jackpotSynchronTimestamp:Date.now(),jackpotSymbolLocationsMap:new Map,totalFreeTimes:0,freeTimesRemaining:0,currentScoreInSpecialMode:0,mapCollectionProgress:o.old_cur_val,mapStageID:0,mapStartPrize:o.start_prize,mapTierInfosGroup:[],mapStageInfo:T.getMapStageInfo(0)}),dispatch(u.NOTIFY_USERINFO_SCORE,T.balance),dispatch(u.NOTIFY_PLAYBACK),T.balance-=d.playbackAllData.bet*d.SCORE_EXCHANGE;var i={base:o.base,free:o.free,reward:o.reward,award_notice:o.award_notice,jackpot_before:o.jackpot_before,jackpot_reward:o.jackpot_reward,free_tower_ids:o.free_tower_ids,tower_list:o.tower_list,reset_tower_list:o.reset_tower_list,cur_val:o.cur_val,map_progress:o.map_progress,map_reward:o.map_reward,floor_list:o.floor_list,start_prize:o.start_prize};this._onBetSpinRespond({message:i,type:g.BET_SPIN})},r._handleNextData=function(){if(!this._spinResultHandler||this._spinResultHandler.next().done){this._spinResultHandler=null;var e=this._spinResultsCacheList.shift();null!=e&&T.gameMode!=m.EGameMode.BONUS&&(this._spinResultHandler=this._generateSpinResultHandler(e),this._spinResultHandler.next())}},r._generateInitialDataHandler=s().mark((function e(a,t,o){var n,r,i,p,c,l,d,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===m.EGameMode.NORMAL){e.next=14;break}if(i=a.base[0],t!==m.EGameMode.BONUS){e.next=5;break}return p=a.free.length>=a.free_times?m.EFeatureType.NONE:T.getFeatureType(a.free_tower_ids),e.delegateYield(this._handleBonusGameResult(i,a.free_tower_ids,p,a.free.length<=0,o),"t0",5);case 5:return(n={})[m.ETowerType.GREEN]=0,n[m.ETowerType.BLUE]=0,n[m.ETowerType.RED]=0,c=n,this._updateFeatureProgresses(c,a.tower_list),i&&(this._updateFeatureProgresses(c,i.tower_state),i.jackpot_open.length>0&&(c[m.ETowerType.RED]=0)),l=i?this._symbolsDataToGroups(i.map,i.tower_reward):T.f_getDefaultSymbols(),e.delegateYield(this._handleFreeGameResult(a.free,a.free_tower_ids,c,a.reset_tower_list,l,t===m.EGameMode.FREE||a.free.length<a.free_times?a.win:void 0),"t1",10);case 10:d=T.balance,(r={})[m.EJackpotType.MINI]=0,r[m.EJackpotType.MINOR]=0,r[m.EJackpotType.MAJOR]=0,r[m.EJackpotType.GRAND]=0,r[m.EJackpotType.DOUBLE_GRAND]=0,u=r,this._updateJackpotBonuses(u,a.jackpot_reward),k.addTask("roundEnd",{balance:d,jackpotBonusesHash:u,jackpotSynchronTimestamp:T.lastMapTimestamp});case 14:this._spinResultHandler=null;case 15:case"end":return e.stop()}}),e,this)})),r._generateSpinResultHandler=s().mark((function e(a){var t,o,n,r,i,p,c,l,d,u,_,h,E,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.base.length>0)){e.next=30;break}return this.scheduleOnce((function(){T.$_isSpining=!1}),2),this._currentTotalScore=0,p=a.base[0],c=this._symbolsDataToGroups(p.map,[]),l=null!=(t=this._cachedBalances[0])?t:T.balance,(o={})[m.ETowerType.GREEN]=0,o[m.ETowerType.BLUE]=0,o[m.ETowerType.RED]=0,d=o,(n={})[m.EJackpotType.MINI]=0,n[m.EJackpotType.MINOR]=0,n[m.EJackpotType.MAJOR]=0,n[m.EJackpotType.GRAND]=0,n[m.EJackpotType.DOUBLE_GRAND]=0,u=n,this._updateFeatureProgresses(d,a.tower_list),this._updateJackpotBonuses(u,a.jackpot_before),k.addTask(S.bigWinTrailer,{score:p.add}),k.addTask("spinStop",{spinType:m.ESpinType.BET,symbolsGroups:c,balance:l,featureProgressesHash:d,shouldWaitFeatureUpdate:this._isBonusGameTriggered(p)||this._isFreeGameTriggered(a.free),jackpotBonusesHash:u,jackpotSynchronTimestamp:T.spinTimestamp}),dispatch(m.EventName.SPIN_END),k.addTask("spinEnd",{spinType:m.ESpinType.BET,symbolsGroups:c,mapCollectionProgress:a.cur_val,mapGameTriggered:this._isMapGameTriggered(a.floor_list,a.map_reward)}),p.icons.length>0&&k.addTask("hitPayways",{symbolsGroups:c,paywayColumnsMap:this._paywaysDataToColumnsMap(p.icons),celebrating:!1}),p.add>0&&(k.addTask(S.bigWinEffect,{score:p.add}),k.addTask("bigWin",{score:p.add})),this._currentTotalScore+=p.add,0==p.jp_chose_add&&k.addTask("spinBreak",{totalScore:this._currentTotalScore,score:p.add,shouldBreak:!1,breakInFreeGame:!1}),(_=T.getFeatureType(a.free_tower_ids))!=m.EFeatureType.NONE?T.$_isEnterGame=!0:T.$_isEnterGame=!1,k.addTask(S.superTrailer,{featureType:_}),e.delegateYield(this._handleBonusGameResult(p,a.free_tower_ids,m.EFeatureType.NONE,a.free.length<=0),"t0",22);case 22:return(r={})[m.ETowerType.GREEN]=0,r[m.ETowerType.BLUE]=0,r[m.ETowerType.RED]=0,h=r,this._updateFeatureProgresses(h,a.tower_list),p.jackpot_open.length>0&&(h[m.ETowerType.RED]=0),e.delegateYield(this._handleFreeGameResult(a.free,a.free_tower_ids,h,a.reset_tower_list,c),"t1",26);case 26:E=T.balance,(i={})[m.EJackpotType.MINI]=0,i[m.EJackpotType.MINOR]=0,i[m.EJackpotType.MAJOR]=0,i[m.EJackpotType.GRAND]=0,i[m.EJackpotType.DOUBLE_GRAND]=0,f=i,this._updateJackpotBonuses(f,a.jackpot_reward),k.addTask("roundEnd",{balance:E,jackpotBonusesHash:f,jackpotSynchronTimestamp:T.spinTimestamp});case 30:this._currentTotalScore=0,this._spinResultHandler=null;case 32:case"end":return e.stop()}}),e,this)})),r._handleBonusGameResult=s().mark((function e(a,o,n,r,i){var c,l,u,_,h,E,f,y,g,R,N,M,G,B,D,I,J,w,L,P,O,v,F,A,j=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isBonusGameTriggered(a)){e.next=2;break}return e.abrupt("return");case 2:if(T.gameMode=m.EGameMode.BONUS,u=b.f_getMap(a.icon_list),_=this._symbolsDataToGroups(u,a.tower_reward),(c={})[m.EJackpotSymbolType.UNKNOWN]=0,c[m.EJackpotSymbolType.MINI]=0,c[m.EJackpotSymbolType.MINOR]=0,c[m.EJackpotSymbolType.MAJOR]=0,c[m.EJackpotSymbolType.GRAND]=0,c[m.EJackpotSymbolType.UPGRADE]=0,h=c,E=!1,f=!1,y=T.getFeatureType(o),!i){e.next=26;break}g=t(i);case 11:if((R=g()).done){e.next=24;break}if(N=R.value,M=N[0],G=N[1],h[M]=G.length,!(G.length>=3)){e.next=22;break}if(M!==m.EJackpotSymbolType.UPGRADE){e.next=19;break}f=!0,e.next=22;break;case 19:if(M===m.EJackpotSymbolType.UNKNOWN){e.next=22;break}return E=!0,e.abrupt("break",24);case 22:e.next=11;break;case 24:e.next=33;break;case 26:(B={})[m.EJackpotType.MINI]=0,B[m.EJackpotType.MINOR]=0,B[m.EJackpotType.MAJOR]=0,B[m.EJackpotType.GRAND]=0,B[m.EJackpotType.DOUBLE_GRAND]=0,D=B,this._updateJackpotBonuses(D,a.jackpot_before),this._cachedJackpotPickedLocationsList.length=0,k.addTask("bonusGameTrigger",{previousFeatureTypeBefore:n,featureType:y}),k.addTask("bonusGameTransit",{type:"enter",previousFeatureTypeBefore:n,previousSymbolsGroups:_,shouldResetRedTower:r,jackpotBonusesHash:D,jackpotSynchronTimestamp:0}),k.addTask("bonusGameStart",null),k.addTask("bonusGameEnter",null);case 33:if(E){e.next=45;break}if(I=this._cachedJackpotPickedLocationsList.length,d.playback){for(w=[],L=0;L<15;L++)w.push(L);for(P=0,O=0;O<w.length;++O)P=p.randomRangeInt(1,w.length),w[0]=w[0]^w[P],w[P]=w[0]^w[P],w[0]=w[0]^w[P];this._cachedJackpotPickedLocationsList.length=0,(J=this._cachedJackpotPickedLocationsList).push.apply(J,w)}v=s().mark((function e(){var t,o,n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.addTask("bonusGamePickStart",{jackpotSymbolPickedLocationsList:j._cachedJackpotPickedLocationsList.slice()}),d.playback){e.next=4;break}return void(e.next=4);case 4:if(n=T.getJackpotSymbolType(null!=(t=a.jackpot_open[F])?t:-1),k.addTask(S.bonusGamePickEnd,{index:null!=(o=j._cachedJackpotPickedLocationsList[F])?o:-1,jackpotSymbol:n}),null==n||3!=++h[n]){e.next=19;break}if(n!==m.EJackpotSymbolType.UPGRADE){e.next=12;break}f=!0,k.addTask("bonusGameUpgrade",null),e.next=19;break;case 12:if(n===m.EJackpotSymbolType.UNKNOWN){e.next=19;break}return r=[],a.jackpot_open.slice(F+1).forEach((function(e){var a=T.getJackpotSymbolType(e);r.push(a)})),k.addTask("bonusGameReveal",{jackpotSymbolTypeWon:n,jackpotSymbolsList:r}),null!=(i=T.getJackpotTypeFromJackpotSymbolType(n))&&k.addTask("bonusGameWinJackpot",{jackpotType:f?i+1:i,locked:T.isJackpotLocked(i,f),score:a.jp_chose_add}),e.abrupt("return",1);case 19:case"end":return e.stop()}}),e)})),F=I;case 38:if(!(F<a.jackpot_open.length)){e.next=45;break}return e.delegateYield(v(),"t0",40);case 40:if(!e.t0){e.next=42;break}return e.abrupt("break",45);case 42:++F,e.next=38;break;case 45:(l={})[m.EJackpotType.MINI]=0,l[m.EJackpotType.MINOR]=0,l[m.EJackpotType.MAJOR]=0,l[m.EJackpotType.GRAND]=0,l[m.EJackpotType.DOUBLE_GRAND]=0,A=l,this._updateJackpotBonuses(A,a.jackpot_after),T.f_isFreeGame(n)?T.gameMode=m.EGameMode.FREE:T.gameMode=m.EGameMode.NORMAL,k.addTask("bonusGameTransit",{type:"exit",previousFeatureTypeBefore:n,previousSymbolsGroups:_,shouldResetRedTower:r,jackpotBonusesHash:A,jackpotSynchronTimestamp:i?T.lastMapTimestamp:T.spinTimestamp}),a.jp_chose_add>0&&(k.addTask(S.bigWinEffect,{score:a.jp_chose_add}),k.addTask("bigWin",{score:a.jp_chose_add})),n===m.EFeatureType.NONE?k.addTask("normalGameBack",null):((n&m.EFeatureType.GREEN_TOWER)>0||(n&m.EFeatureType.BLUE_TOWER)>0)&&k.addTask("freeGameEnter",{featureType:n});case 51:case"end":return e.stop()}}),e,this)})),r._handleFreeGameResult=s().mark((function e(a,o,n,r,i,p){var c,l,u,_,h,E,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isFreeGameTriggered(a)){e.next=2;break}return e.abrupt("return");case 2:d.playback&&(T.$_freeMaxTimes=a.length),T.gameMode=m.EGameMode.FREE,l=T.getFeatureType(o),u=null!=p?p:0,null==p&&(this._currentTotalFreeTimes=T.INITIAL_FREE_TIMES,T.$_bounsWinNum=0,k.addTask("freeGameTrigger",{featureType:l}),k.addTask("freeGameStart",{featureType:l}),k.addTask("freeGameTransit",{type:"enter",featureType:l,previousSymbolsGroups:i,featureProgressesHash:n}),k.addTask("freeGameEnter",{featureType:l})),_=t(a);case 8:if((h=_()).done){e.next=18;break}if(E=h.value,k.addTask("spinStart",{spinType:m.ESpinType.FREE}),d.playback){e.next=14;break}return void(e.next=14);case 14:return e.delegateYield(this._handleFreePageData(E,l),"t0",15);case 15:u+=E.add+E.jp_icon_add;case 16:e.next=8;break;case 18:(c={})[m.ETowerType.GREEN]=0,c[m.ETowerType.BLUE]=0,c[m.ETowerType.RED]=0,f=c,this._updateFeatureProgresses(f,r),k.addTask("freeGameSettle",{featureType:l,totalScore:this._currentTotalScore,previousSymbolsGroups:i}),T.gameMode=m.EGameMode.NORMAL,k.addTask("freeGameTransit",{type:"exit",featureType:l,previousSymbolsGroups:i,featureProgressesHash:f}),T.$_isEnterGame=!1,k.addTask(S.bigWinEffect,{score:u}),k.addTask("bigWin",{score:u}),this._currentTotalFreeTimes=0,k.addTask("normalGameBack",null);case 28:case"end":return e.stop()}}),e,this)})),r._handleFreePageData=s().mark((function e(a,t){var o,n,r,i,p,c,l,d,u,_,h,E,f,y,g,R,N,M,G,B;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b.f_getMap(a.icon_list),r=this._symbolsDataToGroups(n,a.tower_reward),(o={})[m.ETowerType.GREEN]=0,o[m.ETowerType.BLUE]=0,o[m.ETowerType.RED]=0,i=o,this._updateFeatureProgresses(i,a.tower_state),a.jackpot_open.length>0&&(i[m.ETowerType.RED]=3),k.addTask("spinStop",{spinType:m.ESpinType.FREE,symbolsGroups:r,balance:0,featureProgressesHash:i,shouldWaitFeatureUpdate:this._isBonusGameTriggered(a),jackpotSynchronTimestamp:0}),k.addTask("spinEnd",{spinType:m.ESpinType.FREE,symbolsGroups:r,mapGameTriggered:!1}),(p=0)>0&&(this._currentTotalScore+=p,k.addTask("freeGameCollectScores",{symbolsGroups:r,totalScore:this._currentTotalScore,score:p})),!(a.jp_icon_add>0)){e.next=33;break}c=void 0,l=0;case 12:if(!(l<r.length)){e.next=33;break}d=r[l],u=0;case 15:if(!(u<d.length)){e.next=28;break}if(_=d[u],null==(c=T.getJackpotTypeOnSymbol(_.id))){e.next=25;break}return this._currentTotalScore+=a.jp_icon_add,(h={})[m.EJackpotType.MINI]=0,h[m.EJackpotType.MINOR]=0,h[m.EJackpotType.MAJOR]=0,h[m.EJackpotType.GRAND]=0,h[m.EJackpotType.DOUBLE_GRAND]=0,E=h,this._updateJackpotBonuses(E,a.jackpot_after),k.addTask("freeGameCollectJackpot",{symbolInfo:_,reelIndex:l,symbolIndex:u,jackpotType:c,locked:T.isJackpotLocked(c,!1),score:a.jp_icon_add,totalScore:this._currentTotalScore}),k.addTask("freeGameUnhighlightJackpot",{jackpotType:c,jackpotBonusesHash:E,jackpotSynchronTimestamp:T.spinTimestamp>T.lastMapTimestamp?T.spinTimestamp:T.lastMapTimestamp}),e.abrupt("break",28);case 25:++u,e.next=15;break;case 28:if(null==c){e.next=30;break}return e.abrupt("break",33);case 30:++l,e.next=12;break;case 33:for(f=[],y=0;y<r.length;++y)for(g=r[y],R=0;R<g.length;++R)N=g[R],(M=T.getFreeTimesOnSymbol(N.id))>0&&(this._currentTotalFreeTimes+=M,f.push({symbolInfo:N,reelIndex:y,symbolIndex:R}));return f.length>0&&k.addTask("freeGameCollectFreeTimes",{symbolsWithFreeTimes:f,totalFreeTimes:this._currentTotalFreeTimes}),a.icons.length>0&&k.addTask("hitPayways",{symbolsGroups:r,paywayColumnsMap:this._paywaysDataToColumnsMap(a.icons),celebrating:!1}),(G=a.add+a.jp_icon_add)>0&&(k.addTask(S.bigWinEffect,{score:G}),k.addTask("bigWin",{score:G})),this._currentTotalScore,B=a.add-p,this._currentTotalScore+=B,T.$_freeBlaned=this._currentTotalScore,k.addTask("spinBreak",{totalScore:this._currentTotalScore,score:a.add-p,shouldBreak:!0,breakInFreeGame:!0}),e.delegateYield(this._handleBonusGameResult(a,[],t,!0),"t0",45);case 45:case"end":return e.stop()}}),e,this)})),r._symbolsDataToGroups=function(e,a){null==e&&console.error("pageDataFromServer is null");var t=[[],[],[],[],[]];return e.sort((function(e,a){return e.col-a.col})),e.forEach((function(e){var a=t[e.col];if(null!=a){a.length=0;for(var s=e.icon,o=s.length,n=0;n<o;n++){var r={id:s[n],score:e.num[n]/5,re_icon:e.re_icon[n]};a.push(r)}a.reverse()}})),t},r._paywaysDataToColumnsMap=function(e){var a=new Map,t=0;return e.forEach((function(e){a.set(e.icon,e.col-1),t=Math.max(t,e.col-1)})),t>0&&a.set(T.WILD_SYMBOL_ID,t),a},r._updateFeatureProgresses=function(e,a){a.forEach((function(a){var t=T.getTowerType(a.id);null!=t&&(e[t]=a.state)}))},r._updateJackpotBonuses=function(e,a){a.forEach((function(a){var t=T.getJackpotType(a.id);null!=t&&(e[t]=a.num)})),e[m.EJackpotType.DOUBLE_GRAND]=2*e[m.EJackpotType.GRAND]},r._updateJackpotPickedLocations=function(e){var a;this._cachedJackpotPickedLocationsList.length=0,(a=this._cachedJackpotPickedLocationsList).push.apply(a,e)},r._mapItemsDataToInfos=function(e,a){var t=this,s=[];if(e.length>0){var o=Math.max(0,a-1);e.slice(1,o+1).forEach((function(e){return s.push(t._mapItemDataToInfo(e))})),s.push(this._mapItemDataToInfo(e[0])),e.slice(o+1).forEach((function(e){return s.push(t._mapItemDataToInfo(e))}))}return s},r._mapItemDataToInfo=function(e){return{itemID:e.item_id,value:e.num}},r._updateMapItemPickedResults=function(e){var a=this;this._cachedMapItemPickedResultsList.length=0,e.forEach((function(e){a._cachedMapItemPickedResultsList.push({pickedIndex:e.pos-1,itemInfosList:a._mapItemsDataToInfos(e.item_list,e.pos)})}))},r._isBonusGameTriggered=function(e){return e.jackpot_open.length>0},r._isFreeGameTriggered=function(e){return e.length>0},r._isMapGameTriggered=function(e,a){return!1},r._onConnectionClose=function(e){Log.d(e.module+" 断开连接!")},r._onPlayBack=function(){this._handlePlayBackData(!1)},o(n,[{key:"_gameService",get:function(){return App.serviceManager.get(_)}},{key:"_gameSender",get:function(){return App.senderManager.get(y)}}]),n}(l))||R)||R);n._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinControllerLayer8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BigWinLayer22.ts","./SubGameData32.ts","./Display9.ts"],(function(i){var n,t,e,o,a,r,s;return{setters:[function(i){n=i.inheritsLoose},function(i){t=i.cclegacy,e=i._decorator},function(i){o=i.default},function(i){a=i.SubGameData},function(i){r=i.DisplayTaskManager,s=i.Display}],execute:function(){var l;t._RF.push({},"8c491xP/f1HZ6MuKkkWLbzc","BigWinControllerLayer",void 0);var u=e.ccclass,c=e.menu;e.property,i("BigWinControllerLayer",u("BigWinControllerLayer")(l=c(a.module+"/layers/BigWinControllerLayer")(l=function(i){function t(){return i.apply(this,arguments)||this}n(t,i);var e=t.prototype;return e.onLoad=function(){i.prototype.onLoad.call(this),this.$_isMustCheck=!0,r.addHandler(this)},e.onTaskInitialize=function(i,n){this.stopAllDisplays(),App.uiManager.close(o)},e.onTaskBigWin=function(i,n){var t=this,e=n.score/a.totalBet;o.isBigWin(e)&&(this.startDisplay(8),App.uiManager.open({type:o,bundle:a.module,args:[-1,n.score,function(){t.isValid&&t.endDisplay()},e]}))},t}(s))||l)||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinDefines12.ts",["cc"],(function(o){var i;return{setters:[function(o){i=o.cclegacy}],execute:function(){i._RF.push({},"f5ebaSTSVVOLrRKV67EvYz3","BigWinDefines",void 0);o("SoundName",function(o){return o.sound_big="commonmodule/bigwin/audio/big",o.sound_mega="commonmodule/bigwin/audio/mega",o.sound_epic="commonmodule/bigwin/audio/epic",o.sound_super="commonmodule/bigwin/audio/super",o.sound_ultimate="commonmodule/bigwin/audio/ultimate",o.sound_big_win_01="commonmodule/bigwin/audio/sound_big_win_01",o.sound_epic_win_01="commonmodule/bigwin/audio/sound_epic_win_01",o.sound_super_win_01="commonmodule/bigwin/audio/sound_super_win_01",o.sound_mega_win_01="commonmodule/bigwin/audio/sound_mega_win_01",o.sound_ultimate_win_01="commonmodule/bigwin/audio/sound_ultimate_win_01",o.sound_big_win_02="commonmodule/bigwin/audio/sound_big_win_02",o.sound_epic_win_02="commonmodule/bigwin/audio/sound_epic_win_02",o.sound_super_win_02="commonmodule/bigwin/audio/sound_super_win_02",o.sound_mega_win_02="commonmodule/bigwin/audio/sound_mega_win_02",o.sound_ultimate_win_02="commonmodule/bigwin/audio/sound_ultimate_win_02",o.sound_big_win_03="commonmodule/bigwin/audio/sound_big_win_03",o.sound_epic_win_03="commonmodule/bigwin/audio/sound_epic_win_03",o.sound_super_win_03="commonmodule/bigwin/audio/sound_super_win_03",o.sound_mega_win_03="commonmodule/bigwin/audio/sound_mega_win_03",o.sound_ultimate_win_03="commonmodule/bigwin/audio/sound_ultimate_win_03",o}({})),o("preloadAudio_bigwin",["commonmodule/bigwin/audio/big","commonmodule/bigwin/audio/epic","commonmodule/bigwin/audio/mega","commonmodule/bigwin/audio/super","commonmodule/bigwin/audio/ultimate","commonmodule/bigwin/audio/sound_big_win_01","commonmodule/bigwin/audio/sound_big_win_02","commonmodule/bigwin/audio/sound_big_win_03","commonmodule/bigwin/audio/sound_epic_win_01","commonmodule/bigwin/audio/sound_epic_win_02","commonmodule/bigwin/audio/sound_epic_win_03","commonmodule/bigwin/audio/sound_mega_win_01","commonmodule/bigwin/audio/sound_mega_win_02","commonmodule/bigwin/audio/sound_mega_win_03","commonmodule/bigwin/audio/sound_super_win_01","commonmodule/bigwin/audio/sound_super_win_02","commonmodule/bigwin/audio/sound_super_win_03","commonmodule/bigwin/audio/sound_ultimate_win_01","commonmodule/bigwin/audio/sound_ultimate_win_02","commonmodule/bigwin/audio/sound_ultimate_win_03"]);i._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinLayer22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./NumberRoller.ts","./SubGameData32.ts","./AudioHelper8.ts","./SubGameDefines33.ts"],(function(i){var e,n,t,a,o,s,c,l,_,r,u,p,f,S,I,E,h,m,y,d;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized,o=i.createClass},function(i){s=i.cclegacy,c=i._decorator,l=i.Node,_=i.sp,r=i.Animation,u=i.find,p=i.ParticleSystem2D,f=i.tween,S=i.Vec3},function(i){I=i.default},function(i){E=i.inject},function(i){h=i.NumberRoller},function(i){m=i.SubGameData},function(i){y=i.AudioHelper},function(i){d=i.common}],execute:function(){var U,w,A,g,b,N,T,B,W,k,D,L,G,R,O,C,v,P,M,z,V,H;s._RF.push({},"913a28Rfn1ARJ7Z8nqrtqbu","BigWinLayer",void 0);var X=c.ccclass,F=c.menu,q=c.property;i("default",(U=X("BigWinLayer"),w=F(m.module+"/commonmodule/bigwin/BigWinLayer"),A=E("content",l),g=q({displayName:"glow1",type:_.Skeleton}),b=q({displayName:"thecoins",type:l}),N=q({displayName:"coin",type:l}),T=q({displayName:"animation",type:_.Skeleton}),B=q({displayName:"dk",type:_.Skeleton}),W=q({displayName:"winScoreNode",type:l}),k=q({displayName:"winScore",type:h}),D=q({displayName:"animCoin",type:r}),U(L=w((R=e((G=function(i){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=i.call.apply(i,[this].concat(o))||this,t(e,"content",R,a(e)),t(e,"glow1",O,a(e)),t(e,"thecoins",C,a(e)),t(e,"coin",v,a(e)),t(e,"animation",P,a(e)),t(e,"dk",M,a(e)),t(e,"winScoreNode",z,a(e)),t(e,"winScore",V,a(e)),t(e,"animCoin",H,a(e)),e.cinType=[2,3,10,6,4,3,3,3,3,3,3,3,3,3,3,3,1,1],e.winTypeSkin=["default","big","super","epic","mega","ultimate"],e.winTypeSkinAni=["ani_intro","ani_idle_big","ani_idle_super","ani_idle_epic","ani_idle_mega","ani_idle_ultimate"],e.winTypeAnim=["ani_idle","ani_intro","ani_out"],e.winTypeDuration=[0,6.4,6.4,8,8,11.2],e.winType=0,e.winNum=0,e.WinMusicTimes=[0,3,3,4,4,6],e.cb=null,e.tb=1,e.close_type=0,e.scoreTween=null,e.isout=!1,e._score=0,e}n(e,i),e.getPrefabUrl=function(){return"commonmodule/bigwin/prefabs/BigWinLayer"};var s=e.prototype;return s.onLoad=function(){i.prototype.onLoad.call(this),this.onN(u("mask",this.node),l.EventType.TOUCH_END,this.onQuickClose)},s.addEvents=function(){i.prototype.addEvents.call(this)},e.isBigWin=function(i){return i>=5},s.onShow=function(){if(m.$_bounsWinNum>0&&dispatch(d.EventName.SHOW_WIN_NUMBER,m.$_bounsWinNum),this.args&&this.args.length>0){if(this.winType=this.args[0],this.winNum=this.args[1],this.cb=this.args[2],this.winType<=0&&this.args.length>3){var e=this.args[3];this.winType=e>=5&&e<10?1:e>=10&&e<15?2:e>=15&&e<30?3:e>=30&&e<50?4:5}this.stopScoreEffect(),this.isout=!1,this.close_type=0,this.coin.active=!1,this.glow1.node.active=!1,this.animCoin.stop(),this.dk.node.active=!1,this.init(this.winType,this.winNum,this.args[2]),this.playBigWinStartSound(this.winTypeSkin[this.winType])}i.prototype.onShow.call(this)},s.onClose=function(){this.unscheduleAllCallbacks(),this._stopAllEffect(this.winTypeSkin[this.winType]),i.prototype.onClose.call(this)},s.init=function(i,e,n){for(var t=this,a=0;a<this.thecoins.children.length;a++){this.thecoins.children[a].getComponent(p).emissionRate=this.cinType[a]}this.animation.clearTracks(),this.animation.node.active=!0,this.animation.setSkin(this.winTypeSkin[i]),this.playBigWinVocals(this.winTypeSkin[i]),this.animation.setAnimation(0,this.winTypeAnim[1],!1),this.animation.addAnimation(0,this.winTypeAnim[0],!0);var o=0;this.animation.setCompleteListener((function(e){(e.animation?e.animation.name:"")===t.winTypeAnim[0]&&++o===t.WinMusicTimes[i]&&t.stopAnimation()})),this.dk.setAnimation(0,this.winTypeSkinAni[0],!1),this.glow1.node.active=!0,this.glow1.setAnimation(0,"glow_intro",!1),this.dk.node.active=!0,this.scheduleOnce((function(){var e;"ani_idle_out"!=(null==(e=t.dk.getComponent(_.Skeleton))?void 0:e.animation)&&(t.dk.setAnimation(0,t.winTypeSkinAni[i],!1),t.glow1.setAnimation(0,"glow_idle",!0))}),2),this.scheduleOnce((function(){t.coin.active=!0,t.winType<=2?t.animCoin.play("coin_ani_level12"):t.winType>2&&t.winType<5?t.animCoin.play("coin_ani_level34"):t.animCoin.play("coin_ani_level5")}),1),this.winScore.startRolling(0,e,this.winTypeDuration[i],(function(){f(t.winScoreNode).to(.2,{scale:new S(1.5,1.5,1.5)}).to(.2,{scale:new S(1,1,1)}).start()}))},s.onQuickClose=function(){this.isout||(0==this.close_type?(this.StopBigWinStartSound(this.winTypeSkin[this.winType]),this.playBigWinFinishSound(this.winTypeSkin[this.winType]),this.stopAnimation()):1==this.close_type&&(this.playBigWinlastSound(this.winTypeSkin[this.winType]),this.unscheduleAllCallbacks(),this.stopAndCloseView()))},s.stopAnimation=function(){var i=this;dispatch(d.EventName.STOP_BIG_WIN),this.close_type=1,this.winScore.stopRollingAndShowNumber(this.winNum),this.animation.setAnimation(0,this.winTypeAnim[2],!1),this.animation.setCompleteListener((function(e){(e.animation?e.animation.name:"")===i.winTypeAnim[2]&&(i.animation.node.active=!1,i.dk.node.active=!1,i.isout=!0,i.glow1.node.active=!1)})),this.dk.setAnimation(0,"ani_idle_out",!1),this.glow1.setAnimation(0,"glow_out",!1),this.scheduleOnce((function(){for(var e=0;e<i.thecoins.children.length;e++){i.thecoins.children[e].getComponent(p).emissionRate=0}}),.01),this.scheduleOnce((function(){for(var e=0;e<i.thecoins.children.length;e++){i.thecoins.children[e].getComponent(p).spriteFrame=null}i.animCoin.stop()}),1.5),this.scheduleOnce((function(){i.stopAndCloseView()}),1.5)},s.playScoreEffect=function(){this.scoreTween=f(this.dk.node).to(.4,{scale:new S(1,1,1)}).to(.4,{scale:new S(.8,.8,.8)}).union().repeatForever().start()},s.stopScoreEffect=function(){this.scoreTween&&this.scoreTween.stop()},s.stopAndCloseView=function(){this.close_type=2,this.stopScoreEffect(),this.cb&&this.cb(),y.instance.revokeLoweringMusicVolume("bigWin"),this.close()},s.playBigWinVocals=function(i){switch(i){case"big":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_SPEECH_BIG);break;case"mega":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_SPEECH_MEGA);break;case"epic":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_SPEECH_EPIC);break;case"super":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_SPEECH_SUPER);break;case"ultimate":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_SPEECH_ULTIMATE)}},s.playBigWinStartSound=function(i){switch(y.instance.requestLoweringMusicVolume(0,"bigWin"),i){case"big":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_BIG);break;case"epic":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_EPIC);break;case"super":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_SUPER);break;case"mega":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_MEGA);break;case"ultimate":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_ULTIMATE)}},s.StopBigWinStartSound=function(i){switch(i){case"big":y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_BIG);break;case"epic":y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_EPIC);break;case"super":y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_SUPER);break;case"mega":y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_MEGA);break;case"ultimate":y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_ULTIMATE)}},s.playBigWinFinishSound=function(i){switch(i){case"big":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_EXIT_BIG);break;case"epic":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_EXIT_EPIC);break;case"super":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_EXIT_SUPER);break;case"mega":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_EXIT_MEGA);break;case"ultimate":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_EXIT_ULTIMATE)}},s.playBigWinlastSound=function(i){switch(i){case"big":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_END_BIG);break;case"epic":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_END_EPIC);break;case"super":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_END_SUPER);break;case"mega":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_END_MEGA);break;case"ultimate":y.instance.playSoundEffect(m.AUDIO_URLS.SE_BIG_WIN_END_ULTIMATE)}},s._stopAllEffect=function(i){switch(i){case"big":y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_BIG),y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_EXIT_BIG),y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_END_BIG);break;case"epic":y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_EPIC),y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_EXIT_EPIC),y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_END_EPIC);break;case"super":y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_SUPER),y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_EXIT_SUPER),y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_END_SUPER);break;case"mega":y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_MEGA),y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_EXIT_MEGA),y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_END_MEGA);break;case"ultimate":y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_ULTIMATE),y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_EXIT_ULTIMATE),y.instance.stopEffect(m.AUDIO_URLS.SE_BIG_WIN_END_ULTIMATE)}},o(e,[{key:"showAction",get:function(){var i=this;return function(e){App.utils.showView(i.content,e)}}},{key:"closeAction",get:function(){var i=this;return function(e){App.utils.hideView(i.content,e)}}}]),e}(I)).prototype,"content",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(G.prototype,"glow1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(G.prototype,"thecoins",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(G.prototype,"coin",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(G.prototype,"animation",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(G.prototype,"dk",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(G.prototype,"winScoreNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(G.prototype,"winScore",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(G.prototype,"animCoin",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=G))||L)||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/BonusGameLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./JackpotSymbol2.ts","./AudioHelper8.ts","./GameSender32.ts"],(function(t){var e,a,o,i,n,s,c,l,r,p,u,y,d,f,h,_,b,S,E,m,k,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass,s=t.createForOfIteratorHelperLoose},function(t){c=t.cclegacy,l=t._decorator,r=t.Node,p=t.Prefab,u=t.Tween,y=t.tween,d=t.instantiate,f=t.Vec3},function(t){h=t.Global},function(t){_=t.SubGameData},function(t){b=t.common},function(t){S=t.DisplayTaskManager,E=t.Display},function(t){m=t.JackpotSymbol},function(t){k=t.AudioHelper},function(t){L=t.GameSender}],execute:function(){var N,g,O,D,T,U,A,v,G,M,I,P,C,R,B,j,J,F,w,x,K,z;c._RF.push({},"1b9b9uLy+1B4Ir9KzFJitfC","BonusGameLayer",void 0);var W=l.ccclass,H=l.menu,Y=l.property;t("BonusGameLayer",(N=W("BonusGameLayer"),g=H(_.module+"/layers/BonusGameLayer"),O=Y([m]),D=Y(r),T=Y(r),U=Y(r),A=Y(p),v=Y(p),G=Y(p),M=Y(r),I=Y(r),N(P=g((R=e((C=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,o(e,"jackpotSymbolsList",R,i(e)),o(e,"parendNode",B,i(e)),o(e,"maskNode",j,i(e)),o(e,"outNode",J,i(e)),o(e,"particle_red",F,i(e)),o(e,"particle_greed",w,i(e)),o(e,"particle_blue",x,i(e)),o(e,"jackpotNode",K,i(e)),o(e,"flyItemNode",z,i(e)),e.$_isEnd=!1,e._symbolLocationsMap=new Map,e._pickedLocationFlagsMap=new Map,e._pickedLocationsList=[],e._pickable=!1,e._hasSendList=[],e}a(e,t);var c=e.prototype;return c.onLoad=function(){var e=this;t.prototype.onLoad.call(this),S.addHandler(this),this.jackpotSymbolsList.forEach((function(t){t.setClickListener(e._onSymbolClick.bind(e))}))},c.onEnable=function(){for(var t=this,e=this.jackpotSymbolsList.length,a=0;a<e;a++){var o=this.jackpotSymbolsList[a];o.node.setParent(this.parendNode),o.f_playInit()}this.$_isEnd=!1,this._hasSendList.length=0,this.scheduleOnce((function(){t._pickable=!0}),2),this.maskNode.active=!1},c.onDisable=function(){_.gameMode=b.EGameMode.NORMAL},c.update=function(t){0==this.$_isEnd&&this.f_updateCen()},c.f_updateCen=function(){for(var t=this.jackpotSymbolsList.length,e=0;e<t;e++){var a=this.jackpotSymbolsList[e];a.node.setSiblingIndex(a.index)}},c.onTaskInitialize=function(t,e){var a=this;if(!e.isReconnect)if(this.stopAllDisplays(),this._symbolLocationsMap.clear(),this._pickedLocationFlagsMap.clear(),this._pickable=!1,u.stopAllByTarget(this.node),e.gameMode===b.EGameMode.BONUS){var o,i;this.node.active=!0;var n=(null!=(o=null==(i=e.jackpotSymbolLocationsMap.get(b.EJackpotSymbolType.UPGRADE))?void 0:i.length)?o:0)>=3;this.jackpotSymbolsList.forEach((function(t){t.type=b.EJackpotSymbolType.UNKNOWN,t.state=m.EState.IDLE,t.setUpgraded(n,!1)})),e.jackpotSymbolLocationsMap.forEach((function(t,e){a._symbolLocationsMap.set(e,[].concat(t));var o=2===t.length?m.EState.EXCITING:m.EState.FLOPPED;t.forEach((function(t){a._pickedLocationFlagsMap.set(t,!0);var i=a.jackpotSymbolsList[t];i&&(i.type=e,i.state=o,o==m.EState.EXCITING&&i.f_showExting())}))}))}else this.node.active=!1},c.onTaskBonusGamePickStart=function(t,e){var a;this._pickedLocationsList.length=0,(a=this._pickedLocationsList).push.apply(a,e.jackpotSymbolPickedLocationsList),this._pickable=!h.playback},c.onTaskBonusGamePickEnd=function(t,e){this.f_onClick(e.jackpotSymbol,e.index)},c.f_onClick=function(t,e){var a,o=this;if(this._pickable=!1,!this._pickedLocationFlagsMap.has(e)){var i=this._critical,n=this._symbolLocationsMap.get(t);null==n&&(n=[],this._symbolLocationsMap.set(t,n)),n.push(e),this._pickedLocationFlagsMap.set(e,!0);var s=this.jackpotSymbolsList[e];if(s){s.type=t;var c=(null==(a=n)?void 0:a.length)>=3,l=2===n.length&&t!==b.EJackpotSymbolType.UNKNOWN;c?(this.$_isEnd=!0,this.startDisplay(),s.isEnd((function(t){})),this.scheduleOnce((function(){o.stopAllDisplays(),o.jackpotSymbolsList.forEach((function(e){e.type==t&&(e.state=m.EState.END,e.f_showFish(),e.type!=b.EJackpotSymbolType.UPGRADE&&(o.maskNode.active=!0,o.outNode.addChild(e.node)))}))}),2)):(h.playback&&this.startDisplay(),s.flop(i,(function(e){e.state=m.EState.EXCITING,h.playback&&o.endDisplay(),l?(o.jackpotSymbolsList.forEach((function(e){e.type==t&&e.f_showExting()})),t===b.EJackpotSymbolType.GRAND&&k.instance.playSoundEffect(_.AUDIO_URLS.SE_BONUS_GAME_SPEECH_BIG_PRIZE_AHEAD)):e.state=m.EState.FLOPPED})),this.f_updateCen()),t===b.EJackpotSymbolType.UPGRADE?k.instance.playSoundEffect(i?_.AUDIO_URLS.SE_BONUS_GAME_PICK_BOOST_SYMBOL_CRITICALLY:_.AUDIO_URLS.SE_BONUS_GAME_PICK_BOOST_SYMBOL):k.instance.playSoundEffect(i?_.AUDIO_URLS.SE_BONUS_GAME_PICK_JACKPOT_SYMBOL_CRITICALLY:_.AUDIO_URLS.SE_BONUS_GAME_PICK_JACKPOT_SYMBOL)}}},c.onTaskBonusGameUpgrade=function(t,e){var a=this;this.startDisplay(),u.stopAllByTarget(this.node),this.jackpotSymbolsList.forEach((function(t){t.type===b.EJackpotSymbolType.UPGRADE&&(t.state=m.EState.WINNING)})),k.instance.playSoundEffect(_.AUDIO_URLS.SE_BONUS_GAME_COLLECT_ALL),y(this.node).call((function(){a.jackpotSymbolsList.forEach((function(t){switch(a.f_creatFlyDot(t.type,t.node.getWorldPosition()),t.type){case b.EJackpotSymbolType.UNKNOWN:t.setUpgraded(!0,!1);break;case b.EJackpotSymbolType.UPGRADE:t.f_showExting(),t.setUpgraded(!0,!1),t.state=m.EState.FLOPPED;break;default:t.setUpgraded(!0,!0,(function(){}))}})),a.endDisplay(),k.instance.playSoundEffect(_.AUDIO_URLS.SE_BONUS_GAME_UPGRADE),k.instance.playSoundEffect(_.AUDIO_URLS.SE_BONUS_GAME_SPEECH_UPGRADE)})).start(),this.f_updateCen()},c.f_creatFlyDot=function(t,e){var a=null;switch(t){case b.EJackpotSymbolType.UPGRADE:case b.EJackpotSymbolType.GRAND:a=d(this.particle_red);break;case b.EJackpotSymbolType.MAJOR:case b.EJackpotSymbolType.MINOR:a=d(this.particle_blue);break;case b.EJackpotSymbolType.MINI:a=d(this.particle_greed)}if(null!=a){a.setParent(this.flyItemNode),a.setWorldPosition(e);var o=this.jackpotNode.position,i=new f(o.x,o.y,0);y(a).to(.9,{position:i},{onComplete:function(){a.destroy()}}).start()}},c.onTaskBonusGameReveal=function(t,e){var a=this,o=0;e.jackpotSymbolsList,this.jackpotSymbolsList.forEach((function(t,i){var n;t.type==b.EJackpotSymbolType.UNKNOWN&&(t.type=null!=(n=e.jackpotSymbolsList[o++])?n:a.f_getNonNumber(),t.state=m.EState.NOT_FLOPPED)})),k.instance.playSoundEffect(_.AUDIO_URLS.SE_BONUS_GAME_COLLECT_ALL)},c.f_getNonNumber=function(){var t={};for(var e in this.jackpotSymbolsList.forEach((function(e,a){null==t[e.type]&&(t[e.type]=0),t[e.type]++})),t){var a=t[e];if(Number(e)>0&&a<3)return e}return b.EJackpotSymbolType.UNKNOWN},c.onTaskChangeGame=function(t,e){e.previousFeatureType!==e.nextFeatureType&&(e.previousFeatureType===b.EFeatureType.RED_TOWER?(this._symbolLocationsMap.clear(),this._pickedLocationFlagsMap.clear(),this._pickable=!1,this.node.active=!1):e.nextFeatureType===b.EFeatureType.RED_TOWER&&(this._symbolLocationsMap.clear(),this._pickedLocationFlagsMap.clear(),this._pickable=!1,this.node.active=!0,this.jackpotSymbolsList.forEach((function(t){t.state=m.EState.IDLE,t.type=b.EJackpotSymbolType.UNKNOWN,t.setUpgraded(!1,!1)}))))},c._onSymbolClick=function(t){-1==this._hasSendList.indexOf(t.index)&&(this._hasSendList.push(t.index),this._pickedLocationsList.push(),App.senderManager.get(L).c2sPickJackpotSymbol({id:[t.index]}))},c.startDisplay=function(t){++this._displayCount,this.unschedule(this.endDisplay),this.scheduleOnce(this.endDisplay,1)},n(e,[{key:"_critical",get:function(){for(var t,e=!1,a=s(this._symbolLocationsMap);!(t=a()).done;){var o=t.value,i=o[0];if(2===o[1].length&&i!==b.EJackpotSymbolType.UNKNOWN&&i!==b.EJackpotSymbolType.UPGRADE){e=!0;break}}return e}}]),e}(E)).prototype,"jackpotSymbolsList",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(C.prototype,"parendNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(C.prototype,"maskNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(C.prototype,"outNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(C.prototype,"particle_red",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(C.prototype,"particle_greed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(C.prototype,"particle_blue",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(C.prototype,"jackpotNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(C.prototype,"flyItemNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=C))||P)||P));c._RF.pop()}}}));

System.register("chunks:///_virtual/BonusGameTitleLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./Display9.ts","./AudioHelper8.ts"],(function(t){var e,i,n,a,o,s,r,l,c,u,p,h,y,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,r=t.UIOpacity,l=t.Node,c=t.sp,u=t.Tween,p=t.tween},function(t){h=t.SubGameData},function(t){y=t.DisplayTaskManager,d=t.Display},function(t){m=t.AudioHelper}],execute:function(){var f,D,_,I,N,k,O,H,S,T;o._RF.push({},"69eeeRO0hxPLpGoq1odzzA5","BonusGameTitleLayer",void 0);var b=s.ccclass,E=s.menu,G=s.property,L=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t[t.SHOWN=2]="SHOWN",t[t.HIDING=3]="HIDING",t}(L||{}),A="animation2",B="animation3";t("BonusGameTitleLayer",(f=b("BonusGameTitleLayer"),D=E(h.module+"/layers/BonusGameTitleLayer"),_=G(r),I=G(l),N=G(c.Skeleton),f(k=D((H=e((O=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"maskUIOpacity",H,a(e)),n(e,"inputBlockerNode",S,a(e)),n(e,"skeleton",T,a(e)),e._state=L.HIDDEN,e}i(e,t);var o=e.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),y.addHandler(this),this.inputBlockerNode.on(l.EventType.TOUCH_END,this._onTouchEnd,this),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this))},o.onTaskInitialize=function(t,e){this.stopAllDisplays(),this._state=L.HIDDEN,this.node.active=!1},o.onTaskBonusGameStart=function(t,e){this.stopAllDisplays()},o._hide=function(){this._state===L.SHOWN&&(this._state=L.HIDING,this.skeleton.setAnimation(0,B,!1),u.stopAllByTarget(this.maskUIOpacity),p(this.maskUIOpacity).delay(.6).to(.25,{opacity:0}).start(),m.instance.playSoundEffect(h.AUDIO_URLS.SE_COMMON_POPUP_HIDE))},o._onTouchEnd=function(){this._hide(),m.instance.playSoundEffect(h.AUDIO_URLS.SE_COMMON_BUTTON_CLICK)},o._onSkeletonAnimationComplete=function(t){switch(t.animation.name){case"animation1":this._state=L.SHOWN,this.skeleton.setAnimation(0,A,!1);break;case A:this._hide();break;case B:this._state=L.HIDDEN,this.node.active=!1,this.endDisplay()}},e}(d)).prototype,"maskUIOpacity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(O.prototype,"inputBlockerNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(O.prototype,"skeleton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=O))||k)||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/CheckenEmoji_Blue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CheckenEmoji.ts"],(function(e){var n,t,i,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator},function(e){o=e.CheckenEmoji}],execute:function(){var s;t._RF.push({},"97d9d5QNn1NK4g0ihepaq10","CheckenEmoji_Blue",void 0);var c=i.ccclass;i.property,e("CheckenEmoji_Blue",c("CheckenEmoji_Blue")(s=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.f_sigh=function(){var e=this;this.sketon3&&(this.sketon3.node.active=!0,this.sketon3.setAnimation(0,"animation4_2",!1),this.scheduleOnce((function(){e.sketon3.node.active=!1}),1.5))},i.f_scare=function(){var e=this;this.sketon4&&(this.sketon4.node.active=!0,this.sketon4.setAnimation(0,"animation5_2",!0),this.scheduleOnce((function(){e.sketon4.node.active=!1}),3.5))},t}(o))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/CheckenEmoji_Green.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CheckenEmoji.ts"],(function(e){var n,t,i,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator},function(e){o=e.CheckenEmoji}],execute:function(){var s;t._RF.push({},"b64333ey1BM8bEFgIrW0Wwv","CheckenEmoji_Green",void 0);var c=i.ccclass;i.property,e("CheckenEmoji_Green",c("CheckenEmoji_Green")(s=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.f_sigh=function(){var e=this;this.sketon3&&(this.sketon3.node.active=!0,this.sketon3.setAnimation(0,"animation4_3",!1),this.scheduleOnce((function(){e.sketon3.node.active=!1}),1.5))},i.f_scare=function(){var e=this;this.sketon4&&(this.sketon4.node.active=!0,this.sketon4.setAnimation(0,"animation5_3",!0),this.scheduleOnce((function(){e.sketon4.node.active=!1}),3.5))},t}(o))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/CheckenEmoji_Red.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CheckenEmoji.ts"],(function(e){var t,n,i,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){o=e.CheckenEmoji}],execute:function(){var s;n._RF.push({},"79ab1sO+nRD86dd4UA74XCn","CheckenEmoji_Red",void 0);var c=i.ccclass;i.property,e("CheckenEmoji_Red",c("CheckenEmoji_Red")(s=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var i=n.prototype;return i.f_sigh=function(){var e=this;this.sketon3&&(this.sketon3.node.active=!0,this.sketon3.setAnimation(0,"animation4_1",!1),this.scheduleOnce((function(){e.sketon3.node.active=!1}),1.5))},i.f_scare=function(){var e=this;this.sketon4&&(this.sketon4.node.active=!0,this.sketon4.setAnimation(0,"animation5_1",!0),this.scheduleOnce((function(){e.sketon4.node.active=!1}),3.5))},i.f_puFire=function(){e.prototype.f_puFire.call(this)},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/CheckenEmoji.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,s,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.sp,c=e.Component}],execute:function(){var l,u,k,p,f,h,y,v,b,d,m;r._RF.push({},"aab331evlJMjqtIHPkswyja","CheckenEmoji",void 0);var _=s.ccclass,g=s.property;e("CheckenEmoji",(l=_("CheckenFace"),u=g({type:a.Skeleton}),k=g({type:a.Skeleton}),p=g({type:a.Skeleton}),f=g({type:a.Skeleton}),l((v=t((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"sketon1",v,o(t)),i(t,"sketon2",b,o(t)),i(t,"sketon3",d,o(t)),i(t,"sketon4",m,o(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.sketon1.node.active=!1,this.sketon2.node.active=!1,this.sketon3.node.active=!1,this.sketon4.node.active=!1},r.f_tap=function(){},r.f_sigh=function(){},r.f_puFire=function(){this.sketon1&&this.sketon2&&(this.sketon1.node.active=!0,this.sketon2.node.active=!0,this.sketon1.setAnimation(0,"animation1_1",!0),this.sketon2.setAnimation(0,"animation1_3",!0))},r.f_outFire=function(){this.sketon1&&this.sketon2&&(this.sketon1.node.active=!1,this.sketon2.node.active=!1)},r.f_scare=function(){},t}(c)).prototype,"sketon1",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(y.prototype,"sketon2",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(y.prototype,"sketon3",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(y.prototype,"sketon4",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/CollectIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,o,i,l,c,a,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,c=e.SpriteFrame,a=e.Sprite,u=e.Component}],execute:function(){var s,p,f,h,m,d,y;i._RF.push({},"783c4kOor5MCqZZMDX91C5h","CollectIcon",void 0);var F=l.ccclass,C=l.property;e("CollectIcon",(s=F("CollectIcon"),p=C(c),f=C(c),s((d=t((m=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(t,"defaultFrame",d,o(t)),n(t,"collectFrame",y,o(t)),t.$_icon=null,t}r(t,e);var i=t.prototype;return i.onLoad=function(){this.$_icon=this.node.getComponent(a)},i.f_setCollectState=function(e){this.$_icon.spriteFrame=e?this.collectFrame:this.defaultFrame},t}(u)).prototype,"defaultFrame",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(m.prototype,"collectFrame",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/ControllerLayer7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./Config.ts","./CommonEvent.ts","./BigWinLayer22.ts","./GamePlay14.ts","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./AudioHelper8.ts","./GameSender32.ts"],(function(e){var t,n,i,o,a,r,s,c,l,u,_,h,p,S,T,f,d,I,E,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,c=e.Tween,l=e.tween},function(e){u=e.Global},function(e){_=e.ViewZOrder},function(e){h=e.CommonEvent},function(e){p=e.default},function(e){S=e.default},function(e){T=e.SubGameData},function(e){f=e.common},function(e){d=e.DisplayTaskManager,I=e.Display},function(e){E=e.AudioHelper},function(e){m=e.GameSender}],execute:function(){var N,C,y,g,F,O;a._RF.push({},"ad42f5fPD5EJKV81gxBd6Ym","ControllerLayer",void 0);var A=r.ccclass,P=r.menu,D=r.property,R="winScore",B=function(){return E.instance.revokeLoweringMusicVolume(R)};e("ControllerLayer",(N=A("ControllerLayer"),C=P(T.module+"/layer/ControllerLayer"),y=D(s),N(g=C((O=t((F=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"banNode",O,o(t)),t._spinnable=!0,t._currentTotalScore=0,t._freeTimes=0,t._initCountForChangingBet=0,t.$_isFreeGame=!1,t.$_isWinSound=!1,t}n(t,e);var a=t.prototype;return a.onLoad=function(){var t;null==(t=e.prototype.onLoad)||t.call(this),this.banNode.active=!1,d.addHandler(this),this.onD(h.DISPATCH_SPIN_START,this._onControllerSpinStart),this.onD(h.DISPATCH_SPIN_STOP,this._onControllerSpinStop),this.onD(h.DISPATCH_TOTAL_BET,this._onTotalBetChange),this.onD(h.DISPATCH_START_AUTOPLAY,this._onAutoPlayStateChange),this.onD(h.DISPATCH_QUICK_SPIN,this._onQuickSpinChange),this.onD(h.DISPATCH_TURBO_SPIN,this._onTurboSpinChange),this.onD(h.DISPATCH_SKIP_SCREENS,this._onSkipScreensChange),this.onD(h.DISPATCH_GAME_PLAY,this._onShowHelp),this.onD(f.EventName.SHOW_BAN_TIP,this.f_shwBanTip),dispatch(h.NOTIFY_NO_INTRO)},a.start=function(){var t;if(null==(t=e.prototype.start)||t.call(this),dispatch(h.NOTIFY_GMTOOL_VISIBLE,T.gmEnabled),!u.playback){var n,i=null!=(n=T.slotInfo.mode)?n:0;1===i?dispatch(h.NOTIFY_QUICK_SPIN,!0):2===i?dispatch(h.NOTIFY_TURBO_SPIN,!0):(dispatch(h.NOTIFY_QUICK_SPIN,!1),dispatch(h.NOTIFY_TURBO_SPIN,!1))}},a.f_hideManBan=function(){this.banNode.active=!1},a.f_shwBanTip=function(){this.banNode.active=!0},a.onTaskInitialize=function(e,t){this.stopAllDisplays();var n=this._spinnable,i=t.gameMode===f.EGameMode.NORMAL;this.$_isFreeGame=t.gameMode==f.EGameMode.FREE,this._spinnable=i,this._currentTotalScore=i?0:t.currentScoreInSpecialMode,this._freeTimes=t.gameMode===f.EGameMode.FREE?t.freeTimesRemaining:0,++this._initCountForChangingBet,dispatch(h.NOTIFY_SLOT_INFO,T.slotInfo),dispatch(h.NOTIFY_USERINFO_SCORE,t.balance),c.stopAllByTarget(this.node),c.stopAllByTarget(this),this._stopWinScoreSoundEffect(),i?n||dispatch(h.NOTIFY_SPIN_END):(dispatch(h.NOTIFY_FREE_MODE),this.f_updateScore(this._currentTotalScore,!1))},a.f_updateScore=function(e,t){void 0===t&&(t=!1),dispatch(h.NOTIFY_WINSCORE_TIPS,e,t)},a.onTaskSpinStart=function(e,t){this._spinnable=!1,t.spinType===f.ESpinType.FREE?dispatch(h.NOTIFY_SPIN_STOP_NORMAL,!0):(this.f_updateScore(0),this._stopWinScoreSoundEffect())},a.onTaskSpinStop=function(e,t){t.spinType===f.ESpinType.FREE?this._freeTimes=Math.max(0,this._freeTimes-1):this._currentTotalScore=0},a.onTaskSpinEnd=function(e,t){dispatch(h.NOTIFY_SPIN_STOP_NORMAL,!1)},a.onTaskSpinBreak=function(e,t){var n=this;if(t.score>0&&(this._currentTotalScore=t.totalScore,this.f_updateScore(this._currentTotalScore,!1),this._playWinScoreSoundEffect(t.score)),c.stopAllByTarget(this.node),T.autoPlaying||t.shouldBreak){this.startDisplay();var i=T.turboSpin||T.quickSpin?.1:.366667;t.score>0&&(i=1),l(this.node).delay(i).call((function(){n._freeTimes>0&&dispatch(h.NOTIFY_SPIN_START_NORMAL),n.endDisplay()})).start()}},a.onTaskBonusGameTransit=function(e,t){"enter"===t.type&&(dispatch(h.NOTIFY_FREE_MODE),this._currentTotalScore>0&&this.f_updateScore(this._currentTotalScore,!1))},a.onTaskFreeGameTransit=function(e,t){"enter"===t.type?(this.$_isFreeGame=!0,dispatch(h.NOTIFY_FREE_MODE),this.f_updateScore(0)):(this.$_isFreeGame=!1,T.gameMode=f.EGameMode.NORMAL)},a.onTaskMapGameMoveCursor=function(e,t){dispatch(h.NOTIFY_FREE_MODE),this._currentTotalScore>0&&this.f_updateScore(this._currentTotalScore,!1)},a.onTaskFreeGameStart=function(e,t){this._freeTimes=T.INITIAL_FREE_TIMES},a.onTaskFreeGameCollectScores=function(e,t){var n=this;this._currentTotalScore=t.totalScore,c.stopAllByTarget(this),l(this).delay(1).call((function(){n.f_updateScore(n._currentTotalScore,!1),n._playWinScoreSoundEffect(t.score)})).start()},a.onTaskFreeGameCollectJackpot=function(e,t){var n=this;this._currentTotalScore=t.totalScore,c.stopAllByTarget(this),l(this).delay(1).call((function(){return n.f_updateScore(n._currentTotalScore,!1)})).start()},a.onTaskFreeGameCollectFreeTimes=function(e,t){this._freeTimes=t.totalFreeTimes},a.onTaskRoundEnd=function(e,t){this._spinnable=!0,this._currentTotalScore=0,this._freeTimes=0,null!==t.balance&&void 0!==t.balance&&dispatch(h.NOTIFY_BALANCE_SCORE,t.balance),dispatch(h.NOTIFY_SPIN_END)},a._playWinScoreSoundEffect=function(e){e<=0||(p.isBigWin(e/T.totalBet),E.instance.requestLoweringMusicVolume(.2,R),this.scheduleOnce(B,1))},a._stopWinScoreSoundEffect=function(){this.unschedule(B),B()},a._onControllerSpinStart=function(e){var t,n;(void 0===e&&(e=0),this._spinnable)&&(T.$_isEnterGame||(0!==e?null==(t=T.spinRequestor)||t.request(f.ESpinRequestType.GM_SPIN,e):null==(n=T.spinRequestor)||n.request(f.ESpinRequestType.SPIN)))},a._onControllerSpinStop=function(){T.turboSpin||T.quickSpin||(0==this.$_isFreeGame&&this.f_updateScore(0),d.runTask("manualStop",null))},a._onTotalBetChange=function(e){var t=this._initCountForChangingBet;this._initCountForChangingBet=Math.max(0,this._initCountForChangingBet-1),null!=e&&(T.totalBet=e,t<=0&&App.senderManager.get(m).c2sChangeBet({bet:e},f.EChangeBetRequestType.CHANGE_BET))},a._onAutoPlayStateChange=function(e){T.autoPlaying=e},a._onQuickSpinChange=function(e){T.quickSpin=e},a._onTurboSpinChange=function(e){T.turboSpin=e},a._onSkipScreensChange=function(e){T.skipScreens=e},a._onShowHelp=function(){App.uiManager.open({type:S,bundle:T.module,zIndex:_.UI})},t}(I)).prototype,"banNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=F))||g)||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/CountdownableButton3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts"],(function(t){var e,n,r,o,i,a,s,u,l,p,c,y,f,b,h,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createClass},function(t){a=t.cclegacy,s=t._decorator,u=t.Animation,l=t.ProgressBar,p=t.Button,c=t.Enum,y=t.EventHandler,f=t.tween,b=t.Tween,h=t.Component},function(t){g=t.SubGameData}],execute:function(){var d,m,w,C,B,v,T,_,E,S,L,k,z,A,D,O;a._RF.push({},"de5d06t48BMnIKS4vYhG4AF","CountdownableButton",void 0);var R=s.ccclass,P=s.menu,F=s.property,G=function(t){return t[t.START=0]="START",t[t.COLLECT=1]="COLLECT",t}(G||{});t("CountdownableButton",(d=R("CountdownableButton"),m=P(g.module+"/elements/CountdownableButton"),w=F(u),C=F(l),B=F(p),v=F({type:c(G)}),T=F([y]),_=F({type:c(G)}),d(E=m(((O=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,r(e,"animation",L,o(e)),r(e,"progressBar",k,o(e)),r(e,"button",z,o(e)),r(e,"clickEvents",A,o(e)),r(e,"_type",D,o(e)),e}n(e,t);var a=e.prototype;return a.onLoad=function(){this._refreshStyle(),this.progressBar.progress=0},a.startCountdown=function(t,e){var n=this;this.stopCountdown(),f(this.progressBar).to(t,{progress:1}).call((function(){return null==e?void 0:e(n)})).start()},a.stopCountdown=function(){b.stopAllByTarget(this.progressBar),this.progressBar.progress=0},a.onButtonClick=function(t,e){this.stopCountdown(),y.emitEvents(this.clickEvents,t,e)},a._refreshStyle=function(){this._type===G.COLLECT?this.animation.play("style-collect"):this.animation.play("style-start")},i(e,[{key:"type",get:function(){return this._type},set:function(t){t!=this._type&&(this._type=t,this._refreshStyle())}},{key:"interactable",get:function(){return this.button.interactable},set:function(t){this.button.interactable=t}}]),e}(h)).EType=G,L=e((S=O).prototype,"animation",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(S.prototype,"progressBar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(S.prototype,"button",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(S.prototype,"type",[v],Object.getOwnPropertyDescriptor(S.prototype,"type"),S.prototype),A=e(S.prototype,"clickEvents",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(S.prototype,"_type",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.START}}),E=S))||E)||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/DebugVersion8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Config.ts","./CommonEvent.ts","./SubGameData32.ts"],(function(n){var e,t,i,o,r,a,s,u,c,l,g,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Label,u=n.view},function(n){c=n.default},function(n){l=n.Config},function(n){g=n.CommonEvent},function(n){p=n.SubGameData}],execute:function(){var f,b,h,v,d,m;r._RF.push({},"0dec5PSbW5NiKnm7N8dNYYA","DebugVersion",void 0);var D=a.ccclass,C=a.menu,y=a.property;n("DebugVersion",(f=D("DebugVersion"),b=C(p.module+"/components/DebugVersion"),h=y(s),f(v=b((m=e((d=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,i(e,"versionLabel",m,o(e)),e}t(e,n);var r=e.prototype;return r.onLoad=function(){this.onD(g.SWITCH_SCREEN,this._onOrientationChange)},r.start=function(){this.versionLabel.string="v153",this.versionLabel.node.active=l.isDebugLogin,this._onOrientationChange(App.utils.getOrientation())},r._onOrientationChange=function(n){var e=u.getVisibleSize();this.node.setPosition(.5*e.width,.5*e.height,1)},e}(c)).prototype,"versionLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=d))||v)||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Defines8.ts",["cc"],(function(i){var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"0abe4LnCCdEKLvC9wiQnEmN","Defines",void 0);i("ConnectMax",7),i("EDisplayTaskName",function(i){return i.initialize="initialize",i.bonusGamePickEnd="bonusGamePickEnd",i.bigWinTrailer="bigWinTrailer",i.bigWinEffect="bigWinEffect",i.superTrailer="superTrailer",i}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/DelayUtil.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"f8adaR69IJAa4bsCkatrLll","DelayUtil",void 0);e("DelayUtil",function(){function e(){}return e.runWithOverride=function(e,t,n){e.unschedule(t),e.scheduleOnce(t,n)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Display9.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(t){var s,e,n,i,a;return{setters:[function(t){s=t.createClass,e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy},function(t){a=t.default}],execute:function(){i._RF.push({},"e4aa98nabNELYqN7gruDxhA","Display",void 0);var u=t("DisplayTaskManager",function(){function t(){}return t.clearTasks=function(){this._sTasksQueue.length=0},t.addTask=function(t,s){this._sTasksQueue.push({name:t,data:s})},t.runTask=function(t,s){this._sHandlersSet.forEach((function(e){var n=e["onTask"+t[0].toUpperCase()+t.substring(1)];null!=n&&n.call(e,t,s)}))},t.runNextTask=function(){if(!this.$_isStop){var t=o.displayingObject;if(null!==t&&this._waitTime<1e3){if(t.$_isMustCheck)return;this._waitTime++}else if(!(this._sTasksQueue.length<=0)){var s=this._sTasksQueue.shift();null!=s&&(this._waitTime=0,this.runTask(s.name,s.data))}}},t.runNextTask1=function(){if(!(this._sTasksQueue.length<=0)){var t=this._sTasksQueue.shift();null!=t&&(this._waitTime=0,this.runTask(t.name,t.data))}},t.clearHandlers=function(){this._sHandlersSet.clear()},t.addHandler=function(t){this._sHandlersSet.add(t)},t.removeHandler=function(t){return this._sHandlersSet.delete(t)},t}());u._sTasksQueue=[],u._sHandlersSet=new Set,u._waitTime=0,u.$_isStop=!1;var o=t("DisplayPool",function(){function t(){}return t.clear=function(){this._sPoolSet.clear()},t.add=function(t){this._sPoolSet.add(t)},t.remove=function(t){return this._sPoolSet.delete(t)},t.stopAllTask=function(){for(var t,s=n(this._sPoolSet);!(t=s()).done;){t.value.stopTasks()}},s(t,null,[{key:"displaying",get:function(){for(var t,s=n(this._sPoolSet);!(t=s()).done;){if(t.value.displaying)return!0}return!1}},{key:"displayingObject",get:function(){for(var t,s=n(this._sPoolSet);!(t=s()).done;){var e=t.value;if(e.displaying)return e}return null}}]),t}());o._sPoolSet=new Set;t("Display",function(t){function n(){for(var s,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(s=t.call.apply(t,[this].concat(n))||this).$_isMustCheck=!1,s._displayCount=0,s}e(n,t);var i=n.prototype;return i.onLoad=function(){o.add(this)},i.onDestroy=function(){o.remove(this)},i.stopAllDisplays=function(){this._displayCount=0},i.startDisplay=function(t){void 0===t&&(t=5),++this._displayCount,this.unschedule(this.endDisplay),this.scheduleOnce(this.endDisplay,t)},i.endDisplay=function(){this.unschedule(this.endDisplay),this._displayCount<=0||--this._displayCount},i.stopTasks=function(){this._displayCount=0},s(n,[{key:"displaying",get:function(){return this._displayCount>0}}]),n}(a));i._RF.pop()}}}));

System.register("chunks:///_virtual/ExBannerContentProvider18.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BannerContentProvider.ts","./SubGameData32.ts"],(function(n){var t,e,o,r,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator},function(n){r=n.BannerContentProvider},function(n){i=n.SubGameData}],execute:function(){var u;e._RF.push({},"aac5d2as0FCNpD1HNLDXe8e","ExBannerContentProvider",void 0);var c=o.ccclass,a=(o.property,o.menu);n("ExBannerContentProvider",c("ExBannerContentProvider")(u=a(i.module+"/components/ExBannerContentProvider")(u=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e.prototype.dataList=function(){return['<outline color=#005353 width=2><b><img src="1_1"/><img src="1_2"/><img src="1_3"/>CAN TRIGGER A VARIETY OF FREE GAMES AND COMBINATIONS</b></outline>','<outline color=#005353 width=2"><b>SUPER BONUS EVERY 7 FREE GAMES</b></outline>','<outline color=#005353 width=2"><b>RAISE YOUR BET TO UNLOCK GOLDEN SYMBOLS</b></outline>']},e}(r))||u)||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/FlyScatterItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameDefines33.ts","./AudioHelper8.ts"],(function(t){var e,n,o,i,s,l,a,r,c,u,f,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,a=t.sp,r=t.Tween,c=t.tween,u=t.Vec3,f=t.Component},function(t){h=t.common},function(t){d=t.AudioHelper}],execute:function(){var _,p,y,m,S;s._RF.push({},"3716asEt0tGv4HdgzMop1CM","FlyScatterItem",void 0);var $=l.ccclass,v=l.property,b=function(t){return t.hong="hong",t.lv="lv",t.lan="lan",t}(b||{});t("FlyScatterItem",(_=$("FlyScatterItem"),p=v(a.Skeleton),_((S=e((m=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,o(e,"feedSkeleton",S,i(e)),e.$_symbolID=0,e.$_towerPosition=null,e.$_collectSoundEffect="",e.$_position=null,e.$_parentNode=null,e.$_isFly=!1,e}n(e,t);var s=e.prototype;return s.f_setFeedData=function(t,e,n,o,i){this.$_parentNode=t,this.$_position=e,this.$_symbolID=n,this.$_towerPosition=o,this.$_collectSoundEffect=i,this.f_readlyFly()},s.f_readlyFly=function(){var t=this;this.scheduleOnce((function(){t.f_fly()}),.8)},s.f_setUI=function(){var t=b.hong;switch(this.$_symbolID){case 18:t=b.lv;break;case 19:t=b.lan}var e="";switch(t){case b.hong:e="animation2_1";break;case b.lan:e="animation2_2";break;case b.lv:e="animation2_3"}this.feedSkeleton.setSkin(t),this.feedSkeleton.setAnimation(0,e,!0)},s.f_fly=function(){var t=this;if(!this.$_isFly&&(this.unscheduleAllCallbacks(),this.$_isFly=!0,null!=this.node)){this.node.parent=this.$_parentNode,this.node.worldPosition=this.$_position,this.f_setUI();var e=this;null!=e&&(this.scheduleOnce((function(){dispatch(h.EventName.SHOW_COLLECT,t.$_symbolID)}),.1),r.stopAllByTarget(e.node),c(e.node).to(.5,{position:this.$_towerPosition},{easing:"sineOut",onStart:function(){t.$_collectSoundEffect&&d.instance.playOneShotSoundEffect(t.$_collectSoundEffect)},onComplete:function(){t.node.destroy()}}).start(),c(e.node).delay(.2).to(.3,{scale:new u(0,0,1)}).start())}},e}(f)).prototype,"feedSkeleton",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/FrameEffectLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Display9.ts","./SubGameDefines33.ts","./BigWinLayer22.ts","./SubGameData32.ts","./AudioHelper8.ts"],(function(e){var i,t,n,s,a,o,r,l,f,c,u,h,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,r=e.sp},function(e){l=e.DisplayTaskManager,f=e.Display},function(e){c=e.common},function(e){u=e.default},function(e){h=e.SubGameData},function(e){p=e.AudioHelper}],execute:function(){var m,d,E,b,g,y,_,v,T;a._RF.push({},"1952azL+9NJELI2CuIH/z5t","FrameEffectLayer",void 0);var S=o.ccclass,W=o.property;e("FrameEffectLayer",(m=S("FrameEffectLayer"),d=W(r.Skeleton),E=W(r.Skeleton),b=W(r.Skeleton),m((_=i((y=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,n(i,"effSkeleton",_,s(i)),n(i,"bigWinEff",v,s(i)),n(i,"bigWinTrailer",T,s(i)),i.$_isFreeGame=!1,i.bousGameJusetExit=!1,i}t(i,e);var a=i.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),l.addHandler(this),this.f_hideSkeletons(),this.node.active=!1,this.effSkeleton.setCompleteListener(this.f_superTrailerComplete.bind(this)),this.bigWinEff.setCompleteListener(this.f_BigWinEffectComplete.bind(this)),this.bigWinTrailer.setCompleteListener(this.f_bigWinTrailerComplete.bind(this))},a.f_hideSkeletons=function(){this.effSkeleton.node.active=!1,this.bigWinEff.node.active=!1,this.bigWinTrailer.node.active=!1},a.onTaskInitialize=function(e,i){switch(i.gameMode){case c.EGameMode.NORMAL:break;case c.EGameMode.FREE:this.$_isFreeGame=!0}},a.onTaskBonusGameTransit=function(e,i){var t=this;"exit"===i.type&&(this.bousGameJusetExit=!0,setTimeout((function(){t.bousGameJusetExit=!1}),6e3))},a.onTaskFreeGameTransit=function(e,i){var t=this;"exit"===i.type?(this.$_isFreeGame=!1,this.bousGameJusetExit=!0,setTimeout((function(){t.bousGameJusetExit=!1}),6e3)):this.$_isFreeGame=!0},a.onTaskSuperTrailer=function(e,i){this.$_isFreeGame||0!=h.isHalf()&&0!=h.f_isFreeGame(i.featureType)&&h.$_superPress>=6&&(p.instance.playOneShotSoundEffect(h.AUDIO_URLS.super_win),this.stopAllDisplays(),this.startDisplay(),this.node.active=!0,this.f_hideSkeletons(),this.effSkeleton.node.active=!0,this.effSkeleton.setAnimation(0,"animation",!1))},a.onTaskFreeGameTrigger=function(e,i){},a.onTaskBigWinTrailer=function(e,i){if(!this.$_isFreeGame){var t=i.score/h.totalBet;u.isBigWin(t)&&0!=h.$_iaward_notice&&(h.$_isBigWinTrailer=!0,dispatch(c.EventName.CHECKEN_SCARE),this.stopAllDisplays(),this.startDisplay(),this.node.active=!0,this.bigWinTrailer.node.active=!0,this.bigWinTrailer.setAnimation(0,"animation",!1),p.instance.playOneShotSoundEffect(h.AUDIO_URLS.base_Preview))}},a.onTaskBigWinEffect=function(e,i){if(!this.bousGameJusetExit){var t=i.score/h.totalBet;u.isBigWin(t)&&(this.stopAllDisplays(),this.startDisplay(),dispatch(c.EventName.CHECKEN_BIGWIN),this.node.active=!0,this.f_hideSkeletons(),this.bigWinEff.node.active=!0,this.bigWinEff.setAnimation(0,"animation",!1),p.instance.musicVolume=0,p.instance.playOneShotSoundEffect(h.AUDIO_URLS.congrats),this.scheduleOnce((function(){p.instance.musicVolume=1}),5))}},a.f_superTrailerComplete=function(){this.node.active=!1,this.endDisplay()},a.f_BigWinEffectComplete=function(){this.node.active=!1,dispatch(c.EventName.CHECKEN_BIGWIN),this.endDisplay()},a.f_bigWinTrailerComplete=function(){h.$_isBigWinTrailer=!1,dispatch(c.EventName.CHECKEN_BIGWIN),this.node.active=!1,this.endDisplay()},i}(f)).prototype,"effSkeleton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(y.prototype,"bigWinEff",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(y.prototype,"bigWinTrailer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/FrameLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./AudioHelper8.ts","./CollectIcon.ts","./SlotGameData.ts","./SlotGameDefines.ts","./Ts30.ts","./CommonEvent.ts","./BigWinLayer22.ts","./JiedianCom.ts","./DelayUtil.ts"],(function(e){var t,n,i,o,a,r,l,s,u,c,p,E,h,f,m,_,y,g,T,d,b,S,k,R,L,F,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,l=e._decorator,s=e.sp,u=e.Node,c=e.Button,p=e.Label,E=e.Sprite,h=e.SpriteFrame,f=e.Layout},function(e){m=e.SubGameData},function(e){_=e.common},function(e){y=e.DisplayTaskManager,g=e.Display},function(e){T=e.AudioHelper},function(e){d=e.CollectIcon},function(e){b=e.SlotGameData},function(e){S=e.EventName},function(e){k=e.Ts30},function(e){R=e.CommonEvent},function(e){L=e.default},function(e){F=e.JiedianCom},function(e){N=e.DelayUtil}],execute:function(){var D,P,v,B,O,C,A,G,W,M,I,w,x,U,z,$,H,J,K,Q,X,j,Y,q,V,Z,ee,te,ne,ie,oe,ae,re,le,se,ue,ce;r._RF.push({},"86b16ecJ85DYorbWRoPiPx0","FrameLayer",void 0);var pe=l.ccclass,Ee=l.menu,he=l.property,fe=((D={})[_.EFeatureType.NONE]="style-1",D[_.EFeatureType.GREEN_TOWER]="style-1",D[_.EFeatureType.BLUE_TOWER]="style-1",D[_.EFeatureType.BLUE_AND_GREEN_TOWER]="style-1",D[_.EFeatureType.RED_TOWER]="style-1",D[_.EFeatureType.RED_AND_GREEN_TOWER]="style-1",D[_.EFeatureType.RED_AND_BLUE_TOWER]="style-1",D[_.EFeatureType.SUPER_TOWER]="style-1",(P={})[_.EFeatureType.NONE]="animation4",P[_.EFeatureType.GREEN_TOWER]="animation3",P[_.EFeatureType.BLUE_TOWER]="animation2",P[_.EFeatureType.BLUE_AND_GREEN_TOWER]="animation",P[_.EFeatureType.RED_TOWER]="animation4",P[_.EFeatureType.RED_AND_GREEN_TOWER]="animation3",P[_.EFeatureType.RED_AND_BLUE_TOWER]="animation2",P[_.EFeatureType.SUPER_TOWER]="animation",P),me=((v={})[_.EStageType.GREEN]={normal:"animation7",super:"animation5"},v[_.EStageType.BLUE]={normal:"animation6",super:"animation4"},v[_.EStageType.PURPLE]={normal:"animation8",super:"animation3"},v[_.EStageType.RED]={normal:"animation9",super:"animation2"},v[_.EStageType.GOLD]={normal:"animation10",super:"animation1"},v),_e=function(e){return e.LOCEKING="animation1",e.LOCEKED="animation2",e.OPENING="animation3",e.OPENED="animation4",e}(_e||{});e("FrameLayer",(B=pe("FrameLayer"),O=Ee(m.module+"/layers/FrameLayer"),C=he(s.Skeleton),A=he({type:[F],displayName:"收集进度的元素"}),G=he({type:u,displayName:"彩金进度条的Layout节点"}),W=he(s.Skeleton),M=he(c),I=he(c),w=he(c),x=he(c),U=he(p),z=he(E),$=he({type:[h],displayName:"切换的图"}),H=he(f),J=he(s.Skeleton),K=he(u),Q=he(s.Skeleton),B(X=O((Y=t((j=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"feverSkeleton",Y,o(t)),i(t,"collectionSkeletonList",q,o(t)),i(t,"collectionProgressBarSuper",V,o(t)),i(t,"superLockSkeleton",Z,o(t)),i(t,"collectionAvatarButton",ee,o(t)),i(t,"collectionProgressButton",te,o(t)),i(t,"collectionMapButton",ne,o(t)),i(t,"collectBtn",ie,o(t)),i(t,"collectBtnLabel",oe,o(t)),i(t,"collectSprite",ae,o(t)),i(t,"colectSpriteFrames",re,o(t)),i(t,"colectRightLayout",le,o(t)),i(t,"colectRightSketon",se,o(t)),i(t,"rightCollectNode",ue,o(t)),i(t,"bigWinSkeleton",ce,o(t)),t.bousGameJusetExit=!1,t._featureType=_.EFeatureType.NONE,t.$_isFull=null,t.nowmapCollectionProgress=0,t.$_superMax=7,t._touchEnabled=!1,t}n(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),y.addHandler(this),this.feverSkeleton.setCompleteListener(this._onFeverSkeletonAnimationComplete.bind(this)),this.bigWinSkeleton.node.active=!1},r.onEnable=function(){this.onD(R.DISPATCH_TOTAL_BET,this._dispatch_total_bet.bind(this)),this.onD(_.EventName.HIDE_BIGWIN,this.f_onHideBigWin.bind(this))},r.onDisable=function(){this.offD(R.DISPATCH_TOTAL_BET),this.offD(_.EventName.HIDE_BIGWIN)},r._dispatch_total_bet=function(){var e=m.f_collectDanEnough(2);this.f_updateCollect(),e!=this.$_isFull&&(this.$_isFull=e,e?(this.rightCollectNode.setPosition(180,43.224,1),this.collectBtn.node.active=!1,this.collectSprite.spriteFrame=this.colectSpriteFrames[1],this.colectRightLayout.spacingX=28,this.colectRightSketon.setAnimation(0,"animation",!1)):(this.rightCollectNode.setPosition(134.46,43.224,1),this.collectBtn.node.active=!0,this.collectSprite.spriteFrame=this.colectSpriteFrames[0],this.colectRightLayout.spacingX=6))},r.f_onHideBigWin=function(){this.bigWinSkeleton.node.active=!1},r.onTaskInitialize=function(e,t){if(this.stopAllDisplays(),t.gameMode===_.EGameMode.NORMAL&&(this._touchEnabled=!0),!t.isReconnect){if(this._featureType=t.featureType,this.node.active=t.gameMode!==_.EGameMode.MAP&&t.gameMode!==_.EGameMode.SUPER_MAP,this.feverSkeleton.enabled=!1,t.gameMode==_.EGameMode.FREE){var n=t.mapCollectionProgress;n<=0&&(n=this.$_superMax),this._updateProgress(n,!1,!1)}else this._updateProgress(t.mapCollectionProgress,!1,!0),this.f_syncAnimation();this._updateMapIcon(t.mapStageID);var i=t.gameMode===_.EGameMode.NORMAL;this.collectionAvatarButton.interactable=i,this.collectionProgressButton.interactable=i,this.collectionMapButton.interactable=i;var o=m.getCollectAllNeed()/1e6;this.collectBtnLabel.string="BET "+k.f_formatNumber(o),this._dispatch_total_bet(),this.f_updateSuperLock()}},r.onTaskSpinStart=function(e,t){this.collectionAvatarButton.interactable=!1,this.collectionProgressButton.interactable=!1,this.collectionMapButton.interactable=!1},r.onTaskBonusGameTrigger=function(e,t){switch(this._touchEnabled=!1,t.featureType){case _.EFeatureType.RED_AND_GREEN_TOWER:case _.EFeatureType.RED_AND_BLUE_TOWER:case _.EFeatureType.SUPER_TOWER:this.nowmapCollectionProgress=m.$_superPress+1,this._updateProgress(this.nowmapCollectionProgress,!0,!1)}},r.onTaskFreeGameTrigger=function(e,t){switch(this._touchEnabled=!1,t.featureType){case _.EFeatureType.GREEN_TOWER:case _.EFeatureType.BLUE_TOWER:case _.EFeatureType.BLUE_AND_GREEN_TOWER:this.nowmapCollectionProgress=m.$_superPress+1,this._updateProgress(this.nowmapCollectionProgress,!0,!1)}},r.onTaskFreeGameTransit=function(e,t){var n=this;"exit"===t.type&&(this.bousGameJusetExit=!0,this.scheduleOnce((function(){n.bousGameJusetExit=!1}),6),this.bigWinSkeleton.node.active=!1,this.nowmapCollectionProgress=m.$_superPress,this.nowmapCollectionProgress>=this.$_superMax&&(this.nowmapCollectionProgress=0),this._updateProgress(this.nowmapCollectionProgress,!1,!0),this.f_syncAnimation())},r.onTaskBonusGameTransit=function(e,t){var n=this;"exit"===t.type&&(this.bousGameJusetExit=!0,this.scheduleOnce((function(){n.bousGameJusetExit=!1}),6))},r.onTaskSpinEnd=function(e,t){},r.onTaskHitPayways=function(e,t){t.celebrating?(this.feverSkeleton.enabled=!0,this.feverSkeleton.setAnimation(0,fe[this._featureType],!1)):this.feverSkeleton.enabled=!1},r.onTaskMapGameTrigger=function(e,t){},r.onTaskBigWinEffect=function(e,t){var n=t.score/m.totalBet;L.isBigWin(n)&&(this.bousGameJusetExit||(this.bigWinSkeleton.node.active=!0))},r.onTaskRoundEnd=function(e,t){this.collectionAvatarButton.interactable=!0,this.collectionProgressButton.interactable=!0,this.collectionMapButton.interactable=!0},r.onTaskChangeBet=function(e,t){this._updateMapIcon(t.mapStageID),this._updateProgress(t.mapCollectionProgress,!1,!0),this.f_updateCollect(),this.f_updateSuperLock()},r.f_updateSuperLock=function(){m.isHalf()?this.superLockSkeleton.animation!=_e.OPENING&&(this.superLockSkeleton.setAnimation(0,_e.OPENING,!1),this.superLockSkeleton.addAnimation(0,_e.OPENED,!0),T.instance.playOneShotSoundEffect(m.AUDIO_URLS.super_unlock)):this.superLockSkeleton.animation!=_e.LOCEKING&&(this.superLockSkeleton.setAnimation(0,_e.LOCEKING,!1),this.superLockSkeleton.addAnimation(0,_e.LOCEKED,!0),T.instance.playOneShotSoundEffect(m.AUDIO_URLS.super_lock))},r.onSuperLockSkeletonClick=function(){if(0!=this._touchEnabled&&!m.$_isSpining&&!m.autoPlaying)if(this.superLockSkeleton.animation!=_e.OPENING){var e=m.getHalf();this.data.currentTotalBetIndex=e,dispatch(S.REFRESH_TOTALBET)}else dispatch(_.EventName.SHOW_BAN_TIP)},r.f_updateCollect=function(){var e,t,n,i=this.collectionProgressBarSuper.children;null==(e=i[4].getComponent(d))||e.f_setCollectState(m.f_collectDanEnough(0)),null==(t=i[3].getComponent(d))||t.f_setCollectState(m.f_collectDanEnough(1)),null==(n=i[2].getComponent(d))||n.f_setCollectState(m.f_collectDanEnough(2))},r.onTaskChangeGame=function(e,t){m.f_isFreeGame(t.nextFeatureType)&&(this._touchEnabled=!1),t.nextFeatureType===_.EFeatureType.RED_TOWER&&(this._touchEnabled=!1),m.f_isFreeGame(t.previousFeatureType)&&t.nextFeatureType===_.EFeatureType.NONE&&(this._touchEnabled=!0),t.previousFeatureType===_.EFeatureType.RED_TOWER&&t.nextFeatureType===_.EFeatureType.NONE&&(this._touchEnabled=!0),t.previousFeatureType!==t.nextFeatureType&&(m.$_isSpining=!1,this._featureType=t.nextFeatureType)},r._updateProgress=function(e,t,n){var i=m.$_superPress;m.$_superPress=e;for(var o=this.collectionSkeletonList,a=0;a<o.length;a++){var r=o[a];if(a<e){var l=!1;a==i&&e-i==1&&1==t&&(l=!0),r.f_show(l)}else r.f_hide()}this.f_syncAnimation(),n&&this.f_playQuan()},r.f_syncAnimation=function(){var e=this;N.runWithOverride(this,(function(){for(var t=e.collectionSkeletonList,n=0;n<t.length;n++){t[n].f_syncAnimation()}}),2)},r.f_playQuan=function(){var e=this.collectionSkeletonList;m.$_superPress==this.$_superMax-1&&e[this.$_superMax-1].f_playQuan()},r._updateMapIcon=function(e){var t,n=m.getMapStageInfo(e+1),i=me[null!=(t=n.type)?t:_.EStageType.GREEN];n.super?i.super:i.normal},r._onFeverSkeletonAnimationComplete=function(e){this.feverSkeleton.enabled=!1},r.f_onTapAllCollect=function(){if(0!=this._touchEnabled&&!m.$_isSpining&&!m.autoPlaying){var e=m.f_collectDan(2);this.data.currentTotalBetIndex=e,dispatch(S.REFRESH_TOTALBET)}},a(t,[{key:"data",get:function(){return App.dataCenter.get(b)}}]),t}(g)).prototype,"feverSkeleton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(j.prototype,"collectionSkeletonList",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(j.prototype,"collectionProgressBarSuper",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(j.prototype,"superLockSkeleton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(j.prototype,"collectionAvatarButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(j.prototype,"collectionProgressButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(j.prototype,"collectionMapButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(j.prototype,"collectBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(j.prototype,"collectBtnLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(j.prototype,"collectSprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(j.prototype,"colectSpriteFrames",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=t(j.prototype,"colectRightLayout",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(j.prototype,"colectRightSketon",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(j.prototype,"rightCollectNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(j.prototype,"bigWinSkeleton",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=j))||X)||X));r._RF.pop()}}}));

System.register("chunks:///_virtual/FreeGamePopupLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberRoller.ts","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./CountdownableButton3.ts","./AudioHelper8.ts","./Global.ts"],(function(e){var t,i,a,n,r,o,s,p,l,u,c,y,h,m,b,f,_,T,E,S,d,O,I,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,a=e.inheritsLoose,n=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Enum,p=e.sp,l=e.BlockInputEvents,u=e.Animation,c=e.UIOpacity,y=e.SpriteFrame,h=e.Sprite,m=e.Node,b=e.Tween,f=e.tween},function(e){_=e.NumberRoller},function(e){T=e.SubGameData},function(e){E=e.common},function(e){S=e.DisplayTaskManager,d=e.Display},function(e){O=e.CountdownableButton},function(e){I=e.AudioHelper},function(e){w=e.Global}],execute:function(){var R,N,D,U,F,g,A,k,G,H,L,v,z,W,B,P,C,M,$,x,K,Y,j,Q,X,q,J,V,Z,ee,te,ie,ae,ne,re,oe,se,pe,le,ue,ce,ye,he,me,be,fe,_e,Te,Ee,Se,de,Oe;r._RF.push({},"fb847cQn3xH1aoHd3vXw29B","FreeGamePopupLayer",void 0);var Ie=o.ccclass,we=o.menu,Re=o.property,Ne=function(e){return e[e.START=1]="START",e[e.SETTLE=2]="SETTLE",e}(Ne||{}),De=function(e){return e[e.HIDDEN=0]="HIDDEN",e[e.SHOWING=1]="SHOWING",e[e.SHOWN=2]="SHOWN",e[e.HIDING=3]="HIDING",e}(De||{}),Ue=((R={})[E.EFeatureType.GREEN_TOWER]={show:"animation1_1",hode:"animation1_2"},R[E.EFeatureType.BLUE_TOWER]={show:"animation2_1",hode:"animation2_2"},R[E.EFeatureType.BLUE_AND_GREEN_TOWER]={show:"animation3_1",hode:"animation3_2"},R[E.EFeatureType.RED_TOWER]={show:"animation3_1",hode:"animation3_2"},R[E.EFeatureType.RED_AND_GREEN_TOWER]={show:"animation3_1",hode:"animation3_2"},R[E.EFeatureType.RED_AND_BLUE_TOWER]={show:"animation3_1",hode:"animation3_2"},R[E.EFeatureType.SUPER_TOWER]={show:"animation4_1",hode:"animation4_2"},R);e("FreeGamePopupSkeletonData30",(N=Ie("FreeGamePopupSkeletonData30"),D=Re({type:s(E.EFeatureType)}),U=Re(p.SkeletonData),N((A=t((g=function(){i(this,"featureType",A,this),i(this,"skeletonData",k,this)}).prototype,"featureType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.EFeatureType.SUPER_TOWER}}),k=t(g.prototype,"skeletonData",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=g))||F)),e("FreeGamePopupLayer",(G=Ie("FreeGamePopupLayer"),H=we(T.module+"/layers/FreeGamePopupLayer"),L=Re(l),v=Re(u),z=Re(p.Skeleton),W=Re(c),B=Re(c),P=Re(_),C=Re(c),M=Re(O),$=Re(c),x=Re([y]),K=Re(h),Y=Re(p.Skeleton),j=Re(h),Q=Re([y]),X=Re(h),q=Re([y]),J=Re(h),V=Re(h),Z=Re([y]),ee=Re([m]),G(te=H((ae=t((ie=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"blockInputEvents",ae,n(t)),i(t,"free_animation",ne,n(t)),i(t,"showSketion",re,n(t)),i(t,"maskUIOpacity",oe,n(t)),i(t,"freeTimesUIOpacity",se,n(t)),i(t,"scoreNumberRoller",pe,n(t)),i(t,"scoreUIOpacity",le,n(t)),i(t,"button",ue,n(t)),i(t,"buttonUIOpacity",ce,n(t)),i(t,"numberSpriteFrames1",ye,n(t)),i(t,"numSprite",he,n(t)),i(t,"titleSkeletion",me,n(t)),i(t,"endSprite",be,n(t)),i(t,"endSpriteFrames1",fe,n(t)),i(t,"bgSprite",_e,n(t)),i(t,"bgSpriteFrames1",Te,n(t)),i(t,"mao1Sprite",Ee,n(t)),i(t,"mao2Sprite",Se,n(t)),i(t,"maoSpriteFrames1",de,n(t)),i(t,"showTypeNodes",Oe,n(t)),t._type=Ne.START,t._state=De.HIDDEN,t._score=0,t._featureType=E.EFeatureType.NONE,t._skeletonDatasHash={},t}a(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),S.addHandler(this),this.free_animation.on(u.EventType.FINISHED,this.free_animationComplete,this),window.FreeGamePopupLayer=this},r.onDisable=function(){this.blockInputEvents.enabled=!1,S.$_isStop=!1,dispatch(E.EventName.PLAY_FREE_GAME_START)},r.onTaskInitialize=function(e,t){this._state!=De.SHOWN&&(this.stopAllDisplays(),this._state=De.HIDDEN,this.node.active=!1,this.button.stopCountdown())},r.onTaskFreeGameStart=function(e,t){this._type=Ne.START,this._show(t,0)},r.onButtonClick=function(){this._hide(),I.instance.playSoundEffect(T.AUDIO_URLS.SE_COMMON_BUTTON_CLICK)},r._show=function(e,t){var i=this;this.stopAllDisplays(),this.startDisplay(),this.blockInputEvents.enabled=!0,S.$_isStop=!0,I.instance.playSoundEffect(T.AUDIO_URLS.dialog_fg_start),this.free_animation.play("freeGameShow"),this.showSketion.setAnimation(0,"animation",!1),dispatch(E.EventName.CHECKEN_OUT_TWO_SIDE);var a=0,n=0,r=0;switch(this._featureType=e.featureType,this.showTypeNodes.forEach((function(e){e.active=!1})),e.featureType){case E.EFeatureType.BLUE_TOWER:n=0,r=0;break;case E.EFeatureType.GREEN_TOWER:n=1,r=1;break;case E.EFeatureType.RED_AND_BLUE_TOWER:n=3,this.showTypeNodes[2].active=!0,r=0,a=1;break;case E.EFeatureType.RED_AND_GREEN_TOWER:n=3,this.showTypeNodes[1].active=!0,r=1,a=1;break;case E.EFeatureType.BLUE_AND_GREEN_TOWER:n=2,this.showTypeNodes[3].active=!0,r=2,a=1;break;case E.EFeatureType.SUPER_TOWER:n=3,this.showTypeNodes[0].active=!0,r=2,a=1}this.numSprite.spriteFrame=this.numberSpriteFrames1[r],this.endSprite.spriteFrame=this.endSpriteFrames1[a],this.bgSprite.spriteFrame=this.bgSpriteFrames1[n],this.mao1Sprite.spriteFrame=this.maoSpriteFrames1[n],this.mao2Sprite.spriteFrame=this.maoSpriteFrames1[n],this.titleSkeletion.setAnimation(0,Ue[this._featureType].show,!1),this.titleSkeletion.addAnimation(0,Ue[this._featureType].hode,!0),this._state=De.SHOWING,this._score=t,this.node.active=!0,b.stopAllByTarget(this.maskUIOpacity),this.maskUIOpacity.opacity=0,f(this.maskUIOpacity).to(.3,{opacity:10}).start(),b.stopAllByTarget(this.freeTimesUIOpacity),this.freeTimesUIOpacity.opacity=0,b.stopAllByTarget(this.scoreUIOpacity),this.scoreUIOpacity.opacity=0,f(this._type===Ne.START?this.freeTimesUIOpacity:this.scoreUIOpacity).delay(this._type===Ne.START?.25:.3).to(.25,{opacity:255}).start(),this._type===Ne.SETTLE&&this.scoreNumberRoller.startRolling(0,t,2),b.stopAllByTarget(this.buttonUIOpacity),this.buttonUIOpacity.opacity=0,this.button.type=this._type===Ne.START?O.EType.START:O.EType.COLLECT,this.button.interactable=!0,w.playback&&this.button.startCountdown(4,(function(){return i._hide()})),f(this.buttonUIOpacity).delay(this._type===Ne.START?.6:.45).to(.25,{opacity:255}).start()},r._hide=function(){this._state===De.SHOWN&&(S.$_isStop=!1,this.blockInputEvents.enabled=!1,dispatch(E.EventName.PLAY_FREE_GAME_START),this.free_animation.play("freeGameHide"),this._state=De.HIDING,b.stopAllByTarget(this.maskUIOpacity),f(this.maskUIOpacity).delay(1).to(.2,{opacity:0}).start(),this.freeTimesUIOpacity.opacity>0&&(b.stopAllByTarget(this.freeTimesUIOpacity),f(this.freeTimesUIOpacity).delay(.55).to(.25,{opacity:0}).start()),this._type===Ne.SETTLE&&this.scoreNumberRoller.stopRollingAndShowNumber(this._score),this.scoreUIOpacity.opacity>0&&(b.stopAllByTarget(this.scoreUIOpacity),f(this.scoreUIOpacity).delay(.6).to(.25,{opacity:0}).start()),b.stopAllByTarget(this.buttonUIOpacity),this.button.interactable=!1,this.button.stopCountdown(),f(this.buttonUIOpacity).delay(this._type===Ne.START?.25:.4).to(.25,{opacity:0}).start(),I.instance.stopEffect(T.AUDIO_URLS.dialog_fg_start),I.instance.playSoundEffect(T.AUDIO_URLS.SE_COMMON_POPUP_HIDE),this.endDisplay())},r.free_animationComplete=function(e){switch(this._state){case De.SHOWING:this._state=De.SHOWN;break;case De.SHOWN:this._state=De.HIDDEN,this.node.active=!1,this.button.stopCountdown(),S.$_isStop=!1,this.endDisplay()}},t}(d)).prototype,"blockInputEvents",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(ie.prototype,"free_animation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(ie.prototype,"showSketion",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(ie.prototype,"maskUIOpacity",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(ie.prototype,"freeTimesUIOpacity",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ie.prototype,"scoreNumberRoller",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(ie.prototype,"scoreUIOpacity",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(ie.prototype,"button",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ie.prototype,"buttonUIOpacity",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ie.prototype,"numberSpriteFrames1",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=t(ie.prototype,"numSprite",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ie.prototype,"titleSkeletion",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ie.prototype,"endSprite",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ie.prototype,"endSpriteFrames1",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_e=t(ie.prototype,"bgSprite",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ie.prototype,"bgSpriteFrames1",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ee=t(ie.prototype,"mao1Sprite",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ie.prototype,"mao2Sprite",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ie.prototype,"maoSpriteFrames1",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oe=t(ie.prototype,"showTypeNodes",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=ie))||te)||te));r._RF.pop()}}}));

System.register("chunks:///_virtual/FreeGameResultLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Display9.ts","./NumberRoller.ts","./CountdownableButton3.ts","./AudioHelper8.ts","./SubGameData32.ts","./SubGameDefines33.ts","./DelayUtil.ts"],(function(t){var e,n,i,o,a,r,l,s,u,c,h,f,p,b,S,d,m,y,_,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.sp,s=t.UIOpacity,u=t.Node,c=t.Tween,h=t.tween,f=t.Vec3},function(t){p=t.DisplayTaskManager,b=t.Display},function(t){S=t.NumberRoller},function(t){d=t.CountdownableButton},function(t){m=t.AudioHelper},function(t){y=t.SubGameData},function(t){_=t.common},function(t){D=t.DelayUtil}],execute:function(){var O,I,H,N,g,R,A,U,k,L,w,v,E,G,W;a._RF.push({},"c8576uBORRM6Ji0eSdgcH7h","FreeGameResultLayer",void 0);var T=r.ccclass,C=r.property,F=function(t){return t.SHOW="animation1",t.HOLD="animation2",t.HIDE="animation3",t}(F||{}),z=function(t){return t.SHOW="animation2_1",t.HOLD="animation2_2",t.HIDE="animation2_3",t}(z||{}),B=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t[t.SHOWN=2]="SHOWN",t[t.HIDING=3]="HIDING",t}(B||{});t("FreeGameResultLayer",(O=T("FreeGameResultLayer"),I=C(l.Skeleton),H=C(l.Skeleton),N=C(S),g=C(d),R=C(s),A=C(u),O((L=e((k=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"bgSkeleton",L,o(e)),i(e,"fontSkeleton",w,o(e)),i(e,"scoreNumberRoller",v,o(e)),i(e,"button",E,o(e)),i(e,"buttonUIOpacity",G,o(e)),i(e,"nodeScore",W,o(e)),e._state=B.HIDDEN,e._score=null,e}n(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),p.addHandler(this),this.bgSkeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this))},a.onTaskInitialize=function(t,e){this.node.active=!1,this.button.stopCountdown()},a.onTaskFreeGameSettle=function(t,e){var n=this;this.stopAllDisplays(),this.startDisplay(8),D.runWithOverride(this,(function(){n._show(!0,e.totalScore)}),1)},a._show=function(t,e){var n=this;p.runNextTask1(),dispatch(_.EventName.HIDE_WIN_NUMBER),m.instance.playSoundEffect(y.AUDIO_URLS.FreeGame_Total),this.scheduleOnce((function(){m.instance.stopEffect(y.AUDIO_URLS.FreeGame_Total)}),2),this.node.active=!0,this.button.interactable=!1,this.scheduleOnce((function(){n.button.interactable=!0}),1),this._state=B.SHOWING,this._score=e,this.scoreNumberRoller.stopRollingAndShowNumber(0),this.scoreNumberRoller.startRolling(0,e,2),this.bgSkeleton.setAnimation(0,F.SHOW,!1),this.bgSkeleton.addAnimation(0,F.HOLD,!0),this.fontSkeleton.setAnimation(0,z.SHOW,!1),this.fontSkeleton.addAnimation(0,z.HOLD,!0),c.stopAllByTarget(this.buttonUIOpacity),h(this.buttonUIOpacity).delay(.45).to(.25,{opacity:255}).start(),this.nodeScore.active=!0,h(this.nodeScore).delay(.45).to(.25,{scale:new f(1,1,1)}).start(),m.instance.playSoundEffect(y.AUDIO_URLS.dialog_fg_start)},a._hide=function(){var t=this;if(this._state==B.SHOWING)return this._state=B.SHOWN,m.instance.stopEffect(y.AUDIO_URLS.FreeGame_Total),this.scoreNumberRoller.stopRollingAndShowNumber(this._score),void this.bgSkeleton.setAnimation(0,F.HOLD,!0);m.instance.playOneShotSoundEffect(y.AUDIO_URLS.FreeGame_Total_end),this.button.interactable=!1,this.button.stopCountdown(),c.stopAllByTarget(this.buttonUIOpacity),h(this.buttonUIOpacity).delay(.25).to(.25,{opacity:0}).start(),h(this.nodeScore).delay(.45).to(.25,{scale:new f(0,0,1)}).call((function(){return t.nodeScore.active=!1})).start(),this.bgSkeleton.setAnimation(0,F.HIDE,!1),this.fontSkeleton.setAnimation(0,z.HIDE,!1)},a.onButtonClick=function(){this._hide(),m.instance.playSoundEffect(y.AUDIO_URLS.SE_COMMON_BUTTON_CLICK)},a._onSkeletonAnimationComplete=function(t){var e=this;switch(t.animation.name){case F.SHOW:this._state=B.SHOWN,this.button.startCountdown(4,(function(){return e._hide()}));break;case F.HIDE:m.instance.stopEffect(y.AUDIO_URLS.dialog_fg_start),this.unscheduleAllCallbacks(),this.node.active=!1,this.endDisplay()}},e}(b)).prototype,"bgSkeleton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(k.prototype,"fontSkeleton",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(k.prototype,"scoreNumberRoller",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(k.prototype,"button",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(k.prototype,"buttonUIOpacity",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(k.prototype,"nodeScore",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=k))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/FreeTimesLayer6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts"],(function(e){var t,i,s,r,a,n,o,T,m,l,u,F,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,o=e.Label,T=e.Tween,m=e.tween},function(e){l=e.SubGameData},function(e){u=e.common},function(e){F=e.DisplayTaskManager,c=e.Display}],execute:function(){var h,_,f,p,d,y;a._RF.push({},"8cd52TIfYxGFJx30dPunbG8","FreeTimesLayer",void 0);var L=n.ccclass,b=n.menu,g=n.property;e("FreeTimesLayer",(h=L("FreeTimesLayer"),_=b(l.module+"/layer/FreeTimesLayer"),f=g(o),h(p=_((y=t((d=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,s(t,"freeTimesLabel",y,r(t)),t._totalFreeTimes=0,t._usedFreeTimes=0,t}i(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),F.addHandler(this),this.node.active=!1},a.onTaskInitialize=function(e,t){0==t.isReconnect&&(T.stopAllByTarget(this.freeTimesLabel.node),this._totalFreeTimes=t.totalFreeTimes,this._usedFreeTimes=t.totalFreeTimes-t.freeTimesRemaining,this._totalFreeTimes>l.$_freeMaxTimes&&(this._totalFreeTimes=l.$_freeMaxTimes),this.node.active=t.gameMode===u.EGameMode.FREE,this.freeTimesLabel.string=this._usedFreeTimes+"/"+this._totalFreeTimes)},a.onTaskSpinStop=function(e,t){t.spinType===u.ESpinType.FREE&&(this._usedFreeTimes=Math.min(this._usedFreeTimes+1,this._totalFreeTimes),this._totalFreeTimes>l.$_freeMaxTimes&&(this._totalFreeTimes=l.$_freeMaxTimes),this.node.active=!0,this.freeTimesLabel.string=this._usedFreeTimes+"/"+this._totalFreeTimes)},a.onTaskFreeGameStart=function(e,t){this._totalFreeTimes=l.INITIAL_FREE_TIMES,this._usedFreeTimes=0,this._totalFreeTimes>l.$_freeMaxTimes&&(this._totalFreeTimes=l.$_freeMaxTimes),this.freeTimesLabel.string=this._usedFreeTimes+"/"+this._totalFreeTimes},a.onTaskFreeGameCollectFreeTimes=function(e,t){var i=this;this._totalFreeTimes=t.totalFreeTimes,this._totalFreeTimes>l.$_freeMaxTimes&&(this._totalFreeTimes=l.$_freeMaxTimes),T.stopAllByTarget(this.freeTimesLabel.node),m(this.freeTimesLabel.node).delay(1.5).call((function(){i.freeTimesLabel.string=i._usedFreeTimes+"/"+i._totalFreeTimes})).start()},a.onTaskFreeGameSettle=function(e,t){this._totalFreeTimes=0,this._usedFreeTimes=0},a.onTaskChangeGame=function(e,t){this.node.active=t.nextFeatureType!==u.EFeatureType.NONE&&t.nextFeatureType!==u.EFeatureType.RED_TOWER},t}(c)).prototype,"freeTimesLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p)||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameEntry32.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Resource.ts","./Entry.ts","./Decorators.ts","./Global.ts","./CommonEvent.ts","./GameService.ts","./SubGameData32.ts","./SubGameLanguage33.ts","./GameHandler32.ts","./AnimatedSymbolNodePool6.ts","./SymbolNodePool8.ts","./BaseView7.ts","./IntroView8.ts","./Language2.ts","./lanConfig.ts"],(function(){var e,n,o,t,a,r,u,i,s,c,l,d,g,f,p,m,h,L,b,y,v;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(e){t=e.cclegacy,a=e.AudioClip,r=e.Prefab},function(e){u=e.Resource},function(e){i=e.Entry},function(e){s=e.registerEntry},function(e){c=e.Global},function(e){l=e.CommonEvent},function(e){d=e.GameService},function(e){g=e.SubGameData},function(e){f=e.SubGameLanguage},function(e){p=e.default},function(e){m=e.AnimatedSymbolNodePool},function(e){h=e.SymbolNodePool},function(e){L=e.BaseView},function(e){b=e.IntroView},function(e){y=e.default},function(e){v=e.lanConfig}],execute:function(){var S;t._RF.push({},"1e646hXaPhE1Kb3FBG7fBwv","GameEntry",void 0);s("GameEntry",g.module,L)(S=function(t){function i(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).language=new f,e}e(i,t);var s=i.prototype;return s.addNetHandler=function(){App.handlerManager.get(p)},s.removeNetHandler=function(){App.handlerManager.destory(p)},s.loadResources=function(e){var t=this;this.loader.getLoadResources=function(){var e=[];for(var n in["prefabs/slotgame/Alert","commonmodule/bigwin/prefabs/BigWinLayer","commonmodule/gameplay/prefabs/GamePlay","prefabs/slotgame/AutoPlayView","prefabs/slotgame/MenuView","prefabs/slotgame/MobileBetView","prefabs/views/BaseView"].forEach((function(n){return e.push({url:n,type:r,bundle:g.module})})),g.AUDIO_URLS)e.push({url:g.AUDIO_URLS[n],type:a,bundle:g.module});return e},this.loader.onLoadProgress=function(e,n,o){g.setLoadingTaskProgress("resource",Math.min(e/n,.9999))},this.loader.onLoadComplete=n(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==u.LoaderError.SUCCESS){e.next=10;break}return g.setLoadingTaskProgress("resource",1),e.next=4,h.instance.preload().then((function(e){e||t.popLoadFailed()})).catch((function(){return t.popLoadFailed()}));case 4:return e.next=6,m.instance.preload().then((function(e){e||t.popLoadFailed()})).catch((function(){return t.popLoadFailed()}));case 6:return c.language2=t.getLanguage(),e.next=9,y.Ins.InitLanguage2(g.module,"config/language");case 9:g.setLoadingTaskProgress("language",1);case 10:case"end":return e.stop()}}),e)}))),App.uiManager.open({type:b,bundle:g.module,args:{completeCallback:e}}).then((function(){t.loader.loadResources()})).catch((function(){return t.popLoadFailed()}))},s.getLanguage=function(){var e="EN",n=c.currency,o=v.getInstance().getConfig(n);return o&&o.coding&&(e=o.coding),e},s.initData=function(){App.serviceManager.get(d,!0),dispatch(l.NOTIFY_SWITCH_ORIENTION,"portrait"),c.playback?g.setLoadingTaskProgress("network",1):this._connectServer()},s.pauseMessageQueue=function(){},s.resumeMessageQueue=function(){},s.popLoadFailed=function(){App.alert.show({text:App.getLanguage("loadFailed",[""])})},s._connectServer=function(){var e=App.serviceManager.get(d);if(e){if(e.isConnected)return Log.d(e.module+" 断开连接中..."),void e.close();Log.d(e.module+" 连接中..."),e.connect()}else this.popLoadFailed()},i}(i));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameHandler32.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Handler.ts","./Global.ts","./CommonEvent.ts","./GameService.ts","./SubGameData32.ts","./SubGameDefines33.ts","./LoadingHelper8.ts","./GameSender32.ts","./Protocol33.ts","./Ts30.ts","./310000030.ts"],(function(e){var n,t,s,o,a,c,i,r,u,l,g,m,_,f;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){s=e.cclegacy},function(e){o=e.Handler},function(e){a=e.Global},function(e){c=e.CommonEvent},function(e){i=e.GameService},function(e){r=e.SubGameData},function(e){u=e.common},function(e){l=e.LoadingHelper},function(e){g=e.GameSender},function(e){m=e.Protocol},function(e){_=e.Ts30},function(e){f=e.getResult}],execute:function(){s._RF.push({},"fc31d9DTt9N5oNdq+HWAahx","GameHandler",void 0),e("default",function(e){function s(){return e.apply(this,arguments)||this}n(s,e);var o=s.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),this.onD(c.GAME_SERVICE_CONNECTED,this._onConnectionConnected),this.onD(c.GAME_SERVICE_CLOSE,this._onConnectionClose),this.onS(m.LOGIN,this._s2cLogin),this.onS(m.USERINFO,this._s2cUserInfo),this.onS(m.SLOT_INFO,this._s2cSlotInfo),this.onS(m.BET_SPIN,this._s2cSlotBet),this.onS(m.CHANGE_BET,this._s2cChangeBet),this.onS(m.PICK_JACKPOT_SYMBOL,this._s2cPickJackpotSymbol),this.onS(m.PICK_MAP_ITEM,this._s2cPickMapItem),this.onS(m.LAST_MAP,this._s2cLastMap),this.onS(m.COLLECT_JACKPOT,this._s2cCollectJackpot)},o._onConnectionConnected=function(e){var n;Log.d(e.module+" 连接成功!"),null==(n=this.sender)||n.c2sLogin(a.gameId)},o._onConnectionClose=function(e){r.changeBetRequestTypesQueue.length=0},o._s2cLogin=function(e){var n,t;r.setLoadingTaskProgress("network",.3),e&&e.message&&1==e.message.issucc&&(a.account=e.message.account,a.currency=e.message.mtype,dispatch(c.SWITCH_CURRENCY),null==(n=this.sender)||n.c2sUserInfo(),null==(t=this.sender)||t.c2sSlotInfo())},o._s2cUserInfo=function(e){Log.d("s2cUserInfo message.money = ",e.message.money),r.setLoadingTaskProgress("network",.7),r.balance=e.message.money},o._s2cSlotInfo=function(e){r.setLoadingTaskProgress("network",1),r.slotInfo=e.message,r.gmEnabled=1===e.message.can_gm,r.isJackpotsLockable=1===e.message.is_jackpot_lock},o._s2cSlotBet=function(e){for(var n=e.message.base[0].icon_list,t=n.length,s=0;s<t;s++)n[s].icon+",";var o=_.f_getMap(n),a=this._symbolsDataToGroups(o);dispatch(u.EventName.CREAT_WILDS,a),r.$_iaward_notice=e.message.award_notice,r.$_freeMaxTimes=e.message.free.length,r.spinTimestamp=Date.now()},o._symbolsDataToGroups=function(e){null==e&&console.error("pageDataFromServer is null");var n=[[],[],[],[],[]];return e.sort((function(e,n){return e.col-n.col})),e.forEach((function(e){var t=n[e.col];if(null!=t){t.length=0;for(var s=e.icon,o=s.length,a=0;a<o;a++){var c={id:s[a],score:e.num[a]/5,re_icon:e.re_icon[a]};t.push(c)}t.reverse()}})),n},o._s2cChangeBet=function(e){var n;r.changeBetTimestamp=Date.now(),r.currentChangeBetType=null!=(n=r.changeBetRequestTypesQueue.shift())?n:u.EChangeBetRequestType.CHANGE_BET,l.instance.hide()},o._s2cPickJackpotSymbol=function(e){l.instance.hide()},o._s2cPickMapItem=function(e){l.instance.hide()},o._s2cLastMap=function(e){f(e.message,1);r.lastMap=e.message,r.lastMapTimestamp=Date.now(),r.$_freeMaxTimes=e.message.free_times},o._s2cCollectJackpot=function(e){var n;null==(n=this.sender)||n.c2sChangeBet({bet:r.totalBet},u.EChangeBetRequestType.SYNCHRONISE_JACKPOTS)},t(s,[{key:"gameData",get:function(){return App.dataCenter.get(r)}},{key:"service",get:function(){return App.serviceManager.get(i)}},{key:"sender",get:function(){return App.senderManager.get(g)}}]),s}(o)).module="Game",s._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic33.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logic.ts"],(function(c){var i,t,e;return{setters:[function(c){i=c.inheritsLoose},function(c){t=c.cclegacy},function(c){e=c.Logic}],execute:function(){t._RF.push({},"a03ac92mcFN5aXDiFm+zfxB","GameLogic",void 0);c("GameLogic",function(c){function t(){return c.apply(this,arguments)||this}return i(t,c),t}(e));t._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay14.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./CommonEvent.ts","./SlotGameDefines.ts"],(function(t){var n,e,o,i,c,r,a,s,l,u,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,c=t.createClass},function(t){r=t.cclegacy,a=t._decorator,s=t.Node},function(t){l=t.default},function(t){u=t.inject},function(t){p=t.CommonEvent},function(t){f=t.SoundName}],execute:function(){var h,d,y,m,v;r._RF.push({},"7fb58kPj55LFrobcZc+GLV4","GamePlay",void 0);var P=a.ccclass;a.property,t("default",(h=P("GamePlay"),d=u("content",s),h((v=n((m=function(t){function n(){for(var n,e=arguments.length,c=new Array(e),r=0;r<e;r++)c[r]=arguments[r];return n=t.call.apply(t,[this].concat(c))||this,o(n,"content",v,i(n)),n}e(n,t),n.getPrefabUrl=function(){return"commonmodule/gameplay/prefabs/GamePlay"};var r=n.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this);for(var n=this.content.children,e=0;e<n.length;e++)n[e].active=!0},r.addEvents=function(){t.prototype.addEvents.call(this)},r.onShow=function(){t.prototype.onShow.call(this)},r.onClose=function(){t.prototype.onClose.call(this)},r.onBackToGame=function(){dispatch(p.PLAY_EFFECT,f.SOUND_CLOSE_HELP_PAGE),this.close()},r.onMoreLanguage=function(){dispatch(p.PLAY_EFFECT,f.SOUND_HELP_PLAY_CHANGE),dispatch(p.NOTIFY_GAME_PLAY),this.close()},c(n,[{key:"showAction",get:function(){var t=this;return function(n){App.utils.showView(t.content,n)}}},{key:"closeAction",get:function(){var t=this;return function(n){App.utils.hideView(t.content,n)}}}]),n}(l)).prototype,"content",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameSender32.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sender.ts","./Config.ts","./Global.ts","./GameService.ts","./SubGameData32.ts","./LoadingHelper8.ts","./Protocol33.ts"],(function(e){var s,n,t,i,c,a,o,r,u,g;return{setters:[function(e){s=e.inheritsLoose,n=e.createClass},function(e){t=e.cclegacy},function(e){i=e.Sender},function(e){c=e.Config},function(e){a=e.Global},function(e){o=e.GameService},function(e){r=e.SubGameData},function(e){u=e.LoadingHelper},function(e){g=e.Protocol}],execute:function(){t._RF.push({},"f55a8xgmC9EZoV7FopJXbvx","GameSender",void 0),e("GameSender",function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var i=t.prototype;return i.c2sLogin=function(e){c.isDebugLogin?this.c2sDebug_login({uid:a.userId,game_id:e,money:Number(a.money),money_type:a.currency}):this.c2sOfficial_login({token:a.token,gameid:e,direct:a.direct_login})},i.c2sDebug_login=function(e){var s,n={type:g.DEBUG_LOGIN,message:e};null==(s=this.service)||s.sendMessage(g.DEBUG_LOGIN,n)},i.c2sOfficial_login=function(e){var s,n={type:g.LOGIN,message:e};null==(s=this.service)||s.sendMessage(g.LOGIN,n)},i.c2sMark=function(e){var s,n={type:g.MARK,message:e};null==(s=this.service)||s.sendMessage(g.MARK,n)},i.c2sUserInfo=function(){var e,s={type:g.USERINFO,message:{}};null==(e=this.service)||e.sendMessage(g.USERINFO,s)},i.c2sSlotInfo=function(){var e,s={type:g.SLOT_INFO,message:{}};null==(e=this.service)||e.sendMessage(g.SLOT_INFO,s)},i.sendPack=function(e,s){var n;a.playback||null==(n=this.service)||n.sendMessage(e,s)},i.c2sGMBet=function(e){var s={type:g.GM_SPIN,message:e};this.sendPack(g.GM_SPIN,s)},i.c2sBetSpin=function(e){r.$_startSpinTime=Date.now();var s={type:g.BET_SPIN,message:e};this.sendPack(g.BET_SPIN,s)},i.c2sFreeSpin=function(){var e={type:g.FREE_SPIN,message:{}};this.sendPack(g.FREE_SPIN,e)},i.c2sChangeBet=function(e,s){u.instance.show(2,!0),r.changeBetRequestTypesQueue.push(s);var n={type:g.CHANGE_BET,message:e};this.sendPack(g.CHANGE_BET,n)},i.c2sPickJackpotSymbol=function(e){u.instance.show(2,!0);var s={type:g.PICK_JACKPOT_SYMBOL,message:e};this.sendPack(g.PICK_JACKPOT_SYMBOL,s)},i.c2sPickMapItem=function(e){u.instance.show(2,!0);var s={type:g.PICK_MAP_ITEM,message:e};this.sendPack(g.PICK_MAP_ITEM,s)},n(t,[{key:"service",get:function(){return App.serviceManager.get(o)}}]),t}(i)).module="Game",t._RF.pop()}}}));

System.register("chunks:///_virtual/IntroView8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./GameLogic33.ts","./SubGameData32.ts"],(function(e){var t,o,r,i,n,s,a,u,c,l,p,h,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,a=e.Node,u=e.ProgressBar,c=e.tween,l=e.v3},function(e){p=e.default},function(e){h=e.inject},function(e){g=e.GameLogic},function(e){d=e.SubGameData}],execute:function(){var _,f,b,m,v,y,w,k,N,D,P,B,T;n._RF.push({},"9e86c8Cm25AKaOoRkKbAQbo","IntroView",void 0);var V=s.ccclass,A=s.menu;s.property,e("IntroView",(_=V("IntroView"),f=A(d.module+"/views/IntroView"),b=h({type:g,name:"logic"}),m=h("SpriteBackground",a),v=h("SpriteHint",a),y=h("ProgressBar",u),_(w=f(((T=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,r(t,"logic",N,i(t)),r(t,"_backgroundNode",D,i(t)),r(t,"_hintNode",P,i(t)),r(t,"_progressBar",B,i(t)),t._progress=0,t}o(t,e),t.getPrefabUrl=function(){return"prefabs/views/IntroView"};var n=t.prototype;return n.onLoad=function(){e.prototype.onLoad.call(this),this._progress=0,this._hintNode.active=!1,this._updateProgress(0)},n.onDestroy=function(){var t;this.isValid&&null!=(t=this._backgroundNode)&&t.isValid&&this._backgroundNode.off(a.EventType.TOUCH_END,this._onBackgroundTouchEnd,this),e.prototype.onDestroy.call(this)},n.onShow=function(){e.prototype.onShow.call(this),App.utils.closeDocumentFrameAnimation(),this.schedule(this._updateProgress)},n._updateProgress=function(e){if(this._progress>=1){if(App.utils.closeDocumentLoading(),this.unschedule(this._updateProgress),this._backgroundNode.on(a.EventType.TOUCH_END,this._onBackgroundTouchEnd,this),1==App.utils.PlatformType)return this._hintNode.active=!1,void this._onBackgroundTouchEnd();this._hintNode.active=!0;return c(this._hintNode).to(.28,{scale:l(1.1,1.1,1.1)},{easing:"sineOut"}).to(.28,{scale:l(1,1,1)}).union().repeatForever().start(),void(this._progressBar.node.active=!1)}var t=d.loadingProgress>=1?.8:.2;this._progress=Math.min(this._progress+e*t,d.loadingProgress),this._progressBar.progress=this._progress,App.utils.onDocumentProgress(100*this._progress)},n._onBackgroundTouchEnd=function(){var e;null==(e=this.args)||null==e.completeCallback||e.completeCallback(),this.close()},t}(p)).logicType=g,N=t((k=T).prototype,"logic",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(k.prototype,"_backgroundNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(k.prototype,"_hintNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(k.prototype,"_progressBar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=k))||w)||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/Jackpot8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScrollNumber.ts","./SubGameData32.ts","./SubGameDefines33.ts","./JackpotProgress2.ts"],(function(e){var t,i,r,o,n,a,l,s,u,c,p,d,h,k,g,_,S,b,m,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.Sprite,u=e.sp,c=e.Node,p=e.SpriteFrame,d=e.Enum,h=e.Tween,k=e.tween,g=e.clamp,_=e.Color,S=e.Component},function(e){b=e.default},function(e){m=e.SubGameData},function(e){f=e.common},function(e){y=e.JackpotProgress}],execute:function(){var T,v,N,w,C,A,z,F,J,R,I,L,P,U,B,D,E,H,M,j,W,G,O,x,K,Y,q,Q,V,X,Z,$,ee,te,ie;a._RF.push({},"7de28eg0zNHC5xy/ctUgWhw","Jackpot",void 0);var re=l.ccclass,oe=l.menu,ne=l.property,ae=((T={})[f.EJackpotType.MINI]=4,T[f.EJackpotType.MINOR]=3,T[f.EJackpotType.MAJOR]=2,T[f.EJackpotType.GRAND]=1,T[f.EJackpotType.DOUBLE_GRAND]=1,T);e("Jackpot",(v=re("Jackpot"),N=oe(m.module+"/elements/Jackpot"),w=ne(s),C=ne(s),A=ne(s),z=ne(b),F=ne(u.Skeleton),J=ne(u.Skeleton),R=ne(u.Skeleton),I=ne(u.Skeleton),L=ne(u.Skeleton),P=ne(c),U=ne([y]),B=ne([p]),D=ne({type:d(f.EJackpotType),visible:!0}),v(E=N((M=t((H=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(t,"backgroundSprite",M,o(t)),r(t,"titleSprite",j,o(t)),r(t,"lockSprite",W,o(t)),r(t,"scoreScrollNumber",G,o(t)),r(t,"unlockSkeleton",O,o(t)),r(t,"lockSkeleton",x,o(t)),r(t,"upgradingSkeleton",K,o(t)),r(t,"defaultWinSkeleton",Y,o(t)),r(t,"upgradedWinSkeleton",q,o(t)),r(t,"progressesRootNode",Q,o(t)),r(t,"progressesList",V,o(t)),r(t,"bgSpriteFrames",X,o(t)),r(t,"defaultBackgroundSpriteFrameName",Z,o(t)),r(t,"upgradedBackgroundSpriteFrameName",$,o(t)),r(t,"defaultTitleSpriteFrameName",ee,o(t)),r(t,"upgradedTitleSpriteFrameName",te,o(t)),r(t,"_jackpotType",ie,o(t)),t._locked=!1,t._upgraded=!1,t._progress=0,t._startScore=0,t._currentScore=0,t._startTimestamp=0,t._updating=!1,t._lockAnimationCallback=void 0,t._upgradingAnimationCallback=void 0,t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.unlockSkeleton.setCompleteListener(this._onLockSkeletonAnimationComplete.bind(this)),this.lockSkeleton.setCompleteListener(this._onLockSkeletonAnimationComplete.bind(this)),this._updateUI(),this._updateColor(),this._updateHighlightSkeleton(!0),this._updateProgressSprites(),this.progressesRootNode.active=!1},a.start=function(){this._startTimestamp=Date.now()},a.startUpdate=function(e,t,i){var r=this;this._startScore=e,this._startTimestamp=t,i&&(this._currentScore=this._calculateScore(),this.scoreScrollNumber.show(this._currentScore,this._currentScore)),this._updating||(this._updating=!0,h.stopAllByTarget(this),k(this).delay(.5).call((function(){return r._updateScore()})).union().repeatForever().start())},a.stopUpdate=function(e,t){this._updating=!1,h.stopAllByTarget(this),null!=e&&(null!=t?(this._startScore=e,this._startTimestamp=t,this._currentScore=this._calculateScore(),this.scoreScrollNumber.show(this._currentScore,this._currentScore)):this.scoreScrollNumber.show(e,e))},a.f_stopRole=function(){h.stopAllByTarget(this)},a.setLocked=function(e,t,i){if(this.backgroundSprite.grayscale=e,!t)return this._lockAnimationCallback=void 0,void((e!==this._locked||this.unlockSkeleton.enabled||this.lockSkeleton.enabled)&&(this._locked=e,this._updateColor(),this._updateHighlightSkeleton(!this._locked),this.unlockSkeleton.enabled=!1,this.lockSkeleton.enabled=!1));if(this._lockAnimationCallback=i,e!==this._locked){this._locked=e,this._updateColor(),this._updateHighlightSkeleton(!1),this.unlockSkeleton.enabled=!1,this.lockSkeleton.enabled=!1;var r=this._locked?this.lockSkeleton:this.unlockSkeleton;r.enabled=!0,r.setAnimation(0,"animation"+(this._locked?"2":"1")+"_"+this._animationIndex,!1)}},a.setUpgraded=function(e,t,i){if(!t)return this._upgradingAnimationCallback=void 0,void((e!==this._upgraded||this.upgradingSkeleton.enabled)&&(this._upgraded=e,this._updateUI(),this._updateHighlightSkeleton(!this._locked),this._updateProgressSprites(),this.upgradingSkeleton.enabled=!1));this._upgradingAnimationCallback=i,e!==this._upgraded&&(this._upgraded=e,this._updateUI(),this._updateHighlightSkeleton(!1),this._updateProgressSprites())},a.win=function(e){this.defaultWinSkeleton.node.active=!1,e&&(this.defaultWinSkeleton.node.active=!0)},a.setProgress=function(e,t){(e=Math.floor(g(e,0,3)))!==this._progress&&(this._progress=e,this.collectable&&this._updateProgressStates(t))},a._calculateScore=function(){var e=this._upgraded?m.getUpgradedJackpotType(this._jackpotType):this._jackpotType,t=m.JACKPOT_SCORE_CONFIGURATIONS[e],i=.001*Math.max(0,Date.now()-this._startTimestamp),r=m.totalBet*t.startingMultiple*t.multipleIncreaseRate*i,o=m.totalBet*t.maxMultiple;return Math.min(this._startScore+r,o)},a._updateUI=function(){this._upgraded?this.backgroundSprite.spriteFrame=this.bgSpriteFrames[1]:this.backgroundSprite.spriteFrame=this.bgSpriteFrames[0]},a._updateColor=function(){var e=this._locked?_.GRAY:_.WHITE;App.utils.setColorRecursive(this.scoreScrollNumber.node,e)},a._updateHighlightSkeleton=function(e){},a._updateProgressSprites=function(){this.realType},a._updateProgressStates=function(e){},a._updateScore=function(){var e=this._currentScore;this._currentScore=this._calculateScore(),this.scoreScrollNumber.show(e,this._currentScore)},a._onLockSkeletonAnimationComplete=function(e){this._updateHighlightSkeleton(!this._locked),this.unlockSkeleton.enabled=!1,this.lockSkeleton.enabled=!1;var t=this._lockAnimationCallback;this._lockAnimationCallback=void 0,null==t||t(this)},a._onUpgradingSkeletonAnimationComplete=function(e){this._updateHighlightSkeleton(!this._locked),this.upgradingSkeleton.enabled=!1;var t=this._upgradingAnimationCallback;this._upgradingAnimationCallback=void 0,null==t||t(this)},n(t,[{key:"type",get:function(){return this._jackpotType}},{key:"realType",get:function(){return this._upgraded?this._jackpotType+1:this._jackpotType}},{key:"locked",get:function(){return this._locked}},{key:"upgraded",get:function(){return this._upgraded}},{key:"collectable",get:function(){return this.progressesRootNode.active},set:function(e){this.progressesRootNode.active}},{key:"_animationIndex",get:function(){return ae[this._jackpotType]}}]),t}(S)).prototype,"backgroundSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(H.prototype,"titleSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(H.prototype,"lockSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(H.prototype,"scoreScrollNumber",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(H.prototype,"unlockSkeleton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(H.prototype,"lockSkeleton",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(H.prototype,"upgradingSkeleton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(H.prototype,"defaultWinSkeleton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(H.prototype,"upgradedWinSkeleton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(H.prototype,"progressesRootNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(H.prototype,"progressesList",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(H.prototype,"bgSpriteFrames",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(H.prototype,"defaultBackgroundSpriteFrameName",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$=t(H.prototype,"upgradedBackgroundSpriteFrameName",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ee=t(H.prototype,"defaultTitleSpriteFrameName",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),te=t(H.prototype,"upgradedTitleSpriteFrameName",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ie=t(H.prototype,"_jackpotType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.EJackpotType.MINI}}),E=H))||E)||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotLockHint2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts"],(function(e){var t,o,i,a,n,c,s,r,l,p,h,u,m,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,c=e._decorator,s=e.Node,r=e.Sprite,l=e.v3,p=e.Tween,h=e.tween,u=e.Component},function(e){m=e.SubGameData},function(e){d=e.common}],execute:function(){var N,_,f,k,y,S,g,J,P;n._RF.push({},"0381cizZvlHPbe5J7NFfzIS","JackpotLockHint",void 0);var b=c.ccclass,v=c.menu,F=c.property,j=((N={})[d.EJackpotType.MINI]={spriteFrameName:"theme277_j_mini_1",scaleX:1.4,scaleY:1.55},N[d.EJackpotType.MINOR]={spriteFrameName:"theme277_j_minor_2_1",scaleX:1.2,scaleY:1.55},N[d.EJackpotType.MAJOR]={spriteFrameName:"theme277_j_major_1",scaleX:1,scaleY:1.4},N[d.EJackpotType.GRAND]={spriteFrameName:"theme277_j_grand",scaleX:1,scaleY:1.4},N[d.EJackpotType.DOUBLE_GRAND]={spriteFrameName:"",scaleX:1,scaleY:1},N);e("JackpotLockHint",(_=b("JackpotLockHint"),f=v(m.module+"/elements/JackpotLockHint"),k=F(s),y=F(r),_(S=f((J=t((g=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return t=e.call.apply(e,[this].concat(n))||this,i(t,"rootNode",J,a(t)),i(t,"jackpotNameSprite",P,a(t)),t._cachedPosition=l(),t}o(t,e);var n=t.prototype;return n.onLoad=function(){this.hide(!1)},n.show=function(e,t){var o=this,i=j[e];this.jackpotNameSprite.node.setScale(i.scaleX,i.scaleY,1),this.jackpotNameSprite.changeSpriteFrameFromAtlas(i.spriteFrameName),p.stopAllByTarget(this.rootNode),t?(this.rootNode.setScale(0,0,1),this._cachedPosition.set(1.1,1.1,1),h(this.rootNode).to(.2,{scale:this._cachedPosition},{easing:"sineIn",onComplete:function(){return o._cachedPosition.set(1,1,1)}}).to(.1,{scale:this._cachedPosition},{easing:"sineOut"}).delay(1).call((function(){return o.hide(!0)})).start()):this.rootNode.setScale(1,1,1)},n.hide=function(e){var t=this;p.stopAllByTarget(this.rootNode),e?(this.rootNode.setScale(1,1,1),this._cachedPosition.set(1.1,1.1,1),h(this.rootNode).to(.1,{scale:this._cachedPosition},{easing:"sineOut",onComplete:function(){return t._cachedPosition.set(0,0,1)}}).to(.1,{scale:this._cachedPosition},{easing:"sineIn"}).start()):this.rootNode.setScale(0,0,1)},t}(u)).prototype,"rootNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(g.prototype,"jackpotNameSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=g))||S)||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotProgress2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts"],(function(t){var e,i,o,n,r,a,p,s,h,c,l,u,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,p=t._decorator,s=t.Enum,h=t.Sprite,c=t.sp,l=t.Component},function(t){u=t.SubGameData},function(t){g=t.common}],execute:function(){var _,y,k,m,f,E,T,J,P,d,b,L,M;a._RF.push({},"e5147eItZ5APrF+37b9/7kG","JackpotProgress",void 0);var I=p.ccclass,S=p.menu,D=p.property,A=t("EState",function(t){return t[t.EMPTY=0]="EMPTY",t[t.FILLING=1]="FILLING",t[t.FULL=2]="FULL",t}({})),N=((_={})[g.EJackpotType.MINI]="theme277_c_mini_1",_[g.EJackpotType.MINOR]="theme277_c_minor_3",_[g.EJackpotType.MAJOR]="theme277_c_major_4",_[g.EJackpotType.GRAND]="theme277_c_grand_3",_[g.EJackpotType.DOUBLE_GRAND]="theme277_c_doublegrand_5",_);(y={})[g.EJackpotType.MINI]="animation5",y[g.EJackpotType.MINOR]="animation4",y[g.EJackpotType.MAJOR]="animation3",y[g.EJackpotType.GRAND]="animation2",y[g.EJackpotType.DOUBLE_GRAND]="animation1",t("JackpotProgress",(k=I("JackpotProgress"),m=S(u.module+"/elements/JackpotProgress"),f=D({type:s(g.EJackpotType)}),E=D(h),T=D(c.Skeleton),J=D({type:s(g.EJackpotType),serializable:!0}),k(P=m((e((d=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"sprite",b,n(e)),o(e,"highlightSkeleton",L,n(e)),o(e,"_type",M,n(e)),e._state=A.EMPTY,e._highlight=!1,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this._updateProgress(),this._updateHighlight()},a.win=function(t,e){t&&this._state!==A.EMPTY||!t&&this._state===A.EMPTY||this._updateHighlight()},a._updateProgress=function(){this.sprite.changeSpriteFrameFromAtlas(N[this._type])},a._updateHighlight=function(){this._highlight&&this._state===A.EMPTY?(this.highlightSkeleton.node.active=!0,this.highlightSkeleton.setAnimation(0,"animation",!0)):this.highlightSkeleton.node.active=!1},a._onProgressSkeletonAnimationComplete=function(t){this._state=A.FULL},r(e,[{key:"jackpotType",get:function(){return this._type},set:function(t){t!==this._type&&(this._type=t,this._updateProgress())}},{key:"won",get:function(){return this._state!==A.EMPTY}},{key:"highlight",get:function(){return this._highlight},set:function(t){t!==this._highlight&&(this._highlight=t,this._updateHighlight())}}]),e}(l)).prototype,"jackpotType",[f],Object.getOwnPropertyDescriptor(d.prototype,"jackpotType"),d.prototype),b=e(d.prototype,"sprite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(d.prototype,"highlightSkeleton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(d.prototype,"_type",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.EJackpotType.MINI}}),P=d))||P)||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotsLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./ShowJackpot.ts","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./Jackpot8.ts","./JackpotLockHint2.ts","./JackpotUnlockHint2.ts","./AudioHelper8.ts","./SlotGameDefines.ts","./SlotGameData.ts"],(function(t){var e,a,o,s,n,i,p,c,r,u,h,k,l,y,f,d,T,m,E,_,g,B,J,L,j;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized,n=t.createClass},function(t){i=t.cclegacy,p=t._decorator,c=t.v3,r=t.Node,u=t.Prefab,h=t.sp,k=t.Tween,l=t.tween,y=t.instantiate},function(t){f=t.default},function(t){d=t.ShowJackpot},function(t){T=t.SubGameData},function(t){m=t.common},function(t){E=t.DisplayTaskManager},function(t){_=t.Jackpot},function(t){g=t.JackpotLockHint},function(t){B=t.JackpotUnlockHint},function(t){J=t.AudioHelper},function(t){L=t.EventName},function(t){j=t.SlotGameData}],execute:function(){var v,H,S,O,R,G,b,F,M,U,N,A,D,w,I,P,C,x;i._RF.push({},"c79e4lwpCVBwbfJ5bPJYdge","JackpotsLayer",void 0);var z=p.ccclass,W=p.menu,K=p.property,V=((v={})[m.EJackpotType.MINI]={positionOffset:c(-35,-21,0),scale:.9},v[m.EJackpotType.MINOR]={positionOffset:c(41,-21,0),scale:.9},v[m.EJackpotType.MAJOR]={positionOffset:c(0,-25,0),scale:1},v[m.EJackpotType.GRAND]={positionOffset:c(0,-31,0),scale:1},v[m.EJackpotType.DOUBLE_GRAND]={positionOffset:c(),scale:1},v),Y=((H={})[m.EJackpotType.MINI]={positionOffset:c(0,-21,0),scale:.9},H[m.EJackpotType.MINOR]={positionOffset:c(0,-21,0),scale:.9},H[m.EJackpotType.MAJOR]={positionOffset:c(0,-25,0),scale:1},H[m.EJackpotType.GRAND]={positionOffset:c(0,-31,0),scale:1},H[m.EJackpotType.DOUBLE_GRAND]={positionOffset:c(),scale:1},H);t("JackpotsLayer",(S=z("JackpotsLayer"),O=W(T.module+"/layer/JackpotsLayer"),R=K({type:[_],tooltip:"按从小到大的顺序赋值"}),G=K(B),b=K(g),F=K(r),M=K(u),U=K(h.Skeleton),S(N=O((D=e((A=function(t){function e(){for(var e,a,n,i=arguments.length,p=new Array(i),c=0;c<i;c++)p[c]=arguments[c];return n=t.call.apply(t,[this].concat(p))||this,o(n,"jackpotsList",D,s(n)),o(n,"jackpotUn1lockHint",w,s(n)),o(n,"jackpot1LockHint",I,s(n)),o(n,"showJackpotRootNode",P,s(n)),o(n,"showJackpotPrefab",C,s(n)),o(n,"upgradeSkeleton",x,s(n)),n._touchEnabled=!1,n._progressesMap=new Map,n._startBonusHash=((e={})[m.EJackpotType.MINI]=0,e[m.EJackpotType.MINOR]=0,e[m.EJackpotType.MAJOR]=0,e[m.EJackpotType.GRAND]=0,e[m.EJackpotType.DOUBLE_GRAND]=0,e),n._synchronTimestamp=0,n._startBonusHashForBonusGame=((a={})[m.EJackpotType.MINI]=0,a[m.EJackpotType.MINOR]=0,a[m.EJackpotType.MAJOR]=0,a[m.EJackpotType.GRAND]=0,a[m.EJackpotType.DOUBLE_GRAND]=0,a),n._synchronTimestampForBonusGame=0,n}a(e,t);var i=e.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this),E.addHandler(this),this.upgradeSkeleton.node.active=!1},i.onTaskInitialize=function(t,e){var a=this;if(e.gameMode===m.EGameMode.NORMAL&&(this._touchEnabled=!0),this._progressesMap.clear(),this.node.active=!0,k.stopAllByTarget(this),e.gameMode===m.EGameMode.BONUS){this._updateBonusHash(this._startBonusHashForBonusGame,e.jackpotBonusesHash),this._synchronTimestampForBonusGame=e.jackpotSynchronTimestamp;var o=!1;e.jackpotSymbolLocationsMap.forEach((function(t,e){if(e!==m.EJackpotSymbolType.UPGRADE){var s=T.getJackpotTypeFromJackpotSymbolType(e);null!=s&&a._progressesMap.set(s,t.length)}else o=t.length>=3})),this.jackpotsList.forEach((function(t,e){var s,n=T.isJackpotLocked(t.type,o);t.setLocked(n,!1),t.setUpgraded(o,!1),t.win(!1),t.stopUpdate(a._startBonusHashForBonusGame[t.realType]),t.collectable=!0,t.setProgress(null!=(s=a._progressesMap.get(t.type))?s:0,!1)}))}else this._updateStartBonuses(e.jackpotBonusesHash,e.jackpotSynchronTimestamp,!0),this.jackpotsList.forEach((function(t,e){var o=T.isJackpotLocked(t.type,!1);t.setLocked(o,!1),t.setUpgraded(!1,!1),t.win(!1),t.startUpdate(a._startBonusHash[t.realType],a._synchronTimestamp,!0),t.collectable=!1,t.setProgress(0,!1)})),e.gameMode===m.EGameMode.FREE?(e.featureType&m.EFeatureType.RED_TOWER)<=0&&(this.node.active=!1):e.gameMode===m.EGameMode.NORMAL||(this.node.active=!1);this.jackpotUn1lockHint.hide(!1),this.jackpot1LockHint.hide(!1)},i.onTaskSpinStop=function(t,e){var a=this;e.jackpotBonusesHash&&(this._updateStartBonuses(e.jackpotBonusesHash,e.jackpotSynchronTimestamp,!1),this.jackpotsList.forEach((function(t,e){t.startUpdate(a._startBonusHash[t.realType],a._synchronTimestamp,!1)})))},i.onTaskBonusGameStart=function(t,e){var a=this;k.stopAllByTarget(this),this.jackpotsList.forEach((function(t,e){t.stopUpdate(a._startBonusHashForBonusGame[t.realType])}))},i.onTaskBonusGamePickEnd=function(t,e){var a,o=T.getJackpotTypeFromJackpotSymbolType(e.jackpotSymbol);if(null!=o){var s=(null!=(a=this._progressesMap.get(o))?a:0)+1;this._progressesMap.set(o,s),this.jackpotsList.forEach((function(t){t.type===o&&t.setProgress(s,!0)}))}},i.onTaskBonusGameUpgrade=function(t,e){var a=this;this.upgradeSkeleton.node.active=!0,this.upgradeSkeleton.setCompleteListener((function(){a.upgradeSkeleton.node.active=!1})),this.upgradeSkeleton.setAnimation(0,"animation",!1),k.stopAllByTarget(this),l(this).delay(1.4).call((function(){a.jackpotsList.forEach((function(t,e){var o;T.isJackpotLocked(t.type,!0);t.setUpgraded(!0,!0),t.stopUpdate(a._startBonusHashForBonusGame[t.realType]),t.setProgress(null!=(o=a._progressesMap.get(t.type))?o:0,!1)}))})).start()},i.onTaskBonusGameWinJackpot=function(t,e){k.stopAllByTarget(this),this.jackpotsList.forEach((function(t){t.realType===e.jackpotType&&t.win(!0)}))},i.onTaskBonusGameTrigger=function(t,e){this._touchEnabled=!1},i.onTaskBonusGameTransit=function(t,e){this._updateBonusHash(this._startBonusHashForBonusGame,e.jackpotBonusesHash),this._synchronTimestampForBonusGame=e.jackpotSynchronTimestamp},i.onTaskFreeGameTrigger=function(t,e){this._touchEnabled=!1},i.onTaskFreeGameCollectJackpot=function(t,e){this.node.active&&this.jackpotsList.forEach((function(t){t.type===e.jackpotType&&t.win(!0)}))},i.onTaskFreeGameUnhighlightJackpot=function(t,e){var a=this;this._updateStartBonuses(e.jackpotBonusesHash,e.jackpotSynchronTimestamp,!1),this.node.active&&this.jackpotsList.forEach((function(t){t.type===e.jackpotType&&t.win(!1),t.startUpdate(a._startBonusHash[t.realType],a._synchronTimestamp,!0)}))},i.onTaskRoundEnd=function(t,e){var a=this;this._updateStartBonuses(e.jackpotBonusesHash,e.jackpotSynchronTimestamp,!1),this.jackpotsList.forEach((function(t){t.startUpdate(a._startBonusHash[t.realType],a._synchronTimestamp,!1)}))},i.onTaskChangeBet=function(t,e){var a=this;this._updateStartBonuses(e.jackpotBonusesHash,e.jackpotSynchronTimestamp,!1);var o=-1,s=this.jackpotsList.length;this.jackpotsList.forEach((function(t,e){var n=t.locked,i=T.isJackpotLocked(t.type,t.upgraded);n!==i&&(i?s=Math.min(s,e):o=Math.max(o,e)),t.setLocked(i,!0),t.startUpdate(a._startBonusHash[t.realType],a._synchronTimestamp,!0)}));var n=this.jackpotsList[o];if(n){var i=V[n.type];this.jackpotUn1lockHint.node.setPosition(n.node.position.x+i.positionOffset.x,n.node.position.y+i.positionOffset.y,0),this.jackpotUn1lockHint.node.setScale(i.scale,i.scale,1),this.jackpotUn1lockHint.show(n.type,!0),this.jackpot1LockHint.hide(!1),J.instance.playSoundEffect(T.AUDIO_URLS.SE_JACKPOT_UNLOCK)}var p=this.jackpotsList[s];if(p){var c=Y[p.type];this.jackpot1LockHint.node.setPosition(p.node.position.x+c.positionOffset.x,p.node.position.y+c.positionOffset.y,0),this.jackpot1LockHint.node.setScale(c.scale,c.scale,1),this.jackpotUn1lockHint.hide(!1),this.jackpot1LockHint.show(p.type,!0),J.instance.playSoundEffect(T.AUDIO_URLS.SE_JACKPOT_LOCK)}},i.onTaskSynchroniseJackpots=function(t,e){var a=this;this._updateStartBonuses(e.jackpotBonusesHash,e.jackpotSynchronTimestamp,!1),this.jackpotsList.forEach((function(t,e){var o=T.isJackpotLocked(t.type,t.upgraded);t.setLocked(o,!0),t.startUpdate(a._startBonusHash[t.realType],a._synchronTimestamp,!0)}))},i.onTaskChangeGame=function(t,e){var a=this;if(T.f_isFreeGame(e.nextFeatureType)&&(this._touchEnabled=!1),e.nextFeatureType===m.EFeatureType.RED_TOWER&&(this._touchEnabled=!1),T.f_isFreeGame(e.previousFeatureType)&&e.nextFeatureType===m.EFeatureType.NONE&&(this._touchEnabled=!0),e.previousFeatureType===m.EFeatureType.RED_TOWER&&e.nextFeatureType===m.EFeatureType.NONE&&(this._touchEnabled=!0),e.previousFeatureType!==e.nextFeatureType)switch(this.node.active=!0,this.jackpotUn1lockHint.hide(!1),this.jackpot1LockHint.hide(!1),e.previousFeatureType===m.EFeatureType.RED_TOWER&&this.jackpotsList.forEach((function(t,e){var o=T.isJackpotLocked(t.type,!1);t.setLocked(o,!1),t.setUpgraded(!1,!1),t.win(!1),t.startUpdate(a._startBonusHashForBonusGame[t.type],a._synchronTimestamp,!0),t.setProgress(0,!1),t.collectable=!1})),e.nextFeatureType){case m.EFeatureType.RED_TOWER:this._progressesMap.clear(),this.jackpotsList.forEach((function(t,e){var a=T.isJackpotLocked(t.type,!1);t.setLocked(a,!1),t.setUpgraded(!1,!1),t.win(!1),t.collectable=!0,t.setProgress(0,!1)}));break;case m.EFeatureType.NONE:var o=this._startBonusHash,s=this._synchronTimestamp;this._synchronTimestampForBonusGame>this._synchronTimestamp&&(o=this._startBonusHashForBonusGame,s=this._synchronTimestampForBonusGame),this.jackpotsList.forEach((function(t,e){t.startUpdate(o[t.type],s,!0)}));break;default:(e.nextFeatureType&m.EFeatureType.RED_TOWER)<=0&&(this.node.active=!1)}},i.onTaskShowMapGame=function(t,e){this.node.active=!1},i.onTaskHideMapGame=function(t,e){this.node.active=!0},i.onTaskCollectJackpot=function(t,e){var a=y(this.showJackpotPrefab);if(a){a.setPosition(550,450),this.showJackpotRootNode.addChild(a);var o=a.getComponent(d);o&&(o.jpMove(),o.onRefreshAvatarHead(e.data.image_id),o.onRefreshAvatarTheme(e.data.game_id),o.onRefreshUserId(e.data.uid),o.onRefreshJackpotWin(e.data.reward_num))}},i._calculateMinBonus=function(t){return T.JACKPOT_SCORE_CONFIGURATIONS[t].startingMultiple*T.totalBet},i._updateStartBonuses=function(t,e,a){!a&&e<this._synchronTimestamp||(this._updateBonusHash(this._startBonusHash,t),this._synchronTimestamp=e)},i._updateBonusHash=function(t,e){for(var a=0,o=[m.EJackpotType.MINI,m.EJackpotType.MINOR,m.EJackpotType.MAJOR,m.EJackpotType.GRAND,m.EJackpotType.DOUBLE_GRAND];a<o.length;a++){var s=o[a],n=e[s];n<=0&&(n=this._calculateMinBonus(s)),t[s]=n}},i.f_onJackTap=function(t,e){if(0!=this._touchEnabled&&!T.autoPlaying&&!T.$_isSpining){var a=T.f_getDan(parseInt(e));this.data.currentTotalBetIndex=a,dispatch(L.REFRESH_TOTALBET)}},n(e,[{key:"data",get:function(){return App.dataCenter.get(j)}}]),e}(f)).prototype,"jackpotsList",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=e(A.prototype,"jackpotUn1lockHint",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(A.prototype,"jackpot1LockHint",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(A.prototype,"showJackpotRootNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(A.prototype,"showJackpotPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(A.prototype,"upgradeSkeleton",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=A))||N)||N));i._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotSymbol2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts"],(function(e){var t,i,n,o,a,l,s,r,p,c,h,u,m,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,s=e._decorator,r=e.Color,p=e.sp,c=e.SpriteFrame,h=e.Sprite,u=e.Component},function(e){m=e.SubGameData},function(e){_=e.common}],execute:function(){var d,f,k,g,y,I,N,O,b,S,P,E,C,L,F,T,G,A,D;l._RF.push({},"021desKK0FGPYxqlfPFwRPZ","JackpotSymbol",void 0);var v=s.ccclass,W=s.menu,R=s.property,J=function(e){return e[e.IDLE=0]="IDLE",e[e.FLOPPING=1]="FLOPPING",e[e.CRITICAL_FLOPPING=2]="CRITICAL_FLOPPING",e[e.FLOPPED=3]="FLOPPED",e[e.WINNING=4]="WINNING",e[e.NOT_WON=5]="NOT_WON",e[e.EXCITING=6]="EXCITING",e[e.NOT_FLOPPED=7]="NOT_FLOPPED",e[e.END=8]="END",e}(J||{}),$=((d={})[_.EJackpotSymbolType.UNKNOWN]={default:0,upgraded:0},d[_.EJackpotSymbolType.MINI]={default:3,upgraded:1},d[_.EJackpotSymbolType.MINOR]={default:1,upgraded:4},d[_.EJackpotSymbolType.MAJOR]={default:4,upgraded:2},d[_.EJackpotSymbolType.GRAND]={default:2,upgraded:6},d[_.EJackpotSymbolType.UPGRADE]={default:5,upgraded:5},d),x=((f={})[J.IDLE]={loop:!1,color:r.WHITE},f[J.FLOPPING]={loop:!1,color:r.WHITE},f[J.CRITICAL_FLOPPING]={loop:!1,color:r.WHITE},f[J.FLOPPED]={loop:!0,color:r.WHITE},f[J.WINNING]={loop:!0,color:r.WHITE},f[J.NOT_WON]={loop:!1,color:r.GRAY},f[J.EXCITING]={loop:!0,color:r.WHITE},f[J.NOT_FLOPPED]={loop:!1,color:r.GRAY},f[J.END]={loop:!1,color:r.GRAY},f),w=((k={})[_.EJackpotSymbolType.UNKNOWN]={default:2,isOpening:1},k[_.EJackpotSymbolType.MINI]={default:2,isOpening:1},k[_.EJackpotSymbolType.MINOR]={default:2,isOpening:1},k[_.EJackpotSymbolType.MAJOR]={default:2,isOpening:1},k[_.EJackpotSymbolType.GRAND]={default:2,isOpening:1},k[_.EJackpotSymbolType.UPGRADE]={default:2,isOpening:1},k),z=((g={})[J.IDLE]={isOpening:!1},g[J.FLOPPING]={isOpening:!0},g[J.CRITICAL_FLOPPING]={isOpening:!0},g[J.FLOPPED]={isOpening:!1},g[J.WINNING]={isOpening:!1},g[J.NOT_WON]={isOpening:!0},g[J.EXCITING]={isOpening:!1},g[J.NOT_FLOPPED]={isOpening:!0},g[J.END]={isOpening:!1},g),H="animation";e("JackpotSymbol",(y=v("JackpotSymbol"),I=W(m.module+"/elements/JackpotSymbol"),N=R(p.Skeleton),O=R([c]),b=R([c]),S=R(h),P=R({visible:!0}),y(E=I(((D=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"chickenSkeleton",L,o(t)),n(t,"banSpriteFrames",F,o(t)),n(t,"upGradeSpriteFrames",T,o(t)),n(t,"banSpriteNode",G,o(t)),n(t,"_index",A,o(t)),t._type=_.EJackpotSymbolType.UNKNOWN,t._upgraded=!1,t._state=J.IDLE,t._playingIdleAnimation=!1,t._clickListener=void 0,t._floppingCompleteCallback=void 0,t.$_end=null,t.$_Fish=null,t.$_isExting=!1,t._upgradingCompleteCallback=void 0,t}i(t,e);var l=t.prototype;return l.onLoad=function(){this.chickenSkeleton.setAnimation(0,H,!0),this.chickenSkeleton.setCompleteListener(this._checkSkeletionAnimationComplete.bind(this)),this._refreshWhenDirty(!1)},l.onEnable=function(){this.chickenSkeleton.setAnimation(0,H,!0),this.$_Fish=!1,this.$_end=!1,this.$_isExting=!1},l.f_playInit=function(){this.chickenSkeleton.setAnimation(0,H,!0)},l.setClickListener=function(e){this._clickListener=e},l.flop=function(e,t){this._floppingCompleteCallback=t,this.state=e?J.CRITICAL_FLOPPING:J.FLOPPING},l.isEnd=function(e){this._floppingCompleteCallback=e,this.$_end=!0,this.state=J.FLOPPING},l.setUpgraded=function(e,t,i){var n=this;this._upgraded=e,this._refreshWhenDirty(!0),this.scheduleOnce((function(){null==i||i(n)}),.3)},l.onSymbolClick=function(){var e;null==(e=this._clickListener)||e.call(this,this)},l._refreshWhenDirty=function(e){x[this._state];if(this._state!==J.IDLE){this._playingIdleAnimation=!1;var t=z[this._state];this._upgraded?this.banSpriteNode.spriteFrame=this.upGradeSpriteFrames[this._type]:this.banSpriteNode.spriteFrame=this.banSpriteFrames[this._type];var i=this._chickenAnimationName;this.chickenSkeleton.findAnimation(i)&&(this.$_Fish?this.chickenSkeleton.setAnimation(0,"animation4",!0):this.$_isExting?this.chickenSkeleton.setAnimation(0,"animation3",!0):this.chickenSkeleton.setAnimation(0,i,!t.isOpening))}else this._playingIdleAnimation||(this._playingIdleAnimation=!0)},l.f_showFish=function(){this.$_Fish=!0,this.chickenSkeleton.setAnimation(0,"animation4",!0)},l.f_showExting=function(){this.$_isExting=!0,this.chickenSkeleton.setAnimation(0,"animation3",!0)},l._checkSkeletionAnimationComplete=function(e){switch(this._state){case J.FLOPPING:case J.CRITICAL_FLOPPING:var t=this._floppingCompleteCallback;this._floppingCompleteCallback=void 0,null==t||t(this)}},l._onSymbolSkeletonAnimationComplete=function(e){var t=e.animation.name.split("_");if(!(t.length<2||t[1]!==""+J.FLOPPING&&t[1]!==""+J.CRITICAL_FLOPPING)){var i=this._floppingCompleteCallback;this._floppingCompleteCallback=void 0,null==i||i(this)}},l._onUpgradingSkeletonAnimationComplete=function(e){var t=this._upgradingCompleteCallback;this._upgradingCompleteCallback=void 0,null==t||t(this)},a(t,[{key:"index",get:function(){return this._index}},{key:"type",get:function(){return this._type},set:function(e){e!==this._type&&(this._type=e,this._refreshWhenDirty(!0))}},{key:"state",get:function(){return this._state},set:function(e){e!==this._state&&(this._state=e,this._refreshWhenDirty(!1))}},{key:"upgraded",get:function(){return this._upgraded}},{key:"_animationName",get:function(){if(this._state===J.IDLE)return"animation1";var e=$[this._type];return"animation"+(this._upgraded?e.upgraded:e.default)+"_"+this._state}},{key:"_chickenAnimationName",get:function(){if(this.$_end)return this.$_end=!1,"animation6";var e=z[this._state],t=w[this._type];return"animation"+(e.isOpening?t.isOpening:t.default)}}]),t}(u)).EState=J,L=t((C=D).prototype,"chickenSkeleton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(C.prototype,"banSpriteFrames",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(C.prototype,"upGradeSpriteFrames",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(C.prototype,"banSpriteNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(C.prototype,"_index",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),E=C))||E)||E));l._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotUnlockHint2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts"],(function(e){var t,o,i,a,n,c,s,r,l,p,h,u,m,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,c=e._decorator,s=e.Node,r=e.Sprite,l=e.v3,p=e.Tween,h=e.tween,u=e.Component},function(e){m=e.SubGameData},function(e){d=e.common}],execute:function(){var _,N,f,k,y,S,g,b,j;n._RF.push({},"1c575Y0AX1Ewbhj+uR7YcIL","JackpotUnlockHint",void 0);var J=c.ccclass,P=c.menu,v=c.property,F=((_={})[d.EJackpotType.MINI]={spriteFrameName:"theme277_j_mini_1",scaleX:1.4,scaleY:1.55},_[d.EJackpotType.MINOR]={spriteFrameName:"theme277_j_minor_2_1",scaleX:1.2,scaleY:1.55},_[d.EJackpotType.MAJOR]={spriteFrameName:"theme277_j_major_1",scaleX:1,scaleY:1.4},_[d.EJackpotType.GRAND]={spriteFrameName:"theme277_j_grand",scaleX:1,scaleY:1.4},_[d.EJackpotType.DOUBLE_GRAND]={spriteFrameName:"",scaleX:1,scaleY:1},_);e("JackpotUnlockHint",(N=J("JackpotUnlockHint"),f=P(m.module+"/elements/JackpotUnlockHint"),k=v(s),y=v(r),N(S=f((b=t((g=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return t=e.call.apply(e,[this].concat(n))||this,i(t,"rootNode",b,a(t)),i(t,"jackpotNameSprite",j,a(t)),t._cachedPosition=l(),t}o(t,e);var n=t.prototype;return n.onLoad=function(){this.hide(!1)},n.show=function(e,t){var o=this,i=F[e];this.jackpotNameSprite.node.setScale(i.scaleX,i.scaleY,1),this.jackpotNameSprite.changeSpriteFrameFromAtlas(i.spriteFrameName),p.stopAllByTarget(this.rootNode),t?(this.rootNode.setScale(0,0,1),this._cachedPosition.set(1.1,1.1,1),h(this.rootNode).to(.2,{scale:this._cachedPosition},{easing:"sineIn",onComplete:function(){return o._cachedPosition.set(1,1,1)}}).to(.1,{scale:this._cachedPosition},{easing:"sineOut"}).delay(1).call((function(){return o.hide(!0)})).start()):this.rootNode.setScale(1,1,1)},n.hide=function(e){var t=this;p.stopAllByTarget(this.rootNode),e?(this.rootNode.setScale(1,1,1),this._cachedPosition.set(1.1,1.1,1),h(this.rootNode).to(.1,{scale:this._cachedPosition},{easing:"sineOut",onComplete:function(){return t._cachedPosition.set(0,0,1)}}).to(.1,{scale:this._cachedPosition},{easing:"sineIn"}).start()):this.rootNode.setScale(0,0,1)},t}(u)).prototype,"rootNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(g.prototype,"jackpotNameSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=g))||S)||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/JackpotWinningLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberRoller.ts","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./CountdownableButton3.ts","./AudioHelper8.ts"],(function(t){var e,i,n,o,a,c,l,s,r,p,u,k,y,h,_,O,S,b,d,D,m,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.inheritsLoose,o=t.assertThisInitialized,a=t.createClass},function(t){c=t.cclegacy,l=t._decorator,s=t.Enum,r=t.sp,p=t.Node,u=t.UIOpacity,k=t.RichText,y=t.Tween,h=t.Vec3,_=t.tween},function(t){O=t.NumberRoller},function(t){S=t.SubGameData},function(t){b=t.common},function(t){d=t.DisplayTaskManager,D=t.Display},function(t){m=t.CountdownableButton},function(t){I=t.AudioHelper}],execute:function(){var f,U,A,N,g,E,T,P,L,R,C,H,w,J,K,W,B,G,z,M,v,j,x,F,q,V,X,Y,$,Q,Z,tt,et,it,nt,ot,at,ct;c._RF.push({},"c2169JahqBKh6EuY1aMq4X8","JackpotWinningLayer",void 0);var lt=l.ccclass,st=l.menu,rt=l.property,pt=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t[t.SHOWN=2]="SHOWN",t[t.HIDING=3]="HIDING",t}(pt||{}),ut=((f={})[b.EJackpotType.MINI]={unlocked:S.AUDIO_URLS.SE_POPUP_JACKPOT_MINI_UNLOCKED,locked:S.AUDIO_URLS.SE_POPUP_JACKPOT_MINI_LOCKED},f[b.EJackpotType.MINOR]={unlocked:S.AUDIO_URLS.SE_POPUP_JACKPOT_MINOR_UNLOCKED,locked:S.AUDIO_URLS.SE_POPUP_JACKPOT_MINOR_LOCKED},f[b.EJackpotType.MAJOR]={unlocked:S.AUDIO_URLS.SE_POPUP_JACKPOT_MAJOR_UNLOCKED,locked:S.AUDIO_URLS.SE_POPUP_JACKPOT_MAJOR_LOCKED},f[b.EJackpotType.GRAND]={unlocked:S.AUDIO_URLS.SE_POPUP_JACKPOT_GRAND_UNLOCKED,locked:S.AUDIO_URLS.SE_POPUP_JACKPOT_GRAND_LOCKED},f[b.EJackpotType.DOUBLE_GRAND]={unlocked:S.AUDIO_URLS.SE_POPUP_JACKPOT_DOUBLE_GRAND_UNLOCKED,locked:S.AUDIO_URLS.SE_POPUP_JACKPOT_DOUBLE_GRAND_LOCKED},f),kt=function(t){return t.SHOW="animation1",t.HOLD="animation2",t.HIDE="animation3",t}(kt||{}),yt=function(t){return t.SHOW="animation10_1",t.HOLD="animation10_2",t.HIDE="animation10_3",t}(yt||{});t("JackpotWinningSkeletonData30",(U=lt("JackpotWinningSkeletonData30"),A=rt({type:s(b.EJackpotType)}),N=rt(r.SkeletonData),U((T=e((E=function(){i(this,"jackpotType",T,this),i(this,"skeletonData",P,this)}).prototype,"jackpotType",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.EJackpotType.MINI}}),P=e(E.prototype,"skeletonData",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=E))||g)),t("JackpotWinningLayer",(L=lt("JackpotWinningLayer"),R=st(S.module+"/layers/JackpotWinningLayer"),C=rt(p),H=rt(u),w=rt(O),J=rt(u),K=rt(m),W=rt(u),B=rt(r.Skeleton),G=rt(r.Skeleton),z=rt(r.Skeleton),M=rt(p),v=rt(k),j=rt(u),x=rt([r.SkeletonData]),L(F=R((V=e((q=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,i(e,"rootNode",V,o(e)),i(e,"maskUIOpacity",X,o(e)),i(e,"scoreNumberRoller",Y,o(e)),i(e,"scoreUIOpacity",$,o(e)),i(e,"button",Q,o(e)),i(e,"buttonUIOpacity",Z,o(e)),i(e,"typeSkeleton",tt,o(e)),i(e,"bgSkeleton",et,o(e)),i(e,"checkSkeleton",it,o(e)),i(e,"lockedNode",nt,o(e)),i(e,"locketRichText",ot,o(e)),i(e,"locketuiop",at,o(e)),i(e,"checkSkeletonDatas1",ct,o(e)),e._jackpotType=b.EJackpotType.MINI,e._locked=!1,e._state=pt.HIDDEN,e._score=0,e}n(e,t);var c=e.prototype;return c.onLoad=function(){t.prototype.onLoad.call(this),d.addHandler(this),this.bgSkeleton.setCompleteListener(this._onBgAnimationComplete.bind(this)),this.button.type=m.EType.COLLECT},c.onTaskInitialize=function(t,e){this._state=pt.HIDDEN,y.stopAllByTarget(this.node),this.rootNode.active=!1,this.button.stopCountdown()},c.onTaskBonusGameWinJackpot=function(t,e){this._jackpotType=e.jackpotType,this._locked=e.locked,this._show(e.jackpotType,e.score,2)},c.onTaskFreeGameCollectJackpot=function(t,e){this._jackpotType=e.jackpotType,this._locked=e.locked,this._show(e.jackpotType,e.score,1)},c.onButtonClick=function(){this._hide(),I.instance.playSoundEffect(S.AUDIO_URLS.SE_COMMON_BUTTON_CLICK)},c._show=function(t,e,i){var n=this;if(this.stopAllDisplays(),this.startDisplay(20),this._state=pt.HIDDEN,this._score=e,S.$_bounsWinNum=e,this._locked)switch(this.checkSkeleton.skeletonData=this.checkSkeletonDatas1[1],this.checkSkeleton.node.setPosition(new h(-145,0,0)),this.lockedNode.active=!0,this.locketuiop.opacity=255,t){case 0:this.typeSkeleton.setSkin("skin5");break;case 1:this.typeSkeleton.setSkin("skin4");break;case 2:this.typeSkeleton.setSkin("skin3");break;case 3:this.typeSkeleton.setSkin("skin2");break;case 4:this.typeSkeleton.setSkin("skin1")}else{this.checkSkeleton.skeletonData=this.checkSkeletonDatas1[0],this.checkSkeleton.node.setPosition(new h(0,0,0)),this.lockedNode.active=!1;var o="";switch(t){case 0:o="<img src='tc7'/>",this.typeSkeleton.setSkin("skin10");break;case 1:o="<img src='tc4'/>",this.typeSkeleton.setSkin("skin9");break;case 2:o="<img src='tc6'/>",this.typeSkeleton.setSkin("skin8");break;case 3:o="<img src='tc5'/>",this.typeSkeleton.setSkin("skin7");break;case 4:o="<img src='tc3'/> <img src='tc5'/>",this.typeSkeleton.setSkin("skin6")}this.locketRichText.string=o+" <img src='tc2'/>"}this.rootNode.active=!1,this.typeSkeleton.setAnimation(0,kt.SHOW,!1),this.typeSkeleton.addAnimation(0,kt.HOLD,!0),this.bgSkeleton.setAnimation(0,kt.SHOW,!1),this.bgSkeleton.addAnimation(0,kt.HOLD,!0),this.checkSkeleton.setAnimation(0,yt.SHOW,!1),this.checkSkeleton.addAnimation(0,yt.HOLD,!0),y.stopAllByTarget(this.node),_(this.node).delay(null!=i?i:0).call((function(){n._state=pt.SHOWING,n.rootNode.active=!0,y.stopAllByTarget(n.maskUIOpacity),n.maskUIOpacity.opacity=0,_(n.maskUIOpacity).to(.3,{opacity:255}).start(),y.stopAllByTarget(n.scoreUIOpacity),n.scoreUIOpacity.opacity=0,_(n.scoreUIOpacity).delay(.15).to(.25,{opacity:255}).start(),I.instance.playSoundEffect(S.AUDIO_URLS.FreeGame_Total),n.scheduleOnce((function(){I.instance.stopEffect(S.AUDIO_URLS.FreeGame_Total)}),2),n.scoreNumberRoller.stopRollingAndShowNumber(0),n.scoreNumberRoller.startRolling(0,e,2),y.stopAllByTarget(n.buttonUIOpacity),n.buttonUIOpacity.opacity=0,n.button.interactable=!0,n.button.stopCountdown(),_(n.buttonUIOpacity).delay(.3).to(.25,{opacity:255}).start();var t=ut[n._jackpotType];I.instance.playSoundEffect(n._locked?t.locked:t.unlocked)})).start()},c._hide=function(){this._state===pt.SHOWN&&(this._state=pt.HIDING,this.typeSkeleton.setAnimation(0,kt.HIDE,!1),this.bgSkeleton.setAnimation(0,kt.HIDE,!1),this.checkSkeleton.setAnimation(0,yt.HIDE,!1),y.stopAllByTarget(this.maskUIOpacity),_(this.maskUIOpacity).delay(.6).to(.3,{opacity:0}).start(),y.stopAllByTarget(this.locketuiop),_(this.locketuiop).delay(.6).to(.3,{opacity:0}).start(),this.scoreNumberRoller.stopRollingAndShowNumber(this._score),y.stopAllByTarget(this.scoreUIOpacity),_(this.scoreUIOpacity).delay(.3).to(.2,{opacity:0}).start(),y.stopAllByTarget(this.buttonUIOpacity),this.button.interactable=!1,this.button.stopCountdown(),_(this.buttonUIOpacity).delay(.2).to(.3,{opacity:0}).start(),I.instance.playSoundEffect(S.AUDIO_URLS.SE_COMMON_POPUP_HIDE))},c._onBgAnimationComplete=function(t){var e=this;switch(t.animation.name){case kt.SHOW:this._state=pt.SHOWN,this.button.interactable=!0,this.button.startCountdown(4,(function(){return e._hide()}));break;case kt.HIDE:this._state=pt.HIDDEN,this.rootNode.active=!1,this.button.stopCountdown(),this.endDisplay()}},c.endDisplay=function(){this.unschedule(this.endDisplay),this._displayCount<=0||--this._displayCount},a(e,[{key:"_animationTypeID",get:function(){return this._locked?2:1}}]),e}(D)).prototype,"rootNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(q.prototype,"maskUIOpacity",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(q.prototype,"scoreNumberRoller",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(q.prototype,"scoreUIOpacity",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(q.prototype,"button",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(q.prototype,"buttonUIOpacity",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(q.prototype,"typeSkeleton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(q.prototype,"bgSkeleton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(q.prototype,"checkSkeleton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(q.prototype,"lockedNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(q.prototype,"locketRichText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(q.prototype,"locketuiop",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(q.prototype,"checkSkeletonDatas1",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=q))||F)||F));c._RF.pop()}}}));

System.register("chunks:///_virtual/JiedianCom.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,e,o,s,a,r,c,h;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){s=i.cclegacy,a=i._decorator,r=i.sp,c=i.UIOpacity,h=i.Component}],execute:function(){var p,m,u,l,f;s._RF.push({},"32213eF1o1KE6BQTKDuG/kq","JiedianCom",void 0);var y=a.ccclass,_=a.property;i("JiedianCom",(p=y("JiedianCom"),m=_({visible:!0}),p((f=t((l=function(i){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=i.call.apply(i,[this].concat(s))||this,e(t,"type",f,o(t)),t.sketon=null,t.$_isShow=!1,t}n(t,i);var s=t.prototype;return s.onLoad=function(){this.sketon=this.getComponent(r.Skeleton)},s.f_show=function(i){void 0===i&&(i=!1),this.$_isShow=!0;var t=this.getComponent(c);if(t){if(255==t.opacity&&0==this.type)return;if(t.opacity=255,i)switch(this.type){case 0:this.sketon.setAnimation(0,"animation1_1",!1),this.sketon.addAnimation(0,"animation1_2",!0);break;case 1:this.sketon.setAnimation(0,"animation2_1",!1),this.sketon.addAnimation(0,"animation2_2",!0)}else switch(this.type){case 0:this.sketon.setAnimation(0,"animation1_2",!0);break;case 1:this.sketon.setAnimation(0,"animation2_2",!0)}}},s.f_hide=function(){this.$_isShow=!1;var i=this.getComponent(c);i&&(i.opacity=0)},s.f_syncAnimation=function(){if(0!=this.$_isShow)switch(this.type){case 0:this.sketon.setAnimation(0,"animation1_2",!0);break;case 1:this.sketon.setAnimation(0,"animation2_2",!0)}},s.f_playQuan=function(){if(!this.$_isShow){var i=this.getComponent(c);i&&(i.opacity=255),this.sketon.setAnimation(0,"animation",!0)}},t}(h)).prototype,"type",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=l))||u));s._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageComp310000030.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageComp.ts"],(function(n){var e,a,o,t;return{setters:[function(n){e=n.inheritsLoose},function(n){a=n.cclegacy,o=n._decorator},function(n){t=n.LanguageComp}],execute:function(){var u;a._RF.push({},"caacd6I8QJDEYCNqRiudbkW","LanguageComp310000030",void 0);var c=o.ccclass;o.property,n("LanguageComp390000030",c("LanguageComp390000030")(u=function(n){function a(){return n.apply(this,arguments)||this}return e(a,n),a}(t))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingHelper8.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"c19d9gaJMhJybHaHgze1D4K","LoadingHelper",void 0),t("LoadingHelper",function(){function t(){this._blockInputWhenDelay=!1,this._inputBlockerNode=null,this._timeoutID=null}var n=t.prototype;return n.show=function(t,e){void 0===e&&(e=!1),this._blockInputWhenDelay=e,this._stopCountdown();var n=function(){return App.loading.show("loading...")};null!=t?this._timeoutID=setTimeout(n,1e3*t):n(),this._refreshInputBlockerNode()},n.hide=function(){this._blockInputWhenDelay=!1,this._stopCountdown(),App.loading.hide(),this._refreshInputBlockerNode()},n._stopCountdown=function(){null!==this._timeoutID&&void 0!==this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},n._refreshInputBlockerNode=function(){this._inputBlockerNode&&(this._inputBlockerNode.active=this._blockInputWhenDelay)},e(t,[{key:"inputBlockerNode",set:function(t){t!==this._inputBlockerNode&&(this._inputBlockerNode=t,this._refreshInputBlockerNode())}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingInputBlocker5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./LoadingHelper8.ts"],(function(n){var o,e,t,r,u,c,i;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy,t=n._decorator,r=n.BlockInputEvents,u=n.Component},function(n){c=n.SubGameData},function(n){i=n.LoadingHelper}],execute:function(){var a;e._RF.push({},"90a84+KGrJDTpyAjJgyAVUo","LoadingInputBlocker",void 0);var p=t.ccclass,s=t.menu,l=(t.property,t.requireComponent);n("LoadingInputBlocker",p("LoadingInputBlocker")(a=s(c.module+"/components/LoadingInputBlocker")(a=l(r)(a=function(n){function e(){return n.apply(this,arguments)||this}o(e,n);var t=e.prototype;return t.onLoad=function(){i.instance.inputBlockerNode=this.node},t.onDestroy=function(){i.instance.inputBlockerNode=null},e}(u))||a)||a)||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/MainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameDefines33.ts","./Display9.ts"],(function(e){var t,n,i,o,r,s,a,c,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.sp,c=e.Component},function(e){l=e.common},function(e){p=e.DisplayTaskManager}],execute:function(){var u,f,h,m,y;r._RF.push({},"b9a14wsLvNC66cmt1VmWRTL","MainView",void 0);var d=s.ccclass,v=s.property;e("MainView",(u=d("MainView"),f=v({type:a.Skeleton,visible:!0,displayName:"进入动画"}),u((y=t((m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"enterSeton",y,o(t)),t}n(t,e);var r=t.prototype;return r.start=function(){p.$_isStop=!0,this.enterSeton.setCompleteListener(this._onAnimationComplete.bind(this)),this.enterSeton.setAnimation(0,"ani",!1)},r._onAnimationComplete=function(e){var t=this.enterSeton.node.parent;this.enterSeton.node.destroy(),t&&this.scheduleOnce((function(){t.destroy()}),.1),p.$_isStop=!1,dispatch(l.EventName.ENTER_COMPLETE)},t}(c)).prototype,"enterSeton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/MapGamePickingLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./MapItem2.ts","./PickingBanner2.ts","./AudioHelper8.ts","./GameSender32.ts"],(function(t){var e,i,n,r,o,a,l,s,c,p,h,u,m,S,_,f,d,k,g,E,P,I,T,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.inheritsLoose,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.v3,s=t.sp,c=t.Sprite,p=t.ParticleSystem2D,h=t.color,u=t.Tween,m=t.Color,S=t.tween,_=t.math,f=t.Vec3},function(t){d=t.SubGameData},function(t){k=t.common},function(t){g=t.DisplayTaskManager,E=t.Display},function(t){P=t.MapItem},function(t){I=t.PickingBanner},function(t){T=t.AudioHelper},function(t){y=t.GameSender}],execute:function(){var b,L,M,A,v,D,G,R,O,U,C,z,H,w,B,x,N,F,W,V,Z,j,K,q,J,Q;o._RF.push({},"e9a1fgbU1FOUIrA68FUETio","MapGamePickingLayer",void 0);var X=a.ccclass,Y=a.menu,$=a.property,tt="animation6",et=((b={})[k.EStageType.GREEN]="theme277_pick_3",b[k.EStageType.BLUE]="theme277_pick_4",b[k.EStageType.PURPLE]="theme277_pick_5",b[k.EStageType.RED]="theme277_pick_6",b[k.EStageType.GOLD]="theme277_pick_7",b),it=l(-215,387,0),nt=l(76,379,0),rt=[d.AUDIO_URLS.SE_MAP_GAME_SPEECH_SUPER_1,d.AUDIO_URLS.SE_MAP_GAME_SPEECH_SUPER_2,d.AUDIO_URLS.SE_MAP_GAME_SPEECH_SUPER_3],ot=t("MapGamePickableTier30",(L=X("MapGamePickableTier30"),M=$([P]),L((D=e((v=function(){i(this,"mapItemsList",D,this)}).prototype,"mapItemsList",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=v))||A));t("MapGamePickingLayer",(G=X("MapGamePickingLayer"),R=Y(d.module+"/layers/MapGamePickingLayer"),O=$(s.Skeleton),U=$([c]),C=$(s.Skeleton),z=$([ot]),H=$(s.Skeleton),w=$(I),B=$(p),x=$(p),G(N=R((W=e((F=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"tycoonSkeleton",W,r(e)),i(e,"backgroundSpritesList",V,r(e)),i(e,"highlightSkeleton",Z,r(e)),i(e,"pickableTiersList",j,r(e)),i(e,"pickOneSkeleton",K,r(e)),i(e,"banner",q,r(e)),i(e,"multiplierParticle",J,r(e)),i(e,"scoreParticle",Q,r(e)),e._pickable=!1,e._startPrize=0,e._currentTier=0,e._currentScore=0,e._currentMultiplier=0,e._cachedColor=h(),e._cachedPosition=l(),e}n(e,t);var o=e.prototype;return o.onLoad=function(){var e=this;t.prototype.onLoad.call(this),g.addHandler(this),this.node.active=!1,this.pickableTiersList.forEach((function(t,i){t.mapItemsList.forEach((function(t,n){t.tier=i,t.index=n,t.delegate=e}))}))},o.onTaskInitialize=function(t,e){var i=this;if(this._pickable=!1,this._startPrize=e.mapStartPrize,this._currentTier=0,this._currentScore=0,this._currentMultiplier=0,this.multiplierParticle.stopSystem(),this.scoreParticle.stopSystem(),u.stopAllByTarget(this.highlightSkeleton.node),u.stopAllByTarget(this.multiplierParticle.node),u.stopAllByTarget(this.scoreParticle.node),e.gameMode===k.EGameMode.SUPER_MAP){var n;this._currentTier=e.mapTierInfosGroup.length;for(var r=e.mapTierInfosGroup.length-1;r>=0;--r){var o=e.mapTierInfosGroup[r];if(o&&o.pickedIndex>=0)break;this._currentTier=r}this.node.active=!0,this.tycoonSkeleton.setAnimation(0,tt,!0),this.backgroundSpritesList.forEach((function(t){var i;t.changeSpriteFrameFromAtlas(et[null!=(i=e.mapStageInfo.type)?i:k.EStageType.GREEN])})),this.banner.reset(),this.banner.updateMultiplier(this._currentMultiplier,!1),this.banner.updateScore(this._startPrize+this._currentScore,!1);for(var a=Math.min(this._currentTier,this.pickableTiersList.length),l=function(){var t,n=i.pickableTiersList[s],r=null!=(t=e.mapTierInfosGroup[s])?t:{pickedIndex:-1,itemInfosList:[]},o=r.itemInfosList[r.pickedIndex],a=(null==o?void 0:o.itemID)===k.EMapItem.WIN_ALL;n.mapItemsList.forEach((function(t,e){var n,o=null!=(n=r.itemInfosList[e])?n:{itemID:k.EMapItem.SCORE,value:0};a||e===r.pickedIndex?(i._collectItem(o,f.ZERO,!1),t.open(o,!1)):t.showDown(o,!1)}))},s=0;s<a;++s)l();null==(n=this.pickableTiersList[a])||n.mapItemsList.forEach((function(t){return t.cover(!0)}));for(var c=a+1;c<this.pickableTiersList.length;++c){this.pickableTiersList[c].mapItemsList.forEach((function(t){return t.cover(!1)}))}var p=this._getTierPosition(this._currentTier);p?(this.highlightSkeleton.node.setPosition(p),this.highlightSkeleton.color=m.WHITE):this.highlightSkeleton.color=m.TRANSPARENT,this._currentTier<=0?(this.pickOneSkeleton.node.setScale(1,1,1),this.pickOneSkeleton.color=m.WHITE):this.pickOneSkeleton.color=m.TRANSPARENT}else this.node.active=!1},o.onTaskMapGameTrigger=function(t,e){this._startPrize=e.mapStartPrize},o.onTaskMapGameStart=function(t,e){var i=this;this.startDisplay(),this._pickable=!1,this._currentTier=0,this._currentScore=0,this._currentMultiplier=0,this._cachedColor.set(m.WHITE),this._cachedColor.a=0,this.highlightSkeleton.color=this._cachedColor,this.pickOneSkeleton.node.setScale(.5,.5,1),this.pickOneSkeleton.color=this._cachedColor,this.multiplierParticle.stopSystem(),this.scoreParticle.stopSystem(),u.stopAllByTarget(this.highlightSkeleton.node),u.stopAllByTarget(this.multiplierParticle.node),u.stopAllByTarget(this.scoreParticle.node),S(this.highlightSkeleton.node).to(.25,{},{onStart:function(){return T.instance.playSoundEffect(d.AUDIO_URLS.SE_MAP_GAME_HIGHLIGHT_MOVE)},onUpdate:function(t,e){null!=e&&(i._cachedColor.a=_.lerp(0,255,e),i.highlightSkeleton.color=i._cachedColor)}}).call((function(){i.pickableTiersList[0].mapItemsList.forEach((function(t){return t.cover(!0)}))})).delay(.25).to(.3,{},{onUpdate:function(t,e){if(null!=e){var n=_.lerp(.5,1,e);i.pickOneSkeleton.node.setScale(n,n,1),i._cachedColor.a=_.lerp(0,255,e),i.pickOneSkeleton.color=i._cachedColor}}}).call((function(){return i.endDisplay()})).start()},o.onTaskMapGamePickStart=function(t,e){this._pickable=!0},o.onTaskMapGamePickEnd=function(t,e){var i=this;this._pickable=!1;var n=this.pickableTiersList[e.tier];if(n){var r=n.mapItemsList[e.itemIndex],o=e.itemInfosList[e.itemIndex],a=(null==o?void 0:o.itemID)===k.EMapItem.WIN_ALL,l=a?"open":"showDown",s=function(){n.mapItemsList.forEach((function(t){var n;if(t.index!==e.itemIndex){i.startDisplay();var r=null!=(n=e.itemInfosList[t.index])?n:{itemID:k.EMapItem.SCORE,value:0};t[l](r,!0,(function(){return i.endDisplay()}))}}))};if(r&&o?(this.startDisplay(),r.open(o,!0,(function(){if(a){i.tycoonSkeleton.setAnimation(0,"animation5",!1),i.tycoonSkeleton.addAnimation(0,tt,!0);var t=rt[_.randomRangeInt(0,rt.length)];T.instance.playSoundEffect(t)}else i._collectItem(o,i._getItemPositionForParticle(r),!0);s(),i.endDisplay()})),T.instance.playSoundEffect(d.AUDIO_URLS.SE_MAP_GAME_PICK)):s(),this.pickOneSkeleton.color.a>0){this._cachedColor.set(m.WHITE);var c=this.pickOneSkeleton.color.a;u.stopAllByTarget(this.highlightSkeleton.node),S(this.highlightSkeleton.node).delay(.2).to(.3,{},{onUpdate:function(t,e){null!=e&&(i._cachedColor.a=_.lerp(c,0,e),i.pickOneSkeleton.color=i._cachedColor)}}).start()}}},o.onTaskMapGameCollectItem=function(t,e){var i,n=null==(i=this.pickableTiersList[e.tier])?void 0:i.mapItemsList[e.itemIndex];n&&this._collectItem(e.itemInfo,this._getItemPositionForParticle(n),!0)},o.onTaskMapGameUpgrade=function(t,e){var i=this;if(e.tier!==this._currentTier){var n=this._getTierPosition(e.tier);n&&(this.startDisplay(),this._currentTier=e.tier,u.stopAllByTarget(this.highlightSkeleton.node),S(this.highlightSkeleton.node).delay(.4).to(.25,{position:n},{onStart:function(){return T.instance.playSoundEffect(d.AUDIO_URLS.SE_MAP_GAME_HIGHLIGHT_MOVE)}}).call((function(){i.pickableTiersList[i._currentTier].mapItemsList.forEach((function(t){return t.cover(!0)})),i.endDisplay()})).start())}},o.onTaskMapGameMultiply=function(t,e){var i=this;this.startDisplay(),this.banner.settle(!0,(function(){return i.endDisplay()}))},o.onTaskShowMapGame=function(t,e){if(e.mapStageInfo.super){this._pickable=!1,this._currentTier=0,this._currentScore=0,this._currentMultiplier=0,this.node.active=!0,this.tycoonSkeleton.setAnimation(0,tt,!0),this.banner.reset(),this.banner.updateMultiplier(this._currentMultiplier,!1),this.banner.updateScore(this._startPrize+this._currentScore,!1),this.backgroundSpritesList.forEach((function(t){var i;t.changeSpriteFrameFromAtlas(et[null!=(i=e.mapStageInfo.type)?i:k.EStageType.GREEN])})),this.pickableTiersList.forEach((function(t){return t.mapItemsList.forEach((function(t){return t.cover(!1)}))})),this.highlightSkeleton.color=m.TRANSPARENT;var i=this._getTierPosition(0);i&&this.highlightSkeleton.node.setPosition(i),this.pickOneSkeleton.color=m.TRANSPARENT,this.multiplierParticle.stopSystem(),this.scoreParticle.stopSystem(),u.stopAllByTarget(this.highlightSkeleton.node),u.stopAllByTarget(this.multiplierParticle.node),u.stopAllByTarget(this.scoreParticle.node)}},o.onTaskHideMapGame=function(t,e){this.node.active=!1},o.onMapItemClick=function(t){this._pickable&&t.tier===this._currentTier&&App.senderManager.get(y).c2sPickMapItem({floor:t.tier+1,pos:t.index+1})},o._getTierPosition=function(t){var e;return null==(e=this.pickableTiersList[t])||null==(e=e.mapItemsList)||null==(e=e[0])||null==(e=e.node.parent)?void 0:e.position},o._getItemPositionForParticle=function(t){var e,i;return this._cachedPosition.set(t.node.position).add(null!=(e=null==(i=t.node.parent)?void 0:i.position)?e:f.ZERO)},o._collectItem=function(t,e,i){var n=this;i?t.itemID===k.EMapItem.MULTIPLIER?(this.startDisplay(),this._currentMultiplier+=t.value,this.multiplierParticle.node.setPosition(e),this.multiplierParticle.resetSystem(),u.stopAllByTarget(this.multiplierParticle.node),S(this.multiplierParticle.node).to(.5,{position:it}).call((function(){n.multiplierParticle.stopSystem(),n.banner.updateMultiplier(n._currentMultiplier,!0),n.endDisplay()})).start(),T.instance.playOneShotSoundEffect(d.AUDIO_URLS.SE_MAP_GAME_MULTIPLIER_COLLECT)):t.itemID===k.EMapItem.SCORE&&(this.startDisplay(),this._currentScore+=t.value,this.scoreParticle.node.setPosition(e),this.scoreParticle.resetSystem(),u.stopAllByTarget(this.scoreParticle.node),S(this.scoreParticle.node).to(.5,{position:nt}).call((function(){n.scoreParticle.stopSystem(),n.banner.updateScore(n._startPrize+n._currentScore,!0),n.endDisplay()})).start(),T.instance.playOneShotSoundEffect(d.AUDIO_URLS.SE_MAP_GAME_SCORE_COLLECT)):t.itemID===k.EMapItem.MULTIPLIER?(this._currentMultiplier+=t.value,this.banner.updateMultiplier(this._currentMultiplier,!1)):t.itemID===k.EMapItem.SCORE&&(this._currentScore+=t.value,this.banner.updateScore(this._startPrize+this._currentScore,!1))},e}(E)).prototype,"tycoonSkeleton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(F.prototype,"backgroundSpritesList",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(F.prototype,"highlightSkeleton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(F.prototype,"pickableTiersList",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(F.prototype,"pickOneSkeleton",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(F.prototype,"banner",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(F.prototype,"multiplierParticle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(F.prototype,"scoreParticle",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=F))||N)||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/MapGamePopupLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberRoller.ts","./SubGameData32.ts","./Display9.ts","./CountdownableButton3.ts","./AudioHelper8.ts"],(function(t){var e,i,n,o,a,s,r,l,u,c,p,y,h,b,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.UIOpacity,l=t.sp,u=t.Tween,c=t.tween},function(t){p=t.NumberRoller},function(t){y=t.SubGameData},function(t){h=t.DisplayTaskManager,b=t.Display},function(t){f=t.CountdownableButton},function(t){m=t.AudioHelper}],execute:function(){var I,_,O,d,U,D,S,A,N,k,w,g,E,H,P,L,T,C;a._RF.push({},"13c3f8WkhpEgaCQAD+WawXp","MapGamePopupLayer",void 0);var G=s.ccclass,M=s.menu,v=s.property,R=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t[t.SHOWN=2]="SHOWN",t[t.HIDING=3]="HIDING",t}(R||{}),B="animation1",z="animation3";t("MapGamePopupLayer",(I=G("MapGamePopupLayer"),_=M(y.module+"/layers/MapGamePopupLayer"),O=v(r),d=v(l.Skeleton),U=v(p),D=v(r),S=v(f),A=v(r),N=v({visible:!0}),I(k=_((g=e((w=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"maskUIOpacity",g,o(e)),n(e,"skeleton",E,o(e)),n(e,"scoreNumberRoller",H,o(e)),n(e,"scoreUIOpacity",P,o(e)),n(e,"button",L,o(e)),n(e,"buttonUIOpacity",T,o(e)),n(e,"_super",C,o(e)),e._state=R.HIDDEN,e._score=0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),h.addHandler(this),this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this))},a.onTaskInitialize=function(t,e){this.stopAllDisplays(),this._state=R.HIDDEN,this.node.active=!1,this.button.stopCountdown()},a.onTaskMapGameSettle=function(t,e){e.super===this._super&&this._show(e.score)},a.onButtonClick=function(){this._hide(),m.instance.playSoundEffect(y.AUDIO_URLS.SE_COMMON_BUTTON_CLICK)},a._show=function(t){var e,i,n,o;this.stopAllDisplays(),this.startDisplay(),this._state=R.SHOWING,this._score=t,this.node.active=!0,u.stopAllByTarget(this.maskUIOpacity),this.maskUIOpacity.opacity=0,c(this.maskUIOpacity).to(.3,{opacity:255}).start(),this.skeleton.setAnimation(0,B,!1),this._super?(e=.4,i=.5,n=.4,o=.4):(e=.4,i=.15,n=.4,o=.25),this.scoreNumberRoller.startRolling(0,t,2),u.stopAllByTarget(this.scoreUIOpacity),this.scoreUIOpacity.opacity=0,c(this.scoreUIOpacity).delay(e).to(i,{opacity:255}).start(),this.button.interactable=!0,this.button.stopCountdown(),u.stopAllByTarget(this.buttonUIOpacity),this.buttonUIOpacity.opacity=0,c(this.buttonUIOpacity).delay(n).to(o,{opacity:255}).start(),m.instance.playSoundEffect(y.AUDIO_URLS.SE_POPUP_MAP_GAME_SETTLE)},a._hide=function(){var t,e,i,n,o,a;this._state===R.SHOWN&&(this._state=R.HIDING,this._super?(t=.8,e=.3,i=.4,n=.3,o=.25,a=.4):(t=.55,e=.25,i=.15,n=.25,o=.15,a=.25),u.stopAllByTarget(this.maskUIOpacity),c(this.maskUIOpacity).delay(t).to(e,{opacity:0}).start(),this.skeleton.setAnimation(0,z,!1),this.scoreNumberRoller.stopRollingAndShowNumber(this._score),u.stopAllByTarget(this.scoreUIOpacity),c(this.scoreUIOpacity).delay(i).to(n,{opacity:0}).start(),u.stopAllByTarget(this.buttonUIOpacity),this.button.interactable=!1,this.button.stopCountdown(),c(this.buttonUIOpacity).delay(o).to(a,{opacity:0}).start(),m.instance.stopEffect(y.AUDIO_URLS.SE_POPUP_MAP_GAME_SETTLE),m.instance.playSoundEffect(y.AUDIO_URLS.SE_COMMON_POPUP_HIDE))},a._onSkeletonAnimationComplete=function(t){var e=this;switch(t.animation.name){case B:this._state=R.SHOWN,this.skeleton.setAnimation(0,"animation2",!0),this.button.interactable=!0,this.button.startCountdown(4,(function(){return e._hide()}));break;case z:this._state=R.HIDDEN,this.node.active=!1,this.button.stopCountdown(),this.endDisplay()}},e}(b)).prototype,"maskUIOpacity",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(w.prototype,"skeleton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(w.prototype,"scoreNumberRoller",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(w.prototype,"scoreUIOpacity",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(w.prototype,"button",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(w.prototype,"buttonUIOpacity",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(w.prototype,"_super",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=w))||k)||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/MapGameSellingLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./FormatNumber.ts","./SubGameData32.ts","./Display9.ts","./AudioHelper8.ts","./ScreenHelper11.ts"],(function(e){var t,o,i,n,a,r,l,c,s,p,u,S,y,d,f,h,m,_,A,P,g,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.v3,c=e.sp,s=e.ParticleSystem2D,p=e.UIOpacity,u=e.Tween,S=e.clamp,y=e.tween,d=e.math,f=e.clamp01},function(e){h=e.Global},function(e){m=e.FormatNumber},function(e){_=e.SubGameData},function(e){A=e.DisplayTaskManager,P=e.Display},function(e){g=e.AudioHelper},function(e){k=e.ScreenHelper}],execute:function(){var b,U,O,v,I,M,D,G,E,L,T,N,R,w;a._RF.push({},"0aebdNCWZNJqpYfhTnwPb7J","MapGameSellingLayer",void 0);var z=r.ccclass,H=r.menu,C=r.property,F="animation8",x=l(129,255,0),B=l(0,-460,0),J=[_.AUDIO_URLS.SE_MAP_GAME_SPEECH_NORMAL_1,_.AUDIO_URLS.SE_MAP_GAME_SPEECH_NORMAL_2];e("MapGameSellingLayer",(b=z("MapGameSellingLayer"),U=H(_.module+"/layers/MapGameSellingLayer"),O=C(c.Skeleton),v=C(c.Skeleton),I=C(s),M=C(m),D=C(p),b(G=U((L=t((E=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"truckSkeleton",L,n(t)),i(t,"tycoonSkeleton",T,n(t)),i(t,"scoreParticle",N,n(t)),i(t,"scoreFormatNumber",R,n(t)),i(t,"scoreUIOpacity",w,n(t)),t._totalScoreAfterSelling=0,t._scoreOfSelling=0,t}o(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),A.addHandler(this),this.truckSkeleton.setCompleteListener(this._onTruckSkeletonAnimationComplete.bind(this))},a.onTaskInitialize=function(e,t){this.stopAllDisplays(),this._totalScoreAfterSelling=0,this._scoreOfSelling=0,this.node.active=!1,u.stopAllByTarget(this.scoreParticle.node)},a.onTaskMapGameSellOil=function(e,t){this.stopAllDisplays(),this.startDisplay(),this._totalScoreAfterSelling=t.totalScore,this._scoreOfSelling=t.score,this.node.active=!0;var o=S(t.mapStageIndexInGroup,1,4);this.truckSkeleton.enabled=!0,this.truckSkeleton.setAnimation(0,"animation"+o+"_1",!1),this.truckSkeleton.addAnimation(0,"animation"+o+"_2",!0),this.scoreFormatNumber.updateNumber(t.score),g.instance.playSoundEffect(_.AUDIO_URLS.SE_MAP_GAME_TRUCK_RUN)},a.onTaskShowMapGame=function(e,t){t.mapStageInfo.super||(this.node.active=!0,this.truckSkeleton.enabled=!1,this.tycoonSkeleton.setAnimation(0,F,!0),u.stopAllByTarget(this.scoreParticle.node),this.scoreParticle.node.active=!1,this.scoreParticle.node.setPosition(x),this.scoreParticle.node.setScale(1,1,1),this.scoreParticle.stopSystem(),this.scoreUIOpacity.node.setScale(.5,.5,1),this.scoreUIOpacity.opacity=0)},a.onTaskHideMapGame=function(e,t){this.node.active=!1},a._onTruckSkeletonAnimationComplete=function(e){var t=this;e.animation.name.endsWith("_1")&&(this.tycoonSkeleton.setAnimation(0,"animation7",!1),this.tycoonSkeleton.addAnimation(0,F,!0),u.stopAllByTarget(this.scoreParticle.node),this.scoreParticle.node.active=!0,this.scoreParticle.node.setPosition(x),this.scoreParticle.node.setScale(1,1,1),this.scoreParticle.resetSystem(),this.scoreUIOpacity.node.setScale(.5,.5,1),this.scoreUIOpacity.opacity=0,y(this.scoreParticle.node).to(.35,{},{onStart:function(){g.instance.playSoundEffect(_.AUDIO_URLS.SE_MAP_GAME_BONUS_APPEAR);var e=J[d.randomRangeInt(0,J.length)];g.instance.playSoundEffect(e)},onUpdate:function(e,o){if(null!=o){t.scoreUIOpacity.opacity=d.lerp(0,255,o);var i=d.lerp(.5,1.2,o);t.scoreUIOpacity.node.setScale(i,i,1)}}}).to(.15,{},{onUpdate:function(e,o){if(null!=o){var i=d.lerp(1.2,1,o);t.scoreUIOpacity.node.setScale(i,i,1)}}}).delay(.5).to(.15,{},{onUpdate:function(e,o){if(null!=o){t.scoreParticle.node.setPosition(x.x,x.y+d.lerp(0,20,o),1);var i=d.lerp(1,1.1,o);t.scoreParticle.node.setScale(i,i,1)}}}).to(.35,{},{onUpdate:function(e,o){if(null!=o){var i=B.y+.5*(h.design_width-k.renderSize.height);t.scoreParticle.node.setPosition(d.lerp(x.x,B.x,o),d.lerp(x.y+20,i,o),1);var n=f((1-o)/.5);t.scoreUIOpacity.opacity=d.lerp(0,255,n)}},onComplete:function(){t.scoreParticle.stopSystem(),A.runTask("updateTotalScoreAfterSellingOil",{totalScore:t._totalScoreAfterSelling,score:t._scoreOfSelling})}}).delay(.5).call((function(){t.endDisplay()})).start())},t}(P)).prototype,"truckSkeleton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(E.prototype,"tycoonSkeleton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(E.prototype,"scoreParticle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(E.prototype,"scoreFormatNumber",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(E.prototype,"scoreUIOpacity",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=E))||G)||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/MapItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FormatNumber.ts","./SubGameData32.ts","./SubGameDefines33.ts"],(function(e){var t,o,i,n,a,l,r,c,s,m,u,p,h,b,k,S,v,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,r=e._decorator,c=e.Label,s=e.sp,m=e.color,u=e.Color,p=e.tween,h=e.math,b=e.Tween,k=e.Component},function(e){S=e.FormatNumber},function(e){v=e.SubGameData},function(e){d=e.common}],execute:function(){var I,f,A,_,L,E,N,y,C,R,M,T,g,w;l._RF.push({},"25da1ICywpLYZ8AYyhpYU42","MapItem",void 0);var D=r.ccclass,F=r.menu,P=r.property,z="animation1_2",G="animation2_2",W="animation",Y="animation2";e("MapItem",(I=D("MapItem"),f=F(v.module+"/elements/MapItem"),A=P(c),_=P(S),L=P(c),E=P(s.Skeleton),N=P(s.Skeleton),I(y=f((R=t((C=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"multiplierLabel",R,n(t)),i(t,"scoreFormatNumber",M,n(t)),i(t,"scoreLabel",T,n(t)),i(t,"specialItemSkeleton",g,n(t)),i(t,"coverSkeleton",w,n(t)),t.tier=-1,t.index=-1,t._delegate=void 0,t._callback=void 0,t._cachedColor=m(),t}o(t,e);var l=t.prototype;return l.onLoad=function(){this.coverSkeleton.setCompleteListener(this._onCoverSkeletonAnimationComplete.bind(this)),this.cover(!1)},l.cover=function(e){var t=this;this._reset(),this.coverSkeleton.setAnimation(0,W,!1),this.coverSkeleton.color=e?u.WHITE:u.GRAY,e&&p(this.coverSkeleton.node).delay(h.randomRangeInt(0,3)).call((function(){return t.coverSkeleton.setAnimation(0,"animation1",!0)})).start()},l.open=function(e,t,o){this._reset();var i=void 0;switch(e.itemID){case d.EMapItem.MULTIPLIER:this.multiplierLabel.string=e.value+"X",i=this.multiplierLabel;break;case d.EMapItem.SCORE:this.scoreFormatNumber.updateNumber(e.value),i=this.scoreLabel;break;case d.EMapItem.WIN_ALL:this.specialItemSkeleton.setAnimation(0,z,!0),i=this.specialItemSkeleton;break;case d.EMapItem.END:this.specialItemSkeleton.setAnimation(0,G,!0),i=this.specialItemSkeleton}if(i)if(t)if(this._callback=o,this.coverSkeleton.color=u.WHITE,this.coverSkeleton.setAnimation(0,Y,!1),i instanceof c)i.node.setScale(0,0,1),p(this.coverSkeleton.node).delay(.15).to(.15,{},{onStart:function(){return i.color=u.WHITE},onUpdate:function(e,t){if(null!=t){var o=h.lerp(0,1,t);i.node.setScale(o,o,1)}}}).start();else{var n="animation1",a=z;e.itemID===d.EMapItem.END&&(n="animation2",a=G),p(this.coverSkeleton.node).delay(.15).call((function(){i.color=u.WHITE,i.setAnimation(0,n,!1),i.addAnimation(0,a,!0)})).start()}else i.color=u.WHITE;else t&&o&&o(this)},l.showDown=function(e,t,o){var i=this;this._reset();var n=void 0;switch(e.itemID){case d.EMapItem.MULTIPLIER:this.multiplierLabel.string=e.value+"X",n=this.multiplierLabel;break;case d.EMapItem.SCORE:this.scoreFormatNumber.updateNumber(e.value),n=this.scoreLabel;break;case d.EMapItem.WIN_ALL:this.specialItemSkeleton.setAnimation(0,"animation1_1",!1),n=this.specialItemSkeleton;break;case d.EMapItem.END:this.specialItemSkeleton.setAnimation(0,"animation2_1",!1),n=this.specialItemSkeleton}n?(n.color=u.GRAY,t&&(this._cachedColor.set(u.GRAY),this._callback=o,this.coverSkeleton.color=u.GRAY,this.coverSkeleton.setAnimation(0,W,!1),p(this.coverSkeleton.node).to(.5,{},{onUpdate:function(e,t){null!=t&&(i._cachedColor.a=h.lerp(255,0,t),i.coverSkeleton.color=i._cachedColor,i._cachedColor.a=255-i._cachedColor.a,n.color=i._cachedColor)}}).call((function(){return null==o?void 0:o(i)})).start())):t&&o&&o(this)},l.onButtonClick=function(){var e;null==(e=this._delegate)||e.onMapItemClick(this)},l._reset=function(){this.multiplierLabel.node.setScale(1,1,1),this.multiplierLabel.color=u.TRANSPARENT,this.scoreLabel.node.setScale(1,1,1),this.scoreLabel.color=u.TRANSPARENT,this.specialItemSkeleton.clearAnimation(0),this.specialItemSkeleton.color=u.TRANSPARENT,this.coverSkeleton.clearAnimation(0),this.coverSkeleton.color=u.TRANSPARENT,b.stopAllByTarget(this.coverSkeleton.node)},l._onCoverSkeletonAnimationComplete=function(e){if(e.animation.name===Y){var t=this._callback;this._callback=void 0,null==t||t(this)}},a(t,[{key:"delegate",set:function(e){this._delegate=e}}]),t}(k)).prototype,"multiplierLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(C.prototype,"scoreFormatNumber",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(C.prototype,"scoreLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(C.prototype,"specialItemSkeleton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(C.prototype,"coverSkeleton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y)||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/MapLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SubGameData32.ts","./Display9.ts","./Stage2.ts","./AudioHelper8.ts","./ScreenHelper11.ts"],(function(t){var e,i,o,n,a,s,r,c,l,u,h,p,d,g,S,_,f,I,y,N,D,m,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.UIOpacity,c=t.Node,l=t.ScrollView,u=t.sp,h=t.v2,p=t.v3,d=t.Tween,g=t.tween,S=t.math,_=t.easing},function(t){f=t.CommonEvent},function(t){I=t.SubGameData},function(t){y=t.DisplayTaskManager,N=t.Display},function(t){D=t.Stage},function(t){m=t.AudioHelper},function(t){O=t.ScreenHelper}],execute:function(){var b,k,v,z,H,C,M,P,U,T,w,A,B,E,R,G;a._RF.push({},"049ceATbv1L8aoLHaPz1+7z","MapLayer",void 0);var L=s.ccclass,W=s.menu,F=s.property,V=function(t){return t[t.HIDDEN=0]="HIDDEN",t[t.SHOWING=1]="SHOWING",t[t.SHOWN=2]="SHOWN",t[t.HIDING=3]="HIDING",t}(V||{}),x="animation1";t("MapLayer",(b=L("MapLayer"),k=W(I.module+"/layer/MapLayer"),v=F(r),z=F(c),H=F(c),C=F(l),M=F(c),P=F(u.Skeleton),b(U=k((w=e((T=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,o(e,"maskUIOpacity",w,n(e)),o(e,"innerInputBlockerNode",A,n(e)),o(e,"resizableNode",B,n(e)),o(e,"scrollView",E,n(e)),o(e,"stagesRootNode",R,n(e)),o(e,"cursorSkeleton",G,n(e)),e._state=V.HIDDEN,e._currentStageID=0,e._cachedPositionForSpace=h(),e._cachedPositionForCursor=p(),e}i(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),y.addHandler(this),this.onD(f.SWITCH_SCREEN,this._onOrientationChange),this._hide(!1),this.cursorSkeleton.setAnimation(0,x,!0),this.innerInputBlockerNode.active=!1},a.onTaskInitialize=function(t,e){this.stopAllDisplays(),this._currentStageID=e.mapStageID,d.stopAllByTarget(this.stagesRootNode),d.stopAllByTarget(this.resizableNode),d.stopAllByTarget(this.cursorSkeleton.node),this._hide(!1),this._updateStageStates(),this._focusOnStage(this._currentStageID),this._updateCursorPosition(this._currentStageID),this.innerInputBlockerNode.active=!1},a.onTaskMapGameMoveCursor=function(t,e){var i=this;this.startDisplay(),this._focusOnStage(this._currentStageID),this._currentStageID=e.mapStageID,this.innerInputBlockerNode.active=!0;var o=function(){i._focusOnStage(i._currentStageID,.55),i._updateCursorPosition(i._currentStageID,.55),d.stopAllByTarget(i.stagesRootNode),g(i.stagesRootNode).delay(.55).call((function(){var t,e=null==(t=i.stagesRootNode.children[i._currentStageID])?void 0:t.getComponent(D);e&&(e.highlight(),I.getMapStageInfo(i._currentStageID).super)})).delay(1).call((function(){y.runTask("showMapGame",{mapStageID:i._currentStageID,mapStageInfo:I.getMapStageInfo(i._currentStageID)}),i._hide(!0,(function(){i._currentStageID>=I.MAP_STAGES_NUMBER-1&&(i._currentStageID=0,i._updateCursorPosition(0)),i._updateStageStates(),i.innerInputBlockerNode.active=!1,i.endDisplay()}))})).start()};this._state===V.SHOWN?o():this._show(!1,!0,o)},a.onTaskChangeBet=function(t,e){this._currentStageID=e.mapStageID,this._updateStageStates(),this._focusOnStage(this._currentStageID),this._updateCursorPosition(this._currentStageID)},a.onTaskShowMap=function(t,e){this._show(!0,!0)},a.onTaskHideMap=function(t,e){this._hide(!0)},a._show=function(t,e,i){var o=this;if(t&&this._focusOnStage(this._currentStageID),!e)return this._state=V.SHOWN,this.maskUIOpacity.node.active=!0,this.maskUIOpacity.opacity=255,void this._onOrientationChange();if(this._state!==V.SHOWING&&this._state!==V.SHOWN){this._state=V.SHOWING;var n=O.renderSize.height,a=Math.abs(.5*-n-this.resizableNode.position.y)/n,s=255*(1-a),r=this.resizableNode.position.y;this.maskUIOpacity.node.active=!0,this.maskUIOpacity.opacity=s,d.stopAllByTarget(this.resizableNode),g(this.resizableNode).to(.6*a,{},{onUpdate:function(t,e){null!=e&&(o.maskUIOpacity.opacity=S.lerp(s,255,e),o.resizableNode.setPosition(0,S.lerp(r,.5*-O.renderSize.height,_.sineOut(e)),0))},onComplete:function(){o._state=V.SHOWN,o.maskUIOpacity.node.active=!0,o.maskUIOpacity.opacity=255,o.resizableNode.setPosition(0,.5*-O.renderSize.height,0),null==i||i()}}).start()}},a._hide=function(t,e){var i=this;if(!t)return this._state=V.HIDDEN,this.maskUIOpacity.node.active=!1,this.maskUIOpacity.opacity=0,void this._onOrientationChange();if(this._state!==V.HIDING&&this._state!==V.HIDDEN){this._state=V.HIDING;var o=O.renderSize.height,n=255*(Math.abs(.5*o-this.resizableNode.position.y)/o),a=this.resizableNode.position.y;this.maskUIOpacity.node.active=!0,this.maskUIOpacity.opacity=n,d.stopAllByTarget(this.resizableNode),g(this.resizableNode).to(.6*Math.abs(.5*o-this.resizableNode.position.y)/o,{},{onUpdate:function(t,e){null!=e&&(i.maskUIOpacity.opacity=S.lerp(n,0,e),i.resizableNode.setPosition(0,S.lerp(a,.5*O.renderSize.height,_.sineOut(e)),0))},onComplete:function(){i._state=V.HIDDEN,i.maskUIOpacity.node.active=!1,i.maskUIOpacity.opacity=0,i.resizableNode.setPosition(0,.5*O.renderSize.height,0),null==e||e()}}).start()}},a.onBackButtonClick=function(){this._hide(!0),m.instance.playSoundEffect(I.AUDIO_URLS.SE_COMMON_BUTTON_CLICK)},a._updateStageStates=function(){var t=this;this.stagesRootNode.children.forEach((function(e,i){var o=e.getComponent(D);o&&(o.completed=i<=t._currentStageID)}))},a._focusOnStage=function(t,e){var i,o=(null!=(i=this.stagesRootNode.children[t])?i:this.stagesRootNode.children[0]).position,n=this.scrollView.getMaxScrollOffset().y,a=Math.min(Math.max(0,n-(o.y-.5*O.renderSize.height)),n);this._cachedPositionForSpace.set(this.scrollView.getScrollOffset().x,a),this.scrollView.scrollToOffset(this._cachedPositionForSpace,e,!1)},a._updateCursorPosition=function(t,e){d.stopAllByTarget(this.cursorSkeleton.node);var i=this._getPositionForCursor(t);if(null==e||e<=0)return this.cursorSkeleton.node.setPosition(i),void this.cursorSkeleton.setAnimation(0,x,!0);g(this.cursorSkeleton.node).to(e,{position:i},{easing:"cubicOut"}).start(),this.cursorSkeleton.setAnimation(0,"animation2",!1),this.cursorSkeleton.addAnimation(0,x,!0)},a._getPositionForCursor=function(t){var e,i=null!=(e=this.stagesRootNode.children[t])?e:this.stagesRootNode.children[0],o=0===t?145:95;return this._cachedPositionForCursor.set(i.position.x,i.position.y+o,0),this._cachedPositionForCursor},a._onOrientationChange=function(){if(this._state===V.HIDDEN){var t=O.renderSize;this.resizableNode.setPosition(0,.5*t.height,0)}else if(this._state===V.SHOWN){var e=O.renderSize;this.resizableNode.setPosition(0,.5*-e.height,0)}},e}(N)).prototype,"maskUIOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(T.prototype,"innerInputBlockerNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(T.prototype,"resizableNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(T.prototype,"scrollView",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(T.prototype,"stagesRootNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(T.prototype,"cursorSkeleton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=T))||U)||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/PageChange15.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SlotGameDefines.ts"],(function(e){var t,n,r,a,i,o,g,u,s,l,P,c,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,g=e.PageView,u=e.Node,s=e.SpriteFrame,l=e.Sprite,P=e.Component},function(e){c=e.CommonEvent},function(e){h=e.SoundName}],execute:function(){var p,f,d,m,C,y,L,x,b;i._RF.push({},"94650kw0i1PpolJLYQBfMPQ","PageChange",void 0);var v=o.ccclass,I=o.property;e("PageChange",(p=v("PageChange"),f=I({type:g}),d=I({type:u}),m=I({type:[s]}),p((L=t((y=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"Page",L,a(t)),r(t,"Layout",x,a(t)),r(t,"Sprite",b,a(t)),t.PageNum=7,t}n(t,e);var i=t.prototype;return i.GoNextPage=function(){Log.d(this.Page.getCurrentPageIndex()+"!!!!"),this.Page.getCurrentPageIndex()<this.PageNum?this.Page.scrollToPage(this.Page.getCurrentPageIndex()+1):this.Page.scrollToPage(0)},i.GoLastPage=function(){this.Page.getCurrentPageIndex()>0?this.Page.scrollToPage(this.Page.getCurrentPageIndex()-1):this.Page.scrollToPage(this.PageNum)},i.ChangeIndex=function(){dispatch(c.PLAY_EFFECT,h.SOUND_HELP_PLAY_CHANGE);for(var e=0;e<this.Layout.children.length&&!(this.Page.getCurrentPageIndex()>this.PageNum||this.Page.getCurrentPageIndex()<0);e++)e==this.Page.getCurrentPageIndex()?this.Layout.children[e].getComponent(l).spriteFrame=this.Sprite[1]:this.Layout.children[e].getComponent(l).spriteFrame=this.Sprite[0]},t}(P)).prototype,"Page",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(y.prototype,"Layout",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(y.prototype,"Sprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=y))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/PaywayLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./AnimatedSymbol6.ts","./AnimatedSymbolNodePool6.ts","./AudioHelper8.ts","./DelayUtil.ts"],(function(n){var t,e,i,a,o,s,l,r,u,c,y,p,f,h;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){i=n.cclegacy,a=n._decorator,o=n.Tween,s=n.tween},function(n){l=n.default},function(n){r=n.SubGameData},function(n){u=n.common},function(n){c=n.DisplayTaskManager},function(n){y=n.AnimatedSymbol},function(n){p=n.AnimatedSymbolNodePool},function(n){f=n.AudioHelper},function(n){h=n.DelayUtil}],execute:function(){var d;i._RF.push({},"3c701niUNNLD4BZIdZBAb/n","PaywayLayer",void 0);var _=a.ccclass,m=a.menu;a.property,n("PaywayLayer",_("PaywayLayer")(d=m(r.module+"/layers/PaywayLayer")(d=function(n){function i(){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this)._featureType=u.EFeatureType.NONE,t._paywaysList=[],t.$_isWinSound=!1,t}t(i,n);var a=i.prototype;return a.onLoad=function(){n.prototype.onLoad.call(this),c.addHandler(this),this.onD(u.EventName.UPDATE_SYMBOL_GROUP,this.f_updateSymbolsGroups.bind(this))},a.f_updateSymbolsGroups=function(){o.stopAllByTarget(this.node)},a.onTaskInitialize=function(n,t){this._featureType=t.featureType,0==t.isReconnect&&(this._paywaysList.length=0,this._clearAllAnimations())},a.onTaskBonusGameTrigger=function(n,t){this.f_playWinend(),this.unscheduleAllCallbacks()},a.onTaskSpinStart=function(n,t){this._paywaysList.length=0,this._clearAllAnimations(),this.f_playWinend(),this.unscheduleAllCallbacks(),f.instance.stopEffect(r.AUDIO_URLS.win1)},a.onTaskHitPayways=function(n,t){var e=this;if(this._clearAllAnimations(),!(t.paywayColumnsMap.size<=0)){this.$_isWinSound=!0,f.instance.playSoundEffect(r.AUDIO_URLS.win1);h.runWithOverride(this,(function(){e.f_playWinend()}),2.8),this._paywaysList.length=0,t.paywayColumnsMap.forEach((function(n,t){e._paywaysList.push({symbolID:t,maxColumn:n})})),this._paywaysList.sort((function(n,t){return n.symbolID===t.symbolID?0:n.symbolID===r.WILD_SYMBOL_ID?-1:t.symbolID===r.WILD_SYMBOL_ID?1:n.symbolID-t.symbolID}));for(var i=r.getSymbolsNumberInReel(this._featureType),a=(this._featureType&u.EFeatureType.GREEN_TOWER)>0||(this._featureType&u.EFeatureType.BLUE_TOWER)>0,o=0;o<r.REELS_NUMBER;++o)for(var s=i-1;s>=0;--s){var l,c,d,_,m=null!=(l=null==(c=t.symbolsGroups[o])||null==(c=c[s])?void 0:c.id)?l:-1,D=null!=(d=null==(_=t.symbolsGroups[o])||null==(_=_[s])?void 0:_.re_icon)?d:0,v=t.paywayColumnsMap.get(m);if(!(null==v||o>v)){var I=p.instance.pop();if(I){var L=r.f_pianyi(o);I.setPosition(r.SYMBOL_SIZE.width*(o-2)+L,r.SYMBOL_SIZE.height*(s+.5)),I.setParent(this.node);var S=I.getComponent(y);S&&(S.symbolID=m,S.freeMode=a,S.re_icon=D,S.row=s,S.column=o)}}}this._playHittingPayways(t.celebrating?1.7:0)}},a.f_playWinend=function(){0!=this.$_isWinSound&&(this.$_isWinSound=!1,this.unschedule(this.f_playWinend),f.instance.stopEffect(r.AUDIO_URLS.win1),f.instance.playSoundEffect(r.AUDIO_URLS.win1end))},a.onTaskChangeGame=function(n,t){this._featureType=t.nextFeatureType,this._clearAllAnimations()},a._clearAllAnimations=function(){o.stopAllByTarget(this.node),this.node.children.slice().forEach((function(n){n.active=!1,p.instance.push(n)}))},a._playHittingPayways=function(n){var t=this;if(!(this.node.children.length<=0)){var e=-1,i=function(){o.stopAllByTarget(t.node),s(t.node).call((function(){if(!r.$_isStopLianXian){e=++e%t._paywaysList.length;var n=t._paywaysList[e];dispatch(u.EventName.START_HIT),n.symbolID===r.WILD_SYMBOL_ID?t.node.children.forEach((function(n){var t=n.getComponent(y);dispatch(u.EventName.HIT_WILD,null==t?void 0:t.column);var e=9!=(null==t?void 0:t.re_icon);9!=t.re_icon&&(null==t||t.hit(e,t.symbolID),n.active=!0)})):t.node.children.forEach((function(t){t.active=!1;var e=t.getComponent(y);if(e&&9!=e.re_icon&&!(e.column>n.maxColumn||e.symbolID!==r.WILD_SYMBOL_ID&&e.symbolID!==n.symbolID)){dispatch(u.EventName.HIT_WILD,e.column),t.active=!0;var i=9!=(null==e?void 0:e.re_icon);null==e||e.hit(i,n.symbolID)}}))}})).delay(3).union().call((function(){t.node.children.forEach((function(n){n.active=!1})),dispatch(u.EventName.HIDE_HIT_WILD)})).delay(.2).union().repeatForever().start()};n<=0?i():(o.stopAllByTarget(this.node),s(this.node).delay(n).call(i).start())}},e(i,[{key:"displaying",get:function(){return!1}}]),i}(l))||d)||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/PickingBanner2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FormatNumber.ts","./SubGameData32.ts","./AudioHelper8.ts"],(function(e){var t,i,l,n,o,r,a,s,u,m,c,p,b,h,d,k,_,S,f,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.v3,s=e.Label,u=e.sp,m=e.color,c=e.Tween,p=e.Color,b=e.math,h=e.tween,d=e.bezier,k=e.clamp01,_=e.Component},function(e){S=e.FormatNumber},function(e){f=e.SubGameData},function(e){A=e.AudioHelper}],execute:function(){var C,L,v,g,y,N,F,P,T,M,w,z,B,E;o._RF.push({},"445f7/jNQ9NooWk+TQuJN2d","PickingBanner",void 0);var H=r.ccclass,I=r.menu,D=r.property,W=a(-193,3,0),x=a(98,-5,0);e("PickingBanner",(C=H("PickingBanner"),L=I(f.module+"/elements/PickingBanner"),v=D(s),g=D(S),y=D(u.Skeleton),N=D(u.Skeleton),F=D(u.Skeleton),C(P=L((M=t((T=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,l(t,"multiplierLabel",M,n(t)),l(t,"scoreFormatNumber",w,n(t)),l(t,"multiplierSkeleton",z,n(t)),l(t,"scoreSkeleton",B,n(t)),l(t,"settlementSkeleton",E,n(t)),t._multiplier=1,t._score=0,t._mulitiplierAnimationCallback=void 0,t._scoreAnimationCallback=void 0,t._settlementAnimationCallback=void 0,t._cachedColor=m(),t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.multiplierSkeleton.setCompleteListener(this._onMultiplierSkeletonAnimationComplete.bind(this)),this.scoreSkeleton.setCompleteListener(this._onScoreSkeletonAnimationComplete.bind(this)),this.settlementSkeleton.setCompleteListener(this._onSettlementSkeletonAnimationComplete.bind(this)),this.reset()},o.reset=function(){this._multiplier=1,this._score=0,c.stopAllByTarget(this.multiplierLabel.node),this.multiplierLabel.node.position=W,this.multiplierLabel.string="",this.multiplierLabel.color=p.WHITE,this.scoreFormatNumber.updateNumber(0),this.multiplierSkeleton.enabled=!1,this.scoreSkeleton.enabled=!1,this.settlementSkeleton.enabled=!1},o.updateMultiplier=function(e,t,i){this._multiplier=Math.max(1,e),this._multiplier<=1?this.multiplierLabel.string="":this.multiplierLabel.string=this._multiplier+"X",t?(this._mulitiplierAnimationCallback=i,this.multiplierSkeleton.enabled=!0,this.multiplierSkeleton.setAnimation(0,"animation2",!1)):this.multiplierSkeleton.enabled=!1},o.updateScore=function(e,t,i){this._score=e,this.scoreFormatNumber.updateNumber(this._score),t?(this._scoreAnimationCallback=i,this.scoreSkeleton.enabled=!0,this.scoreSkeleton.setAnimation(0,"animation1",!1)):this.scoreSkeleton.enabled=!1},o.settle=function(e,t){var i=this;if(c.stopAllByTarget(this.multiplierLabel.node),this.multiplierLabel.node.position=W,this.multiplierLabel.color=p.WHITE,!e)return this.scoreFormatNumber.updateNumber(this._multiplier*this._score),void(this.settlementSkeleton.enabled=!1);this._settlementAnimationCallback=t,this._cachedColor.set(p.WHITE);var l=W.x,n=W.y,o=x.x,r=x.y,a=b.lerp(l,o,.25),s=n+.35*Math.abs(o-l),u=b.lerp(l,o,.75),m=s;h(this.multiplierLabel.node).delay(1.5).to(.5,{},{onStart:function(){return A.instance.playSoundEffect(f.AUDIO_URLS.SE_MAP_GAME_MULTIPLY)},onUpdate:function(e,t){if(null!=t){var c=d(l,a,u,o,t),p=d(n,s,m,r,t);i.multiplierLabel.node.setPosition(c,p,0);var h=k((1-t)/.5);i._cachedColor.a=b.lerp(63,255,h),i.multiplierLabel.color=i._cachedColor}}}).call((function(){i.multiplierLabel.node.position=W,i.multiplierLabel.string="",i.multiplierLabel.color=p.WHITE,i.scoreFormatNumber.updateNumber(i._multiplier*i._score),i.settlementSkeleton.enabled=!0,i.settlementSkeleton.setAnimation(0,"animation",!1)})).start()},o._onMultiplierSkeletonAnimationComplete=function(e){var t=this._mulitiplierAnimationCallback;this._mulitiplierAnimationCallback=void 0,null==t||t(this)},o._onScoreSkeletonAnimationComplete=function(e){var t=this._scoreAnimationCallback;this._scoreAnimationCallback=void 0,null==t||t(this)},o._onSettlementSkeletonAnimationComplete=function(e){var t=this._settlementAnimationCallback;this._settlementAnimationCallback=void 0,null==t||t(this)},t}(_)).prototype,"multiplierLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(T.prototype,"scoreFormatNumber",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(T.prototype,"multiplierSkeleton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(T.prototype,"scoreSkeleton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(T.prototype,"settlementSkeleton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=T))||P)||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol33.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"b8913TV5B1DYKKs9hLPg0p8","Protocol",void 0);var s=t("Protocol",(function(){}));s.LOGIN="login",s.LOGOUT="logout",s.USERINFO="userinfo",s.USER_KICK="user_kick",s.ERRORCODE="errorcode",s.MARQUEE="marquee",s.TIPS="tips",s.DEBUG_LOGIN="debug_login",s.MARK="mark",s.SLOT_INFO="slot_info",s.GM_SPIN="gm_slot",s.BET_SPIN="slot",s.FREE_SPIN="free_spin",s.CHANGE_BET="slot_bet",s.PICK_JACKPOT_SYMBOL="slot_jackpot",s.PICK_MAP_ITEM="super_chose",s.LAST_MAP="last_map",s.COLLECT_JACKPOT="slot_bet_refresh";t("ReelData",(function(){this.col=0,this.icon=[],this.re_icon=[],this.num=[]})),t("PageData",(function(){this.icon_list=[],this.map=[],this.score=0,this.icons=[],this.tower_reward=[],this.tower_state=[],this.jackpot_open=[],this.jackpot_before=[],this.jackpot_after=[],this.jp_icon_add=0,this.jp_chose_add=0,this.add=0})),t("PaywayData",(function(){this.icon=0,this.col=0,this.num=0,this.mul=0,this.one_add=0})),t("FeatureData",(function(){this.id=0,this.state=0})),t("JackpotBonus",(function(){this.id=0,this.num=0})),t("MapItemData",(function(){this.item_id=0,this.num=0})),t("MapGameLevelData",(function(){this.pos=0,this.item_list=[]}));i._RF.pop()}}}));

System.register("chunks:///_virtual/ReelLayer8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./Symbol8.ts","./AudioHelper8.ts"],(function(e){var t,i,o,s,n,r,a,l,h,_,m,c,d,u,S,p,y,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized,n=e.createClass},function(e){r=e.cclegacy,a=e._decorator,l=e.Prefab,h=e.Node,_=e.instantiate,m=e.easing,c=e.math},function(e){d=e.SubGameData},function(e){u=e.common},function(e){S=e.DisplayTaskManager,p=e.Display},function(e){y=e.Symbol},function(e){b=e.AudioHelper}],execute:function(){var f,g,N,I,T,v,E,P,R,C,L,O,x,B,A,D,M;r._RF.push({},"979bb1qlpZJNZUMuW4WRuKD","ReelLayer",void 0);var Y=a.ccclass,F=a.menu,G=a.property,w=function(e){return e[e.IDLE=0]="IDLE",e[e.ACCELERATING=1]="ACCELERATING",e[e.CONSTANT_SPINNING=2]="CONSTANT_SPINNING",e[e.DECELERATING=3]="DECELERATING",e[e.BOUNCING_OUT=4]="BOUNCING_OUT",e[e.BOUNCING_IN=5]="BOUNCING_IN",e}(w||{});e("ReelLayer",(f=Y("ReelLayer"),g=F(d.module+"/layers/ReelLayer"),N=G(l),I=G(h),T=G(h),v=G(h),E=G(h),P=G({visible:!0}),f(R=g(((M=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,o(t,"symbolPrefab",L,s(t)),o(t,"externalSpinningSymbolsRootNode",O,s(t)),o(t,"externalSpinningScattersRootNode",x,s(t)),o(t,"externalShowingSymbolsRootNode",B,s(t)),o(t,"externalShowingScattersRootNode",A,s(t)),o(t,"_index",D,s(t)),t._featureType=u.EFeatureType.NONE,t._state=w.IDLE,t._spinSpeedType=u.ESpinSpeedType.DEFAULT,t._spinProcessConfig=d.SPIN_CONFIGURATION.default[0],t._elapsedTime=0,t._constantSpinningTimeout=0,t._targetSymbolInfos=null,t._manualStopping=!1,t._currentTargetIndex=-999,t._symbolNodes=[],t._symbolsNumberInReel=0,t._maxPositionYForPlace=0,t._minPositionYForPlace=0,t._maxPositionYForShow=0,t._minPositionYForShow=0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),this._symbolsNumberInReel=d.getSymbolsNumberInReel(this._featureType);var t=d.MAX_SYMBOLS_NUMBER_IN_REEL+4;this._minPositionYForPlace=1.5*-d.SYMBOL_SIZE.height,this._maxPositionYForPlace=d.SYMBOL_SIZE.height*(t-2+.5),this._minPositionYForShow=1.5*-d.SYMBOL_SIZE.height,this._maxPositionYForShow=d.SYMBOL_SIZE.height*(this._symbolsNumberInReel+2-.5),this.externalSpinningSymbolsRootNode.removeAllChildren(),this.externalSpinningScattersRootNode.removeAllChildren(),this.externalShowingSymbolsRootNode.removeAllChildren(),this.externalShowingScattersRootNode.removeAllChildren();for(var i=0;i<t;++i){var o=_(this.symbolPrefab);this._symbolNodes.push(o)}},r.onDestroy=function(){this._symbolNodes.length=0,e.prototype.onDestroy.call(this)},r.f_setFeatureType=function(e){this._featureType=e},r.reset=function(e,t){this.stopAllDisplays(),this._featureType=e,this._state=w.IDLE,this._spinSpeedType=u.ESpinSpeedType.DEFAULT,this._elapsedTime=0,this._constantSpinningTimeout=0,this._targetSymbolInfos=null,this._manualStopping=!1,this._symbolsNumberInReel=d.getSymbolsNumberInReel(e),this._maxPositionYForShow=d.SYMBOL_SIZE.height*(this._symbolsNumberInReel+2-.5);for(var i=this._symbolsNumberInReel+4-1;i>=0;--i){var o=i-2,s=this._getSymbolInfoFrom(t,o),n=o>=0&&o<this._symbolsNumberInReel,r=this._symbolNodes[i];r.setParent(this._inferSymbolParent(s.id,n)),r.setSiblingIndex(999);var a=r.getComponent(y);a&&(a.info=s,a.covered=!n)}for(var l=this._symbolNodes.length-1;l>=this._symbolsNumberInReel+4;--l){var h=this._symbolNodes[l],_=h.getComponent(y);if(!_)return;h.setParent(this._inferSymbolParent(_.info.id,!1))}var m=(e&u.EFeatureType.GREEN_TOWER)>0||(e&u.EFeatureType.BLUE_TOWER)>0;this._symbolNodes.forEach((function(e,t){e.setPosition(0,d.SYMBOL_SIZE.height*(t-2+.5),0);var i=e.getComponent(y);i&&(i.freeMode=m)}))},r.f_showReads=function(){this._symbolNodes.forEach((function(e,t){var i=e.getComponent(y);i&&i.f_showReal()}))},r.startSpinning=function(){this._state===w.IDLE&&this._beforeAccelerating()},r.stopSpinning=function(e,t){if(this._state!==w.ACCELERATING&&this._state!==w.CONSTANT_SPINNING)return 0;if(this.startDisplay(),this._constantSpinningTimeout=t,this._targetSymbolInfos=e,this._state===w.CONSTANT_SPINNING){var i=this._elapsedTime-this._spinProcessConfig.constant.duration;this._constantSpinningTimeout=Math.max(t,i)}return this._manualStopping&&this._jumpToBouncingInProcessing(),this._constantSpinningTimeout},r.manuallyStop=function(){this._manualStopping||this._spinSpeedType!==u.ESpinSpeedType.DEFAULT||this._state===w.IDLE||this._state===w.BOUNCING_IN||(this._manualStopping=!0,this._jumpToBouncingInProcessing())},r.update=function(e){if(this._state!==w.IDLE){var t=this._elapsedTime;switch(this._elapsedTime+=e,this._state){case w.ACCELERATING:var i,o,s=this._spinProcessConfig.acceleration,n=null!=(i=m[null!=(o=s.easing)?o:"linear"])?i:m.linear,r=0===s.duration?0:n(t/s.duration),a=0===s.duration?1:n(c.clamp01(this._elapsedTime/s.duration)),l=c.lerp(0,s.distance,r),h=c.lerp(0,s.distance,a);if(this._moveSymbols(h-l),this._elapsedTime>=s.duration){var _=this._elapsedTime-s.duration;this._afterAccelerating(),this._beforeConstantSpinning(),_>0&&this.update(_)}break;case w.CONSTANT_SPINNING:var d=this._spinProcessConfig.constant,u=0===d.duration?d.distance:d.distance/d.duration;this._moveSymbols(u*e),this._elapsedTime>=d.duration+this._constantSpinningTimeout&&this._targetSymbolInfos&&this._beforeDecelerating();break;case w.DECELERATING:var S,p,y=this._spinProcessConfig.deceleration,b=null!=(S=m[null!=(p=y.easing)?p:"linear"])?S:m.linear,f=0===y.duration?0:b(t/y.duration),g=0===y.duration?1:b(c.clamp01(this._elapsedTime/y.duration)),N=y.distance>0?Math.floor:Math.ceil,I=N(c.lerp(0,y.distance,f)),T=N(c.lerp(0,y.distance,g))-I;if(this._moveSymbols(T),this._elapsedTime>=y.duration){var v=this._elapsedTime-y.duration;this._afterDecelerating(),this._beforeBouncingOut(),v>0&&this.update(v)}break;case w.BOUNCING_OUT:var E=this._spinProcessConfig.bounce,P=m.sineOut,R=0===E.duration?0:P(t/E.duration),C=0===E.duration?1:P(c.clamp01(this._elapsedTime/E.duration)),L=c.lerp(0,E.distance,R),O=c.lerp(0,E.distance,C);if(this._moveSymbols(O-L),this._elapsedTime>=E.duration){var x=this._elapsedTime-E.duration;this._afterBouncingOut(),this._beforeBouncingIn(),x>0&&this.update(x)}break;case w.BOUNCING_IN:var B=this._spinProcessConfig.bounce,A=m.sineIn,D=0===B.duration?0:A(t/B.duration),M=0===B.duration?1:A(c.clamp01(this._elapsedTime/B.duration)),Y=c.lerp(0,-B.distance,D),F=c.lerp(0,-B.distance,M);this._moveSymbols(F-Y),this._elapsedTime>=B.duration&&this._afterBouncingIn()}}},r._beforeAccelerating=function(){var e=this;this.startDisplay(),this._state=w.ACCELERATING,this._spinSpeedType=u.ESpinSpeedType.DEFAULT,this._elapsedTime=0,this._constantSpinningTimeout=0,this._targetSymbolInfos=null,this._manualStopping=!1;var t=d.SPIN_CONFIGURATION.default;(d.turboSpin||d.quickSpin)&&(this._spinSpeedType=u.ESpinSpeedType.FAST,t=d.SPIN_CONFIGURATION.fast),this._spinProcessConfig=t[this._index],this.externalShowingSymbolsRootNode.children.slice().forEach((function(t){return t.setParent(e.externalSpinningSymbolsRootNode)})),this.externalShowingScattersRootNode.children.slice().forEach((function(t){return t.setParent(e.externalSpinningScattersRootNode)}))},r._afterAccelerating=function(){this.endDisplay()},r._beforeConstantSpinning=function(){this._state=w.CONSTANT_SPINNING,this._elapsedTime=0},r._afterConstantSpinning=function(){this._constantSpinningTimeout=0},r._beforeDecelerating=function(){this._state=w.DECELERATING,this._elapsedTime=0;var e=this._spinProcessConfig.deceleration,t=e.distance%d.SYMBOL_SIZE.height;if(this._sortSymbolNodes(),this._symbolNodes.forEach((function(e,t){return e.setPosition(0,d.SYMBOL_SIZE.height*(t-2+.5),0)})),e.distance>0){var i=Math.ceil(e.distance/d.SYMBOL_SIZE.height);if(i<this._symbolsNumberInReel+2+1){this._currentTargetIndex=i-2;for(var o=0;o<this._symbolsNumberInReel+2-i+1;++o){var s=this._symbolNodes[o];if(s){var n=this._currentTargetIndex++,r=this._getSymbolInfoFrom(this._targetSymbolInfos,n),a=this._inferSymbolParent(r.id,!1);s.setParent(a),s.setSiblingIndex(999);var l=s.getComponent(y);l&&(l.info=r,l.covered=!0)}}}else this._currentTargetIndex=i-2-1;0!==t&&this._moveSymbols(d.SYMBOL_SIZE.height-t)}else if(e.distance<0){var h=Math.ceil(-e.distance/d.SYMBOL_SIZE.height);if(h<this._symbolsNumberInReel+2+1){this._currentTargetIndex=-1;for(var _=h+2-1;_<this._symbolsNumberInReel+4;++_){var m=this._symbolNodes[_];if(m){var c=this._currentTargetIndex++,u=this._getSymbolInfoFrom(this._targetSymbolInfos,c),S=this._inferSymbolParent(u.id,!1);m.setParent(S),m.setSiblingIndex(0);var p=m.getComponent(y);p&&(p.info=u,p.covered=!0)}}}else this._currentTargetIndex=this._symbolsNumberInReel+2-h;0!==t&&this._moveSymbols(-d.SYMBOL_SIZE.height-t)}else for(var b=this._symbolsNumberInReel+2;b>=1;--b){var f=b-2,g=this._getSymbolInfoFrom(this._targetSymbolInfos,f),N=this._symbolNodes[b];N.setParent(this._inferSymbolParent(g.id,!1)),N.setSiblingIndex(999);var I=N.getComponent(y);I&&(I.info=g,I.covered=!0)}},r._afterDecelerating=function(){(this._spinSpeedType===u.ESpinSpeedType.DEFAULT&&!this._manualStopping||0===this._index)&&b.instance.playSoundEffect(d.AUDIO_URLS.SE_REEL_STOP),this.endDisplay()},r._beforeBouncingOut=function(){this.startDisplay(),this._state=w.BOUNCING_OUT,this._elapsedTime=0},r._afterBouncingOut=function(){},r._beforeBouncingIn=function(){this._state=w.BOUNCING_IN,this._elapsedTime=0},r._afterBouncingIn=function(){var e;this._state=w.IDLE,this._elapsedTime=0,this._sortSymbolNodes();for(var t=d.SYMBOL_SIZE.height*this._symbolsNumberInReel,i=this._symbolNodes.length-1;i>=0;--i){var o,s,n=this._symbolNodes[i];if(!(n.position.y<=0||n.position.y>=t)){var r=null!=(o=null==(s=n.getComponent(y))?void 0:s.info.id)?o:0;n.setParent(this._inferSymbolParent(r,!0))}}this.endDisplay(),S.runTask("reelStop",{reelIndex:this._index,spinSpeedType:this._spinSpeedType,manualStop:this._manualStopping,symbolInfos:null!=(e=this._targetSymbolInfos)?e:[]}),this.externalShowingScattersRootNode.children.forEach((function(e){var t=e.getComponent(y);t&&(t.covered=!1)}))},r._jumpToBouncingInProcessing=function(){if(this._targetSymbolInfos){this._sortSymbolNodes();for(var e=this._symbolNodes.length-1;e>=0;--e){var t=e-2,i=this._getSymbolInfoFrom(this._targetSymbolInfos,t),o=this._symbolNodes[e];o.setParent(this._inferSymbolParent(i.id,!1)),o.setPosition(0,d.SYMBOL_SIZE.height*(t+.5),0),o.setSiblingIndex(999);var s=o.getComponent(y);s&&(s.info=i,s.covered=!0)}this._moveSymbols(this._spinProcessConfig.bounce.distance),this._beforeBouncingIn()}},r._moveSymbols=function(e){var t=this;if(!(0===e||this._symbolNodes.length<=0)){var i;if(e>0){for(var o=this._symbolNodes.length-1,s=0;s<this._symbolNodes.length&&!(this._symbolNodes[s].position.y>=this._minPositionYForShow);++s)o=s;var n=-this._clampInCycle(this._symbolNodes[o].position.y-.5*d.SYMBOL_SIZE.height,-d.SYMBOL_SIZE.height,0),r=0===n?Math.floor(e/d.SYMBOL_SIZE.height):Math.floor(1+(e-n)/d.SYMBOL_SIZE.height);if(r>0){if(r>this._symbolNodes.length){var a=r%this._symbolNodes.length-o-1;i=a>0?this._symbolNodes.slice(this._symbolNodes.length-a,this._symbolNodes.length).concat(this._symbolNodes.slice(0,this._symbolNodes.length-a)).reverse():this._symbolNodes.slice(-a,this._symbolNodes.length).concat(this._symbolNodes.slice(0,-a)).reverse(),this._state===w.DECELERATING&&(this._currentTargetIndex-=r-this._symbolNodes.length)}else{var l=r-o-1;i=l>0?this._symbolNodes.slice(this._symbolNodes.length-l,this._symbolNodes.length).slice(0,o+1).reverse():this._symbolNodes.slice(-l,o+1).reverse()}i.forEach((function(e){var i=t._state===w.DECELERATING?t._currentTargetIndex--:999,o=t._getSymbolInfoFrom(t._targetSymbolInfos,i);e.setParent(t._inferSymbolParent(o.id,!1)),e.setSiblingIndex(999);var s=e.getComponent(y);s&&(s.info=o,s.covered=!0)}))}}else{for(var h=0,_=this._symbolNodes.length-1;_>=0&&!(this._symbolNodes[_].position.y<=this._maxPositionYForShow);--_)h=_;var m=-this._clampInCycle(this._symbolNodes[h].position.y-.5*d.SYMBOL_SIZE.height,0,d.SYMBOL_SIZE.height),c=0===m?Math.floor(-e/d.SYMBOL_SIZE.height):Math.floor(1+(m-e)/d.SYMBOL_SIZE.height);if(c>0){if(c>this._symbolNodes.length){var u=c%this._symbolNodes.length,S=h+u-this._symbolNodes.length;i=S>0?this._symbolNodes.slice(S,h).concat(this._symbolNodes.slice(h,this._symbolNodes.length)).concat(this._symbolNodes.slice(0,S)):this._symbolNodes.slice(h+u,this._symbolNodes.length).concat(this._symbolNodes.slice(0,h+u)),this._state===w.DECELERATING&&(this._currentTargetIndex+=c-this._symbolNodes.length)}else{var p=h+c-this._symbolNodes.length;i=p>0?this._symbolNodes.slice(h,this._symbolNodes.length).concat(this._symbolNodes.slice(0,p)):this._symbolNodes.slice(h,h+c)}i.forEach((function(e){var i=t._state===w.DECELERATING?t._currentTargetIndex++:-999,o=t._getSymbolInfoFrom(t._targetSymbolInfos,i);e.setParent(t._inferSymbolParent(o.id,!1)),e.setSiblingIndex(0);var s=e.getComponent(y);s&&(s.info=o,s.covered=!0)}))}}var b=!1;this._symbolNodes.forEach((function(i){var o=i.position.y+e;(o<t._minPositionYForPlace||o>=t._maxPositionYForPlace)&&(b=!0,o=t._clampInCycle(o,t._minPositionYForPlace,t._maxPositionYForPlace)),i.setPosition(0,o,0)})),b&&this._sortSymbolNodes()}},r._sortSymbolNodes=function(){this._symbolNodes.sort((function(e,t){return e.position.y-t.position.y}))},r._clampInCycle=function(e,t,i){if(t===i)return e;var o=t,s=i;t>i&&(o=i,s=t);var n=s-o;return o+((e-o)%n+n)%n},r._inferSymbolParent=function(e,t){var i=d.isScatterSymbol(e);return t?i?this.externalShowingScattersRootNode:this.externalShowingSymbolsRootNode:i?this.externalSpinningScattersRootNode:this.externalSpinningSymbolsRootNode},r._getSymbolInfoFrom=function(e,t){var i;return-1===t||t===this._symbolsNumberInReel?d.generateRandomSymbol(this._featureType,!0):null!=(i=null==e?void 0:e[t])?i:d.generateRandomSymbol(this._featureType,!1)},n(t,[{key:"index",get:function(){return this._index}}]),t}(p)).SHOW_SYMBOL="ReelLayer.SHOW_SYMBOL",L=t((C=M).prototype,"symbolPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(C.prototype,"externalSpinningSymbolsRootNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(C.prototype,"externalSpinningScattersRootNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(C.prototype,"externalShowingSymbolsRootNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(C.prototype,"externalShowingScattersRootNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(C.prototype,"_index",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),R=C))||R)||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/Resizer5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./CommonEvent.ts","./SubGameData32.ts","./ScreenHelper11.ts"],(function(e){var n,t,i,r,o,a,s,l,u,c,p,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Enum,l=e.UITransform},function(e){u=e.default},function(e){c=e.CommonEvent},function(e){p=e.SubGameData},function(e){h=e.ScreenHelper}],execute:function(){var f,d,O,R,m,C;o._RF.push({},"27639Rfiz1D4qPlO1uX4Dqp","Resizer",void 0);var E=a.ccclass,A=a.menu,S=a.property,b=function(e){return e[e.NONE=0]="NONE",e[e.LANDSCAPE=1]="LANDSCAPE",e[e.PORTRAIT=2]="PORTRAIT",e[e.ALL=3]="ALL",e}(b||{});e("Resizer",(f=E("Resizer"),d=A(p.module+"/components/Resizer"),O=S({type:s(b)}),f(R=d((C=n((m=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"handleableOrientation",C,r(n)),n}t(n,e);var o=n.prototype;return o.onEnable=function(){this.onD(c.SWITCH_SCREEN,this._onOrientationChange),this._onOrientationChange(App.utils.getOrientation())},o.onDisable=function(){this.offD(c.SWITCH_SCREEN)},o._onOrientationChange=function(e){if(this.handleableOrientation===b.ALL||"landscape"===e&&this.handleableOrientation===b.LANDSCAPE||"portrait"===e&&this.handleableOrientation===b.PORTRAIT){var n,t=h.renderSize;null==(n=this.node.getComponent(l))||n.setContentSize(t.width,t.height)}},n}(u)).prototype,"handleableOrientation",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.NONE}}),R=m))||R)||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/ScatterAnimationLayer3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./AudioHelper8.ts","./ScatterItem.ts","./FlyScatterItem.ts"],(function(e){var t,n,i,a,o,r,s,l,c,_,f,u,E,h,y,p,T,d,m,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.v3,c=e.Prefab,_=e.Node,f=e.NodePool,u=e.instantiate,E=e.Vec3},function(e){h=e.SubGameData},function(e){y=e.common},function(e){p=e.DisplayTaskManager,T=e.Display},function(e){d=e.AudioHelper},function(e){m=e.ScatterItem},function(e){S=e.FlyScatterItem}],execute:function(){var I,R,A,F,D,b,v,L,g,N,G,H,$;r._RF.push({},"b893c/U4aJCaLHA7zQzdeQx","ScatterAnimationLayer",void 0);var O=s.ccclass,P=s.menu,U=s.property,W=l(211,728,0),C=l(-200,728,0),w=l(6,776,0),k=((I={})[y.EFeatureType.NONE]=l(6,776,0),I[y.EFeatureType.GREEN_TOWER]=l(-23,713,0),I[y.EFeatureType.BLUE_TOWER]=l(-21,800,0),I[y.EFeatureType.BLUE_AND_GREEN_TOWER]=l(-14,876,0),I[y.EFeatureType.RED_AND_GREEN_TOWER]=l(-23,713,0),I[y.EFeatureType.RED_AND_BLUE_TOWER]=l(-21,800,0),I[y.EFeatureType.SUPER_TOWER]=l(-14,876,0),(R={})[18]=W,R[19]=C,R[20]=w,R[21]=w,R[22]=w,R[31]=w,R[32]=w,R);(A={})[18]=!0,A[19]=!0,A[20]=!0,e("ScatterAnimationLayer",(F=O("ScatterAnimationLayer"),D=P(h.module+"/layers/ScatterAnimationLayer"),b=U(c),v=U(c),L=U(_),F(g=D((G=t((N=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"itemPrefab",G,a(t)),i(t,"flyItem",H,a(t)),i(t,"flyItemNode",$,a(t)),t._featureType=y.EFeatureType.NONE,t._shouldPlayScatterSoundEffect=!0,t._cachedPosition=l(),t.$_scatters=[],t.$_flyFeeds=[],t.$_w=135,t.$_pool_scartter=new f,t}n(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this);for(var t=0;t<15;t++)this.$_pool_scartter.put(u(this.itemPrefab));p.addHandler(this)},r.onEnable=function(){this.onD(y.EventName.HIT_WILD,this.f_hitWild.bind(this)),this.onD(y.EventName.HIDE_HIT_WILD,this.f_hideHits.bind(this))},r.onDisable=function(){this.offD(y.EventName.HIT_WILD),this.offD(y.EventName.HIDE_HIT_WILD)},r.f_hitWild=function(e,t){for(var n=this.$_scatters.length,i=0;i<n;i++){var a=this.$_scatters[i];a&&a.f_hit()}},r.f_hideHits=function(){for(var e=this.$_scatters.length,t=0;t<e;t++){var n=this.$_scatters[t];n&&n.f_hideHit()}},r.onDestroy=function(){this.$_pool_scartter.clear(),this.$_scatters.length=0,this.$_flyFeeds.length=0,e.prototype.onDestroy.call(this)},r.onTaskInitialize=function(e,t){this.stopAllDisplays(),this._featureType=t.featureType,0==t.isReconnect&&this._clearAllAnimations()},r.onTaskSpinStart=function(e,t){for(var n=this.$_flyFeeds.length,i=0;i<n;i++){this.$_flyFeeds[i].f_fly()}this.$_flyFeeds.length=0;for(var a=this.$_scatters.length,o=0;o<a;o++){var r=this.$_scatters[o].node;r&&(r.removeFromParent(),this.$_pool_scartter.put(r))}this.$_scatters.length=0,this._shouldPlayScatterSoundEffect=!0},r.onTaskFreeGameCollectScores=function(e,t){var n=this,i=!1;t.symbolsGroups.forEach((function(e,t){e.forEach((function(e,a){h.isScoreableSymbol(e.id)&&(i=n._highlightSymbol(e,t,a)||i)}))})),i&&d.instance.playSoundEffect(h.AUDIO_URLS.SE_SCATTER_HIGHLIGHT)},r.onTaskFreeGameCollectJackpot=function(e,t){this._highlightSymbol(t.symbolInfo,t.reelIndex,t.symbolIndex)&&d.instance.playSoundEffect(h.AUDIO_URLS.SE_SCATTER_HIGHLIGHT)},r.onTaskFreeGameCollectFreeTimes=function(e,t){var n=this,i=!1;t.symbolsWithFreeTimes.forEach((function(e){i=n._highlightSymbol(e.symbolInfo,e.reelIndex,e.symbolIndex)||i})),i&&(d.instance.playSoundEffect(h.AUDIO_URLS.SE_SCATTER_HIGHLIGHT),d.instance.playSoundEffect(h.AUDIO_URLS.SE_SCATTER_HIGHLIGHT_WITH_FREE_TIMES))},r.onTaskChangeGame=function(e,t){this.stopAllDisplays(),this._featureType=t.nextFeatureType,h.f_isFreeGame(t.previousFeatureType)&&0==t.nextFeatureType&&this._clearAllAnimations(),this.f_hideHits()},r.onTaskReelStop=function(e,t){var n=this,i=h.getSymbolsNumberInReel(this._featureType),a=t.symbolInfos.slice(0,i),o=y.EGameMode.NORMAL,r=void 0;if((this._featureType&y.EFeatureType.GREEN_TOWER)>0||(this._featureType&y.EFeatureType.BLUE_TOWER)>0?(o=y.EGameMode.FREE,r=function(e){return k[e]}):this._featureType===y.EFeatureType.NONE&&(o=y.EGameMode.NORMAL,r=function(e){return k[e]}),r){var s=t.spinSpeedType!==y.ESpinSpeedType.DEFAULT||t.manualStop;a.forEach((function(e,i){var a=r(e.id);if(a){var l=n.$_pool_scartter.get();if(l){var c=-n.$_w*(2-t.reelIndex)-2;c+=h.f_pianyi1(t.reelIndex);var _=n.$_w*i+73,f=new E(c,_,0),u=new E(a.x,a.y+-323,0);l.setPosition(f),l.setParent(n.node);var p=new E;p.set(l.worldPosition);var T=l.getComponent(m);if(T){var S="",I="";if(n._shouldPlayScatterSoundEffect)switch(s&&(n._shouldPlayScatterSoundEffect=!1),S=o===y.EGameMode.FREE?h.AUDIO_URLS.SE_SCATTER_APPEAR_IN_FREE_GAME:h.AUDIO_URLS.SE_SCATTER_APPEAR_IN_NORMAL_GAME,n._featureType){case y.EFeatureType.BLUE_AND_GREEN_TOWER:I=h.AUDIO_URLS.combo_collect3;break;case y.EFeatureType.RED_AND_BLUE_TOWER:case y.EFeatureType.RED_AND_GREEN_TOWER:break;default:I=h.AUDIO_URLS.SE_SCATTER_COLLECT}S&&d.instance.playOneShotSoundEffect(S),T.collectSoundEffect=I,T.towerPosition=a,T.f_setScore(e.score),o===y.EGameMode.FREE?T.f_setFeedid_onFree(e.id,e.re_icon):T.f_setFeedid_onNormal(e.id),n.$_scatters.push(T),n.f_flyToTarget(p,u,e.id,I)}}}}))}},r.f_flyToTarget=function(e,t,n,i){var a=u(this.flyItem).getComponent(S);a&&(null==a||a.f_setFeedData(this.flyItemNode,e,n,t,i),this.$_flyFeeds.push(a))},r._clearAllAnimations=function(){for(var e=this.$_scatters.length,t=0;t<e;t++){var n=this.$_scatters[t].node;n&&(n.removeFromParent(),this.$_pool_scartter.put(n))}this.$_scatters.length=0},r._getSymbolPosition=function(e,t){return this._cachedPosition},r._highlightSymbol=function(e,t,n){return!0},o(t,[{key:"displaying",get:function(){return!1}}]),t}(T)).prototype,"itemPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(N.prototype,"flyItem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(N.prototype,"flyItemNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=N))||g)||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScatterItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberCurrency.ts"],(function(e){var t,i,n,o,a,r,s,l,c,u,d,f,h,m,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.sp,l=e.Prefab,c=e.Node,u=e.Label,d=e.SpriteFrame,f=e.Sprite,h=e.Vec3,m=e.Component},function(e){p=e.NumberCurrency}],execute:function(){var b,_,S,k,y,g,v,$,w,N,F,C,A,I,z,j,H,P,L,D,E,M,R,x,B;a._RF.push({},"43edapHOZ9MXL7HSfl573Ad","ScatterItem",void 0);var O=r.ccclass,T=r.property,V=function(e){return e.hong="hong",e.lv="lv",e.lan="lan",e}(V||{});e("ScatterItem",(b=O("ScatterItem"),_=T(s.Skeleton),S=T(s.Skeleton),k=T(l),y=T(c),g=T(p),v=T(c),$=T(u),w=T([d]),N=T(f),F=T(c),C=T(c),b((z=t((I=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"jingFeedSkeleton",z,o(t)),n(t,"feedSkeleton",j,o(t)),n(t,"flayItem",H,o(t)),n(t,"maskNode",P,o(t)),n(t,"scoreNumberCurrency",L,o(t)),n(t,"messageNode",D,o(t)),n(t,"feedLabel",E,o(t)),n(t,"labelSpriteFrames",M,o(t)),n(t,"labelSprite",R,o(t)),n(t,"wildNode",x,o(t)),n(t,"node1",B,o(t)),t.$_skin=typeof V,t.towerPosition=null,t._symbolID=0,t.$_animation1="",t.collectSoundEffect=null,t.$_score=0,t.$_node1Poy=0,t.$_complete=!1,t.$_isHit=!1,t.$_type=0,t}i(t,e);var a=t.prototype;return a.onLoad=function(){this.feedSkeleton.setCompleteListener(this.f_feedComplete.bind(this))},a.onEnable=function(){this.$_score=0,this.$_complete=!1,this.$_isHit=!1,this.messageNode.active=!1,this.wildNode.active=!1,this.scoreNumberCurrency.node.parent.active=!1},a.onDisable=function(){this.jingFeedSkeleton.setAnimation(0,"animation",!1)},a.f_reset=function(){},a.f_setScore=function(e){this.$_score=e},a.f_setFeedid_onNormal=function(e){this.$_type=0,this._symbolID=e,this.messageNode.active=!1,this.jingFeedSkeleton.node.active=!0,this.feedSkeleton.node.active=!1;var t=V.hong;switch(e){case 18:t=V.lv;break;case 19:t=V.lan}this.$_skin=t,this.feedSkeleton.setSkin(t),this.jingFeedSkeleton.setAnimation(0,"animation",!1),this.f_jingFeedComplete_nomal()},a.f_setFeedid_onFree=function(e,t){switch(this.$_type=1,this.messageNode.active=!1,this.jingFeedSkeleton.node.active=!1,this.feedSkeleton.node.active=!0,e){case 20:this.node1.active=!1,this.scoreNumberCurrency.updateNumber(this.$_score),this.scoreNumberCurrency.node.parent.active=this.$_score>0;break;case 21:this.f_setIsfeed(!0,"",0);break;case 22:this.f_setIsfeed(!0,"",1);break;case 31:this.f_setIsfeed(!0,"",2);break;case 32:this.f_setIsfeed(!0,"",3)}9==t?(this.messageNode.active=!0,this.$_node1Poy=5,this.wildNode.active=!0):(this.$_node1Poy=-22,this.wildNode.active=!1),this.node1.position=new h(0,this.$_node1Poy,0),this.scoreNumberCurrency.node.parent.position=new h(0,this.$_node1Poy+20,0),this.feedSkeleton.setSkin("hong"),this.$_animation1="animation5",this.feedSkeleton.setAnimation(0,"animation5",!1),this.feedSkeleton.addAnimation(0,"animation6",!0)},a.f_setIsfeed=function(e,t,i){this.node1.active=!0,null!=i?(this.labelSprite.node.active=!0,this.labelSprite.spriteFrame=this.labelSpriteFrames[i]):this.labelSprite.node.active=!1},a.f_jingFeedComplete_nomal=function(){if(1!=this.$_type){var e="";switch(this.$_skin){case V.hong:e="animation1_1";break;case V.lan:e="animation1_2";break;case V.lv:e="animation1_3"}this.$_animation1=e,this.feedSkeleton.node.active=!0,""!=e?(this.feedSkeleton.setAnimation(0,e,!1),this.feedSkeleton.addAnimation(0,"animation6",!0)):this.feedSkeleton.setAnimation(0,"animation6",!0)}},a.f_jingFeedComplete_free=function(){if(0!=this.$_type){var e="";switch(this.$_skin){case V.hong:e="animation1_1";break;case V.lan:e="animation1_2";break;case V.lv:e="animation1_3"}this.$_animation1=e,this.feedSkeleton.node.active=!0,""!=e?(this.feedSkeleton.setAnimation(0,e,!1),this.feedSkeleton.addAnimation(0,"animation6",!0)):this.feedSkeleton.setAnimation(0,"animation6",!0)}},a.f_hit=function(){this.$_isHit=!0,0!=this.$_complete&&this.wildNode.active&&this.feedSkeleton.setAnimation(0,"animation3",!0)},a.f_hideHit=function(){this.$_isHit=!1,this.wildNode.active&&this.feedSkeleton.setAnimation(0,"animation6",!0)},a.f_feedComplete=function(e){switch(e.animation.name){case this.$_animation1:1==this.$_type&&(this.$_complete=!0,this.messageNode.active=!0,this.$_isHit&&this.f_hit())}},t}(m)).prototype,"jingFeedSkeleton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(I.prototype,"feedSkeleton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(I.prototype,"flayItem",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(I.prototype,"maskNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"scoreNumberCurrency",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(I.prototype,"messageNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(I.prototype,"feedLabel",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(I.prototype,"labelSpriteFrames",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(I.prototype,"labelSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(I.prototype,"wildNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(I.prototype,"node1",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=I))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenHelper11.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(e){var r,n,t,i;return{setters:[function(e){r=e.createClass},function(e){n=e.cclegacy,t=e.size},function(e){i=e.Global}],execute:function(){n._RF.push({},"e49fdsPuEpDFa66wmBMYQaC","ScreenHelper",void 0),e("ScreenHelper",function(){function e(){}return r(e,null,[{key:"renderSize",get:function(){return"portrait"===App.utils.getOrientation()?this._renderSize.set(Math.min(i.real_screen_width,i.background_height),Math.min(i.real_screen_height,i.background_width)):this._renderSize.set(Math.min(i.real_screen_width,i.background_width),Math.min(i.real_screen_height,i.background_height)),this._renderSize}}]),e}())._renderSize=t(0,0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Shrinker7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts"],(function(e){var t,i,r,n,h,a,o,s,c,S,l,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,h=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.Size,c=e.Node,S=e.UITransform,l=e.Component,p=e.size},function(e){u=e.SubGameData}],execute:function(){var m,z,f,d,g,x,_,y;a._RF.push({},"1a244LgF3lMzbXqdpe2w6D6","Shrinker",void 0);var v=o.ccclass,w=o.executeInEditMode,b=o.menu,D=o.property;e("Shrinker",(m=v("Shrinker"),z=b(u.module+"/components/Shrinker"),f=w(!0),d=D(s),g=D({serializable:!0}),m(x=z(x=f((t((_=function(e){function t(){for(var t,i=arguments.length,h=new Array(i),a=0;a<i;a++)h[a]=arguments[a];return t=e.call.apply(e,[this].concat(h))||this,r(t,"_maxSize",y,n(t)),t}i(t,e);var a=t.prototype;return a.onEnable=function(){this.node.on(c.EventType.SIZE_CHANGED,this._refreshScale,this),this._refreshScale()},a.onDisable=function(){this.node.off(c.EventType.SIZE_CHANGED,this._refreshScale,this)},a._refreshScale=function(){var e=this.getComponent(S);if(e){var t=1;this.maxSize.width>0&&e.contentSize.width>this.maxSize.width&&(t=this.maxSize.width/e.contentSize.width);var i=1;this.maxSize.height>0&&e.contentSize.height>this.maxSize.height&&(i=this.maxSize.height/e.contentSize.height);var r=Math.min(t,i);this.node.setScale(r,r,1)}},h(t,[{key:"maxSize",get:function(){return this._maxSize},set:function(e){e.width===this._maxSize.width&&e.height===this._maxSize.height||(this._maxSize.width=e.width,this._maxSize.height=e.height,this._refreshScale())}}]),t}(l)).prototype,"maxSize",[d],Object.getOwnPropertyDescriptor(_.prototype,"maxSize"),_.prototype),y=t(_.prototype,"_maxSize",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p(0,0)}}),x=_))||x)||x)||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/slot390000030",["./BigWinDefines12.ts","./BigWinLayer22.ts","./GamePlay14.ts","./PageChange15.ts","./GameEntry32.ts","./GameLogic33.ts","./AutoFittableBackground8.ts","./DebugVersion8.ts","./ExBannerContentProvider18.ts","./LoadingInputBlocker5.ts","./Resizer5.ts","./Shrinker7.ts","./Sticker9.ts","./SubGameData32.ts","./SubGameDefines33.ts","./SubGameLanguage33.ts","./Defines8.ts","./Display9.ts","./AnimatedSymbol6.ts","./CollectIcon.ts","./CountdownableButton3.ts","./FlyScatterItem.ts","./Jackpot8.ts","./JackpotLockHint2.ts","./JackpotProgress2.ts","./JackpotSymbol2.ts","./JackpotUnlockHint2.ts","./JiedianCom.ts","./MapItem2.ts","./PickingBanner2.ts","./ScatterItem.ts","./Stage2.ts","./StageNormal2.ts","./StageStart2.ts","./StageSuper2.ts","./Symbol8.ts","./Tower2.ts","./WildItem.ts","./AudioHelper8.ts","./LoadingHelper8.ts","./ScreenHelper11.ts","./LanguageComp310000030.ts","./BackgroundLayer8.ts","./BigWinControllerLayer8.ts","./BonusGameLayer2.ts","./BonusGameTitleLayer2.ts","./ControllerLayer7.ts","./FrameEffectLayer.ts","./FrameLayer3.ts","./FreeGamePopupLayer3.ts","./FreeGameResultLayer.ts","./FreeTimesLayer6.ts","./JackpotWinningLayer3.ts","./JackpotsLayer3.ts","./MapGamePickingLayer2.ts","./MapGamePopupLayer2.ts","./MapGameSellingLayer2.ts","./MapLayer2.ts","./PaywayLayer2.ts","./ReelLayer8.ts","./ScatterAnimationLayer3.ts","./SlotLayer8.ts","./TowersLayer2.ts","./TransitionLayer4.ts","./VerticalSpinView30.ts","./WildLayer.ts","./310000030.ts","./GameHandler32.ts","./GameSender32.ts","./Protocol33.ts","./AnimatedSymbolNodePool6.ts","./SymbolNodePool8.ts","./CheckenEmoji.ts","./CheckenEmoji_Blue.ts","./CheckenEmoji_Green.ts","./CheckenEmoji_Red.ts","./DelayUtil.ts","./Ts30.ts","./BaseView7.ts","./IntroView8.ts","./MainView.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SlotLayer8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonEvent.ts","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./ReelLayer8.ts"],(function(e){var t,n,r,o,a,i,s,u,l,p,y,c,E,f,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){i=e.cclegacy,s=e._decorator,u=e.Node,l=e.sp},function(e){p=e.CommonEvent},function(e){y=e.SubGameData},function(e){c=e.common},function(e){E=e.DisplayTaskManager,f=e.Display},function(e){T=e.ReelLayer}],execute:function(){var h,L,d,_,R,S,m,F,b,v,D;i._RF.push({},"25bf6bPaatOGJZl4S9pVTHF","SlotLayer",void 0);var G=s.ccclass,N=s.menu,g=s.property;(h={})[c.EFeatureType.NONE]="style-0",h[c.EFeatureType.GREEN_TOWER]="style-0",h[c.EFeatureType.BLUE_TOWER]="style-0",h[c.EFeatureType.BLUE_AND_GREEN_TOWER]="style-0",h[c.EFeatureType.RED_TOWER]="style-0",h[c.EFeatureType.RED_AND_GREEN_TOWER]="style-0",h[c.EFeatureType.RED_AND_BLUE_TOWER]="style-0",h[c.EFeatureType.SUPER_TOWER]="style-0",e("SlotLayer",(L=G("SlotLayer"),d=N(y.module+"/layers/SlotLayer"),_=g([T]),R=g(u),S=g(l.Skeleton),L(m=d((b=t((F=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"reelLayersList",b,o(t)),r(t,"reelsRootNode",v,o(t)),r(t,"enteringSkeleton",D,o(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){e.prototype.onLoad.call(this),E.addHandler(this),this.reelsRootNode.on(u.EventType.TOUCH_END,this._onSlotTouchEnd,this),this.onD(c.EventName.UPDATE_SYMBOL_GROUP,this.f_updateSymbolsGroups.bind(this))},i.f_updateSymbolsGroups=function(e){this.reelLayersList.forEach((function(t){t.reset(e.nextFeatureType,e.previousSymbolsGroups[t.index])}))},i.onTaskInitialize=function(e,t){this.node.active=t.gameMode!==c.EGameMode.MAP&&t.gameMode!==c.EGameMode.SUPER_MAP,this.reelLayersList.forEach((function(e){e.reset(t.featureType,t.symbolsGroups[e.index])}))},i.onTaskSpinStart=function(e,t){var n;t.spinType===c.ESpinType.FREE&&(null==(n=y.spinRequestor)||n.request(c.ESpinRequestType.FREE_SPIN));this.reelLayersList.forEach((function(e){e.f_showReads()})),this.reelLayersList.forEach((function(e){return e.startSpinning()}))},i.onTaskSpinStop=function(e,t){var n=0;this.reelLayersList.forEach((function(e){var r=e.stopSpinning(t.symbolsGroups[e.index],n);n=Math.max(n,r)}))},i.onTaskManualStop=function(e,t){this.reelLayersList.forEach((function(e){return e.manuallyStop()}))},i.onTaskChangeGame=function(e,t){t.previousFeatureType!==t.nextFeatureType&&(this.reelLayersList.forEach((function(e){e.f_setFeatureType(t.nextFeatureType)})),y.f_isFreeGame(t.previousFeatureType)&&t.nextFeatureType===c.EFeatureType.NONE&&this.reelLayersList.forEach((function(e){e.reset(t.nextFeatureType,t.previousSymbolsGroups[e.index]),e.f_showReads()})),t.nextFeatureType===c.EFeatureType.RED_TOWER&&this.reelLayersList.forEach((function(e){e.f_showReads()})),t.previousFeatureType===c.EFeatureType.RED_TOWER&&this.reelLayersList.forEach((function(e){e.f_showReads()})))},i.onTaskShowMapGame=function(e,t){this.node.active=!1},i.onTaskHideMapGame=function(e,t){this.node.active=!0},i._onSlotTouchEnd=function(){dispatch(p.NOTIFY_CLICK_SPIN)},a(t,[{key:"displaying",get:function(){return!1}}]),t}(f)).prototype,"reelLayersList",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(F.prototype,"reelsRootNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(F.prototype,"enteringSkeleton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=F))||m)||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/Stage2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,c,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){c=t.cclegacy,o=t.Component}],execute:function(){c._RF.push({},"0a75cknVhpMJrw1Zo/d8ATn","Stage",void 0);t("Stage",function(t){function c(){for(var e,n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))||this)._completed=!1,e._callback=void 0,e}e(c,t);var o=c.prototype;return o.start=function(){this._refresh()},o.highlight=function(t){this._callback=t},o._refresh=function(){},n(c,[{key:"completed",set:function(t){t!==this._completed&&(this._completed=t,this._refresh())}}]),c}(o));c._RF.pop()}}}));

System.register("chunks:///_virtual/StageNormal2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts","./Stage2.ts"],(function(e){var t,i,n,a,o,r,l,p,s,c,u,h,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,l=e._decorator,p=e.Sprite,s=e.sp,c=e.Enum},function(e){u=e.SubGameData},function(e){h=e.common},function(e){m=e.Stage}],execute:function(){var y,g,f,S,_,b,d,E,k,v,D,T,G;r._RF.push({},"bfa798vjHdHY5hGZU84/k/7","StageNormal",void 0);var L=l.ccclass,N=l.executeInEditMode,A=l.menu,F=l.property,R=((y={})[h.EStageType.GREEN]="theme277_map4",y[h.EStageType.BLUE]="theme277_map8",y[h.EStageType.PURPLE]="theme277_map12",y[h.EStageType.RED]="theme277_map16",y[h.EStageType.GOLD]="theme277_map20",y);e("StageNormal",(g=L("StageNormal"),f=A(u.module+"/elements/StageNormal"),S=N(!0),_=F(p),b=F(s.Skeleton),d=F({type:c(h.EStageType),visible:!0}),E=F({type:c(h.EStageType)}),g(k=f(k=S((D=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"sprite",D,a(t)),n(t,"skeleton",T,a(t)),n(t,"_type",G,a(t)),t}i(t,e);var r=t.prototype;return r.onLoad=function(){this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this))},r.highlight=function(t){e.prototype.highlight.call(this,t),this.skeleton.enabled=!0,this.skeleton.setAnimation(0,"animation",!1)},r._refresh=function(){e.prototype._refresh.call(this),this._callback=void 0,this.skeleton.enabled=!1,this._completed?this.sprite.changeSpriteFrameFromAtlas("theme277_map3"):this.sprite.changeSpriteFrameFromAtlas(R[this._type])},r._onSkeletonAnimationComplete=function(e){this.skeleton.enabled=!1;var t=this._callback;this._callback=void 0,null==t||t(this)},o(t,[{key:"type",get:function(){return this._type},set:function(e){e!==this._type&&(this._type=e,this._refresh())}}]),t}(m)).prototype,"sprite",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(v.prototype,"skeleton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(v.prototype,"type",[d],Object.getOwnPropertyDescriptor(v.prototype,"type"),v.prototype),G=t(v.prototype,"_type",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.EStageType.GREEN}}),k=v))||k)||k)||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/StageStart2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./Stage2.ts"],(function(t){var e,n,r,a,i,o,s,l,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,s=t.sp},function(t){l=t.SubGameData},function(t){c=t.Stage}],execute:function(){var u,p,S,f,h,g;i._RF.push({},"16a471KnSxFkoPx+zU/TTZQ","StageStart",void 0);var m=o.ccclass,y=o.menu,_=o.property;t("StageStart",(u=m("StageStart"),p=y(l.module+"/elements/StageStart"),S=_(s.Skeleton),u(f=p((g=e((h=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,r(e,"skeleton",g,a(e)),e}return n(e,t),e.prototype._refresh=function(){t.prototype._refresh.call(this),this._completed?this.skeleton.setAnimation(0,"animation",!1):this.skeleton.setAnimation(0,"animation_1",!0)},e}(c)).prototype,"skeleton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f)||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/StageSuper2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts","./Stage2.ts"],(function(e){var t,i,n,a,o,r,l,p,s,c,u,y,m,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,l=e._decorator,p=e.Animation,s=e.sp,c=e.Node,u=e.Enum},function(e){y=e.SubGameData},function(e){m=e.common},function(e){h=e.Stage}],execute:function(){var b,f,g,S,d,_,T,D,v,E,N,k,I,A,C,w,z;r._RF.push({},"6ef2bnSiA1ID4WyQ1q+2M1R","StageSuper",void 0);var L=l.ccclass,R=l.executeInEditMode,G=l.menu,P=l.property,M=((b={})[m.EStageType.GREEN]={clipName:"style-0",animationTypeID:1},b[m.EStageType.BLUE]={clipName:"style-1",animationTypeID:2},b[m.EStageType.PURPLE]={clipName:"style-2",animationTypeID:3},b[m.EStageType.RED]={clipName:"style-3",animationTypeID:4},b[m.EStageType.GOLD]={clipName:"style-4",animationTypeID:5},b);e("StageSuper",(f=L("StageSuper"),g=G(y.module+"/elements/StageSuper"),S=R(!0),d=P(p),_=P(s.Skeleton),T=P(c),D=P(c),v=P({type:u(m.EStageType),visible:!0}),E=P({type:u(m.EStageType)}),f(N=g(N=S((I=t((k=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"animation",I,a(t)),n(t,"skeleton",A,a(t)),n(t,"bannerTitleNode",C,a(t)),n(t,"bannerCompletedNode",w,a(t)),n(t,"_type",z,a(t)),t}i(t,e);var r=t.prototype;return r.onLoad=function(){this.skeleton.setCompleteListener(this._onSkeletonAnimationComplete.bind(this))},r.highlight=function(t){e.prototype.highlight.call(this,t);var i=M[this._type];this.skeleton.setAnimation(0,"animation"+i.animationTypeID+"_2",!1)},r._refresh=function(){e.prototype._refresh.call(this),this._callback=void 0;var t=M[this._type];this.animation.play(t.clipName),this._completed?(this.skeleton.setAnimation(0,"animation"+t.animationTypeID,!1),this.bannerTitleNode.active=!1,this.bannerCompletedNode.active=!0):(this.skeleton.setAnimation(0,"animation"+t.animationTypeID+"_1",!0),this.bannerTitleNode.active=!0,this.bannerCompletedNode.active=!1)},r._onSkeletonAnimationComplete=function(e){if(e.animation.name.endsWith("_2")){var t=this._callback;this._callback=void 0,null==t||t(this)}},o(t,[{key:"type",get:function(){return this._type},set:function(e){e!==this._type&&(this._type=e,this._refresh())}}]),t}(h)).prototype,"animation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(k.prototype,"skeleton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(k.prototype,"bannerTitleNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(k.prototype,"bannerCompletedNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(k.prototype,"type",[v],Object.getOwnPropertyDescriptor(k.prototype,"type"),k.prototype),z=t(k.prototype,"_type",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.EStageType.GREEN}}),N=k))||N)||N)||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/Sticker9.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Global.ts","./CommonEvent.ts","./SubGameData32.ts","./ScreenHelper11.ts"],(function(i){var t,o,n,e,s,r,a,h,l,c,g,_,P,d;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,n=i.initializerDefineProperty,e=i.assertThisInitialized,s=i.createClass},function(i){r=i.cclegacy,a=i._decorator,h=i.Enum,l=i.v3},function(i){c=i.default},function(i){g=i.Global},function(i){_=i.CommonEvent},function(i){P=i.SubGameData},function(i){d=i.ScreenHelper}],execute:function(){var p,u,y,f,O,T,z,S;r._RF.push({},"165f96WZ/pCXayKAHEXh1+K","Sticker",void 0);var b=a.ccclass,E=a.executeInEditMode,k=a.menu,m=a.property,w=function(i){return i[i.TOP=0]="TOP",i[i.RIGHT=1]="RIGHT",i[i.BOTTOM=2]="BOTTOM",i[i.LEFT=3]="LEFT",i}(w||{});i("Sticker",(p=b("Sticker"),u=k(P.module+"/components/Sticker"),y=E(!0),f=m({type:h(w)}),O=m({type:h(w)}),p(T=u(T=y((t((z=function(i){function t(){for(var t,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,n(t,"_location",S,e(t)),t._originalPosition=l(),t}o(t,i);var r=t.prototype;return r.onLoad=function(){i.prototype.onLoad.call(this),this.onD(_.SWITCH_SCREEN,this._onOrientationChange),this._originalPosition.set(this.node.position)},r.onEnable=function(){var t;null==(t=i.prototype.onEnable)||t.call(this),this._onOrientationChange(App.utils.getOrientation())},r.updateOriginalPosition=function(i,t,o){i===this._originalPosition.x&&t===this._originalPosition.y&&o===this._originalPosition.z||(this._originalPosition.set(i,t,o),this._onOrientationChange(App.utils.getOrientation()))},r._onOrientationChange=function(i){if("portrait"===i)switch(this._location){case w.TOP:this.node.setPosition(this._originalPosition.x,this._originalPosition.y-.5*(g.design_width-d.renderSize.height),this._originalPosition.z);break;case w.RIGHT:this.node.setPosition(this._originalPosition.x-.5*(g.design_height-d.renderSize.width),this._originalPosition.y,this._originalPosition.z);break;case w.BOTTOM:this.node.setPosition(this._originalPosition.x,this._originalPosition.y+.5*(g.design_width-d.renderSize.height),this._originalPosition.z);break;case w.LEFT:this.node.setPosition(this._originalPosition.x+.5*(g.design_height-d.renderSize.width),this._originalPosition.y,this._originalPosition.z)}else switch(this._location){case w.TOP:this.node.setPosition(this._originalPosition.x,this._originalPosition.y-.5*(g.design_height-d.renderSize.height),this._originalPosition.z);break;case w.RIGHT:this.node.setPosition(this._originalPosition.x-.5*(g.design_width-d.renderSize.width),this._originalPosition.y,this._originalPosition.z);break;case w.BOTTOM:this.node.setPosition(this._originalPosition.x,this._originalPosition.y+.5*(g.design_height-d.renderSize.height),this._originalPosition.z);break;case w.LEFT:this.node.setPosition(this._originalPosition.x+.5*(g.design_width-d.renderSize.width),this._originalPosition.y,this._originalPosition.z)}},s(t,[{key:"location",get:function(){return this._location},set:function(i){i!==this._location&&(this._location=i,this._onOrientationChange(App.utils.getOrientation()))}}]),t}(c)).prototype,"location",[f],Object.getOwnPropertyDescriptor(z.prototype,"location"),z.prototype),S=t(z.prototype,"_location",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.TOP}}),T=z))||T)||T)||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameData32.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts","./GameData.ts","./SubGameDefines33.ts"],(function(e){var o,_,a,i,n,t,c,s;return{setters:[function(e){o=e.inheritsLoose,_=e.createClass},function(e){a=e.cclegacy,i=e.size,n=e.math},function(e){t=e.Global},function(e){c=e.GameData},function(e){s=e.common}],execute:function(){var E,u,r,l,d,T,S,p,O,m,I,R,g;a._RF.push({},"c5a91PQd4xGQZn+K/5FQnzD","SubGameData",void 0);var A=e("SubGameData",function(e){function a(){return e.apply(this,arguments)||this}return o(a,e),a.f_getDefaultSymbols=function(){for(var e=this.INITIAL_SYMBOLS_GROUPS.length,o=0;o<e;o++)for(var _=this.INITIAL_SYMBOLS_GROUPS[o],i=_.length,n=0;n<i;n++){var t=_[n];switch(t.id){case 3:t.id=a.f_collectDanEnough(0)?13:3;break;case 4:t.id=a.f_collectDanEnough(1)?14:4;break;case 5:t.id=a.f_collectDanEnough(2)?15:5}}return this.INITIAL_SYMBOLS_GROUPS},a.f_getNormalSynIcons=function(){var e=[1,2,6,7,8,18,19,20],o=a.f_collectDanEnough(0)?15:5;e.push(o);o=a.f_collectDanEnough(1)?14:4;e.push(o);o=a.f_collectDanEnough(2)?13:3;return e.push(o),e},a.f_getFreeSynIcons=function(){var e=[1,2,6,7,8,20],o=a.f_collectDanEnough(0)?15:5;e.push(o);o=a.f_collectDanEnough(1)?14:4;e.push(o);o=a.f_collectDanEnough(2)?13:3;return e.push(o),e},a.f_isFreeGame=function(e){var o=!1;switch(e){case s.EFeatureType.GREEN_TOWER:case s.EFeatureType.BLUE_TOWER:case s.EFeatureType.BLUE_AND_GREEN_TOWER:case s.EFeatureType.RED_AND_BLUE_TOWER:case s.EFeatureType.RED_AND_GREEN_TOWER:case s.EFeatureType.SUPER_TOWER:o=!0}return o},a.setLoadingTaskProgress=function(e,o){this._loadingTasks[e]=Math.min(Math.max(0,o),1)},a.getRandomSymbolsPool=function(e,o){return a.f_isFreeGame(e)?this.f_getFreeSynIcons():this.f_getNormalSynIcons()},a.generateRandomSymbol=function(e,o){var _=this.getRandomSymbolsPool(e,o);return{id:_[n.randomRangeInt(0,_.length)],score:0,re_icon:0}},a.generateRandomInitialSymbolsGroups=function(e){for(var o=e!==s.EFeatureType.NONE,_=this.getRandomSymbolsPool(e,o),a=this.getSymbolsNumberInReel(e),i=[],t=0;t<this.REELS_NUMBER;++t){var c=[];i.push(c);for(var E=0;E<a;++E)c.push({id:_[n.randomRangeInt(0,_.length)],score:0,re_icon:0})}return i},a.isCollectableSymbol=function(e){var o;return null!=(o=this.COLLECTABLE_SYMBOL_FLAGS_HASH[e])&&o},a.isScatterSymbol=function(e){var o=this.SCATTER_SYMBOL_ID_TO_TOWER_TYPE[e];return null!=o},a.isScoreableSymbol=function(e){var o;return null!=(o=this.SCOREABLE_SYMBOL_FLAGS_HASH[e])&&o},a.getTowerTypeOnSymbol=function(e){return this.SCATTER_SYMBOL_ID_TO_TOWER_TYPE[e]},a.getFreeTimesOnSymbol=function(e){var o;return null!=(o=this.FREE_TIMES_ON_SCATTER_SYMBOL_HASH[e])?o:0},a.getJackpotTypeOnSymbol=function(e){return this.JACKPOT_TYPES_ON_SCATTER_SYMBOL_HASH[e]},a.getTowerType=function(e){var o;return null!=(o=this.TOWER_ID_FROM_SERVER_TO_TOWER_TYPE[e])?o:void 0},a.getFeatureType=function(e){var o=this,_=s.EFeatureType.NONE;return e.forEach((function(e){var a,i=o.getTowerType(e);null!=i&&(_|=null!=(a=o.getSingleFeatureTypeByTowerType(i))?a:s.EFeatureType.NONE)})),_},a.getSingleFeatureTypeByTowerType=function(e){return this.TOWER_TYPE_TO_SINGLE_FEATURE_TYPE[e]},a.getSymbolsNumberInReel=function(e){return this.SYMBOLS_NUMBERS_LIST_IN_REEL[e]},a.getJackpotType=function(e){return this.JACKPOT_ID_FROM_SERVER_TO_JACKPOT_TYPE[e]},a.getUpgradedJackpotType=function(e){return e===s.EJackpotType.DOUBLE_GRAND?e:e+1},a.getJackpotSymbolType=function(e){var o;return null!=(o=this.JACKPOT_SYMBOL_ID_FROM_SERVER_TO_CLIENT[null!=e?e:-1])?o:s.EJackpotSymbolType.UNKNOWN},a.getJackpotTypeFromJackpotSymbolType=function(e){return this.JACKPOT_SYMBOL_TYPE_TO_JACKPOT_TYPE[e]},a.isJackpotLocked=function(e,o){var _,i=Math.max(0,o?e+1:e);if(t.playback)return 1===(null!=(_=this.jackpotsLockedStatesWhenPlayBack[i])?_:this.jackpotsLockedStatesWhenPlayBack[this.jackpotsLockedStatesWhenPlayBack.length-1]);var n=a.slotInfo.bet.indexOf(a.totalBet),c=!0;switch(e){case 0:c=n<this.f_getDan(1);break;case 1:c=n<this.f_getDan(2);break;case 2:c=n<this.f_getDan(3);break;case 3:c=n<this.f_getDan(4);break;default:c=!0}return c},a.isHalf=function(){return!!t.playback||a.slotInfo.bet.indexOf(a.totalBet)>=a.slotInfo.bet.length/2},a.getHalf=function(){return Math.floor(a.slotInfo.bet.length/2)+1},a.getCollectAllNeed=function(){if(null==this.slotInfo)return 10;var e=this.f_collectDan(2);return this.slotInfo.bet[e]},a.f_pianyi=function(e){var o=0;switch(e){case 0:o=-10;break;case 1:o=-2;break;case 3:o=6;break;case 4:o=8}return o},a.f_pianyi1=function(e){var o=0;switch(e){case 0:o=-8;break;case 1:o=-2;break;case 3:o=6;break;case 4:o=8}return o},a.f_getDan=function(e){var o=a.slotInfo.bet.length,_=Math.floor(o/4);return 0==this.danList.length&&(this.danList[0]=0,this.danList[1]=_,this.danList[2]=_+_,this.danList[3]=_+_+_),this.danList[e-1]},a.f_collectDan=function(e){var o=21;return a.slotInfo&&(o=a.slotInfo.bet.length),0==this.collectDanList.length&&(this.collectDanList[0]=Math.round(o/5*3)-1,this.collectDanList[1]=this.collectDanList[0]+1,this.collectDanList[2]=this.collectDanList[1]+1),this.collectDanList[e]},a.f_collectDanEnough=function(e){return!!t.playback||a.slotInfo.bet.indexOf(a.totalBet)>=this.f_collectDan(e)},a.getMapStageInfo=function(e){var o=Math.ceil(e/5),_=this.MAP_STAGE_GROUP_ID_TO_TYPE_HASH[o];if(null==_)return{type:void 0,super:!1,indexInGroup:0};var a=e%5;return 0===a?{type:_,super:!0,indexInGroup:5}:{type:_,super:!1,indexInGroup:a}},_(a,null,[{key:"loadingProgress",get:function(){var e=0,o=0;for(var _ in this._loadingTasks){var a=_;e+=this._loadingTasks[a],++o}return e/o}}]),a}(c));A.module="slot390000030",A.INITIAL_SYMBOLS_GROUPS=[[{id:2,score:0,re_icon:0},{id:2,score:0,re_icon:0},{id:2,score:0,re_icon:0}],[{id:6,score:0,re_icon:0},{id:7,score:0,re_icon:0},{id:8,score:0,re_icon:0}],[{id:1,score:0,re_icon:0},{id:1,score:0,re_icon:0},{id:1,score:0,re_icon:0}],[{id:6,score:0,re_icon:0},{id:7,score:0,re_icon:0},{id:8,score:0,re_icon:0}],[{id:2,score:0,re_icon:0},{id:2,score:0,re_icon:0},{id:2,score:0,re_icon:0}]],A.JACKPOT_SCORE_CONFIGURATIONS=((E={})[s.EJackpotType.MINI]={maxMultiple:10,startingMultiple:5,multipleIncreaseRate:.004},E[s.EJackpotType.MINOR]={maxMultiple:16,startingMultiple:10,multipleIncreaseRate:.002},E[s.EJackpotType.MAJOR]={maxMultiple:95,startingMultiple:50,multipleIncreaseRate:.001},E[s.EJackpotType.GRAND]={maxMultiple:830,startingMultiple:500,multipleIncreaseRate:15e-5},E[s.EJackpotType.DOUBLE_GRAND]={maxMultiple:1660,startingMultiple:1e3,multipleIncreaseRate:15e-5},E),A.INITIAL_FREE_TIMES=6,A.REELS_NUMBER=5,A.SYMBOLS_NUMBERS_LIST_IN_REEL=((u={})[s.EFeatureType.NONE]=3,u[s.EFeatureType.GREEN_TOWER]=3,u[s.EFeatureType.BLUE_TOWER]=3,u[s.EFeatureType.BLUE_AND_GREEN_TOWER]=3,u[s.EFeatureType.RED_TOWER]=3,u[s.EFeatureType.RED_AND_GREEN_TOWER]=3,u[s.EFeatureType.RED_AND_BLUE_TOWER]=3,u[s.EFeatureType.SUPER_TOWER]=3,u),A.MAX_SYMBOLS_NUMBER_IN_REEL=6,A.SYMBOL_SIZE=i(134,138),A.SPIN_CONFIGURATION={default:[{acceleration:{duration:0,distance:-30,easing:"linear"},constant:{duration:0,distance:-2500},deceleration:{duration:.3,distance:-750},bounce:{duration:.11,distance:-30}},{acceleration:{duration:0,distance:-30,easing:"linear"},constant:{duration:0,distance:-2875},deceleration:{duration:.43,distance:-1075},bounce:{duration:.11,distance:-30}},{acceleration:{duration:0,distance:-30,easing:"linear"},constant:{duration:0,distance:-3250},deceleration:{duration:.56,distance:.56*-2500},bounce:{duration:.11,distance:-30}},{acceleration:{duration:0,distance:-30,easing:"linear"},constant:{duration:0,distance:-3625},deceleration:{duration:.69,distance:.69*-2500},bounce:{duration:.11,distance:-30}},{acceleration:{duration:0,distance:-30,easing:"linear"},constant:{duration:0,distance:-4e3},deceleration:{duration:.3+.52,distance:-2050},bounce:{duration:.11,distance:-30}}],fast:[{acceleration:{duration:.0833333,distance:-90,easing:"linear"},constant:{duration:.6,distance:-1210},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-30}},{acceleration:{duration:.0833333,distance:-90,easing:"linear"},constant:{duration:.6,distance:-1210},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-30}},{acceleration:{duration:.0833333,distance:-90,easing:"linear"},constant:{duration:.6,distance:-1210},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-30}},{acceleration:{duration:.0833333,distance:-90,easing:"linear"},constant:{duration:.6,distance:-1210},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-30}},{acceleration:{duration:.0833333,distance:-90,easing:"linear"},constant:{duration:.6,distance:-1210},deceleration:{duration:0,distance:0,easing:"sineOut"},bounce:{duration:.083333,distance:-30}}]},A.WILD_SYMBOL_ID=9,A.COLLECTABLE_SYMBOL_FLAGS_HASH=((r={})[1]=!0,r),A.SCOREABLE_SYMBOL_FLAGS_HASH=((l={})[20]=!0,l),A.FREE_TIMES_ON_SCATTER_SYMBOL_HASH=((d={})[21]=1,d[22]=2,d),A.JACKPOT_TYPES_ON_SCATTER_SYMBOL_HASH=((T={})[31]=s.EJackpotType.MINI,T[32]=s.EJackpotType.MINOR,T),A.SCATTER_SYMBOL_ID_TO_TOWER_TYPE=((S={})[18]=s.ETowerType.GREEN,S[19]=s.ETowerType.BLUE,S[20]=s.ETowerType.RED,S[21]=s.ETowerType.RED,S[22]=s.ETowerType.RED,S[31]=s.ETowerType.RED,S[32]=s.ETowerType.RED,S),A.TOWER_ID_FROM_SERVER_TO_TOWER_TYPE=((p={})[1]=s.ETowerType.GREEN,p[2]=s.ETowerType.BLUE,p[3]=s.ETowerType.RED,p),A.TOWER_TYPE_TO_SINGLE_FEATURE_TYPE=((O={})[s.ETowerType.GREEN]=s.EFeatureType.GREEN_TOWER,O[s.ETowerType.BLUE]=s.EFeatureType.BLUE_TOWER,O[s.ETowerType.RED]=s.EFeatureType.RED_TOWER,O),A.JACKPOT_ID_FROM_SERVER_TO_JACKPOT_TYPE=((m={})[1]=s.EJackpotType.MINI,m[2]=s.EJackpotType.MINOR,m[3]=s.EJackpotType.MAJOR,m[4]=s.EJackpotType.GRAND,m[5]=s.EJackpotType.DOUBLE_GRAND,m),A.JACKPOT_SYMBOL_ID_FROM_SERVER_TO_CLIENT=((I={})[1]=s.EJackpotSymbolType.MINI,I[2]=s.EJackpotSymbolType.MINOR,I[3]=s.EJackpotSymbolType.MAJOR,I[4]=s.EJackpotSymbolType.GRAND,I[5]=s.EJackpotSymbolType.UPGRADE,I),A.JACKPOT_SYMBOL_TYPE_TO_JACKPOT_TYPE=((R={})[s.EJackpotSymbolType.UNKNOWN]=void 0,R[s.EJackpotSymbolType.MINI]=s.EJackpotType.MINI,R[s.EJackpotSymbolType.MINOR]=s.EJackpotType.MINOR,R[s.EJackpotSymbolType.MAJOR]=s.EJackpotType.MAJOR,R[s.EJackpotSymbolType.GRAND]=s.EJackpotType.GRAND,R[s.EJackpotSymbolType.UPGRADE]=void 0,R),A.MAP_STAGES_NUMBER=26,A.MAP_STAGE_GROUP_ID_TO_TYPE_HASH=((g={})[1]=s.EStageType.GREEN,g[2]=s.EStageType.BLUE,g[3]=s.EStageType.PURPLE,g[4]=s.EStageType.RED,g[5]=s.EStageType.GOLD,g),A.AUDIO_URLS={BGM_NORMAL_GAME:"audios/base_bgm",BGM_BONUS_GAME:"audios/pick_bgm",BGM_FREE_GAME:"audios/free_bgm",BGM_SUPER_FREE_GAME:"audios/superfree_bgm",SE_BIG_WIN_BIG:"commonmodule/bigwin/audio/sound_big_win_01",SE_BIG_WIN_SUPER:"commonmodule/bigwin/audio/sound_super_win_01",SE_BIG_WIN_EPIC:"commonmodule/bigwin/audio/sound_epic_win_01",SE_BIG_WIN_MEGA:"commonmodule/bigwin/audio/sound_mega_win_01",SE_BIG_WIN_ULTIMATE:"commonmodule/bigwin/audio/sound_ultimate_win_01",SE_BIG_WIN_EXIT_BIG:"commonmodule/bigwin/audio/sound_big_win_02",SE_BIG_WIN_EXIT_SUPER:"commonmodule/bigwin/audio/sound_super_win_02",SE_BIG_WIN_EXIT_EPIC:"commonmodule/bigwin/audio/sound_epic_win_02",SE_BIG_WIN_EXIT_MEGA:"commonmodule/bigwin/audio/sound_mega_win_02",SE_BIG_WIN_EXIT_ULTIMATE:"commonmodule/bigwin/audio/sound_ultimate_win_02",SE_BIG_WIN_END_BIG:"commonmodule/bigwin/audio/sound_big_win_03",SE_BIG_WIN_END_SUPER:"commonmodule/bigwin/audio/sound_super_win_03",SE_BIG_WIN_END_EPIC:"commonmodule/bigwin/audio/sound_epic_win_03",SE_BIG_WIN_END_MEGA:"commonmodule/bigwin/audio/sound_mega_win_03",SE_BIG_WIN_END_ULTIMATE:"commonmodule/bigwin/audio/sound_ultimate_win_03",SE_BIG_WIN_SPEECH_BIG:"commonmodule/bigwin/audio/big",SE_BIG_WIN_SPEECH_SUPER:"commonmodule/bigwin/audio/super",SE_BIG_WIN_SPEECH_EPIC:"commonmodule/bigwin/audio/epic",SE_BIG_WIN_SPEECH_MEGA:"commonmodule/bigwin/audio/mega",SE_BIG_WIN_SPEECH_ULTIMATE:"commonmodule/bigwin/audio/ultimate",SE_COMMON_BUTTON_CLICK:"audios/button_click",SE_COMMON_POPUP_HIDE:"audios/popup_out",SE_REEL_STOP:"audios/reel_stop",SE_SCATTER_APPEAR_IN_NORMAL_GAME:"audios/gold_land",SE_SCATTER_APPEAR_IN_FREE_GAME:"audios/gold_land",SE_SCATTER_COLLECT:"audios/gold_send",SE_SCATTER_HIGHLIGHT:"audios/win_scatter",SE_SCATTER_HIGHLIGHT_WITH_FREE_TIMES:"audios/free_retrigger",SE_WIN_BIG_SCORE:"audios/win2end",SE_COLLECTION_FULL:"audios/collect_full",SE_JACKPOT_LOCK:"audios/jp_lock",SE_JACKPOT_UNLOCK:"audios/jp_unlock",SE_BONUS_GAME_PICK_JACKPOT_SYMBOL:"audios/coin_click",SE_BONUS_GAME_PICK_JACKPOT_SYMBOL_CRITICALLY:"audios/coin_click2",SE_BONUS_GAME_PICK_BOOST_SYMBOL:"audios/coin_click3",SE_BONUS_GAME_PICK_BOOST_SYMBOL_CRITICALLY:"audios/coin_click4",SE_BONUS_GAME_UPGRADE:"audios/coin_upgrade",SE_BONUS_GAME_COLLECT_ALL:"audios/coin_win",SE_BONUS_GAME_SPEECH_UPGRADE:"audios/jp_upgrade",SE_BONUS_GAME_SPEECH_BIG_PRIZE_AHEAD:"audios/go_on",SE_MAP_GAME_HIGHLIGHT_MOVE:"audios/move",SE_MAP_GAME_PICK:"audios/diamond_click",SE_MAP_GAME_SCORE_COLLECT:"audios/coin_collect",SE_MAP_GAME_MULTIPLIER_COLLECT:"audios/mul_collect",SE_MAP_GAME_MULTIPLY:"audios/coin_win",SE_MAP_GAME_SPEECH_NORMAL_1:"audios/voice1",SE_MAP_GAME_SPEECH_NORMAL_2:"audios/voice2",SE_MAP_GAME_SPEECH_SUPER_1:"audios/voice_win",SE_MAP_GAME_SPEECH_SUPER_2:"audios/voice_win2",SE_MAP_GAME_SPEECH_SUPER_3:"audios/voice_win3",SE_TRANSITION_BONUS_GAME:"audios/transition_pick",SE_TRANSITION_FREE_GAME:"audios/transition_free",SE_TRANSITION_MAP_GAME:"audios/transition_map",SE_POPUP_BONUS_GAME_START:"audios/pick_dialog_start_show",SE_POPUP_MAP_GAME_SETTLE:"audios/smap_dialog_collect_show",SE_POPUP_JACKPOT_MINI_UNLOCKED:"audios/mini_dialog_collect_show",SE_POPUP_JACKPOT_MINI_LOCKED:"audios/mini_dialog_collect_show1",SE_POPUP_JACKPOT_MINOR_UNLOCKED:"audios/minor_dialog_collect_show",SE_POPUP_JACKPOT_MINOR_LOCKED:"audios/minor_dialog_collect_show1",SE_POPUP_JACKPOT_MAJOR_UNLOCKED:"audios/major_dialog_collect_show",SE_POPUP_JACKPOT_MAJOR_LOCKED:"audios/major_dialog_collect_show1",SE_POPUP_JACKPOT_GRAND_UNLOCKED:"audios/grand_dialog_collect_show",SE_POPUP_JACKPOT_GRAND_LOCKED:"audios/grand_dialog_collect_show1",SE_POPUP_JACKPOT_DOUBLE_GRAND_UNLOCKED:"audios/doublegrand_dialog_collect_show",SE_POPUP_JACKPOT_DOUBLE_GRAND_LOCKED:"audios/doublegrand_dialog_collect_show1",CLICK_CHICKEN:"audios/chicken_click",chicken_sound1:"audios/chicken_sound1",chicken_sound1_1:"audios/chicken_sound1_1",wild_appear_1:"audios/wild_appear_1",wild_appear_2:"audios/wild_appear_2",wild_up:"audios/wild_up",congrats:"audios/congrats",base_Preview:"audios/base_Preview",super_lock:"audios/super_lock",super_unlock:"audios/super_unlock",enter_game:"audios/enter_game",combo_collect3:"audios/combo_collect3",combo_collect4:"audios/combo_collect4",dialog_fg_start:"audios/dialog_fg_start",dialog_fg_collect:"audios/dialog_fg_collect",base_background:"audios/base_background",win1:"audios/win1",win1end:"audios/win1end",super_win:"audios/super_win",FreeGame_Total:"audios/FreeGame_Total",FreeGame_Total_end:"audios/FreeGame_Total_end",combo_anticipation1:"audios/combo_anticipation1",combo_anticipation2:"audios/combo_anticipation2",combo_anticipation3:"audios/combo_anticipation3",combo_success1:"audios/combo_success1",combo_success2:"audios/combo_success2",combo_success3:"audios/combo_success3",chicken_show:"audios/chicken_show"},A.combo_anticipation_="audios/combo_anticipation",A.combo_success_="audios/combo_success",A.spinRequestor=null,A.slotInfo=null,A.lastMap=null,A.lastMapTimestamp=0,A.spinTimestamp=0,A.changeBetTimestamp=0,A.changeBetRequestTypesQueue=[],A.currentChangeBetType=s.EChangeBetRequestType.CHANGE_BET,A.balance=0,A.totalBet=0,A.anteBetEnabled=!1,A.autoPlaying=!1,A.quickSpin=!1,A.turboSpin=!1,A.skipScreens=!0,A.gmEnabled=!1,A.isJackpotsLockable=!1,A.jackpotsLockedStatesWhenPlayBack=[],A.danList=[],A.collectDanList=[],A.gameMode=void 0,A.$_isSpining=void 0,A.$_isBigWinTrailer=!1,A.$_superPress=0,A.$_iaward_notice=void 0,A.$_isStopLianXian=!1,A.$_freeMaxTimes=0,A.$_bounsWinNum=0,A.$_freeBlaned=0,A.$_startSpinTime=0,A.$_bonusGameWaitTime=1,A.$_freeGameWaitTime=1,A.$_isEnterGame=!1,A._loadingTasks={resource:0,network:0,preloadSymbol:0,preloadAnimatedSymbol:0,language:0},a._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameDefines33.ts",["cc"],(function(E){var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){var N;E("common",void 0),_._RF.push({},"fa97d9VRwpJBZ+EpkP+62ur","SubGameDefines",void 0),function(E){var _=function(E){return E[E.NORMAL=0]="NORMAL",E[E.BONUS=1]="BONUS",E[E.FREE=2]="FREE",E[E.MAP=3]="MAP",E[E.SUPER_MAP=4]="SUPER_MAP",E}({});E.EGameMode=_;var N=function(E){return E[E.GM_SPIN=0]="GM_SPIN",E[E.SPIN=1]="SPIN",E[E.FREE_SPIN=2]="FREE_SPIN",E[E.PICK_JACKPOT_SYMBOL=3]="PICK_JACKPOT_SYMBOL",E}({});E.ESpinRequestType=N;var R=function(E){return E[E.CHANGE_BET=0]="CHANGE_BET",E[E.SYNCHRONISE_JACKPOTS=1]="SYNCHRONISE_JACKPOTS",E}({});E.EChangeBetRequestType=R;var T=function(E){return E[E.BET=0]="BET",E[E.FREE=1]="FREE",E}({});E.ESpinType=T;var I=function(E){return E[E.DEFAULT=0]="DEFAULT",E[E.FAST=1]="FAST",E}({});E.ESpinSpeedType=I;var O=function(E){return E[E.NONE=0]="NONE",E[E.GREEN_TOWER=1]="GREEN_TOWER",E[E.BLUE_TOWER=2]="BLUE_TOWER",E[E.BLUE_AND_GREEN_TOWER=3]="BLUE_AND_GREEN_TOWER",E[E.RED_TOWER=4]="RED_TOWER",E[E.RED_AND_GREEN_TOWER=5]="RED_AND_GREEN_TOWER",E[E.RED_AND_BLUE_TOWER=6]="RED_AND_BLUE_TOWER",E[E.SUPER_TOWER=7]="SUPER_TOWER",E}({});E.EFeatureType=O;var S=function(E){return E[E.BLUE=1]="BLUE",E[E.RED=2]="RED",E[E.GREEN=3]="GREEN",E}({});E.ETowerType=S;var A=function(E){return E[E.MINI=0]="MINI",E[E.MINOR=1]="MINOR",E[E.MAJOR=2]="MAJOR",E[E.GRAND=3]="GRAND",E[E.DOUBLE_GRAND=4]="DOUBLE_GRAND",E}({});E.EJackpotType=A;var e=function(E){return E[E.UNKNOWN=0]="UNKNOWN",E[E.MINI=1]="MINI",E[E.MINOR=2]="MINOR",E[E.MAJOR=3]="MAJOR",E[E.GRAND=4]="GRAND",E[E.UPGRADE=5]="UPGRADE",E}({});E.EJackpotSymbolType=e;var D=function(E){return E[E.GREEN=0]="GREEN",E[E.BLUE=1]="BLUE",E[E.PURPLE=2]="PURPLE",E[E.RED=3]="RED",E[E.GOLD=4]="GOLD",E}({});E.EStageType=D;var n=function(E){return E[E.MULTIPLIER=1]="MULTIPLIER",E[E.SCORE=2]="SCORE",E[E.END=3]="END",E[E.WIN_ALL=4]="WIN_ALL",E}({});E.EMapItem=n;var L=function(E){return E.ENTER_COMPLETE="ENTER_COMPLETE",E.CREAT_WILDS="CREAT_WILDS",E.SHOW_COLLECT="TowersLayer_SHOW_COLLECT",E.HIT_WILD="HIT_WILD",E.HIDE_HIT_WILD="HIDE_HIT_WILD",E.HIDE_BIGWIN="HIDE_BIGWIN",E.SHOW_BAN_TIP="SHOW_BAN_TIP",E.START_HIT="START_HIT",E.PLAY_BG_FISH="PLAY_BG_FISH",E.SPIN_START="SPIN_START",E.SPIN_END="SPIN_END",E.CHECKEN_SCARE="CHECKEN_SCARE",E.CHECKEN_IDEL="CHECKEN_IDEL",E.CHECKEN_BIGWIN="CHECKEN_BIG",E.CHECKEN_OUT_TWO_SIDE="CHECKEN_OUT_TWO_SIDE",E.CHECKEN_RED_BLACK="CHECKEN_RED_BLACK",E.UPDATE_SYMBOL_GROUP="UPDATE_SYMBOL_GROUP",E.SHOW_WIN_NUMBER="SHOW_WIN_NUMBER",E.HIDE_WIN_NUMBER="HIDE_WIN_NUMBER",E.PLAY_FREE_GAME_START="PLAY_FREE_GAME_START",E.STOP_BIG_WIN="STOP_BIG_WIN",E.NEXT_FUNC="NEXT_FUNC",E}({});E.EventName=L}(N||(N=E("common",{}))),_._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameLanguage33.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageDelegate.ts","./Enums.ts","./SubGameData32.ts"],(function(a){var e,n,t,u,g,i;return{setters:[function(a){e=a.inheritsLoose},function(a){n=a.cclegacy},function(a){t=a.injectLanguageData,u=a.LanguageDelegate},function(a){g=a.sys_Language},function(a){i=a.SubGameData}],execute:function(){var o;n._RF.push({},"90c6aURM2FOD47gzqGykcIy","SubGameLanguage",void 0);var r={language:g.CHINESE,data:{}},c={language:g.ENGLISH,data:{}},l={language:g.Indonesian,data:{}},s={language:g.Malay,data:{}},d={language:g.Portuguese,data:{}},f={language:g.Thai,data:{}},L={language:g.Vietnamese,data:{}};a("SubGameLanguage",t(o=function(a){function n(){for(var e,n=arguments.length,t=new Array(n),u=0;u<n;u++)t[u]=arguments[u];return(e=a.call.apply(a,[this].concat(t))||this).bundle=i.module,e}return e(n,a),n.prototype.init=function(){var a=this;[r,c,l,s,d,f,L].forEach((function(e){return a.add(e)}))},n}(u))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/Symbol8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts"],(function(e){var t,i,r,o,n,s,a,c,l,f,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createClass},function(e){s=e.cclegacy,a=e._decorator,c=e.SpriteFrame,l=e.Sprite,f=e.Label,u=e.Component},function(e){h=e.SubGameData}],execute:function(){var _,d,p,m,b,y,S,v,F,g;s._RF.push({},"c2fe1j+kXJLxLugLiiS7Q+v","Symbol",void 0);var x=a.ccclass,I=a.menu,L=a.property;e("Symbol",(_=x("Symbol"),d=I(h.module+"/elements/Symbol"),p=L({displayName:"defaultFrame",type:[c]}),m=L(l),b=L(l),_(y=d((v=t((S=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,r(t,"defaultFrame",v,o(t)),r(t,"symbolSprite",F,o(t)),r(t,"bonusSprite",g,o(t)),t._info={id:0,score:0,re_icon:0},t._covered=!0,t._freeMode=!1,t._txtIcon=null,t._txtReIcon=null,t}i(t,e);var s=t.prototype;return s.onLoad=function(){var e,t;this._txtIcon=null==(e=this.node.getChildByName("txtIconid"))?void 0:e.getComponent(f),this._txtReIcon=null==(t=this.node.getChildByName("txtIre_cion"))?void 0:t.getComponent(f),this._refresh(),this._txtIcon.node.active=!1,this._txtReIcon.node.active=!1},s._refresh=function(){var e;this._txtIcon.string=""+this._info.id,this._txtReIcon.string=""+(null!=(e=this._info.re_icon)?e:""),this._covered&&(this.f_setSymboSprite(this._info.id),this.bonusSprite.node.active=!1),this.bonusSprite.spriteFrame=this.defaultFrame[this._info.id]},s.f_showReal=function(){0==this._covered&&(this.symbolSprite.spriteFrame=this.defaultFrame[this._info.id])},s.f_setSymboSprite=function(e){if(0==this._freeMode)switch(e){case 18:case 19:case 20:this.symbolSprite.spriteFrame=this.defaultFrame[11];break;default:this.symbolSprite.spriteFrame=this.defaultFrame[e]}else this.symbolSprite.spriteFrame=this.defaultFrame[e]},s.f_setIcon=function(){},n(t,[{key:"info",get:function(){return this._info},set:function(e){e.id===this._info.id&&e.score===this._info.score&&e.re_icon===this._info.re_icon||(this._info.id=e.id,this._info.score=e.score,this._info.re_icon=e.re_icon,this._refresh())}},{key:"covered",set:function(e){e!==this._covered&&(this._covered=e,this._refresh())}},{key:"freeMode",set:function(e){e!==this._freeMode&&(this._freeMode=e,this._refresh())}}]),t}(u)).prototype,"defaultFrame",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(S.prototype,"symbolSprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(S.prototype,"bonusSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=S))||y)||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/SymbolNodePool8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./Symbol8.ts"],(function(e){var t,n,a,o,r,i,l,s;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.instantiate,i=e.Prefab},function(e){l=e.SubGameData},function(e){s=e.Symbol}],execute:function(){o._RF.push({},"0524a7kVtlFhoIAofrXCMJq","SymbolNodePool",void 0),e("SymbolNodePool",function(){function e(){this._prefab=null,this._pool=[],this._availableIndex=0}var o=e.prototype;return o.preload=function(){var e=n(a().mark((function e(){var t,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Log.d("preload symbol prefab"),e.next=4,App.cache.getCacheByAsync("prefabs/elements/Symbol",i,l.module);case 4:(n=e.sent)[0],(o=n[1]).addRef(),null==(t=this._prefab)||t.decRef(),this._prefab=o,l.setLoadingTaskProgress("preloadSymbol",1),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),Log.e("failed to preload symbol prefab: "+(e.t0?e.t0.toString():"unknown reason")),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),o.push=function(e){var t=this._pool.indexOf(e);if(t<0)return!1;if(!e.isValid)return this._pool.splice(t,1),t<=this._availableIndex&&this._availableIndex>0&&--this._availableIndex,!1;e.removeFromParent();var n=e.getComponent(s);return!!n&&(n.reset(),t<this._availableIndex&&(--this._availableIndex,this._pool[t]=this._pool[this._availableIndex],this._pool[this._availableIndex]=e),!0)},o.pop=function(){var e;if(this._pool.length<=0||this._pool.length<=this._availableIndex){if(!this._prefab)return null;this._pool[this._availableIndex]=r(this._prefab)}return null!=(e=this._pool[this._availableIndex++])?e:null},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/Tower2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts","./AudioHelper8.ts","./CheckenEmoji.ts"],(function(t){var i,e,n,o,a,s,l,c,r,h,_,u,f,m,p,k,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,l=t._decorator,c=t.sp,r=t.Enum,h=t.Node,_=t.Label,u=t.Tween,f=t.Component},function(t){m=t.SubGameData},function(t){p=t.common},function(t){k=t.AudioHelper},function(t){v=t.CheckenEmoji}],execute:function(){var A,d,b,C,E,T,$,y,S,I,L,w,g,D;s._RF.push({},"565b8jJO41AxJg2uGYCVw2k","Tower",void 0);var O=l.ccclass,N=l.menu,B=l.property,R=function(t){return t[t.IDLE=0]="IDLE",t[t.INCREASING=1]="INCREASING",t[t.BURSTING=2]="BURSTING",t[t.BURST=3]="BURST",t}(R||{}),U=function(t){return t[t.IDLE=1]="IDLE",t[t.TAP=2]="TAP",t[t.COLLECT=3]="COLLECT",t[t.SCARE=5]="SCARE",t[t.ISFULL=7]="ISFULL",t[t.BIG_WIN=8]="BIG_WIN",t[t.Fall_DOWN=11]="Fall_DOWN",t[t.TO_OUT=9]="TO_OUT",t[t.RED_BIG_WIN=12]="RED_BIG_WIN",t}(U||{}),j="animation8",G="animation9_4";t("Tower",(A=O("Tower"),d=N(m.module+"/elements/Tower"),b=B(c.Skeleton),C=B({type:r(p.ETowerType),visible:!0}),E=B(h),T=B(_),$=B(v),A(y=d((I=i((S=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,n(i,"towerSkeleton",I,o(i)),n(i,"_type",L,o(i)),n(i,"tapNode",w,o(i)),n(i,"txtLevel",g,o(i)),n(i,"checkenEmoji",D,o(i)),i._state=R.IDLE,i._progress=-1,i._increasingAnimationCallback=void 0,i._burstingAnimationCallback=void 0,i._collectAnimationCallback=void 0,i.$_animationType=0,i.$_lastLevel=1,i.$_level=1,i.$_isOut=!1,i.$_active=!1,i.$_idelActionId=U.IDLE,i.$_burstimes=0,i.$_happyTimes=0,i.$_isBurst=!1,i.$_isFreeGame=!1,i.$_collectCallback=void 0,i.$_isMax=!1,i}e(i,t);var s=i.prototype;return s.onLoad=function(){this.towerSkeleton.setCompleteListener(this._onTowerSkeletonAnimationComplete.bind(this)),this.towerSkeleton.node.active=!1,this.tapNode.on(h.EventType.TOUCH_START,this._onTap,this)},s.onDestroy=function(){this.tapNode.off(h.EventType.TOUCH_START,this._onTap,this)},s.f_isOuting=function(){return this.towerSkeleton.animation==j||this.towerSkeleton.animation==G},s._onTap=function(){this.f_isOuting()||(this.checkenEmoji&&this.checkenEmoji.f_tap(),3==this.$_level&&this.checkenEmoji&&this.checkenEmoji.f_sigh(),this.tapNode.active=!1,this.f_playCheckenAnimation(U.TAP,!1),k.instance.playOneShotSoundEffect(m.AUDIO_URLS.CLICK_CHICKEN))},s.reset=function(t){this.towerSkeleton.node.active=this.$_active,u.stopAllByTarget(this.towerSkeleton),this.updateProgress(t,!1)},s.f_setActive=function(t){this.$_active=t,this.towerSkeleton.node.active=t},s.f_questActive=function(t){this.$_active==t&&(this.towerSkeleton.node.active=t)},s.collect=function(t){},s.f_collect=function(t){this.$_isBurst||(this._collectAnimationCallback=t,this.f_playCheckenAnimation(U.COLLECT,!1))},s.f_fullDown=function(){this.f_questActive(!0),this.f_playCheckenAnimation(U.Fall_DOWN,!1)},s.f_scare=function(){this.checkenEmoji&&this.checkenEmoji.f_scare(),this.$_idelActionId=U.SCARE,this.f_playCheckenAnimation(U.SCARE,!0)},s.f_redBigWin=function(t){this.f_playCheckenAnimation(U.RED_BIG_WIN,!0)},s.f_bigWin=function(){this.$_happyTimes=0,this.$_idelActionId=U.IDLE,this.f_playCheckenAnimation(U.BIG_WIN,!0)},s.f_toOut=function(){var t=this,i=0;this.type==p.ETowerType.RED?(this.towerSkeleton.setAnimation(0,G,!1),this.scheduleOnce((function(){t.f_playCheckenAnimation(U.IDLE,!0)}),3),i=2):(this.$_isBurst?this.towerSkeleton.setAnimation(0,G,!1):this.f_playCheckenAnimation(U.TO_OUT,!1),i=1.2),this.$_isMax&&(this.$_level=1),this.$_isBurst=!1,this.scheduleOnce((function(){t.checkenEmoji&&t.checkenEmoji.f_outFire()}),i)},s.f_idle=function(){this.$_idelActionId=U.IDLE,this.f_playCheckenAnimation(U.IDLE,!0)},s.f_resetFromServer=function(){this.$_level=this._progress+1,this.$_lastLevel=this._progress+1,this.f_idle()},s.f_outFire=function(){this.checkenEmoji&&this.checkenEmoji.f_outFire()},s.f_init=function(t){this.towerSkeleton.node.active=this.$_active,u.stopAllByTarget(this.towerSkeleton),this.$_lastLevel=t+1,this.$_level=t+1,this._progress=t},s.updateProgress=function(t,i,e,n){if(t>=3?(this.$_isMax=!0,t=2):this.$_isMax=!1,this._increasingAnimationCallback=void 0,t===this._progress)if(i){if(this._state===R.IDLE)return void(null==n||n(this));if(this._state===R.INCREASING)return void(this._increasingAnimationCallback=n)}else if(this._state===R.IDLE)return;u.stopAllByTarget(this.towerSkeleton),this.$_lastLevel=this.$_level,this.$_level=t+1,t>this._progress&&-1!=this._progress?0==this.$_isBurst&&(this.$_collectCallback=this.f_upAction.bind(this)):this.$_lastLevel=this.$_level,this._progress=t},s.f_upAction=function(t,i){if(!this.$_isBurst){t<=2&&t==i&&(console.warn("升级时等级相同了: lastLevel: "+t+", curLevel: "+i),i=t+1);var e="animation7_4";1==t?2==i?e="animation7_1":3==i&&(e="animation7_2"):2==t&&3==i&&(e="animation7_4"),""!=e?(this.$_animationType=-1,this.towerSkeleton.setAnimation(0,e,!1),this.towerSkeleton.addAnimation(0,"animation1_"+i,!0)):console.error("鸡升级动画没有:",t,i),this.$_lastLevel=i}},s.burst=function(t,i){this.$_isBurst=!0,t&&(this.checkenEmoji&&this.checkenEmoji.f_puFire(),this.tapNode.active=!1,this.$_burstimes=0,this.type==p.ETowerType.RED?k.instance.playOneShotSoundEffect(m.AUDIO_URLS.chicken_sound1):k.instance.playOneShotSoundEffect(m.AUDIO_URLS.chicken_sound1_1),this._burstingAnimationCallback=i,this.f_burtAnition())},s.f_burtAnition=function(){var t="";switch(this.$_level){case 0:case 1:t="animation7_3";break;case 2:t="animation7_5";break;case 3:default:t="animation7_6"}this.$_animationType=-1,this.towerSkeleton.setAnimation(0,t,!1),this.towerSkeleton.addAnimation(0,j,!0)},s._addTowerAnimation=function(t,i,e){return e&&this.towerSkeleton.clearAnimation(0),!!this.towerSkeleton.findAnimation(t)&&(this.towerSkeleton.addAnimation(0,t,i),!0)},s._afterIncrease=function(){this._state=R.IDLE;var t=this._increasingAnimationCallback;this._increasingAnimationCallback=void 0,null==t||t(this)},s._afterBurst=function(){this._state=R.BURST;var t=this._burstingAnimationCallback;this._burstingAnimationCallback=void 0,null==t||t(this)},s._onTowerSkeletonAnimationComplete=function(t){var i=this;switch(t.animation.name){case j:return void this.$_burstimes++;case G:return this.node.active=!1,this.$_level=1,this.$_isOut=!0,this.scheduleOnce((function(){var t=i._burstingAnimationCallback;i._burstingAnimationCallback=void 0,null==t||t(i)}),1),void(this.tapNode.active=!0)}switch(this.$_animationType){case U.COLLECT:if(m.$_isBigWinTrailer?this.f_playCheckenAnimation(U.SCARE,!0):this.f_playCheckenAnimation(U.IDLE,!0),this.$_collectCallback){var e=this.$_collectCallback;this.$_collectCallback=void 0,e(this.$_lastLevel,this.$_level)}var n=this._collectAnimationCallback;this._collectAnimationCallback=void 0,null==n||n(this),this.tapNode.active=!0;break;case U.RED_BIG_WIN:break;case U.TAP:if(this.f_isOuting())return;this.f_playCheckenAnimation(U.IDLE,!0),this.tapNode.active=!0;break;case U.Fall_DOWN:this.f_playCheckenAnimation(U.IDLE,!0);break;case U.BIG_WIN:this.$_happyTimes++,this.$_happyTimes>=3&&(this.tapNode.active=!0,this.f_playCheckenAnimation(U.IDLE,!0));break;case U.TO_OUT:this.tapNode.active=!1,this.scheduleOnce((function(){var t=i._burstingAnimationCallback;i._burstingAnimationCallback=void 0,null==t||t(i)}),1)}},s._onHighlightSkeletonAnimationComplete=function(t){},s.f_playCheckenAnimation=function(t,i){void 0===i&&(i=!1),this.$_animationType=t,this.towerSkeleton.setAnimation(0,"animation"+t+"_"+this.$_lastLevel,i)},a(i,[{key:"type",get:function(){return this._type}}]),i}(f)).prototype,"towerSkeleton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(S.prototype,"_type",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.ETowerType.RED}}),w=i(S.prototype,"tapNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i(S.prototype,"txtLevel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(S.prototype,"checkenEmoji",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=S))||y)||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/TowersLayer2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./Tower2.ts","./BigWinLayer22.ts","./Global.ts","./AudioHelper8.ts","./DelayUtil.ts"],(function(e){var t,s,o,i,r,a,E,n,c,u,h,T,l,p,f,_,y,w,R,d,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose,a=e.createClass},function(e){E=e.cclegacy,n=e._decorator,c=e.sp,u=e.Node,h=e.Tween,T=e.tween},function(e){l=e.SubGameData},function(e){p=e.common},function(e){f=e.DisplayTaskManager,_=e.Display},function(e){y=e.Tower},function(e){w=e.default},function(e){R=e.Global},function(e){d=e.AudioHelper},function(e){D=e.DelayUtil}],execute:function(){var g,L,v,m,N,G,b,F,B,U,S;E._RF.push({},"b5edcujT0tLJrMGDTzSljn1","TowersLayer",void 0);var O=n.ccclass,C=n.menu,k=n.property,W=((g={})[p.EFeatureType.NONE]={GREED:!0,RED:!0,BLUE:!0},g[p.EFeatureType.GREEN_TOWER]={GREED:!1,RED:!0,BLUE:!1},g[p.EFeatureType.RED_TOWER]={GREED:!1,RED:!0,BLUE:!1},g[p.EFeatureType.BLUE_TOWER]={GREED:!1,RED:!0,BLUE:!1},g[p.EFeatureType.BLUE_AND_GREEN_TOWER]={GREED:!1,RED:!0,BLUE:!1},g[p.EFeatureType.RED_AND_GREEN_TOWER]={GREED:!1,RED:!0,BLUE:!1},g[p.EFeatureType.RED_AND_BLUE_TOWER]={GREED:!1,RED:!0,BLUE:!1},g[p.EFeatureType.SUPER_TOWER]={GREED:!1,RED:!0,BLUE:!1},g);e("TowersLayer",(L=O("TowersLayer"),v=C(l.module+"/layers/TowersLayer"),m=k([y]),N=k(c.Skeleton),G=k(u),L(b=v((B=t((F=function(e){function t(){for(var t,s,r=arguments.length,a=new Array(r),E=0;E<r;E++)a[E]=arguments[E];return s=e.call.apply(e,[this].concat(a))||this,o(s,"towersList",B,i(s)),o(s,"wingSketon",U,i(s)),o(s,"touchNoNode",S,i(s)),s.$_isFreeGame=!1,s.towerBurstHash=null,s.$_isFrist=!0,s._shouldWaitProgressUpdate=!1,s._targetProgressesHash={},s._collectableScatterExistFlagsHash=((t={})[p.ETowerType.GREEN]=!1,t[p.ETowerType.BLUE]=!1,t[p.ETowerType.RED]=!1,t),s}s(t,e);var E=t.prototype;return E.onLoad=function(){e.prototype.onLoad.call(this),this.touchNoNode.active=!1,this.wingSketon.node.active=!1,f.addHandler(this)},E.onEnable=function(){this.onD(p.EventName.SHOW_COLLECT,this.f_showCollect.bind(this)),this.onD(p.EventName.ENTER_COMPLETE,this.f_showFullDown.bind(this)),this.onD(p.EventName.CHECKEN_SCARE,this.f_showScare.bind(this)),this.onD(p.EventName.CHECKEN_IDEL,this.f_showIdel.bind(this)),this.onD(p.EventName.CHECKEN_BIGWIN,this.f_showBigWin.bind(this)),this.onD(p.EventName.CHECKEN_OUT_TWO_SIDE,this.f_outTwoSide.bind(this)),this.onD(p.EventName.CHECKEN_RED_BLACK,this.f_redComeBlack.bind(this))},E.onDisable=function(){this.offD(p.EventName.SHOW_COLLECT),this.offD(p.EventName.ENTER_COMPLETE),this.offD(p.EventName.CHECKEN_SCARE),this.offD(p.EventName.CHECKEN_IDEL),this.offD(p.EventName.CHECKEN_BIGWIN),this.offD(p.EventName.CHECKEN_OUT_TWO_SIDE),this.offD(p.EventName.CHECKEN_RED_BLACK)},E.f_showFullDown=function(){R.playback||this.$_isFreeGame||(this.towersList.forEach((function(e){e.f_fullDown()})),d.instance.playSoundEffect(l.AUDIO_URLS.chicken_show))},E.f_showScare=function(){this.towersList.forEach((function(e){e.f_scare()}))},E.f_showIdel=function(){this.towersList.forEach((function(e){e.f_idle()}))},E.f_showBigWin=function(){this.towersList.forEach((function(e){e.f_bigWin()}))},E.f_outTwoSide=function(){this.towersList.forEach((function(e){e.type!=p.ETowerType.RED&&e.f_toOut()}))},E.f_redComeBlack=function(){this.towersList.forEach((function(e){e.type==p.ETowerType.RED&&e.$_isOut&&(e.$_isOut=!1,e.f_setActive(!0),e.f_idle(),e.f_outFire())}))},E.f_showCollect=function(e){var t;switch(e){case 18:t=this.f_getTower(p.ETowerType.GREEN);break;case 19:t=this.f_getTower(p.ETowerType.BLUE);break;case 20:t=this.f_getTower(p.ETowerType.RED)}null!=t&&(t.$_isMax&&this.startDisplay(3),t.f_collect((function(e){})))},E.f_getTower=function(e){for(var t=this.towersList.length,s=0;s<t;s++){var o=this.towersList[s];if(o.type===e)return o}return null},E.onTaskInitialize=function(e,t){var s=this;this.stopAllDisplays(),t.gameMode===p.EGameMode.FREE?this.$_isFreeGame=!0:this.$_isFreeGame=!1,this.f_updateCheckenActive(t.featureType),t.isReconnect||(this._shouldWaitProgressUpdate=!1,this._clearTargetProgresses(),this._clearCollectableScatterExistFlags(),this.node.active=t.gameMode!==p.EGameMode.MAP&&t.gameMode!==p.EGameMode.SUPER_MAP,this.towersList.forEach((function(e){var o;h.stopAllByTarget(e.node),e.f_init(null!=(o=t.featureProgressesHash[e.type])?o:0),0==R.playback&&(s.$_isFrist&&0==s.$_isFreeGame&&(e.towerSkeleton.node.active=!1),s.$_isFreeGame&&e.f_idle(),0==e.$_isOut&&e.f_outFire())})),this.$_isFrist=!1,t.gameMode===p.EGameMode.BONUS&&this.f_freeGameBurst(t.featureType))},E.onTaskSpinStart=function(e,t){this._shouldWaitProgressUpdate=!1,this._clearTargetProgresses(),this._clearCollectableScatterExistFlags()},E.onTaskSpinStop=function(e,t){this._shouldWaitProgressUpdate=t.shouldWaitFeatureUpdate,this._targetProgressesHash[p.ETowerType.GREEN]=t.featureProgressesHash[p.ETowerType.GREEN],this._targetProgressesHash[p.ETowerType.BLUE]=t.featureProgressesHash[p.ETowerType.BLUE],this._targetProgressesHash[p.ETowerType.RED]=t.featureProgressesHash[p.ETowerType.RED],t.spinType===p.ESpinType.FREE||(this._updateCollectableScatterExistFlags(t.symbolsGroups,p.ETowerType.GREEN),this._updateCollectableScatterExistFlags(t.symbolsGroups,p.ETowerType.BLUE)),this._updateCollectableScatterExistFlags(t.symbolsGroups,p.ETowerType.RED)},E.onTaskBonusGameTrigger=function(e,t){var s=this;this.startDisplay(),D.runWithOverride(this,(function(){s.endDisplay(),s.f_BonusGameBurst(t.featureType)}),l.$_bonusGameWaitTime)},E.f_BonusGameBurst=function(e){var t=this,s=[];s.push(p.ETowerType.RED);var o=Math.floor(3*Math.random())+1,i="";switch(i=l.AUDIO_URLS.combo_collect4,e){case p.EFeatureType.RED_TOWER:break;case p.EFeatureType.RED_AND_GREEN_TOWER:s.push(p.ETowerType.GREEN),i=l.combo_success_+o;break;case p.EFeatureType.RED_AND_BLUE_TOWER:s.push(p.ETowerType.BLUE),i=l.combo_success_+o;break;case p.EFeatureType.SUPER_TOWER:s.push(p.ETowerType.GREEN),s.push(p.ETowerType.BLUE),i=l.combo_success_+o}this.touchNoNode.active=!0,i=l.AUDIO_URLS.combo_collect4,d.instance.playSoundEffect(i),this.wingSketon.node.active=!0,this.wingSketon.setAnimation(0,"animation8",!0),this.scheduleOnce((function(){t.wingSketon.node.active=!1}),5),this.startDisplay(),this.towersList.forEach((function(e){-1!=s.indexOf(e.type)&&e.node.active&&e.burst(!0,(function(){}))})),this.scheduleOnce((function(){t.endDisplay(),t.towersList.forEach((function(e){e.type===p.ETowerType.RED&&(e.$_isFreeGame=!1,e.f_toOut())}))}),2)},E.onTaskBonusGameTransit=function(e,t){"exit"===t.type&&(this.touchNoNode.active=!1,this._targetProgressesHash[p.ETowerType.RED]=0,this.towersList.forEach((function(e){e.type===p.ETowerType.RED&&(e.$_isMax=!1,e.$_lastLevel=1,e.$_level=1,e.reset(0),e.f_outFire(),e.f_idle())})))},E.onTaskFreeGameTrigger=function(e,t){var s=this;this.startDisplay(),D.runWithOverride(this,(function(){s.endDisplay(),s.f_freeGameBurst(t.featureType)}),l.$_bonusGameWaitTime)},E.f_freeGameBurst=function(e){var t=this,s=[],o=Math.floor(3*Math.random())+1,i="";switch(i=l.AUDIO_URLS.combo_collect4,e){case p.EFeatureType.GREEN_TOWER:i=l.combo_anticipation_+o,s.push(p.ETowerType.GREEN);break;case p.EFeatureType.BLUE_TOWER:i=l.combo_anticipation_+o,s.push(p.ETowerType.BLUE);break;case p.EFeatureType.BLUE_AND_GREEN_TOWER:s.push(p.ETowerType.BLUE),s.push(p.ETowerType.GREEN),i=l.combo_success_+o}""!=i&&null!=i&&d.instance.playSoundEffect(i),this.towersList.forEach((function(e){-1!=s.indexOf(e.type)&&e.node.active&&(t.startDisplay(),e.$_isFreeGame=!0,e.type==p.ETowerType.RED||e.burst(!0,(function(){return t.endDisplay()})))}))},E.onTaskFreeGameTransit=function(e,t){"exit"===t.type?(this.touchNoNode.active=!1,this.$_isFreeGame=!1,this.towersList.forEach((function(e){e.f_setActive(!0),e.$_isMax&&(e.$_level=1,e.$_lastLevel=1,e.$_isMax=!1),e.f_idle(),e.f_outFire()}))):(this.$_isFreeGame=!0,this.towersList.forEach((function(e){e.f_outFire(),e.type===p.ETowerType.RED&&e.f_idle()}))),this._targetProgressesHash[p.ETowerType.GREEN]=t.featureProgressesHash[p.ETowerType.GREEN],this._targetProgressesHash[p.ETowerType.BLUE]=t.featureProgressesHash[p.ETowerType.BLUE],this._targetProgressesHash[p.ETowerType.RED]=t.featureProgressesHash[p.ETowerType.RED]},E.onTaskChangeGame=function(e,t){var s=this;if(this.wingSketon.node.active=!1,t.previousFeatureType!==t.nextFeatureType)if(this.f_updateCheckenActive(t.nextFeatureType),t.previousFeatureType===p.EFeatureType.RED_TOWER){var o=this._targetProgressesHash[p.ETowerType.RED];null!=o&&this.towersList.forEach((function(e){e.type===p.ETowerType.RED&&e.reset(o)}))}else t.nextFeatureType!==p.EFeatureType.RED_TOWER&&this.towersList.forEach((function(e){var t=s._targetProgressesHash[e.type];null!=t&&e.reset(t)}))},E.f_updateCheckenActive=function(e){var t=W[e];this.towersList.forEach((function(e){switch(e.type){case p.ETowerType.RED:e.f_setActive(t.RED);break;case p.ETowerType.GREEN:e.f_setActive(t.GREED);break;case p.ETowerType.BLUE:e.f_setActive(t.BLUE)}}));var s=[];switch(e){case p.EFeatureType.RED_TOWER:s.push(p.ETowerType.RED);break;case p.EFeatureType.RED_AND_GREEN_TOWER:s.push(p.ETowerType.RED),s.push(p.ETowerType.GREEN);break;case p.EFeatureType.RED_AND_BLUE_TOWER:s.push(p.ETowerType.RED),s.push(p.ETowerType.BLUE);break;case p.EFeatureType.SUPER_TOWER:s.push(p.ETowerType.RED),s.push(p.ETowerType.GREEN),s.push(p.ETowerType.BLUE);break;case p.EFeatureType.BLUE_TOWER:s.push(p.ETowerType.BLUE);break;case p.EFeatureType.GREEN_TOWER:s.push(p.ETowerType.GREEN);break;case p.EFeatureType.BLUE_AND_GREEN_TOWER:s.push(p.ETowerType.BLUE),s.push(p.ETowerType.GREEN)}this.towersList.forEach((function(e){-1!=s.indexOf(e.type)&&(e.$_isMax=!0)}))},E.onTaskShowMapGame=function(e,t){this.node.active=!1},E.onTaskHideMapGame=function(e,t){this.node.active=!0},E.onTaskReelStop=function(e,t){var s=this;if(0===t.reelIndex){var o=this._shouldWaitProgressUpdate;this.towersList.forEach((function(e){if(e.node.active){var t=s._targetProgressesHash[e.type];null!=t&&(o&&s.startDisplay(),e.updateProgress(t,!0,1.8,(function(){o&&s.endDisplay()}))),s._collectableScatterExistFlagsHash[e.type]&&(h.stopAllByTarget(e.node),T(e.node).delay(1.8).call((function(){e.collect((function(){s.endDisplay()}))})).start())}})),this._clearTargetProgresses(),this._clearCollectableScatterExistFlags()}},E.onTaskBigWinEffect=function(e,t){if(0!=this.$_isFreeGame){var s=t.score/l.totalBet;w.isBigWin(s)&&this.towersList.forEach((function(e){e.type===p.ETowerType.RED&&e.f_redBigWin()}))}},E.onTaskBigWin=function(e,t){0!=this.$_isFreeGame&&this.towersList.forEach((function(e){e.type===p.ETowerType.RED&&e.f_idle()}))},E._clearTargetProgresses=function(){this._targetProgressesHash[p.ETowerType.GREEN]=void 0,this._targetProgressesHash[p.ETowerType.BLUE]=void 0,this._targetProgressesHash[p.ETowerType.RED]=void 0},E._clearCollectableScatterExistFlags=function(){this._collectableScatterExistFlagsHash[p.ETowerType.GREEN]=!1,this._collectableScatterExistFlagsHash[p.ETowerType.BLUE]=!1,this._collectableScatterExistFlagsHash[p.ETowerType.RED]=!1},E._updateCollectableScatterExistFlags=function(e,t){for(var s,o=r(e);!(s=o()).done;)for(var i,a=s.value,E=r(a);!(i=E()).done;){var n=i.value;if(l.getTowerTypeOnSymbol(n.id)===t)return void(this._collectableScatterExistFlagsHash[t]=!0)}},E.startDisplay=function(e){var t=this;void 0===e&&(e=2),++this._displayCount,D.runWithOverride(this,(function(){t._displayCount=0}),e)},a(t,[{key:"displaying",get:function(){return this._displayCount>0}}]),t}(_)).prototype,"towersList",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(F.prototype,"wingSketon",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(F.prototype,"touchNoNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=F))||b)||b));E._RF.pop()}}}));

System.register("chunks:///_virtual/TransitionLayer4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./SubGameDefines33.ts","./Display9.ts","./AudioHelper8.ts"],(function(e){var n,t,i,a,o,s,r,l,u,p,c,T,y,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.sp,l=e.tween,u=e.Tween},function(e){p=e.SubGameData},function(e){c=e.common},function(e){T=e.DisplayTaskManager,y=e.Display},function(e){m=e.AudioHelper}],execute:function(){var h,f,d,S,b,G;o._RF.push({},"536590kWyVG1JWI4LS/kHYo","TransitionLayer",void 0);var v=s.ccclass,_=s.menu,k=s.property;e("TransitionLayer",(h=v("TransitionLayer"),f=_(p.module+"/layers/TransitionLayer"),d=k(r.Skeleton),h(S=f((G=n((b=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o))||this,i(n,"bonusGameTransitionSkeleton",G,a(n)),n.$_isExit=!1,n}t(n,e);var o=n.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),T.addHandler(this),this.bonusGameTransitionSkeleton.setCompleteListener(this._onBonusGameTransitionSkeletonAnimationComplete.bind(this))},o.onTaskInitialize=function(e,n){n.isReconnect||(this.stopAllDisplays(),this.node.active=!1,this._clearAllTransitionAnimations())},o.onTaskBonusGameTransit=function(e,n){var t=this;this.stopAllDisplays(),this.startDisplay(),this.$_isExit=!1;var i=0;this.node.active=!0,this._clearAllTransitionAnimations();var a=n.previousFeatureTypeBefore,o=c.EFeatureType.RED_TOWER;"exit"===n.type?(i=0,this.$_isExit=!0,a=c.EFeatureType.RED_TOWER,o=n.previousFeatureTypeBefore):i=2+p.$_bonusGameWaitTime,l(this.bonusGameTransitionSkeleton.node).delay(i+2.5).call((function(){T.runTask("changeGame",{previousFeatureType:a,nextFeatureType:o,previousSymbolsGroups:n.previousSymbolsGroups})})).start(),this.scheduleOnce((function(){t.bonusGameTransitionSkeleton.enabled=!0,t.bonusGameTransitionSkeleton.setAnimation(0,"animation",!1)}),i),this.scheduleOnce((function(){m.instance.playSoundEffect(p.AUDIO_URLS.SE_TRANSITION_BONUS_GAME)}),i+1)},o.onTaskFreeGameTransit=function(e,n){this.stopAllDisplays();var t=c.EFeatureType.NONE,i=n.featureType;"exit"===n.type&&(t=n.featureType,i=c.EFeatureType.NONE),T.runTask("changeGame",{previousFeatureType:t,nextFeatureType:i,previousSymbolsGroups:n.previousSymbolsGroups})},o._clearAllTransitionAnimations=function(){u.stopAllByTarget(this.bonusGameTransitionSkeleton.node),this.bonusGameTransitionSkeleton.enabled=!1},o._onBonusGameTransitionSkeletonAnimationComplete=function(e){this.node.active=!1,this.bonusGameTransitionSkeleton.enabled=!0,this.endDisplay(),this.$_isExit&&dispatch(c.EventName.CHECKEN_RED_BLACK)},n}(y)).prototype,"bonusGameTransitionSkeleton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=b))||S)||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/Ts30.ts",["cc","./Protocol33.ts"],(function(n){var e,o,t;return{setters:[function(n){e=n.cclegacy,o=n.log},function(n){t=n.ReelData}],execute:function(){e._RF.push({},"e38e3KG7hNHSrYPL5dVw1h7","Ts30",void 0);n("Ts30",function(){function n(){}return n.f_getMap=function(n){var e=[];n.sort((function(n,e){return n.pos-e.pos}));for(var r=0;r<n.length;r++){var u,c=Math.floor(r/3);if(null==e[c]&&(e[c]=new t,e[c].col=c),e[c].icon.push(n[r].icon),e[c].num.push(n[r].num),n[r].icon==n[r].re_icon)e[c].re_icon.push(0);else e[c].re_icon.push(null!=(u=n[r].re_icon)?u:0)}return o("滚动结果:",e),e},n.f_formatNumber=function(n){return n>=1e9?(n/1e9).toFixed(1)+"b":n>=1e6?(n/1e6).toFixed(1)+"m":n>=1e3?(n/1e3).toFixed(1)+"k":n.toString()},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/VerticalSpinView30.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NumberRoller.ts","./Display9.ts","./SubGameDefines33.ts","./SubGameData32.ts","./ExRichText.ts"],(function(i){var e,t,n,r,o,s,l,a,c,u,p,_;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,s=i._decorator,l=i.Node},function(i){a=i.NumberRoller},function(i){c=i.Display},function(i){u=i.common},function(i){p=i.SubGameData},function(i){_=i.ExRichText}],execute:function(){var h,w,y,b,f,d,N,m,S,g,R,T,v,W,D,E,I;o._RF.push({},"60efdXjgaxAEbxgP+/XPKNa","VerticalSpinView30",void 0);var z=s.ccclass,P=s.property;i("VerticalSpinView30",(h=z("VerticalSpinView30"),w=P({displayName:"WIN SCORE TIPS",type:a}),y=P({displayName:"WIN SCORE TIPS",type:a}),b=P({displayName:"rest_wintip",type:a}),f=P({displayName:"GOOD LUCK Tips",type:_}),d=P({displayName:"WIN Tips2",type:l}),N=P({displayName:"WIN Tips",type:l}),m=P({displayName:"RESET WIN",type:l}),h((R=e((g=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return e=i.call.apply(i,[this].concat(o))||this,n(e,"win_currency_roller1",R,r(e)),n(e,"win_currency_roller2",T,r(e)),n(e,"rest_wintip",v,r(e)),n(e,"label_good_luck",W,r(e)),n(e,"win_tips_node2",D,r(e)),n(e,"win_tips_node",E,r(e)),n(e,"reset_win",I,r(e)),e.winTypeDuration=[0,6.4,6.4,8,8,11.2],e.winType=0,e._score=0,e._isShow=!1,e._isNeedReset=!1,e}t(e,i);var o=e.prototype;return o.onLoad=function(){this.onD(u.EventName.SHOW_WIN_NUMBER,this.f_showWinNumber.bind(this)),this.onD(u.EventName.STOP_BIG_WIN,this.f_closeBigWin.bind(this)),this.onD(u.EventName.SPIN_START,this.f_reset.bind(this)),this.onD(u.EventName.HIDE_WIN_NUMBER,this.f_reset.bind(this))},o.f_showWinNumber=function(i){this._isShow=!0,this._isNeedReset=!0,this._score=i;var e=i/p.totalBet;this.winType=e>=5&&e<10?1:e>=10&&e<15?2:e>=15&&e<30?3:e>=30&&e<50?4:5;var t=this.winTypeDuration[this.winType];p.$_bounsWinNum=0,this.showWinScoreTips1(!0),this.win_currency_roller2.node.active=!0,this.win_currency_roller2.startRolling(0,i,t),this.rest_wintip.startRolling(0,i,t)},o.f_closeBigWin=function(){this._isShow&&(this.win_currency_roller2.stopRollingAndShowNumber(this._score),this.rest_wintip.stopRollingAndShowNumber(this._score)),this._isShow=!1},o.f_reset=function(){this._isNeedReset&&(this.rest_wintip.stopRollingAndShowNumber(0),this.showWinScoreTips1(!1)),this._isNeedReset=!1},o.showWinScoreTips1=function(i){this.label_good_luck.node.active=!i,this.win_tips_node.active=!i,this.reset_win.active=i,this.win_tips_node2.active=i},e}(c)).prototype,"win_currency_roller1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(g.prototype,"win_currency_roller2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(g.prototype,"rest_wintip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(g.prototype,"label_good_luck",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(g.prototype,"win_tips_node2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(g.prototype,"win_tips_node",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(g.prototype,"reset_win",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=g))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/WildItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData32.ts","./AudioHelper8.ts","./DelayUtil.ts"],(function(t){var i,e,n,o,s,a,c,h,r,u,d,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,c=t.sp,h=t.Node,r=t.Component},function(t){u=t.SubGameData},function(t){d=t.AudioHelper},function(t){l=t.DelayUtil}],execute:function(){var f,_,k,S,v,p,m,$,y,g,D,H,I;s._RF.push({},"f68deL1SalHHagMpyUZQBLa","WildItem",void 0);var b=a.ccclass,A=a.property,O=function(t){return t.SHOW="animation1_2",t.HOLD="animation1_1",t.HIDE="animation1_1_5",t.HIT="animation2_1",t}(O||{});t("WildItem",(f=b("WildItem"),_=A(c.Skeleton),k=A(c.Skeleton),S=A(c.Skeleton),v=A(c.Skeleton),p=A(h),f((y=i(($=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,n(i,"iconSketon",y,o(i)),n(i,"fishSketon",g,o(i)),n(i,"kuangSketon",D,o(i)),n(i,"upMoveSketon",H,o(i)),n(i,"mainNode",I,o(i)),i.$_poxIndex=0,i.$_poyIndex=0,i.$_isMove=!1,i.$_isNew=!1,i.$_isToDesotry=!1,i.$_isHideKuang=!1,i.$_ishit=!1,i.$_isFeed=!1,i.$_wildItemPool=null,i.$_isComplete=!1,i}e(i,t);var s=i.prototype;return s.f_setIsfeed=function(t){this.$_isFeed=t},s.onLoad=function(){this.iconSketon.setCompleteListener(this.f_iconComplete.bind(this)),this.upMoveSketon.setCompleteListener(this.f_upMoveComplete.bind(this)),this.f_reset()},s.f_reset=function(){this.unscheduleAllCallbacks(),this.$_poxIndex=-1,this.$_poyIndex=-1,this.$_isMove=!1,this.$_ishit=!1,this.$_isNew=!1,this.$_isToDesotry=!1,this.$_isHideKuang=!1,this.$_isFeed=!1,this.upMoveSketon.node.active=!1,this.kuangSketon.node.active=!1,this.iconSketon.node.active=!1,this.fishSketon.node.active=!1},s.onEnable=function(){this.f_startFly(),this.scheduleOnce(this.f_fishComplete,.8)},s.f_startFly=function(){this.$_isHideKuang||(this.kuangSketon.node.active=!1,this.fishSketon.node.active=!0,this.fishSketon.setAnimation(0,"animation",!1),d.instance.playOneShotSoundEffect(u.AUDIO_URLS.wild_appear_1))},s.f_kuangComplete=function(){this.kuangSketon.node.active=!1},s.f_fishComplete=function(){var t=this;this.$_isComplete=!0,u.$_isStopLianXian=!1,this.$_isToDesotry&&this.f_recover(),null!=this.fishSketon&&(this.iconSketon.node.active=!0,this.iconSketon.setAnimation(0,O.SHOW,!1),1==this.$_ishit&&(this.kuangSketon.node.active=!0,this.iconSketon.addAnimation(0,O.HIT,!1)),this.iconSketon.addAnimation(0,O.HOLD,!0),d.instance.playOneShotSoundEffect(u.AUDIO_URLS.wild_appear_2),this.$_isFeed&&this.scheduleOnce((function(){t.f_feed()}),1),this.$_isToDesotry&&this.iconSketon.setAnimation(0,O.HIDE,!1))},s.f_toComplete=function(){var t=this;this.$_isComplete=!0,this.unschedule(this.f_fishComplete),this.kuangSketon.node.active=!1,u.$_isStopLianXian=!1,this.$_isNew?(0==this.iconSketon.node.active&&(this.fishSketon.node.active=!1,this.iconSketon.node.active=!0,this.iconSketon.setAnimation(0,O.SHOW,!1),1==this.$_ishit&&(this.kuangSketon.node.active=!0,this.iconSketon.addAnimation(0,O.HIT,!1)),this.iconSketon.addAnimation(0,O.HOLD,!0),d.instance.playOneShotSoundEffect(u.AUDIO_URLS.wild_appear_2),this.$_isToDesotry&&this.iconSketon.setAnimation(0,O.HIDE,!1)),this.$_isFeed&&this.scheduleOnce((function(){t.f_feed()}),1)):this.$_isToDesotry&&this.f_recover()},s.f_iconComplete=function(t){switch(t.animation.name){case O.HIDE:this.$_isFeed?this.iconSketon.node.active=!1:this.f_recover();break;case O.HIT:this.kuangSketon.node.active=!1,this.iconSketon.setAnimation(0,O.HOLD,!0)}},s.f_hideToDestroy=function(){var t=this;this.scheduleOnce((function(){t.f_recover()}),1),this.$_isToDesotry||(this.$_isToDesotry=!0,this.iconSketon.node.active?(this.kuangSketon.node.active=!1,this.iconSketon.setAnimation(0,O.HIDE,!1)):this.kuangSketon.node.active=!1)},s.f_hideFish=function(){this.$_isHideKuang=!0,this.kuangSketon.node.active=!1},s.f_upMoveComplete=function(){this.$_isToDesotry?this.f_recover():this.upMoveSketon.node.active=!1},s.f_hit=function(){var t=this;if(this.$_isToDesotry)this.f_recover();else{if(this.$_ishit=!0,this.$_isComplete&&(this.iconSketon.node.active=!0),this.$_isFeed)return this.iconSketon.node.active=!1,void(this.kuangSketon.node.active=!0);l.runWithOverride(this,(function(){t.iconSketon.node.active&&(t.kuangSketon.node.active=!0,t.iconSketon.setAnimation(0,O.HIT,!1))}),.1)}},s.f_hideHit=function(){this.kuangSketon.node.active=!1},s.f_move=function(){var t=this;if(this.iconSketon&&this.iconSketon.node&&(this.iconSketon.node.active=!0,this.iconSketon.setAnimation(0,O.HOLD,!0)),this.$_isToDesotry)return this.kuangSketon.node.active=!1,this.fishSketon.node.active=!1,this.iconSketon.node.active=!1,void this.f_recover();this.scheduleOnce((function(){t.$_isHideKuang=!1}),1),this.$_ishit=!1,this.kuangSketon.node.active=!1,this.fishSketon.node.active=!1,this.upMoveSketon.node.active=!0,this.upMoveSketon.setAnimation(0,"animation",!1)},s.f_feed=function(){this.$_isToDesotry?this.f_recover():this.iconSketon.node.active=!1},s.f_recover=function(){this.node.destroy()},i}(r)).prototype,"iconSketon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i($.prototype,"fishSketon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i($.prototype,"kuangSketon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i($.prototype,"upMoveSketon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i($.prototype,"mainNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=$))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/WildLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Display9.ts","./SubGameData32.ts","./SubGameDefines33.ts","./WildItem.ts","./AudioHelper8.ts","./CommonEvent.ts","./Global.ts","./DelayUtil.ts"],(function(e){var t,i,n,o,s,r,a,l,h,_,f,d,c,u,p,m,v,$,y,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Prefab,l=e.NodePool,h=e.instantiate,_=e.tween,f=e.Vec3},function(e){d=e.DisplayTaskManager,c=e.Display},function(e){u=e.SubGameData},function(e){p=e.common},function(e){m=e.WildItem},function(e){v=e.AudioHelper},function(e){$=e.CommonEvent},function(e){y=e.Global},function(e){T=e.DelayUtil}],execute:function(){var g,D,I,w,b,S;s._RF.push({},"0da470UYGxG4K9LP98kG5ny","WildLayer",void 0);var k=r.ccclass,x=r.menu,P=r.property,N=function(e){return e[e.move=1]="move",e[e.clearn=2]="clearn",e}(N||{});e("WildLayer",(g=k("WildLayer"),D=x(u.module+"/layers/SlotLayer"),I=P(a),g(w=D((S=t((b=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"wildPrefab",S,o(t)),t.$_w=135,t.$_items=[],t.$_wildType=N.move,t.$_checkNumber=[],t.$_isQuickStop=!1,t.$_data=null,t.$_wildItemPool=new l,t}i(t,e);var s=t.prototype;return s.onLoad=function(){e.prototype.onLoad.call(this),this.$_wildType=N.move,d.addHandler(this)},s.onDestroy=function(){e.prototype.onDestroy.call(this),this.$_wildItemPool.clear(),this.$_checkNumber.length=0,this.$_data=null},s.onEnable=function(){this.onD(p.EventName.CREAT_WILDS,this.f_creatWilds.bind(this)),this.onD(p.EventName.START_HIT,this.f_statHit.bind(this)),this.onD(p.EventName.HIT_WILD,this.f_hitWild.bind(this)),this.onD($.DISPATCH_SPIN_STOP,this._onControllerSpinStop.bind(this)),this.onD(p.EventName.HIDE_HIT_WILD,this.f_hideHits.bind(this))},s.onDisable=function(){this.offD(p.EventName.CREAT_WILDS),this.offD(p.EventName.START_HIT),this.offD(p.EventName.HIT_WILD),this.offD($.DISPATCH_SPIN_STOP),this.offD(p.EventName.HIDE_HIT_WILD)},s.f_creatWilds=function(e){if(null==this.$_data){if(this.$_data=e,u.INITIAL_SYMBOLS_GROUPS=e,this.$_wildType==N.clearn){for(var t=this.node.children,i=t.length,n=0;n<i;n++){var o=t[n].getComponent(m);null==o||o.f_hideToDestroy()}this.$_items.length=0}this.f_debugDelete();for(var s=(i=this.$_items.length)-1;s>=0;s--){var r=this.$_items[s];r.$_isMove=!1,r.$_isNew=!1}var a=e;if(this.f_creatItems(a),this.$_wildType==N.move)for(var l=(i=this.$_items.length)-1;l>=0;l--){var h=this.$_items[l];h&&1!=h.$_isMove&&1!=h.$_isNew&&(h.f_hideToDestroy(),this.$_items.splice(l,1))}}},s.f_statHit=function(){this.$_checkNumber.length=0},s.f_hitWild=function(e,t){if(void 0===t&&(t=!0),-1==this.$_checkNumber.indexOf(e)){this.$_checkNumber.push(e);for(var i=this.node.children,n=i.length,o=0;o<n;o++){var s=i[o];if(s){var r=s.getComponent(m);r&&r.node.parent&&0==r.$_isToDesotry&&Math.abs((null==r?void 0:r.$_poxIndex)-e)<=1&&(null==r||r.f_hit(),(t||e!=(null==r?void 0:r.$_poxIndex))&&this.f_hitWild(null==r?void 0:r.$_poxIndex,!1))}}}},s.f_hideHits=function(){for(var e=this.node.children,t=e.length,i=0;i<t;i++){var n=e[i].getComponent(m);n&&n.f_hideHit()}},s._onControllerSpinStop=function(){this.$_isQuickStop=!0;for(var e=this.node.children,t=e.length,i=0;i<t;i++){var n=e[i];if(n){var o=n.getComponent(m);o&&o.f_toComplete()}}},s.onTaskInitialize=function(e,t){if(y.playback){for(var i=this.node.children,n=i.length,o=0;o<n;o++){var s=i[o].getComponent(m);null==s||s.f_hideToDestroy()}this.$_items.length=0}switch(this.f_debugDelete(),t.gameMode){case p.EGameMode.NORMAL:this.$_wildType=N.move;break;case p.EGameMode.FREE:this.$_wildType=N.clearn;break;default:this.$_wildType=N.move}0==t.isReconnect&&this.f_creatWilds(t.symbolsGroups)},s.onTaskChangeGame=function(e,t){switch(t.nextFeatureType){case p.EFeatureType.NONE:this.$_wildType=N.move;break;default:this.$_wildType=N.clearn}if(this.f_hideHits(),t.previousFeatureType!==t.nextFeatureType)return u.f_isFreeGame(t.previousFeatureType)&&t.nextFeatureType===p.EFeatureType.NONE?(this.$_isQuickStop=!0,this.$_data=null,void this.f_creatWilds(t.previousSymbolsGroups)):void 0},s.onTaskFreeGameTransit=function(e,t){"exit"===t.type?this.$_wildType=N.move:this.$_wildType=N.clearn},s.f_debugDelete=function(){},s.onTaskSpinStart=function(e,t){switch(this.$_data=null,this.$_isQuickStop=!1,this.$_wildType){case N.clearn:this.f_debugDelete();for(var i=(h=this.node.children).length,n=0;n<i;n++){var o=h[n].getComponent(m);null==o||o.f_hideToDestroy()}this.$_items.length=0;break;case N.move:this.f_debugDelete();for(var s=(i=this.$_items.length)-1;s>=0;s--){var r=this.$_items[s];r.f_hideFish(),r&&r.$_poyIndex>=2&&(r.f_hideToDestroy(),this.$_items.splice(s,1))}for(var a=(i=this.$_items.length)-1;a>=0;a--){var l=this.$_items[a];l.f_hideFish(),l&&null==l.$_poyIndex&&(l.f_hideToDestroy(),this.$_items.splice(a,1))}var h;for(i=(h=this.node.children).length,n=0;n<i;n++){var _=h[n].getComponent(m);if(_)-1==this.$_items.indexOf(_)&&_.f_hideToDestroy()}}},s.onTaskSpinStop=function(e,t){(this.$_wildType==N.clearn||null==this.$_data)&&this.f_creatWilds(t.symbolsGroups)},s.f_creatItems=function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];this.f_creatReel(i,n)}},s.f_getitem=function(){return h(this.wildPrefab)},s.f_creatReel=function(e,t){var i=-this.$_w*(2-e);i+=u.f_pianyi(e);var n=!1,o=this.f_isQuickStop();switch(this.$_wildType){case N.clearn:for(var s=t.length,r=0;r<s;r++){var a=this.$_w*r-323,l=t[r],h=!1;if(20!=l.id&&21!=l.id&&22!=l.id&&31!=l.id&&32!=l.id||(h=!0),l.re_icon>0){n=!0;var d=this.f_getitem();d.parent=this.node,d.setPosition(i,a);var c=d.getComponent(m);c.$_isNew=!0,c.$_poxIndex=e,c.$_poyIndex=r,h&&(null==c||c.f_setIsfeed(!0)),o&&(n=!1,null==c||c.f_toComplete()),c.$_wildItemPool=this.$_wildItemPool,this.$_items.push(c)}}break;case N.move:for(var p=(s=t.length)-1;p>=0;p--){var $=this.$_w*p-323,y=t[p];if(y.re_icon&&y.re_icon>0){var g=void 0,D=!1;0==p?g=this.f_getitem():(g=this.f_getItemByPoxPoy(e,p-1))&&(D=!0),null==g&&(g=this.f_getitem());var I=g.getComponent(m);if(g.parent=this.node,D){v.instance.playOneShotSoundEffect(u.AUDIO_URLS.wild_up),null==I||I.f_move();var w=.3;o&&(w=.1),_(g).to(w,{position:new f(i,$)}).start()}else 0==o&&(n=!0),g.setPosition(i,$),I.$_isNew=!0,o&&(null==I||I.f_toComplete());I.$_poxIndex=e,I.$_poyIndex=p,I.$_isMove=D,I.$_wildItemPool=this.$_wildItemPool,0==D&&this.$_items.push(I)}}}n&&(u.$_isStopLianXian=!0,T.runWithOverride(this,(function(){u.$_isStopLianXian=!1}),1))},s.f_isQuickStop=function(){return this.$_isQuickStop||u.quickSpin},s.f_getItemByPoxPoy=function(e,t){for(var i=this.$_items.length,n=0;n<i;n++){var o=this.$_items[n];if(o.$_poxIndex==e&&o.$_poyIndex==t&&0==o.$_isMove)return o.$_isMove=!0,o.node}return null},t}(c)).prototype,"wildPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=b))||w)||w));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/slot390000030', 'chunks:///_virtual/slot390000030'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});