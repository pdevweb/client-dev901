System.register("chunks:///_virtual/BaseCombosFish2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseFish2.ts","./SubGameData3.ts","./ResourceConst2.ts","./ObjectPool2.ts","./SubGameConstants3.ts","./FishEvent2.ts"],(function(t){var n,e,s,o,i,l,a,h,u,r,c,p,g;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy,o=t.Collider2D,i=t.UITransform,l=t.Animation,a=t.Sprite},function(t){h=t.BaseFish},function(t){u=t.SubGameData},function(t){r=t.getResConfig},function(t){c=t.ObjectPool},function(t){p=t.getConfig},function(t){g=t.FishEvent}],execute:function(){s._RF.push({},"77178/DqXxGf4DImRr5AFrE","BaseCombosFish",void 0);t("BaseCombosFish",function(t){function s(){for(var n,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return(n=t.call.apply(t,[this].concat(s))||this).subConfig=null,n.bgs=[],n.subFishes=[],n}n(s,t);var b=s.prototype;return b.init=function(n,e){var s=this;t.prototype.init.call(this,n,e);var o=""+r().FISHES_PREFAB_DIR+this.subConfig.prefab;this.bgs=this.node.children.concat();for(var i=this.bgs.length,l=function(t){c.getInstance().popPrefabNode(o,(function(n){s.enabledSubFishComponents(n,!1),s.setSubFishScale(n);var e=s.bgs[t].position;n.setPosition(e.x,e.y,e.z),n.angle=0,s.node.addChild(n),s.subFishes.push(n)}),s)},a=0;a<i;++a)l(a)},b.enabledSubFishComponents=function(t,n){t.getComponent(h)&&(t.getComponent(h).enabled=n),t.getComponents(o).forEach((function(t){t.enabled=n}))},b.setSubFishScale=function(t){var n,e=null==(n=t.getComponent(i))?void 0:n.contentSize,s=Math.max(e.width,e.height),o=p().BG_SIZE/s;t.setScale(o,o,o)},b.onEnable=function(){for(var t=this.bgs.length,n="fish"+this.subConfig.subtype+"Swim",e=0;e<t;++e){var s,o;null==(s=this.bgs[e].getComponent(l))||s.play(),null==(o=this.subFishes[e])||null==(o=o.getComponent(l))||o.play(n)}},b.playDieEff=function(){for(var t=this.bgs.length,n="fish"+this.subConfig.subtype+"Die",e=0;e<t;++e){var s,o;null==(s=this.bgs[e].getComponent(l))||s.stop(),null==(o=this.subFishes[e])||null==(o=o.getComponent(l))||o.play(n)}dispatch(g.DISPATCH_ADD_GOLD,this.node.position)},b.clear=function(){t.prototype.clear.call(this);for(var n=this.bgs.length-1;n>=0;--n){var e;if(null==(e=this.bgs[n].getComponent(l))||e.stop(),this.subFishes.length){var s,o=this.subFishes.pop();o.removeFromParent(),null==(s=o.getComponent(l))||s.stop(),o.setScale(1,1,1),this.enabledSubFishComponents(o,!0),c.getInstance().push(o)}}},b.lock=function(t){this.setAllSpriteColor(p().LOCK_COLOR)},b.setAllSpriteColor=function(t){for(var n=this.bgs.length,e=0;e<n;++e)this.bgs[e].getComponent(a).color=t,e<this.subFishes.length&&(this.subFishes[e].getComponent(a).color=t)},b.unlock=function(){this.setAllSpriteColor(p().UNLOCK_COLOR),t.prototype.unlock.call(this)},e(s,[{key:"data",get:function(){return App.dataCenter.get(u)}}]),s}(h));s._RF.pop()}}}));

System.register("chunks:///_virtual/BaseFish2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RouteFactory2.ts","./SubGameData3.ts","./SubGameConstants3.ts","./GameService.ts","./FishModel2.ts","./EventComponent.ts","./FishEvent2.ts","./BatterModel2.ts"],(function(t){var e,i,n,o,s,a,h,r,c,l,d,u,f,p,m,g,y,v,C,S,F,E;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t._decorator,s=t.Animation,a=t.Collider2D,h=t.Sprite,r=t.Node,c=t.Label,l=t.Color,d=t.Vec3,u=t.UITransform,f=t.UIOpacity,p=t.tween},function(t){m=t.RouteFactory},function(t){g=t.SubGameData},function(t){y=t.getConfig},function(t){v=t.GameService},function(t){C=t.FishModel},function(t){S=t.default},function(t){F=t.FishEvent},function(t){E=t.BatterModel}],execute:function(){var b;n._RF.push({},"e80d2Wtl/VI9LN67v9O9MtJ","BaseFish",void 0);var T=o.ccclass;t("BaseFish",T("BaseFish")(b=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).sprite=null,e.config=null,e.killFishVo=void 0,e.score=0,e.route=null,e.state=null,e._dieActionTime=0,e.lockNode=null,e.labelNode=null,e.speed=0,e.isKeep=!1,e.direction=2,e.ani=null,e.shade=null,e.needClear=!1,e.animationCom=void 0,e.colliders=void 0,e}e(n,t);var o=n.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),this.animationCom=this.getComponent(s),this.colliders=this.getComponents(a)},o.addEvents=function(){this.onD(F.DISPATCH_CHANGE_SCENE,this.changeScene)},o.init=function(t,e){this.sprite=t,this.config=e,this.state=1,this.route=m.getInstance().getRoute(t.offsettype,t.routeid,t.offsetx,t.offsety,t.offsetr);var i=this.gameService.heartTimeNow;this.updatePosition(i),this.getAni()},o.getAni=function(){var t,e=null==(t=this.node.getChildByName("ani"))?void 0:t.getComponent(h);e&&(this.ani=e)},o.createLabel=function(){var t=new r("DynamicLabel"),e=t.addComponent(c);e.string="Hello, World!",e.fontSize=40,e.color=l.WHITE,e.horizontalAlign=c.HorizontalAlign.CENTER,e.verticalAlign=c.VerticalAlign.CENTER,this.animationCom&&this.animationCom.node.addChild(t),t.setPosition(0,0)},o.onEnable=function(){this.playSwim()},o.update=function(t){var e=this.gameService.heartTimeNow;this.isKeep||this.onFrame(e)},o.onFrame=function(t){this.sprite&&this.sprite.dead_time&&(this.sprite.dead_time<=t||this.isOut()?C.getInstance().cleanFish(this.sprite.uid):(this.shade&&0==this.shade.active&&(this.shade.active=!0),this.updatePosition(t)))},o.updatePosition=function(t){var e=t-this.sprite.born_time;if(e<0)return 0;this.speed>0&&(e+=this.speed,this.speed+=300);var i=this.route.getNextStep(e),n=this.route.getNextStep(e+.001),o=E.getInstance().getMyOldPos()||1;return[3,4].indexOf(o)>-1?(this.node.setPosition(i.x,-i.y,0),this.node.angle=-i.r,this.shade&&(this.shade.setPosition(i.x-20,-i.y-20,0),this.shade.angle=-i.r)):(this.node.setPosition(i.x,i.y,0),this.node.angle=i.r,this.shade&&(this.shade.setPosition(i.x-20,i.y-20,0),this.shade.angle=i.r)),n.x<i.x?(this.node.setScale(1,-1),this.shade&&this.shade.setScale(1,-1),this.direction=1):this.direction=2,i.x},o.getPositionByDealyTime=function(t){var e=this.gameService.heartTimeNow+t,i=this.route.getNextStep(e-this.sprite.born_time);return new d(i.x,i.y,0)},o.isOut=function(){var t=C.getInstance().getSburvivalPercent(this.sprite.uid),e=this.node.getComponent(u).width,i=this.node.getComponent(u).height,n=this.node.getPosition().x,o=this.node.getPosition().y,s=!1;return n<=-640-e/2-0||n>=640+e/2+0||o>=360+i/2+0||o<=-360-i/2-0?s=!0:n>-640&&o<360&&o>-360&&n<640&&t<.5&&C.getInstance().addRateFun(this.sprite),s&&t>.5},o.changeScene=function(){var t,e=this;this.sprite?this.scheduleOnce((function(){e.speed=1,e.scheduleOnce((function(){C.getInstance().cleanFish(e.sprite.uid)}),2)}),2.3):null==(t=this.node)||t.destroy()},o.onDestroy=function(){this.shade&&(this.shade.removeFromParent(),this.shade.destroy())},o.playKill=function(){var t=this;if(this.isKeep=!0,23==this.fishType||26==this.fishType||27==this.fishType){var e="fish"+this.fishType+"Die";this.animationCom.play(e),this.animationCom.on(s.EventType.FINISHED,(function(){Log.d("小Boss(id:"+t.fishType+")死亡特效播放完毕");var e=t.node.getComponent(f);e||t.node.addComponent(f),e.opacity=0,t.animationCom.off(s.EventType.FINISHED),t.node&&(t.node.removeFromParent(),t.node.destroy())}),this)}else this.fadeOut(this.node,(function(){t.node&&(t.node.removeFromParent(),t.node.destroy())}))},o.fadeOut=function(t,e){var i=t.getComponent(f);i||t.addComponent(f),i.opacity=255,p(i).to(.5,{opacity:0}).call((function(){null==e||e()})).start()},o.killFishes=function(t){},o.beKilled=function(t,e){this.killFishVo=t,this.state=y().FishState.Killed,this.sprite.dead_time=e+y().DIE_ACTION_TIME,this.unlock(),this.setColliderEnable(!1)},o.setColliderEnable=function(t){this.colliders.forEach((function(e){e.enabled=t}))},o.playSwim=function(){},o.playSpecialSwim=function(){},o.playDieAnimation=function(){},o.stopDieAnimation=function(){},o.playDieEff=function(){},o.playDieBubble=function(){},o.playSimilarBubble=function(){},o.playDieSound=function(){},o.moveToBattery=function(){},o.showScore=function(){},o.clear=function(){this.state=3,this.unlock(),this.setColliderEnable(!0)},o.unlock=function(){},o.lock=function(t){},o.hit=function(){var t=this;this.ani&&(this.ani.color=y().LOCK_COLOR,this.scheduleOnce((function(){t.ani.color=y().UNLOCK_COLOR}),.05))},i(n,[{key:"gameService",get:function(){return App.serviceManager.get(v)}},{key:"data",get:function(){return App.dataCenter.get(g)}},{key:"isAlive",get:function(){return 1==this.state}},{key:"fishType",get:function(){return this.sprite.classid}}]),n}(S))||b);n._RF.pop()}}}));

System.register("chunks:///_virtual/Batter2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent2.ts","./BatterModel2.ts","./BatterScoinList2.ts","./SubGameDefines3.ts","./SubGameData3.ts","./BulletModel2.ts","./GameSender3.ts","./SubGameConstants3.ts","./FishModel2.ts","./Fish2.ts"],(function(t){var i,e,s,n,o,a,h,r,u,l,c,d,p,g,f,v,b,m,D,A,y,S,C,I,N,_,x,L,P,T,E,w;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass,a=t.asyncToGenerator,h=t.regeneratorRuntime},function(t){r=t.cclegacy,u=t._decorator,l=t.Node,c=t.SpriteAtlas,d=t.SpriteFrame,p=t.CCInteger,g=t.Game,f=t.UITransform,v=t.v3,b=t.Label,m=t.Sprite,D=t.tween,A=t.Vec3,y=t.sp},function(t){S=t.default},function(t){C=t.FishEvent},function(t){I=t.BatterModel},function(t){N=t.BatterScoinList},function(t){_=t.EventName},function(t){x=t.SubGameData},function(t){L=t.BulletModel},function(t){P=t.GameSender},function(t){T=t.SubGameConstants},function(t){E=t.FishModel},function(t){w=t.Fish}],execute:function(){var M,k,j,B,F,z,O,U,H,G,R,W,V,Y,Z,Q,q,K,X,J,$,tt,it,et,st,nt,ot,at,ht,rt,ut,lt,ct,dt,pt,gt,ft,vt,bt,mt,Dt,At,yt,St,Ct,It,Nt;r._RF.push({},"56e9dhj9AxCa5d/ZTfobUR7","Batter",void 0);var _t=u.ccclass,xt=u.property;t("Batter",(M=_t("Batter"),k=xt({type:l}),j=xt({type:l}),B=xt({type:l}),F=xt({type:l}),z=xt({type:l}),O=xt({type:l}),U=xt({type:l}),H=xt({type:l}),G=xt({type:l}),R=xt({type:l}),W=xt({type:l}),V=xt({type:l}),Y=xt({type:l}),Z=xt({type:l}),Q=xt({type:l}),q=xt({type:l}),K=xt({type:l,tooltip:"位置提示"}),X=xt({type:l,tooltip:"转头轨道"}),J=xt({type:l,tooltip:"转头轨道"}),$=xt({type:c}),tt=xt({displayName:"位置图片",type:[d]}),it=xt({type:p,tooltip:"炮台编号"}),M((nt=i((st=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,s(i,"ani",nt,n(i)),s(i,"shootPos",ot,n(i)),s(i,"waitNode",at,n(i)),s(i,"cost",ht,n(i)),s(i,"score",rt,n(i)),s(i,"posIdxNode",ut,n(i)),s(i,"addNode",lt,n(i)),s(i,"jianNode",ct,n(i)),s(i,"scoreNode",dt,n(i)),s(i,"scoinList",pt,n(i)),s(i,"aniDi",gt,n(i)),s(i,"headNode",ft,n(i)),s(i,"mainBox",vt,n(i)),s(i,"lockEff",bt,n(i)),s(i,"lineBox",mt,n(i)),s(i,"effQiu",Dt,n(i)),s(i,"jiantouNode",At,n(i)),s(i,"daojishi",yt,n(i)),s(i,"dantouguidao",St,n(i)),s(i,"posIdxAtlas",Ct,n(i)),s(i,"posSfs",It,n(i)),i.lv=1,i.musicStep=0,i.aniName="1",i.gunid=1,i.bulletCount=0,i.isMe=!1,i.shootCd=!0,s(i,"posIdx",Nt,n(i)),i.daojishiNum=9,i}e(i,t);var r=i.prototype;return r.onLoad=function(){var i;t.prototype.onLoad.call(this),this.model.battleDatas&&(this.model.battleDatas[this.posIdx].worldPos=this.node.getWorldPosition()),null==(i=this.scoinList.getComponent(N))||i.init(this.posIdx)},r.addEvents=function(){this.onD(C.DISPATCH_SHOOT,this.shoot),this.onD(C.DISPATCH_BATTLE_GUNID,this.changeGun),this.onD(C.DISPATCH_ADD_SCOIN,this.playscoinList),this.onD(C.DISPATCH_INIT_BATTLE,this.initView),this.onD(C.DISPATCH_UPDATA_BATTLE,this.updataView),this.onD(C.DISPATCH_LOCK_DATA_CHANGE,this.changeLock),this.onD(C.DISPATCH_GET_ZHUANGTOU,this.getZhuanTou),this.onD(C.DISPATCH_MOUSE_MOVE,this.onMouseMove),this.onD(C.DISPATCH_UPDATE_SCORE,this.updateScore),this.onD(C.DISPATCH_LEAVE_BATTLE,this.otherLeave),this.onD(C.DISPATCH_EXIT,this.leave),this.onD(C.DISPATCH_TEST,this.test),this.onG(g.EVENT_HIDE,this.onEnterBackground)},r.test=function(t){this.lockEff.active||(this.lockEff.active=!0);var i=this.lockEff.parent.getComponent(f).convertToNodeSpaceAR(t),e=this.lockEff.getPosition(),s=i.x-e.x,n=i.y-e.y,o=s*s+n*n,a=parseInt(Math.sqrt(o)+"");this.lineBox.getComponent(f).height=a,this.effQiu.setPosition(0,a)},r.onEnable=function(){},r.initView=function(){var t;(this.isMe=this.battleData.isMe,this.lv=this.battleData.lv,this.gunid=this.battleData.gunid,this.setPosIdxNode(),this.setBtn(),this.setWait(),this.lockEff.active=!1,1==this.battleData.state&&(this.setAni(),this.setCost(),this.setScore()),this.isMe&&I.getInstance().getMyData().canShootZhuan)&&(1==this.gunid&&(null==(t=this.sender)||t.gunChange(3)));this.isMe?(this.jiantouNode.active=!0,this.data.roomData&&this.data.roomData.message&&this.posIdx!=this.data.roomData.message.roompos&&(this.jiantouNode.active=!1)):this.jiantouNode&&(this.jiantouNode.active=!1),this.unscheduleAllCallbacks()},r.updataView=function(t){this.isActive&&this.posIdx==t&&(this.lv=this.battleData.lv,this.setPosIdxNode(),this.setBtn(),this.setWait(),1==this.battleData.state&&(this.setAni(),this.setCost(),this.setScore()))},r.sitDown=function(){this.battleData.state=2,this.setWait()},r.otherLeave=function(t){this.posIdx==t&&this.leave()},r.leave=function(){this.jiantouNode&&(this.jiantouNode.active=!1),this.battleData.isMe=!1,this.battleData.state=2,this.ani.eulerAngles=v(0,0,0),this.battleData.bombIng=!1,this.battleData.BombVo={},this.battleData.gunid=1,this.daojishi&&(this.daojishi.active=!1),this.dantouguidao&&(this.dantouguidao.active=!1),this.battleData.canShootZhuan=!1,this.unscheduleAllCallbacks(),this.setWait(),dispatch(_.STOP_EFFECT,T.AudioSource.Fish_suoding)},r.setWait=function(){var t=this.battleData.state;this.waitNode.active=2==this.battleData.state,this.cost.active=1==this.battleData.state,this.score.active=1==this.battleData.state,this.ani.active=1==t,this.aniDi.active=1==t,this.mainBox.active=1==t},r.updateScore=function(){if(this.isActive&&this.isMe){var t=this.formatNumberWithW(this.battleData.score*I.getInstance().coinRate);this.score.getComponent(b).string!=t&&(this.score.getComponent(b).string=t+"")}},r.setPosIdxNode=function(){this.posIdxNode.active=!0,this.posIdxNode.getComponent(m).spriteFrame=this.posSfs[this.posIdx-1]},r.setCost=function(){if(this.cost.getComponent(b).string!=this.battleData.cost+""){var t=this.battleData.cost*I.getInstance().coinRate;Math.round(100*t)/100===Math.round(t)?this.cost.getComponent(b).string=Math.round(t).toString():this.cost.getComponent(b).string=t.toFixed(1)}},r.setScore=function(){var t=this.formatNumberWithW(this.battleData.score*I.getInstance().coinRate);this.score.getComponent(b).string!=t&&(this.score.getComponent(b).string=t+"")},r.formatNumberWithW=function(t){return t.toFixed(2)},r.setBtn=function(){this.addNode.active=this.isMe,this.jianNode.active=this.isMe},r.setAni=function(){var t="";this.gunid=this.battleData.gunid,1==this.gunid?this.aniName!="lv"+this.lv&&(t="lv"+this.lv,this.aniName=t,this.playAni(t+"_loop")):2==this.gunid&&"jiguang"!=this.aniName&&(t="jiguang",this.aniName=t,this.playAni(t+"_loop"))},r.changeGun=function(t){var i=this;if(this.posIdx==t.pos){var e=t.gunid;1==e?this.changeAniFun("jiguang","lv"+this.lv):2==e?this.changeAniFun("lv"+this.lv,"jiguang"):3==e&&(this.aniName="zuantou",this.playAni("zuantou_loop"),this.isMe&&(this.scheduleOnce((function(){i.battleData.isChangePao=!1}),.5),this.dantouguidao.active=!0,this.daojishi.active=!0,this.daojishiNum=9,this.unschedule(this.startDaojishi),this.schedule(this.startDaojishi,1),this.startDaojishi(),dispatch(_.PLAY_SOUND,T.AudioSource.Fish_Drill01))),this.gunid=e}},r.startDaojishi=function(){this.daojishiNum-=1,this.daojishi.getComponent(b).string="h"+this.daojishiNum,0==this.daojishiNum&&(this.unschedule(this.startDaojishi),dispatch(C.DISPATCH_ZHUANGTOU_AUTOSHOOT))},r.clickUp=function(){var t,i=this;if(3!=this.gunid&&this.shootCd&&(this.shootCd=!1,this.scheduleOnce((function(){i.shootCd=!0}),.2),!this.data.isLockIng&&!this.data.isAuto)){var e=this.battleData.step+1;e>=this.model.betList.length&&(e=0);var s=this.model.getLvByStep(e);if(this.battleData.step=e,this.battleData.cost=this.model.betList[e]/1e6,this.lv!=s&&(this.isMe&&dispatch(_.PLAY_SOUND,T.AudioSource.Fish_Upgrade),this.changeAniFun("lv"+this.lv,"lv"+s)),this.battleData.lv=s,this.lv=s,this.setCost(),this.playCostChangeAni(),null==(t=this.sender)||t.c2sChangeRate(this.model.betList[e]),this.isMe){var n=this.getAudioSourceByIndex(!0);dispatch(_.PLAY_SOUND,n)}}},r.playCostChangeAni=function(){D(this.cost).to(.05,{scale:new A(2,2,1)}).to(.1,{scale:new A(1,1,1)}).start()},r.getAudioSourceByIndex=function(t){var i=Object.keys(T.AudioBtnSource);t?(this.musicStep++,this.musicStep>i.length-1&&(this.musicStep=0)):(this.musicStep--,this.musicStep<0&&(this.musicStep=i.length-1));var e=i;return T.AudioBtnSource[e[this.musicStep]]},r.clickDown=function(){var t,i=this;if(3!=this.gunid&&this.shootCd&&(this.shootCd=!1,this.scheduleOnce((function(){i.shootCd=!0}),.2),!this.data.isLockIng&&!this.data.isAuto)){var e=this.battleData.step-1;e<0&&(e=this.model.betList.length-1);var s=this.model.getLvByStep(e);if(this.battleData.step=e,this.battleData.cost=this.model.betList[e]/1e6,this.lv!=s&&(this.isMe&&dispatch(_.PLAY_SOUND,T.AudioSource.Fish_Upgrade),this.changeAniFun("lv"+this.lv,"lv"+s)),this.battleData.lv=s,this.lv=s,this.setCost(),this.playCostChangeAni(),null==(t=this.sender)||t.c2sChangeRate(this.model.betList[e]),this.isMe){var n=this.getAudioSourceByIndex(!1);dispatch(_.PLAY_SOUND,n)}}},r.changeAniFun=function(){var t=a(h().mark((function t(i,e){var s;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.ani.getComponent(y.Skeleton),t.next=3,this.playAnimation(s,i+"_disappear");case 3:return t.next=5,this.playAnimation(s,e+"_appear");case 5:this.aniName=e,this.playAnimation(s,e+"_loop");case 7:case"end":return t.stop()}}),t,this)})));return function(i,e){return t.apply(this,arguments)}}(),r.playAnimation=function(t,i,e){var s=this;return new Promise((function(e){var n=function(){};t.setCompleteListener(n);t.setCompleteListener((function(){t.setCompleteListener(n),e()})),s.playAni(i)}))},r.shoot=function(t,i){if(void 0===i&&(i=1),this.isActive){var e=I.getInstance().getTruePosByPos(Number(t.pos));if(e==this.posIdx){var s=v(t.x,t.y);this.jiantouNode&&1==this.jiantouNode.active&&(this.jiantouNode.active=!1),this.playShootAni();var n=I.getInstance().battleDatas[e].target_id;if(!this.isMe&&n>0){var o=E.getInstance().getNodeFish(n);if(null==o)this.showLock(s);else{var a,h=null==(a=o.getComponent(w))?void 0:a.getLockPos();this.showLock(h)}}else this.showLock(s);this.isMe||this.setRotate(s);var r=L.getInstance().getIdByUid(t.uid+""),u={startPosition:this.shootPos.getWorldPosition(),targetPosition:s,type:i,own:this.posIdx,uid:r};dispatch(C.DISPATCH_ADD_BULL,u),this.isMe&&(L.getInstance().addCount(),3==i&&(this.unschedule(this.startDaojishi),this.dantouguidao&&(this.dantouguidao.active=!1,this.daojishi.active=!1,this.playAni("zuantou_disappear"))))}}},r.setRotate=function(t){var i,e=(null==(i=this.ani.parent)?void 0:i.getComponent(f)).convertToNodeSpaceAR(t);this.posIdx>2&&(e.y=645-e.y);var s=this.ani.getPosition(),n=new A;A.subtract(n,e,s),A.normalize(n,n);var o=Math.atan2(n.y,n.x)*(180/Math.PI);this.ani.eulerAngles=new A(0,0,o-90),this.lockEff.eulerAngles=this.ani.eulerAngles},r.playShootAni=function(){var t="";1==this.gunid?(t="lv"+this.lv,2==this.lv?this.isMe&&1==this.battleData.gunid&&dispatch(_.PLAY_SOUND,T.AudioSource.Fish_shooting02):3==this.lv?this.isMe&&1==this.battleData.gunid&&dispatch(_.PLAY_SOUND,T.AudioSource.Fish_shooting03):this.isMe&&1==this.battleData.gunid&&dispatch(_.PLAY_SOUND,T.AudioSource.Fish_shooting),this.playAni(t)):this.gunid},r.changeLock=function(t){this.isActive&&(t==this.posIdx&&0==I.getInstance().getLock(this.posIdx)&&(this.lockEff.active=!1,dispatch(_.STOP_EFFECT,T.AudioSource.Fish_suoding)))},r.getZhuanTou=function(t){this.posIdx},r.onMouseMove=function(t){var i;if(this.isActive&&this.isMe&&!this.data.isLockIng){var e=(null==(i=this.ani.parent)?void 0:i.getComponent(f)).convertToNodeSpaceAR(v(t.x,t.y)),s=this.ani.getPosition(),n=new A;A.subtract(n,e,s),A.normalize(n,n);var o=Math.atan2(n.y,n.x)*(180/Math.PI);this.ani.eulerAngles=new A(0,0,o-90),this.lockEff.eulerAngles=this.ani.eulerAngles}},r.showLock=function(t){var i=I.getInstance().battleDatas[this.posIdx].target_id;if(0!=i){if(this.setRotate(t),!E.getInstance().getNodeFish(i))return this.lockEff.active=!1,void(this.isMe&&dispatch(_.STOP_EFFECT,T.AudioSource.Fish_suoding));var e=this.lockEff.parent.getComponent(f).convertToNodeSpaceAR(t),s=this.lockEff.getPosition(),n=e.x-s.x,o=e.y-s.y,a=n*n+o*o,h=parseInt(Math.sqrt(a)+"");this.lineBox.getComponent(f).height=h,this.effQiu.setPosition(0,h),i>0&&!this.lockEff.active&&(this.lockEff.active=!0,this.isMe&&dispatch(_.PLAY_SOUND,T.AudioSource.Fish_suoding,!0))}else this.lockEff.active=!1},r.playAni=function(t){var i;this.ani.getComponent(y.Skeleton)&&(null==(i=this.ani.getComponent(y.Skeleton))||i.setAnimation(0,t,!1))},r.playscoinList=function(t){var i;t.battleIdx==this.posIdx&&(null==(i=this.scoinList.getComponent(N))||i.addScoreGroup(t.val))},r.onEnterBackground=function(){this.unschedule(this.startDaojishi),this.dantouguidao&&(this.dantouguidao.active=!1,this.daojishi.active=!1),this.lockEff.active&&(this.lockEff.active=!1),I.getInstance().battleDatas[this.posIdx].target_id=0},r.onEnterForgeground=function(){},o(i,[{key:"model",get:function(){return I.getInstance()}},{key:"battleData",get:function(){return this.model.battleDatas[this.posIdx]}},{key:"data",get:function(){return App.dataCenter.get(x)}},{key:"sender",get:function(){return App.senderManager.get(P)}},{key:"isActive",get:function(){return 1==this.battleData.state}}]),i}(S)).prototype,"ani",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(st.prototype,"shootPos",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i(st.prototype,"waitNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=i(st.prototype,"cost",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(st.prototype,"score",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=i(st.prototype,"posIdxNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i(st.prototype,"addNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i(st.prototype,"jianNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=i(st.prototype,"scoreNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=i(st.prototype,"scoinList",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=i(st.prototype,"aniDi",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=i(st.prototype,"headNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=i(st.prototype,"mainBox",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=i(st.prototype,"lockEff",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=i(st.prototype,"lineBox",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=i(st.prototype,"effQiu",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=i(st.prototype,"jiantouNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=i(st.prototype,"daojishi",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=i(st.prototype,"dantouguidao",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=i(st.prototype,"posIdxAtlas",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=i(st.prototype,"posSfs",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=i(st.prototype,"posIdx",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),et=st))||et));r._RF.pop()}}}));

System.register("chunks:///_virtual/BatterModel2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton5.ts","./FishEvent2.ts","./SubGameData3.ts","./Global.ts"],(function(t){var s,a,e,i,o,n,r;return{setters:[function(t){s=t.inheritsLoose,a=t.createClass},function(t){e=t.cclegacy},function(t){i=t.Singleton},function(t){o=t.FishEvent},function(t){n=t.SubGameData},function(t){r=t.Global}],execute:function(){e._RF.push({},"ce1d3uYeqpLIJXHCS9+7iPL","BatterModel",void 0);t("BatterModel",function(t){function e(){var s;return(s=t.call(this)||this).battleDatas={},s.idToPos={},s.oldPosToId={},s.betList=[],s.defaultBetValue=0,s.coinRate=1,s.myPlayerInfo=null,s.init(),s}s(e,t);var i=e.prototype;return i.init=function(){for(var t=1;t<=4;t++)this.battleDatas[t]={posIdx:t,worldPos:null,score:1e4,lv:1,state:2,isMe:!1,cost:2,coins:[],uid:"0",is_lock:!1,target_id:0,gunid:1,gold:1e4,step:0,oldPos:1,BombVo:{},bombIng:!1,canShootZhuan:!1,isChangePao:!1}},i.resetInfo=function(){for(var t=1;t<=4;t++)this.battleDatas[t].isMe=!1,this.battleDatas[t].state=2,this.battleDatas[t].is_lock=!1,this.battleDatas[t].bombIng=!1,this.battleDatas[t].canShootZhuan=!1,this.battleDatas[t].isChangePao=!1,this.battleDatas[t].BombVo={},this.setTargetFish(t,0)},i.getMyOldPos=function(){var t;return(null==(t=this.myPlayerInfo)?void 0:t.pos)||null},i.setBattles=function(t){var s=this;t.forEach((function(t){s.inBattle(t)})),dispatch(o.DISPATCH_INIT_BATTLE),dispatch(o.DISPATCH_UPDATA_FISHVIEW)},i.inBattle=function(t){this.oldPosToId[t.pos]=t.uid,this.setPos(t),this.initBattleData(t)},i.updataBattle=function(t){this.updataBattleData(t)},i.setPos=function(t){var s=this.myPlayerInfo.pos,a=t.pos;if(3==s||4==s){this.idToPos[t.uid]=[3,4,1,2][a-1]}else this.idToPos[t.uid]=a;return this.idToPos[t.uid]},i.initBattleData=function(t){var s=this.idToPos[t.uid];if(this.battleDatas){if(!this.battleDatas[s])return;this.battleDatas[s].cost=t.reward_rate/1e6,this.battleDatas[s].score=t.score/1e6,this.battleDatas[s].uid=t.uid,this.battleDatas[s].state=1,this.battleDatas[s].isMe=r.userId==t.uid,this.battleDatas[s].oldPos=t.pos,this.battleDatas[s].gunid=t.gunid,this.setTargetFish(s,t.target_id);var a=this.betList.indexOf(t.reward_rate);this.battleDatas[s].lv=this.getLvByStep(a),this.battleDatas[s].step=a}},i.updataBattleData=function(t){var s=this.idToPos[t.uid];if(this.battleDatas){if(!this.battleDatas[s])return;this.battleDatas[s].cost=t.reward_rate/1e6,this.battleDatas[s].score=t.score/1e6,this.battleDatas[s].state=1;var a=this.betList.indexOf(t.reward_rate);this.battleDatas[s].lv=this.getLvByStep(a),this.battleDatas[s].step=a,this.battleDatas[s].gunid=t.gunid}},i.getTruePos=function(t){return this.idToPos[t]},i.getTruePosByPos=function(t){var s=this.oldPosToId[t];return this.idToPos[s]},i.getDataByOldPos=function(t){var s=this.getTruePosByPos(t);return this.battleDatas[s]},i.resetBattle=function(t){var s=this.idToPos[t.uid];this.battleDatas[s]&&(this.battleDatas[s].state=2,delete this.idToPos[t.uid],delete this.oldPosToId[t.pos],dispatch(o.DISPATCH_LEAVE_BATTLE,s))},i.getLvByStep=function(t){var s=t/e.getInstance().betList.length;return s<=.25?1:s<=.5||s<=.75?2:3},i.setLock=function(t){var s=t.message.pos,a=t.message.fishid,e=this.getTruePosByPos(s);this.battleDatas[e]&&(this.battleDatas[e].is_lock=a>0,this.setTargetFish(e,a),dispatch(o.DISPATCH_LOCK_DATA_CHANGE,e))},i.setTargetFish=function(t,s){this.battleDatas[t].target_id=s},i.getLock=function(t){return this.battleDatas[t].target_id},i.getMyData=function(){var t=this.idToPos[r.userId];return t&&this.battleDatas[t]?this.battleDatas[t]:null},i.getMyNewPos=function(){return this.idToPos[r.userId]},i.reset=function(){this.resetInfo(),this.idToPos={},this.oldPosToId={}},i.destroy=function(){this.battleDatas={},this.idToPos={},this.oldPosToId={}},a(e,[{key:"data",get:function(){return App.dataCenter.get(n)}}]),e}(i()));e._RF.pop()}}}));

System.register("chunks:///_virtual/BatterScoin2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,r,o,a,c,u,l,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,u=t.Label,l=t.Animation,p=t.Component}],execute:function(){var s,f,y,m,h;o._RF.push({},"45901xxlnxDk7px+b644kGx","BatterScoin",void 0);var v=a.ccclass,d=a.property;t("BatterScoin",(s=v("BatterScoin"),f=d({type:c}),s((h=n((m=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(n,"winNum",h,r(n)),n}e(n,t);var o=n.prototype;return o.addEvents=function(){},o.play=function(t){var n;this.winNum.getComponent(u).string="+"+t,null==(n=this.winNum.getComponent(l))||n.play("coinNum")},n}(p)).prototype,"winNum",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/BatterScoinGroup2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BatterScoin2.ts"],(function(t){var n,e,o,i,r,c,a,s,u,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Prefab,s=t.instantiate,u=t.Component},function(t){l=t.BatterScoin}],execute:function(){var h,d,p,f,v;r._RF.push({},"f5cdfPZXMRGS4rhCReKK5iT","BatterScoinGroup",void 0);var y=c.ccclass,B=c.property;t("BatterScoinGroup",(h=y("BatterScoinGroup"),d=B({type:a}),h((v=n((f=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,o(n,"scorePf",v,i(n)),n.count=0,n.maxCount=20,n.callBack=null,n.val=0,n}e(n,t);var r=n.prototype;return r.addEvents=function(){},r.onEnable=function(){this.go()},r.init=function(t,n){this.callBack=t,this.val=n},r.go=function(){this.schedule(this.addScore,.1)},r.addScore=function(){var t,n=this,e=s(this.scorePf);if(this.node.addChild(e),e.setPosition(0,4*this.count),this.count++,this.count==this.maxCount)return this.unschedule(this.addScore),null==(t=e.getComponent(l))||t.play(this.val),void this.scheduleOnce((function(){n.callBack&&n.callBack(),n.node.removeFromParent(),n.node.destroy()}),1)},n}(u)).prototype,"scorePf",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/BatterScoinList2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BatterScoinGroup2.ts","./BatterModel2.ts"],(function(t){var e,o,i,n,r,s,a,c,u,l,p,d,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Prefab,c=t.Node,u=t.instantiate,l=t.tween,p=t.v3,d=t.Component},function(t){f=t.BatterScoinGroup},function(t){h=t.BatterModel}],execute:function(){var v,m,g,y,b,G,B;r._RF.push({},"00d11+GZfhLGL3jhXcGXUJn","BatterScoinList",void 0);var P=s.ccclass,S=s.property;t("BatterScoinList",(v=P("BatterScoinList"),m=S({type:a}),g=S({type:c}),v((G=e((b=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"scoreGroupPf",G,n(e)),i(e,"moveNode",B,n(e)),e.pos=0,e.addPosX=-13,e.idx=0,e.moveIdx=0,e}o(e,t);var r=e.prototype;return r.addEvents=function(){},r.onEnable=function(){},r.go=function(){},r.init=function(t){this.pos=t},r.addScoreGroup=function(t){var e,o=this;if(this.moveNode.children.length>=5)h.getInstance().battleDatas[this.pos].coins.push(t);else{var i=u(this.scoreGroupPf);i.setPosition(this.addPosX-29*this.idx,8),this.moveNode.addChild(i),this.idx++,null==(e=i.getComponent(f))||e.init((function(){o.moveIdx++,o.moveRight(1)}),t)}},r.moveRight=function(t){var e=this;l(this.moveNode).to(t,{position:p(29*this.moveIdx)}).call((function(){var t=h.getInstance().battleDatas[e.pos].coins.pop();t&&t>0&&e.addScoreGroup(t)})).start()},e}(d)).prototype,"scoreGroupPf",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(b.prototype,"moveNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/BgView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./EventComponent.ts","./FishEvent2.ts","./SubGameDefines3.ts"],(function(t){var e,n,i,r,a,o,s,c,u,h,p,l,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,s=t._decorator,c=t.Node,u=t.Animation},function(t){h=t.SubGameData},function(t){p=t.default},function(t){l=t.FishEvent},function(t){g=t.EventName}],execute:function(){var f,d,b,v,m,I,S,A,y;o._RF.push({},"2ffe85HLsJPlYv2F8VmH5D5","BgView",void 0);var _=s.ccclass,D=s.property;t("BgView",(f=_("BgView"),d=D({type:c}),b=D({type:c}),v=D({type:c}),f((S=e((I=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"bg1",S,r(e)),i(e,"bg2",A,r(e)),i(e,"bg3",y,r(e)),e.bgArr=[],e.curIdx=0,e.time=1,e}n(e,t);var o=e.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad.call(this),this.bgArr=[this.bg1,this.bg2,this.bg3]},o.addEvents=function(){this.onD(l.DISPATCH_CHANGE_SCENE,this.changeScene),this.onD(l.DISPATCH_INIT_BG,this.showSceneNow),this.onD(l.DISPATCH_SHARE_BG,this.shareBg),this.onD(l.DISPATCH_SHARE_BG_STOP,this.shareBgStop)},o.onEnable=function(){var t=this.data.mapId,e=this.mapTo123(t);this.curIdx=e,this.bgArr.forEach((function(t,n){t.active=n==e}))},o.mapTo123=function(t){return t%3},o.shareBg=function(t){void 0===t&&(t=!1);var e=this.node.getComponent(u);if(e){var n=t?"zhenpingLoop":"zhenping";e.play(n)}},o.shareBgStop=function(){var t;null==(t=this.node.getComponent(u))||t.stop()},o.showSceneNow=function(){var t=this.bgArr[this.curIdx],e=this.data.mapId,n=this.mapTo123(e);t.active=!1,this.curIdx=n,this.bgArr[this.curIdx].active=!0,dispatch(g.PLAY_MUSIC,"audio/bgm_deep_sea0"+(e+1))},o.changeScene=function(){var t=this,e=this.bgArr[this.curIdx],n=this.data.mapId,i=this.mapTo123(n);this.scheduleOnce((function(){e.active=!1,t.curIdx=i,t.bgArr[t.curIdx].active=!0}),2.4)},a(e,[{key:"data",get:function(){return App.dataCenter.get(h)}}]),e}(p)).prototype,"bg1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(I.prototype,"bg2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(I.prototype,"bg3",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=I))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FishEvent2.ts","./BatterModel2.ts","./BaseFish2.ts","./GameSender3.ts","./BulletModel2.ts","./Global.ts","./FishModel2.ts","./SpineFish2.ts","./Fish2.ts"],(function(t){var i,e,n,o,s,r,a,l,c,h,u,d,v,y,p,g,f,b,P,m,C,_;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,c=t.Vec3,h=t.BoxCollider2D,u=t.Contact2DType,d=t.UITransform,v=t.Component},function(t){y=t.FishEvent},function(t){p=t.BatterModel},function(t){g=t.BaseFish},function(t){f=t.GameSender},function(t){b=t.BulletModel},function(t){P=t.Global},function(t){m=t.FishModel},function(t){C=t.SpineFish},function(t){_=t.Fish}],execute:function(){var B,w,M,T,F,I,x,D,S,k,z;r._RF.push({},"2ba402nE4hIdICYD7kb8I4V","Bullet",void 0);var N=a.ccclass,A=a.property;t("Bullet",(B=N("Bullet"),w=A({type:l}),M=A({type:l}),T=A({type:l}),F=A({type:l}),B((D=i((x=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(i=t.call.apply(t,[this].concat(s))||this).startPosition=new c,i.targetPosition=new c,i.velocity=new c,i.speed=1e3,i.boundary=new c(1280,720,0),i.lvs=[],i.curLv=1,i.own=-1,i.uid=0,i.target_id=0,i.type=1,n(i,"lv_1",D,o(i)),n(i,"lv_2",S,o(i)),n(i,"lv_3",k,o(i)),n(i,"collider",z,o(i)),i}e(i,t);var r=i.prototype;return r.start=function(){},r.onLoad=function(){var t=this.collider.getComponent(h);t&&t.on(u.BEGIN_CONTACT,this.onBeginContact,this)},r.init=function(t,i,e,n,o){var s;this.startPosition=t,this.targetPosition=i,this.own=n,this.uid=o,n>2&&(i.y=720-i.y),this.node.setPosition(this.startPosition),c.subtract(this.velocity,this.targetPosition,this.startPosition),c.normalize(this.velocity,this.velocity),c.multiplyScalar(this.velocity,this.velocity,this.speed),this.updateDirection(),this.type=e,this.target_id=null==(s=p.getInstance().battleDatas[this.own])?void 0:s.target_id},r.update=function(t){this.lockMove();var i=this.node.getPosition(),e=c.multiplyScalar(new c,this.velocity,t);c.add(i,i,e),this.node.setPosition(i),this.updateDirection(),this.checkBoundaryCollision()},r.lockMove=function(){var t=this.target_id;if(0!=t){var i=m.getInstance().getNodeFish(t);if(i){var e,n,o=null;if(28==m.getInstance().getFish(t).classid)o=null==(e=i.getComponent(C))?void 0:e.getLockPos();else o=null==(n=i.getComponent(_))?void 0:n.getLockPos();var s=this.node.parent.getComponent(d);this.targetPosition=s.convertToNodeSpaceAR(o),this.startPosition=this.node.getPosition(),c.subtract(this.velocity,this.targetPosition,this.startPosition),c.normalize(this.velocity,this.velocity),c.multiplyScalar(this.velocity,this.velocity,2e3)}else this.target_id=0}},r.updateDirection=function(){var t=new c(this.velocity.x,this.velocity.y,0);c.normalize(t,t);var i=Math.atan2(t.y,t.x);i*=180/Math.PI,i-=90,this.node.eulerAngles=new c(0,0,i)},r.checkBoundaryCollision=function(){var t=this.node.getPosition();t.x<0?(this.velocity.x=Math.abs(this.velocity.x),this.changeTurn(1)):t.x>this.boundary.x&&(this.velocity.x=-Math.abs(this.velocity.x),this.changeTurn(2)),t.y>this.boundary.y?(this.velocity.y=-Math.abs(this.velocity.y),this.changeTurn(3)):t.y<0&&(this.velocity.y=Math.abs(this.velocity.y),this.changeTurn(4))},r.changeTurn=function(t){},r.setType=function(t){this.lvs[t-1]&&this.lvs[t-1].forEach((function(t){t.active=!0}))},r.onBeginContact=function(t,i,e){var n=t.node,o=i.node,s=p.getInstance().getTruePos(P.userId),r=this.own==s,a=this.target_id;if(0==a||!o||Number(o.getComponent(g).sprite.uid)==a){var l=n.getWorldPosition();0==a&&dispatch(y.DISPATCH_ADD_NET,{startPosition:l,lv:this.curLv}),n.parent.destroy();var c=o.getComponent(g);if(c){var h=c.sprite;if(h){var u,d=Number(h.uid);if(o.getComponent(g).hit(),r)null==(u=this.sender)||u.c2sHit([{fishids:[d],bulletid:this.uid,x:l.x,y:l.y}]),b.getInstance().reductCount()}}}},s(i,[{key:"sender",get:function(){return App.senderManager.get(f)}}]),i}(v)).prototype,"lv_1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=i(x.prototype,"lv_2",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=i(x.prototype,"lv_3",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=i(x.prototype,"collider",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=x))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/BulletModel2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton5.ts"],(function(t){var n,o,e;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.Singleton}],execute:function(){o._RF.push({},"2af2aClSj5Pe6fN8EFuo7DY","BulletModel",void 0);t("BulletModel",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),u=0;u<o;u++)e[u]=arguments[u];return(n=t.call.apply(t,[this].concat(e))||this).shootId=1,n.count=0,n}n(o,t);var e=o.prototype;return e.destroy=function(){this.count=0},e.addCount=function(){this.count++},e.reductCount=function(){this.count--,this.count<0&&(this.count=0)},e.customizeId=function(){return o.getInstance().shootId=++o.getInstance().shootId%1e4,o.getInstance().shootId},e.getIdByUid=function(t){var n=t.indexOf("_");return Number(t.substring(n+1))},e.getIdByPos=function(t){var n=t.indexOf("_");return Number(t.substring(0,n))},o}(e()));o._RF.pop()}}}));

System.register("chunks:///_virtual/BullView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent2.ts","./Bullet2.ts","./SubGameData3.ts","./ZhuangBullet2.ts"],(function(t){var n,e,i,o,l,a,r,u,s,c,d,p,f,h,y,g,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,l=t.createClass},function(t){a=t.cclegacy,r=t._decorator,u=t.Prefab,s=t.Game,c=t.PhysicsSystem2D,d=t.UITransform,p=t.instantiate},function(t){f=t.default},function(t){h=t.FishEvent},function(t){y=t.Bullet},function(t){g=t.SubGameData},function(t){v=t.ZhuangBullet}],execute:function(){var b,B,m,D,P,C,w;a._RF.push({},"b5ad44LSsVAfLUsYsy+VODF","BullView",void 0);var E=r.ccclass,S=r.property;t("BullView",(b=E("BullView"),B=S({type:u}),m=S({type:u}),b((C=n((P=function(t){function n(){for(var n,e=arguments.length,l=new Array(e),a=0;a<e;a++)l[a]=arguments[a];return n=t.call.apply(t,[this].concat(l))||this,i(n,"bullPf",C,o(n)),i(n,"ZhuangBullet",w,o(n)),n}e(n,t);var a=n.prototype;return a.addEvents=function(){this.onD(h.DISPATCH_ADD_BULL,this.addBull),this.onG(s.EVENT_HIDE,this.onEnterBackground)},a.onEnterBackground=function(){this.node.removeAllChildren()},a.onLoad=function(){t.prototype.onLoad.call(this),this.initPhysicsSystem2D()},a.onEnable=function(){},a.clickView=function(t){},a.initPhysicsSystem2D=function(){c.instance.enable=!0},a.addBull=function(t){var n=this.node.getComponent(d),e=n.convertToNodeSpaceAR(t.startPosition),i=n.convertToNodeSpaceAR(t.targetPosition);if(1==t.type||2==t.type){var o,l=p(this.bullPf);null==(o=l.getComponent(y))||o.init(e,i,t.type,t.own,t.uid),this.node.addChild(l)}else if(3==t.type){var a,r=p(this.ZhuangBullet);null==(a=r.getComponent(v))||a.init(e,i,t.type,t.own,t.uid),this.node.addChild(r)}},a.onDisable=function(){this.node.removeAllChildren()},l(n,[{key:"data",get:function(){return App.dataCenter.get(g)}}]),n}(f)).prototype,"bullPf",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(P.prototype,"ZhuangBullet",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=P))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/ClickView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent2.ts","./GameSender3.ts","./BulletModel2.ts","./SubGameConstants3.ts","./BatterModel2.ts","./FishModel2.ts","./SubGameData3.ts","./SubGameDefines3.ts","./SpineFish2.ts","./Fish2.ts"],(function(t){var i,s,e,n,o,c,h,a,u,l,r,d,f,C,T,g,S,k,D;return{setters:[function(t){i=t.inheritsLoose,s=t.createClass},function(t){e=t.cclegacy,n=t._decorator,o=t.NodeEventType,c=t.Game,h=t.v2},function(t){a=t.default},function(t){u=t.FishEvent},function(t){l=t.GameSender},function(t){r=t.BulletModel},function(t){d=t.getConfig,f=t.SubGameConstants},function(t){C=t.BatterModel},function(t){T=t.FishModel},function(t){g=t.SubGameData},function(t){S=t.EventName},function(t){k=t.SpineFish},function(t){D=t.Fish}],execute:function(){var _;e._RF.push({},"e96a3vv7KtKcbiztbzA7jSh","ClickView",void 0);var A=n.ccclass;t("ClickView",A("ClickView")(_=function(t){function e(){for(var i,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).cdTime=.2,i.clickPositionVec2=null,i.lock=!1,i}i(e,t);var n=e.prototype;return n.addEvents=function(){this.node.on(o.TOUCH_START,this.onTouchStart,this),this.node.on(o.TOUCH_MOVE,this.onTouchMove,this),this.node.on(o.TOUCH_END,this.onTouchEnd,this),this.node.on(o.TOUCH_CANCEL,this.onTouchEnd,this),this.onD(u.DISPATCH_CHANGE_LOCK,this.changeStateLock),this.onD(u.DISPATCH_LOCK_DATA_CHANGE,this.changeLock),this.onD(u.DISPATCH_CHANGE_AUTO,this.changeAuto),this.onD(u.DISPATCH_CANCEL_LOCK_AUTO,this.cancelFire),this.onD(u.DISPATCH_ZHUANGTOU_AUTOSHOOT,this.shootZT),this.onD(u.DISPATCH_CHANGE_SCENE,this.changeScene),this.onD("NetIsClose",this.cancelFire),this.onG(c.EVENT_HIDE,this.onEnterBackground)},n.onEnable=function(){},n.onTouchStart=function(t){var i=this;if(!this.lock&&(this.lock=!0,this.scheduleOnce((function(){i.lock=!1}),.15),console.log("------  点击"),dispatch(u.DISPATCH_CLOSE_MORE),!this.data.isLockIng)){var s=t.getUILocation();this.clickPositionVec2=s,dispatch(u.DISPATCH_MOUSE_MOVE,s),this.data.isAuto||(this.fireTask(),this.schedule(this.fireTask,this.cdTime))}},n.onTouchMove=function(t){this.clickPositionVec2=t.getUILocation(),this.clickPositionVec2.y<85&&(this.clickPositionVec2.y=85),dispatch(u.DISPATCH_MOUSE_MOVE,this.clickPositionVec2)},n.onTouchEnd=function(){this.unschedule(this.fireTask),this.myData&&this.myData.canShootZhuan&&!this.myData.isChangePao&&this.shootZT()},n.fireTask=function(){this.clickView()},n.clickView=function(){this.chargeCanShoot()&&this.shootReq(this.clickPositionVec2.x,this.clickPositionVec2.y,1)},n.shootReq=function(t,i,s){var e;if(void 0===s&&(s=1),this.myData){var n=r.getInstance().customizeId(),o=Math.floor(100*t)/100,c=Math.floor(100*i)/100,h=2;3==s&&(h=3),null==(e=this.sender)||e.c2sFire({angle:1,id:n,btype:h,x:o,y:c});var a={};a.x=o,a.y=c,a.pos=this.myData.oldPos,a.uid=a.pos+"_"+n,this.myData.score-=this.myData.cost,dispatch(u.DISPATCH_UPDATE_SCORE,this.myData.score),dispatch(u.DISPATCH_SHOOT,a,s)}},n.chargeCanShoot=function(){return(!this.myData||!this.myData.canShootZhuan)&&(r.getInstance().count>=d().MAX_BULLET_COUNT?(dispatch(u.DISPATCH_SHOW_TIP,"He bullet has reached its upper limit"),!1):!(this.myData&&this.myData.score<this.myData.cost)||(this.cancelFire(),null==(t=this.sender)||t.gunChange(1),dispatch(u.DISPATCH_SHOW_TIP,"GOLD SHORTAGE!"),!1));var t},n.lockFire=function(){if(this.chargeCanShoot()&&this.myData){var t=this.myData.target_id,i=T.getInstance().getFish(t);if(i){var s,e=T.getInstance().getNodeFish(t);if(!e)return this.myData.target_id=0,this.unschedule(this.lockFire),void(null==(s=this.sender)||s.c2sCancleLocking());var n,o,c=null;if(28==i.classid)c=null==(n=e.getComponent(k))?void 0:n.getLockPos();else c=null==(o=e.getComponent(D))?void 0:o.getLockPos();this.clickPositionVec2=h(c.x,c.y),this.shootReq(c.x,c.y,2)}else{var a,u,l=T.getInstance().getMaxRateId();if(null!=l)null==(a=this.sender)||a.c2sChangeLocking(Number(l));else null==(u=this.sender)||u.c2sCancleLocking()}}},n.changeStateLock=function(){this.node&&(this.data.isLockIng?this.node.pauseSystemEvents(!1):this.node.resumeSystemEvents(!1))},n.changeLock=function(t){if(t&&this.myData){var i=this.data.isLockIng,s=this.myData.target_id;i&&s>0?(this.schedule(this.lockFire,this.cdTime),this.unschedule(this.autoFire)):this.unschedule(this.lockFire)}},n.autoFire=function(){this.chargeCanShoot()&&this.data.mapState!=d().MapState.Changing&&(this.data.isAuto?(null==this.clickPositionVec2&&(this.clickPositionVec2=h(640,320)),dispatch(u.DISPATCH_MOUSE_MOVE,this.clickPositionVec2),this.shootReq(this.clickPositionVec2.x,this.clickPositionVec2.y,1)):this.unschedule(this.autoFire))},n.changeAuto=function(){this.data.isAuto?this.schedule(this.autoFire,this.cdTime):this.unschedule(this.autoFire)},n.cancelFire=function(){this.unschedule(this.autoFire),this.unschedule(this.lockFire),this.unschedule(this.fireTask),dispatch(u.DISPATCH_CANCEL_AUTO_LOCK),dispatch(S.STOP_EFFECT,f.AudioSource.Fish_suoding)},n.shootZT=function(){var t;this.myData.canShootZhuan=!1,this.shootReq(this.clickPositionVec2.x,this.clickPositionVec2.y,3),dispatch(S.PLAY_SOUND,f.AudioSource.Fish_Drill02),null==(t=this.sender)||t.gunChange(1)},n.changeScene=function(){var t;null==(t=this.sender)||t.c2sCancleLocking()},n.onEnterBackground=function(){this.cancelFire()},n.onDisable=function(){this.unschedule(this.autoFire),this.unschedule(this.lockFire),this.unschedule(this.fireTask),this.clickPositionVec2=null},n.onDestroy=function(){t.prototype.onDestroy.call(this),this.node.off(o.TOUCH_START,this.onTouchStart,this),this.node.off(o.TOUCH_MOVE,this.onTouchMove,this),this.node.off(o.TOUCH_END,this.onTouchEnd,this),this.node.off(o.TOUCH_CANCEL,this.onTouchEnd,this)},s(e,[{key:"sender",get:function(){return App.senderManager.get(l)}},{key:"data",get:function(){return App.dataCenter.get(g)}},{key:"myData",get:function(){return C.getInstance().getMyData()}}]),e}(a))||_);e._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigGetter2.ts",["cc","./fish_Config2.ts","./pao_Config2.ts"],(function(n){var t,o,e;return{setters:[function(n){t=n.cclegacy},function(n){o=n.fish_Config},function(n){e=n.pao_Config}],execute:function(){n("getConfigClass",(function(n,t){switch(n){case i.fish:return o.getInstance().getConfig(t);case i.pao:return e.getInstance().getConfig(t);default:throw new Error("No configuration class found for type: "+n)}})),t._RF.push({},"c97f252BY1GWKU6/v2X3sBN","ConfigGetter",void 0);var i=n("ConfigType",function(n){return n[n.fish=0]="fish",n[n.pao=1]="pao",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/EaseFun2.ts",["cc"],(function(n){var u;return{setters:[function(n){u=n.cclegacy}],execute:function(){u._RF.push({},"02c09e/mrZAm61Fx3Ly5NVb","EaseFun",void 0);n("default",function(){function n(){}return n.linearNone=function(n,u,t,c){return t*(n/c)+u},n.cubicIn=function(n,u,t,c){return t*(n/=c)*n*n+u},n.cubicInOut=function(n,u,t,c){return(n/=.5*c)<1?.5*t*n*n*n+u:.5*t*((n-=2)*n*n+2)+u},n.cubicOut=function(n,u,t,c){return t*((n=n/c-1)*n*n+1)+u},n.quintIn=function(n,u,t,c){return t*(n/=c)*n*n*n*n+u},n.quintInOut=function(n,u,t,c){return(n/=.5*c)<1?.5*t*n*n*n*n*n+u:.5*t*((n-=2)*n*n*n*n+2)+u},n.quintOut=function(n,u,t,c){return t*((n=n/c-1)*n*n*n*n+1)+u},n}());u._RF.pop()}}}));

System.register("chunks:///_virtual/EffView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./EventComponent.ts","./FishEvent2.ts","./FishModel2.ts","./SubGameDefines3.ts","./SubGameConstants3.ts","./Decorators.ts","./GameLogic3.ts","./ZhaDan2.ts","./ZhuanBoom2.ts","./ConfigGetter2.ts","./BatterModel2.ts"],(function(t){var e,n,i,o,a,s,l,r,f,u,m,h,c,p,g,d,b,B,y,S,v,C,w,A,E,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,f=t.Prefab,u=t.sp,m=t.UITransform,h=t.instantiate,c=t.Label},function(t){p=t.SubGameData},function(t){g=t.default},function(t){d=t.FishEvent},function(t){b=t.FishModel},function(t){B=t.EventName},function(t){y=t.SubGameConstants},function(t){S=t.inject},function(t){v=t.GameLogic},function(t){C=t.ZhaDan},function(t){w=t.ZhuanBoom},function(t){A=t.getConfigClass,E=t.ConfigType},function(t){I=t.BatterModel}],execute:function(){var P,D,_,z,N,L,W,T,k,F,O,G,H,M,Z,V,R,U,x,Y,j,J,q;s._RF.push({},"752b5erb09JpbStJPDoP75+","EffView",void 0);var K=l.ccclass,Q=l.property;t("EffView",(P=K("EffView"),D=S({type:v,name:"logic"}),_=Q({type:r}),z=Q({type:r}),N=Q({type:r}),L=Q({type:r}),W=Q({type:r}),T=Q({type:r}),k=Q({type:r}),F=Q({type:f}),O=Q({type:f}),P((M=e((H=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"logic",M,o(e)),i(e,"boomEff",Z,o(e)),i(e,"samellBoomEff",V,o(e)),i(e,"smallBossBoomEff",R,o(e)),i(e,"bigwin",U,o(e)),i(e,"bigNum",x,o(e)),i(e,"zhadan",Y,o(e)),i(e,"zhuanBoomView",j,o(e)),i(e,"zhadanAni",J,o(e)),i(e,"ZhuanBoomItem",q,o(e)),e.bigWinIsPlayIng=new Map,e.bigWinList=[],e.effArr=[],e}n(e,t);var s=e.prototype;return s.update=function(t){},s.addEvents=function(){var t=this;this.onD(d.DISPATCH_BIG_BOOM,this.playBigBoom),this.onD(d.DISPATCH_BIG_WIN,this.addBigWin),this.onD(d.DISPATCH_ZHADAN,this.playZhadan2),this.onD(d.DISPATCH_SAMLL_BOOM,this.smallBoom),this.onD(d.DISPATCH_ZHUANGTOU_BOOM,this.zhuanboomAni),this.onD(d.DISPATCH_BIG_BOOM_SPE,this.addBigWin2),this.onD(d.DISPATCH_SMALL_BOSS_DIE,this.playSmallBossDieBoom),this.zhadan.getComponent(u.Skeleton).setCompleteListener((function(){t.zhadan.active=!1})),this.boomEff.getComponent(u.Skeleton).setCompleteListener((function(){t.boomEff.active=!1})),this.samellBoomEff.getComponent(u.Skeleton).setCompleteListener((function(){t.samellBoomEff.active=!1})),this.smallBossBoomEff.getComponent(u.Skeleton).setCompleteListener((function(){t.smallBossBoomEff.active=!1}))},s.onEnable=function(){window.EffView=this},s.playSmallBossDieBoom=function(){dispatch(d.DISPATCH_SHARE_BG),this.smallBossBoomEff.active=!0,this.smallBossBoomEff.getComponent(u.Skeleton)&&(this.smallBossBoomEff.getComponent(u.Skeleton).animation="bit")},s.playBigBoom=function(t){var e=t.fish,n=b.getInstance().getNodeFish(e.uid);if(n){var i=b.getInstance().getFish(e.uid),o=i.classid;i.fishid>0&&(o=i.fishid);var a=A(E.fish,o+"");if(i&&2==a.goldNum){var s=null==n?void 0:n.getWorldPosition(),l=this.node.getComponent(m).convertToNodeSpaceAR(s);this.boomEff.setPosition(l),this.boomEff.active=!0,this.boomEff.getComponent(u.Skeleton)&&(this.boomEff.getComponent(u.Skeleton).animation="boom")}}},s.zhuanboomAni=function(t,e,n,i){var o=this.node.getComponent(m).convertToNodeSpaceAR(t),a=h(this.ZhuanBoomItem);a.parent=this.zhuanBoomView,a.setPosition(o),a.getComponent(w).init(e,n,i),dispatch(B.PLAY_SOUND,y.AudioSource.Fish_Drill04)},s.smallBoom=function(t){var e=t.fish,n=b.getInstance().getNodeFish(e.uid);if(n){var i=b.getInstance().getFish(e.uid),o=i.classid;i.fishid>0&&(o=i.fishid);var a=A(E.fish,o+"");if(i&&1==a.goldNum){var s=null==n?void 0:n.getWorldPosition(),l=this.node.getComponent(m).convertToNodeSpaceAR(s);this.samellBoomEff.setPosition(l),this.samellBoomEff.active=!0,this.samellBoomEff&&this.samellBoomEff.getComponent(u.Skeleton)&&(this.samellBoomEff.getComponent(u.Skeleton).animation="boom"),dispatch(B.PLAY_SOUND,y.AudioSource.Fish_win)}}},s.playZhadan=function(){this.zhadan.active=!0,this.zhadan.getComponent(u.Skeleton).animation="boom"},s.playZhadan2=function(t,e,n){var i,o=this.node.getComponent(m).convertToNodeSpaceAR(t),a=h(this.zhadanAni);a.parent=this.zhuanBoomView,a.setPosition(o),a.active=!0,null==(i=a.getComponent(C))||i.init(n,e),dispatch(B.PLAY_SOUND,y.AudioSource.Fish_baozha)},s.addBigWin2=function(t){if(2==A(E.fish,t.fishType+"").goldNum){var e={fishType:t.fishType,own:t.pos,score:t.score,target:t.targetPos};this.bigWinIsPlayIng.get(t.pos)?this.bigWinList.push(e):(this.bigWinIsPlayIng.set(t.pos,!0),this.playBigWin(e))}},s.addBigWin=function(t){var e=b.getInstance().getFish(t.fish.uid),n=e.classid;e.fishid>0&&(n=e.fishid);var i=A(E.fish,n+"");if(e&&2==i.goldNum){var o={fishType:n,own:t.own,score:t.fish.score,target:t.targetPos};this.bigWinIsPlayIng.get(t.own)?this.bigWinList.push(o):(this.bigWinIsPlayIng.set(t.own,!0),this.playBigWin(o))}},s.playBigWin=function(t){var e,n=this,i=this.node.getComponent(m).convertToNodeSpaceAR(t.target);1==t.own||2==t.own?i.y+=150:i.y-=150,1==t.own||3==t.own?i.x+=35:i.x-=35;var o=h(this.bigwin);o.setPosition(i),o.active=!0,this.node.addChild(o),this.effArr.push(o),null==(e=o.getComponent(u.Skeleton))||e.setSkin(t.fishType+""),o.getComponent(u.Skeleton).animation="intro",this.bigNum.active=!0;var a=o.getChildByName("bigNum");a.active=!0;var s=this.formatNumber(t.score/1e6*I.getInstance().coinRate);a.getComponent(c).string=s,o.getComponent(u.Skeleton).setCompleteListener((function(){o.getComponent(u.Skeleton).animation="idle",o.getComponent(u.Skeleton).setCompleteListener((function(){o.getComponent(u.Skeleton).animation="end",a.active=!1,o.getComponent(u.Skeleton).setCompleteListener((function(){if(o.removeFromParent(),o.destroy(),n.bigWinList.length>0){var e=n.bigWinList.pop();n.playBigWin(e)}else n.bigWinIsPlayIng.set(t.own,!1)}))}))})),dispatch(B.PLAY_SOUND,y.AudioSource.Fish_win_Small_Prize)},s.formatNumber=function(t){return Number.isInteger(t)?t.toString():t.toFixed(1)},s.onDestroy=function(){},s.onDisable=function(){this.bigWinIsPlayIng.clear(),this.bigWinList=[],this.effArr.forEach((function(t){t&&(t.removeFromParent(),t.destroy())})),this.effArr=[],this.zhuanBoomView.removeAllChildren()},a(e,[{key:"data",get:function(){return App.dataCenter.get(p)}}]),e}(g)).prototype,"logic",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(H.prototype,"boomEff",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(H.prototype,"samellBoomEff",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(H.prototype,"smallBossBoomEff",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(H.prototype,"bigwin",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(H.prototype,"bigNum",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(H.prototype,"zhadan",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(H.prototype,"zhuanBoomView",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(H.prototype,"zhadanAni",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(H.prototype,"ZhuanBoomItem",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=H))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/EntryItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./Decorators.ts","./GameLogic3.ts","./EventComponent.ts","./FishEvent2.ts"],(function(t){var e,i,n,r,a,o,u,l,c,s,p,f,m,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,u=t._decorator,l=t.Label,c=t.CCInteger},function(t){s=t.SubGameData},function(t){p=t.inject},function(t){f=t.GameLogic},function(t){m=t.default},function(t){y=t.FishEvent}],execute:function(){var g,b,d,h,v,E,D,I,w,x,_;o._RF.push({},"b265eaEquNEF6omsGx/waZW","EntryItem",void 0);var z=u.ccclass,C=u.property;t("EntryItem",(g=z("EntryItem"),b=C({type:l}),d=C({type:l}),h=p({type:f,name:"logic"}),v=C({type:c,tooltip:"编号"}),g((I=e((D=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"gum",I,r(e)),n(e,"limit",w,r(e)),n(e,"logic",x,r(e)),n(e,"idx",_,r(e)),e}i(e,t);var o=e.prototype;return o.addEvents=function(){this.onD(y.DISPATCH_ENTRY_UPDATE,this.updateView)},o.onEnable=function(){},o.updateView=function(){var t=this.data.roomTypeInfo.limit[this.idx],e=this.data.roomTypeInfo.limit[this.idx].coin_rate;if(t){var i=t.min,n=t.max;this.gum.string=i/1e6*e+"-"+n/1e6*e,this.limit.string=t.limitBalance/1e6*e+""}},a(e,[{key:"data",get:function(){return App.dataCenter.get(s)}}]),e}(m)).prototype,"gum",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(D.prototype,"limit",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(D.prototype,"logic",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(D.prototype,"idx",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=D))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/EntryView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./Decorators.ts","./GameLogic3.ts","./EventComponent.ts","./SubGameDefines3.ts","./SubGameConstants3.ts","./GameSender3.ts","./CommonEvent.ts","./SlotGameDefines.ts"],(function(t){var e,n,i,o,r,a,u,c,l,s,p,f,m,d,g,h,y,b,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,u=t._decorator,c=t.Node,l=t.SpriteFrame,s=t.NodeEventType},function(t){p=t.SubGameData},function(t){f=t.inject},function(t){m=t.GameLogic},function(t){d=t.default},function(t){g=t.EventName},function(t){h=t.SubGameConstants},function(t){y=t.GameSender},function(t){b=t.CommonEvent},function(t){_=t.SoundName}],execute:function(){var C,w,S,v,E,I,G,T,k,A,F,z,D,L,V,N,M,H,O;a._RF.push({},"78791QkYZpHYpYNCeW0SGgd","EntryView",void 0);var R=u.ccclass,U=u.property;t("EntryView",(C=R("EntryView"),w=U({type:c}),S=f({type:m,name:"logic"}),v=U({type:c}),E=U({type:c}),I=U({type:c}),G=U({type:c}),T=U({type:c}),k=U({type:l}),C((z=e((F=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"testView",z,o(e)),i(e,"logic",D,o(e)),i(e,"enterItem_1",L,o(e)),i(e,"enterItem_2",V,o(e)),i(e,"enterItem_3",N,o(e)),i(e,"node_0",M,o(e)),i(e,"node_1",H,o(e)),i(e,"point",O,o(e)),e.items=[],e}n(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),this.items=[this.enterItem_1,this.enterItem_2,this.enterItem_3],this.initView()},a.addEvents=function(){this.node_0.on(s.TOUCH_START,this.click_1,this),this.node_1.on(s.TOUCH_START,this.click_2,this)},a.click_1=function(){},a.click_2=function(){console.log("2222")},a.onEnable=function(){dispatch(g.PLAY_MUSIC,h.AudioSource.bgm_hall)},a.clickMenuBtns=function(t,e){this.data.roomTypeInfo.limit[e]&&(this.data.roomType=Number(e),this.logic.onConnect(),App.loading.show("Enter the fishing ground...",(function(){}),50,"#FFFFFF"))},a.initView=function(){},a.clickTest=function(){this.testView.active=!0,this.node.active=!1},a.onExitGame=function(){App.loading.show("",(function(){}),5),App.utils.goBackHomeUrl(),dispatch(b.PLAY_EFFECT,_.SOUND_COMMON_CLICK)},a.setRouteConfig=function(t,e){"2"==e?this.data.routeConfig=this.data.routeConfig2:"3"==e&&(this.data.routeConfig=this.data.routeConfig3),"4"==e&&(this.data.routeConfig=this.data.routeConfig4)},r(e,[{key:"sender",get:function(){return App.senderManager.get(y)}},{key:"data",get:function(){return App.dataCenter.get(p)}}]),e}(d)).prototype,"testView",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(F.prototype,"logic",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(F.prototype,"enterItem_1",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(F.prototype,"enterItem_2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(F.prototype,"enterItem_3",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(F.prototype,"node_0",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(F.prototype,"node_1",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(F.prototype,"point",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=F))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/fish_Config2.ts",["cc"],(function(a){var e;return{setters:[function(a){e=a.cclegacy}],execute:function(){e._RF.push({},"9488fjUwrhGabZ12tF/qwo1","fish_Config",void 0),a("fish_Config",function(){function a(){this._config={1:{type:1,subtype:1,atlas:1,className:"Fish",prefab:"fish1/fish1",capturedScale:1,rate:2,goldNum:1,showComeTip:0},2:{type:2,subtype:2,atlas:1,className:"Fish",prefab:"fish2/fish2",capturedScale:1,rate:3,goldNum:1,showComeTip:0},3:{type:3,subtype:3,atlas:1,className:"Fish",prefab:"fish3/fish3",capturedScale:1,rate:4,goldNum:1,showComeTip:0},4:{type:4,subtype:4,atlas:1,className:"Fish",prefab:"fish4/fish4",capturedScale:1,rate:5,goldNum:1,showComeTip:0},5:{type:5,subtype:5,atlas:1,className:"Fish",prefab:"fish5/fish5",capturedScale:1,rate:6,goldNum:1,showComeTip:0},6:{type:6,subtype:6,atlas:1,className:"Fish",prefab:"fish6/fish6",capturedScale:1,rate:7,goldNum:1,showComeTip:0},7:{type:7,subtype:7,atlas:1,className:"Fish",prefab:"fish7/fish7",capturedScale:1,rate:8,goldNum:1,showComeTip:0},8:{type:8,subtype:8,atlas:1,className:"Fish",prefab:"fish8/fish8",capturedScale:1,rate:9,goldNum:1,showComeTip:0},9:{type:9,subtype:9,atlas:1,className:"Fish",prefab:"fish9/fish9",capturedScale:1,rate:10,goldNum:1,showComeTip:0},10:{type:10,subtype:10,atlas:1,className:"Fish",prefab:"fish10/fish10",capturedScale:1,rate:10,goldNum:1,showComeTip:0},11:{type:11,subtype:11,atlas:1,className:"Fish",prefab:"fish11/fish11",capturedScale:1,rate:12,goldNum:1,showComeTip:0},12:{type:12,subtype:12,atlas:1,className:"Fish",prefab:"fish12/fish12",capturedScale:.7,rate:15,goldNum:1,showComeTip:0},13:{type:13,subtype:13,atlas:1,className:"Fish",prefab:"fish13/fish13",capturedScale:1,rate:20,goldNum:1,showComeTip:0},14:{type:14,subtype:14,atlas:1,className:"Fish",prefab:"fish14/fish14",capturedScale:1,rate:25,goldNum:1,showComeTip:0},15:{type:15,subtype:15,atlas:2,className:"Fish",prefab:"fish15/fish15",capturedScale:1,rate:40,goldNum:1,showComeTip:0},16:{type:16,subtype:16,name:"Searchlight fish",atlas:2,className:"Fish",prefab:"fish16/fish16",capturedScale:.7,rate:50,goldNum:2,showComeTip:0},17:{type:17,subtype:17,name:"Elder Piranha",atlas:2,className:"Fish",prefab:"fish17/fish17",capturedScale:.6,rate:60,goldNum:2,showComeTip:0},18:{type:18,subtype:18,name:"Abyss manta rays",atlas:2,className:"Fish",prefab:"fish18/fish18",capturedScale:.6,rate:65,goldNum:2,showComeTip:0},19:{type:19,subtype:19,name:"Pink shark",atlas:2,className:"Fish",prefab:"fish19/fish19",capturedScale:.6,rate:70,goldNum:2,showComeTip:0},20:{type:20,subtype:20,name:"Black striped shark",atlas:3,className:"Fish",prefab:"fish20/fish20",capturedScale:.5,rate:80,goldNum:2,showComeTip:0},21:{type:21,subtype:21,name:"Lava Piranha",atlas:4,className:"Fish",prefab:"fish21/fish21",capturedScale:.5,rate:90,goldNum:2,showComeTip:0},22:{type:22,subtype:22,name:"Golden Anglerfish",atlas:5,className:"Fish",prefab:"fish22/fish22",capturedScale:.6,rate:100,goldNum:2,showComeTip:0},23:{type:23,subtype:23,name:"Jade gourd",atlas:6,className:"Fish",prefab:"fish23/fish23",capturedScale:.4,rate:[200,400],goldNum:2,showComeTip:1,tipNamePath:"zp_jadegourd",tipImgPathIdx:1},24:{type:24,subtype:24,name:"Bomb crab",atlas:7,className:"Fish",prefab:"fish24/fish24",capturedScale:.7,rate:[100,150],goldNum:2,showComeTip:1,tipNamePath:"zp_bombcrab",tipImgPathIdx:2},25:{type:25,subtype:25,name:"Drill crab",atlas:8,className:"Fish",prefab:"fish25/fish25",capturedScale:.7,rate:[100,150],goldNum:2,showComeTip:1,tipNamePath:"zp_drillcrab",tipImgPathIdx:3},26:{type:26,subtype:26,name:"Ancient crocodile",atlas:9,className:"Fish",prefab:"fish26/fish26",capturedScale:.3,rate:[200,400],goldNum:2,showComeTip:1,tipNamePath:"zp_ancientcrocodile",tipImgPathIdx:4},27:{type:27,subtype:27,name:"Golden crocodile",atlas:8,className:"Fish",prefab:"fish27/fish27",capturedScale:.3,rate:[200,400],goldNum:2,showComeTip:1,tipNamePath:"zp_goldencrocodile",tipImgPathIdx:5},28:{type:28,subtype:28,name:"God of wealth",atlas:10,className:"Fish",prefab:"fish28/fish28",capturedScale:1,rate:[300,1e3],goldNum:3,showComeTip:2,tipNamePath:"zp_godofwealth"}}}return a.getInstance=function(){return a.instance||(a.instance=new a),a.instance},a.prototype.getConfig=function(a){return this._config[a]||null},a}()).instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/Fish2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseFish2.ts","./SubGameDefines3.ts","./ResourceConst2.ts"],(function(t){var i,n,o,e,s,a,c,l,u;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,e=t.Animation,s=t.Tween,a=t.Vec3},function(t){c=t.BaseFish},function(t){l=t.EventName},function(t){u=t.getSoundConfig}],execute:function(){var r;n._RF.push({},"362cbzcZK1LXJbAsQrBWKOX","Fish",void 0);var h=o.ccclass;t("Fish",h("Fish")(r=function(t){function n(){for(var i,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(i=t.call.apply(t,[this].concat(o))||this).dieBubble=null,i.similarBubble=null,i.bubbleTime=.5,i}i(n,t);var o=n.prototype;return o.addEvents=function(){t.prototype.addEvents.call(this)},o.playSwim=function(){this.animationCom||(this.animationCom=this.node.getComponent(e)),this.animationCom.play("fish"+this.config.subtype+"Swim")},o.playDieAnimation=function(){if(this.animationCom){this.animationCom.stop();var t="fish"+this.config.subtype+"Die";this.animationCom.getState(t)&&this.animationCom.play(t)}},o.stopDieAnimation=function(){var t;null==(t=this.animationCom)||t.stop()},o.playDieSound=function(){dispatch(l.PLAY_SOUND,u().JumpScore2)},o.getLockPos=function(){return this.ani.node.getWorldPosition()},o.clear=function(){var i;t.prototype.clear.call(this),s.stopAllByTarget(this.node),this.node.setScale(a.ONE),null==(i=this.animationCom)||i.stop()},o.lockChange=function(t){},o.lock=function(){this.lockNode&&(this.lockNode.active=!0)},o.unlock=function(){this.lockNode&&(this.lockNode.active=!1)},n}(c))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/fishClick2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseFish2.ts","./GameSender3.ts","./SubGameData3.ts","./FishEvent2.ts","./EventComponent.ts"],(function(t){var n,e,i,s,o,c,a,r,u,h;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy,s=t._decorator,o=t.NodeEventType},function(t){c=t.BaseFish},function(t){a=t.GameSender},function(t){r=t.SubGameData},function(t){u=t.FishEvent},function(t){h=t.default}],execute:function(){var d;i._RF.push({},"45c23v9pZtKe44iX9A/YWE9","fishClick",void 0);var f=s.ccclass;t("fishClick",f("fishClick")(d=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var s=i.prototype;return s.start=function(){},s.onEnable=function(){this.changeLock()},s.addEvents=function(){this.node.on(o.TOUCH_START,this.clickHandle,this),this.onD(u.DISPATCH_CHANGE_LOCK,this.changeLock)},s.clickHandle=function(){if(this.data.isLockIng){var t,n,e=this.node.parent,i=e.getComponent(c).sprite.uid;null==(t=this.sender)||t.c2sChangeLocking(i);var s=null==(n=e.getComponent(c))?void 0:n.lockNode;s&&(s.active=!0)}},s.changeLock=function(){this.node&&(this.data.isLockIng?this.node.resumeSystemEvents(!1):this.node.pauseSystemEvents(!1))},s.onDestroy=function(){this.node.off(o.TOUCH_START,this.clickHandle,this)},e(i,[{key:"data",get:function(){return App.dataCenter.get(r)}},{key:"sender",get:function(){return App.senderManager.get(a)}}]),i}(h))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/FishEvent2.ts",["cc"],(function(_){var A;return{setters:[function(_){A=_.cclegacy}],execute:function(){A._RF.push({},"5bb515nyAVAV68j11S/4t/O","FishEvent",void 0);_("FishEvent",function(_){return _.DISPATCH_SHOOT="DISPATCH_SHOOT",_.DISPATCH_ADD_BULL="DISPATCH_ADD_BULL",_.DISPATCH_ADD_NET="DISPATCH_ADD_NET",_.DISPATCH_ADD_GOLD="DISPATCH_ADD_GOLD",_.DISPATCH_ADD_SCORE="DISPATCH_ADD_SCORE",_.DISPATCH_ADD_SCOIN="DISPATCH_ADD_SCOIN",_.DISPATCH_ADD_FISH="DISPATCH_ADD_FISH",_.DISPATCH_INIT_BATTLE="DISPATCH_INIT_BATTLE",_.DISPATCH_UPDATA_BATTLE="DISPATCH_UPDATA_BATTLE",_.DISPATCH_LEAVE_BATTLE="DISPATCH_LEAVE_BATTLE",_.DISPATCH_BIG_BOOM="DISPATCH_BIG_BOOM",_.DISPATCH_BIG_BOOM_SPE="DISPATCH_BIG_BOOM_SPE",_.DISPATCH_BOSS_COME="DISPATCH_BOSS_COME",_.DISPATCH_BIG_WIN="DISPATCH_BIG_WIN",_.DISPATCH_ZHADAN="DISPATCH_ZHADAN",_.DISPATCH_SMALL_BOSS_DIE="DISPATCH_SMALL_BOSS_DIE",_.DISPATCH_TOUCH_CLICKVIEW="DISPATCH_TOUCH_CLICKVIEW",_.DISPATCH_BATTLE_LOCK_HIDE="DISPATCH_BATTLE_LOCK_HIDE",_.DISPATCH_BATTLE_GUNID="DISPATCH_BATTLE_GUNID",_.DISPATCH_ZHUANGTOU_AUTOSHOOT="DISPATCH_ZHUANGTOU_AUTOSHOOT",_.DISPATCH_MOUSE_MOVE="DISPATCH_MOUSE_MOVE",_.DISPATCH_CHANGE_SCENE="DISPATCH_CHANGE_SCENE",_.DISPATCH_SAMLL_BOOM="DISPATCH_SAMLL_BOOM",_.DISPATCH_ZHUANGTOU_BOOM="DISPATCH_ZHUANGTOU_BOOM",_.DISPATCH_DRAGON_DIE="DISPATCH_DRAGON_DIE",_.DISPATCH_UPDATA_LOAD="DISPATCH_UPDATA_LOAD",_.DISPATCH_UPDATA_FISHVIEW="DISPATCH_UPDATA_FISHVIEW",_.DISPATCH_CANCEL_AUTO_LOCK="DISPATCH_CANCEL_AUTO_LOCK",_.DISPATCH_CHANGE_LOCK="DISPATCH_CHANGE_LOCK",_.DISPATCH_LOCK_DATA_CHANGE="DISPATCH_LOCK_DATA_CHANGE",_.DISPATCH_CHANGE_AUTO="DISPATCH_CHANGE_AUTO",_.DISPATCH_ENTRY_UPDATE="DISPATCH_ENTRY_UPDATE",_.DISPATCH_ENTER_ROOM="DISPATCH_ENTER_ROOM",_.DISPATCH_ADD_RATE="DISPATCH_ADD_RATE",_.DISPATCH_INIT_BG="DISPATCH_INIT_BG",_.DISPATCH_SHARE_BG="DISPATCH_SHARE_BG",_.DISPATCH_SHARE_BG_STOP="DISPATCH_SHARE_BG_STOP",_.DISPATCH_GET_ZHUANGTOU="DISPATCH_GET_ZHUANGTOU",_.DISPATCH_CANCEL_LOCK_AUTO="DISPATCH_CANCEL_LOCK_AUTO",_.DISPATCH_EXIT="DISPATCH_EXIT",_.DISPATCH_MARQUEE="DISPATCH_MARQUEE",_.DISPATCH_SMALL_BOSS="DISPATCH_SMALL_BOSS",_.DISPATCH_RETURNTOHOME="DISPATCH_RETURNTOHOME",_.DISPATCH_CLOSE_MORE="DISPATCH_CLOSE_MORE",_.DISPATCH_SHOW_TIP="DISPATCH_SHOW_TIP",_.DISPATCH_UPDATE_SCORE="DISPATCH_UPDATE_SCORE",_.DISPATCH_TEST="DISPATCH_TEST",_}({}));A._RF.pop()}}}));

System.register("chunks:///_virtual/FishFactory2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseFish2.ts","./Fish2.ts","./SpineFish2.ts","./Singleton5.ts","./SubGameData3.ts","./ResourceConst2.ts","./ObjectPool2.ts","./ShadeFish2.ts","./TestFish2.ts"],(function(t){var n,e,o,i,a,s,c,f,r,u,p,d,l,h,F,g,S;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,i=t.UIOpacity,a=t.Button,s=t.Node,c=t.Label,f=t.Color},function(t){r=t.BaseFish},function(t){u=t.Fish},function(t){p=t.SpineFish},function(t){d=t.Singleton},function(t){l=t.SubGameData},function(t){h=t.getResConfig},function(t){F=t.ObjectPool},function(t){g=t.ShadeFish},function(t){S=t.TestFish}],execute:function(){o._RF.push({},"a8623H7ak9Np5xS++7IgE+F","FishFactory",void 0);t("FishFactory",function(t){function o(){return t.call(this)||this}n(o,t);var d=o.prototype;return d.getFish=function(t,n,e){if(t){var o=""+h().FISHES_PREFAB_DIR+t.prefab;t.prefab&&F.getInstance().popPrefabNode(o,(function(o){28==t.type?o.addComponent(p):o.addComponent(u),o.addComponent(i);var s=o.getChildByName("clickNode");if(s){var c=s.getComponent(a);c&&c.destroy()}n.call(e,o)}),this)}},d.getShadeFish=function(t,n,e){if(t){var o=""+h().FISHES_PREFAB_DIR+t.prefab;t.prefab&&F.getInstance().popPrefabNode(o,(function(o){o.addComponent(g).init(t.type),o.active=!1,o.parent=n,null==e||e(o)}),this)}},d.getTestFish=function(t,n,e){if(t){var o=""+h().FISHES_PREFAB_DIR+t.prefab;F.getInstance().popPrefabNode(o,(function(o){t.type,o.addComponent(S),n.call(e,o)}),this)}},d.getShowFish=function(t,n,e){if(t){var o=""+h().FISHES_PREFAB_DIR+t.prefab;t.prefab&&F.getInstance().popPrefabNode(o,(function(t){n.call(e,t)}),this)}},d.addLock=function(t){F.getInstance().popPrefabNode(""+h().Lock,(function(n){null!=n&&null!=t&&(n.parent=t,t.getComponent(r).lockNode=n)}),this)},d.addlabel=function(t){var n=new s,e=n.addComponent(c);e.fontSize=40,e.color=new f("#000000"),t.addChild(n),t.getComponent(r).labelNode=n},d.getConfigByType=function(t){return this.data._fishesConfig[t]},e(o,[{key:"data",get:function(){return App.dataCenter.get(l)}}]),o}(d()));o._RF.pop()}}}));

System.register("chunks:///_virtual/FishModel2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameService.ts","./Singleton5.ts","./ConfigGetter2.ts","./SubGameData3.ts","./FishEvent2.ts","./GameSender3.ts","./BaseFish2.ts"],(function(e){var s,t,i,n,r,h,a,o,u,f,l;return{setters:[function(e){s=e.inheritsLoose,t=e.createClass},function(e){i=e.cclegacy},function(e){n=e.GameService},function(e){r=e.Singleton},function(e){h=e.getConfigClass,a=e.ConfigType},function(e){o=e.SubGameData},function(e){u=e.FishEvent},function(e){f=e.GameSender},function(e){l=e.BaseFish}],execute:function(){i._RF.push({},"34337d9KRBJAZm0n6X0Z5CH","FishModel",void 0);e("FishModel",function(e){function i(){for(var s,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return(s=e.call.apply(e,[this].concat(i))||this).fishs={},s.fishNodes={},s.lockFishId=null,s.fishMaxNum=1,s.sprites=[],s.spriteIds=[],s.rates=[],s.ratesIds=[],s}s(i,e);var r=i.prototype;return r.addRate=function(e,s){if(this.ratesIds.indexOf(Number(e))>-1)return null;var t={id:e,rate:s};return this.rates.push(t),this.ratesIds.push(Number(e)),this.rates.sort((function(e,s){return s.rate-e.rate})),dispatch(u.DISPATCH_ADD_RATE),this.rates[0].id},r.removeRate=function(e){var s=this.rates.findIndex((function(s){return s.id===e}));-1!==s&&this.rates.splice(s,1);var t=this.ratesIds.indexOf(Number(e));-1!==t&&this.ratesIds.splice(t,1)},r.getMaxRateId=function(){return 0===this.rates.length?null:this.rates[0].id},r.getFishs=function(){var e=[];for(var s in this.fishs)if(Object.prototype.hasOwnProperty.call(this.fishs,s)&&(e.push(Number(s)),e.length>=3))return e},r.getFish=function(e){return this.fishs[e]||null},r.pushFish=function(e,s){this.fishs[e]=s},r.addRateFun=function(e){if(!(this.ratesIds.indexOf(e.uid)>-1)){var s=e.classid;e.fishid>0&&(s=e.fishid);var t=h(a.fish,s+"").rate;"number"==typeof t?this.addRate(e.uid+"",t):Array.isArray(t)&&this.addRate(e.uid+"",Number(t[t.length-1]))}},r.getNodeFish=function(e){return this.fishNodes[e]||null},r.pushNodeFish=function(e,s){this.fishNodes[e]=s},r.clearFishs=function(e,s){var t=this;void 0===s&&(s=!1),e.forEach((function(e){var i,n,r,h=e.uid;if(null!=(i=t.fishNodes)&&i[h]){var a,o,u,f;if(s)null==(o=t.fishNodes)||null==(o=o[h].getComponent(l))||o.playKill();else null==(u=t.fishNodes)||u[h].removeFromParent(),null==(f=t.fishNodes)||f[h].destroy();null==(a=t.fishNodes)||delete a[h]}null!=(n=t.fishs)&&n[h]&&(t.removeRate(h+""),null==(r=t.fishs)||delete r[h])}))},r.cleanFish=function(e,s){var t,i,n;(void 0===s&&(s=!1),null!=(t=this.fishs)&&t[e])&&(this.removeRate(e+""),null==(n=this.fishs)||delete n[e]);if(null!=(i=this.fishNodes)&&i[e]){var r,h,a,o;if(s)null==(h=this.fishNodes)||null==(h=h[e].getComponent(l))||h.playKill();else null==(a=this.fishNodes)||a[e].removeFromParent(),null==(o=this.fishNodes)||o[e].destroy();null==(r=this.fishNodes)||delete r[e]}},r.getSburvivalPercent=function(e){if(!this.fishs[e])return 0;var s=this.fishs[e].born_time,t=this.fishs[e].dead_time-s;return(this.gameService.heartTimeNow-s)/t},r.clearRate=function(){this.rates=[],this.ratesIds=[]},r.destroy=function(){if(this.fishs={},this.rates=[],this.ratesIds=[],this.spriteIds=[],this.fishNodes){for(var e in this.fishNodes)if(Object.prototype.hasOwnProperty.call(this.fishNodes,e)){var s,t,i=Number(e);null==(s=this.fishNodes[i])||s.removeFromParent(),null==(t=this.fishNodes[i])||t.destroy(),delete this.fishNodes[i]}this.fishNodes={}}},t(i,[{key:"gameService",get:function(){return App.serviceManager.get(n)}},{key:"data",get:function(){return App.dataCenter.get(o)}},{key:"sender",get:function(){return App.senderManager.get(f)}}]),i}(r()));i._RF.pop()}}}));

System.register("chunks:///_virtual/FishTestItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(t){var e,n,i,o,s,h,r,c,d,a,l,u,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,h=t._decorator,r=t.Label,c=t.Vec3,d=t.Node,a=t.UITransform,l=t.v3,u=t.Color},function(t){f=t.default}],execute:function(){var T,p,g,v,_;s._RF.push({},"2e261tdlPlOCZ3SGOJk/lYH","FishTestItem",void 0);var y=h.ccclass,E=h.property;t("FishTestItem",(T=y("FishTestItem"),p=E({type:r}),T((_=e((v=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),h=0;h<n;h++)s[h]=arguments[h];return(e=t.call.apply(t,[this].concat(s))||this)._isDragging=!1,e._startPos=new c,e._delta=new c,e.uid=0,i(e,"lab",_,o(e)),e}n(e,t);var s=e.prototype;return s.start=function(){this.node.on(d.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(d.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(d.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(d.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.addEvents=function(){this.onD("show_cancelSelect",this.resetHandle),this.onD("show_delect",this.delectHandle),this.onD("set_x",this.setX),this.onD("set_y",this.setY)},s.onEnable=function(){this.lab.string=this.node.getSiblingIndex()+1+""},s.onTouchStart=function(t){this._isDragging=!0;var e=t.getUILocation();this.node.parent.getComponent(a).convertToNodeSpaceAR(l(e.x,e.y),this._startPos),c.subtract(this._delta,this._startPos,this.node.position),this.select()},s.onTouchMove=function(t){if(this._isDragging){var e=t.getUILocation(),n=new c;this.node.parent.getComponent(a).convertToNodeSpaceAR(l(e.x,e.y),n),c.subtract(n,n,this._delta),this.node.setPosition(n)}},s.onTouchEnd=function(t){this._isDragging=!1,dispatch("show_select",this.uid,this.node.getPosition())},s.resetHandle=function(t){this.uid==t&&this.reset()},s.setX=function(t){this.uid==t.id&&this.node&&this.node.setPosition(t.x,this.node.getPosition().y)},s.setY=function(t){this.uid==t.id&&this.node&&this.node.setPosition(this.node.getPosition().x,t.y)},s.delectHandle=function(t){var e=this;this.uid==t&&this.node?(this.node.removeFromParent(),this.node.destroy()):this.scheduleOnce((function(){e.node&&(e.lab.string=e.node.getSiblingIndex()+1+"")}),.2)},s.select=function(){this.node&&(this.node.setScale(1.5,1.5),this.lab.color=new u("#ffff00"))},s.reset=function(){this.node&&(this.node.setScale(1,1),this.lab.color=new u("#ffffff"))},s.onDestroy=function(){this.node.off(d.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(d.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(d.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(d.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e}(f)).prototype,"lab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/FishTestView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./EventComponent.ts","./GameService.ts","./TestFish2.ts","./FishFactory2.ts","./LineRouteFactory2.ts","./FishTestItem2.ts","./ConfigGetter2.ts"],(function(t){var e,i,n,r,o,s,a,u,l,h,c,f,p,d,m,g,y,I,b,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,a=t._decorator,u=t.EditBox,l=t.Node,h=t.Prefab,c=t.instantiate},function(t){f=t.SubGameData},function(t){p=t.default},function(t){d=t.GameService},function(t){m=t.TestFish},function(t){g=t.FishFactory},function(t){y=t.RouteFactory},function(t){I=t.FishTestItem},function(t){b=t.getConfigClass,v=t.ConfigType}],execute:function(){var x,w,F,B,A,_,C,D,S,z,T,N,E,P,R,X,G,Y,L,M,j,k,H;s._RF.push({},"ed5a8X4nghENpjaEG++t/Nm","FishTestView",void 0);var V=a.ccclass,O=a.property;t("FishTestView",(x=V("FishTestView"),w=O({type:u}),F=O({type:u}),B=O({type:l}),A=O({type:l}),_=O({type:l}),C=O({type:h}),D=O({type:l}),S=O({type:u}),z=O({type:u}),T=O({type:u}),x((P=e((E=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"fishIdInput",P,r(e)),n(e,"roInput",R,r(e)),n(e,"fishBox",X,r(e)),n(e,"showBox",G,r(e)),n(e,"toolBox",Y,r(e)),n(e,"toolItem",L,r(e)),n(e,"itemBox",M,r(e)),n(e,"timeInput",j,r(e)),n(e,"XInput",k,r(e)),n(e,"YInput",H,r(e)),e.isShow=!0,e.classid=1,e.routeid=1,e.curItem=null,e.id=0,e.route=[],e.posArr=[],e.jsonOutput=[],e.preAngle=0,e}i(e,t);var s=e.prototype;return s.addEvents=function(){this.onD("show_select",this.selectHandle)},s.onEnable=function(){},s.change=function(){this.isShow=!this.isShow,this.showBox.active=this.isShow,this.toolBox.active=!this.isShow,this.fishBox.removeAllChildren()},s.setX=function(){dispatch("set_x",{id:this.curItem,x:this.XInput.string})},s.setY=function(){dispatch("set_y",{id:this.curItem,y:this.YInput.string})},s.go=function(){var t=this;this.cleanFIsh();var e={uid:(0,1),type:(0,1),classid:0,fishid:0,born_time:0,routeid:0,offsettype:0,offsetx:0,offsety:0,offsetr:0,dead_time:0};e.classid=Number(this.fishIdInput.string),e.fishid=1,e.born_time=Date.now(),e.routeid=Number(this.roInput.string),e.offsettype=0,e.offsetx=0,e.offsety=0,e.offsetr=0;var i=y.getInstance().getTestLineById2(e.routeid),n=i[i.length-1].t;e.dead_time=Date.now()+n,this.createFish(e,i),i.forEach((function(e){t.addItem(e.x,e.y)})),this.timeInput.string=n+"",this.route=i},s.createFish2=function(t){var e={uid:(0,1),type:(0,1),classid:0,fishid:0,born_time:0,routeid:0,offsettype:0,offsetx:0,offsety:0,offsetr:0,dead_time:0};e.classid=Number(this.fishIdInput.string),e.fishid=1,e.born_time=Date.now(),e.offsettype=0,e.offsetx=0,e.offsety=0,e.offsetr=0;var i=t[t.length-1].t;e.dead_time=Date.now()+i,this.createFish(e,t)},s.yulan=function(){this.fishBox.removeAllChildren();var t=this.newData();t&&this.createFish2(t[0].line)},s.newData=function(){var t=this.itemBox.children;if(0!=t.length){t.forEach((function(t){t.getPosition()})),this.posArr=t.map((function(t){return t.getPosition()}));var e=this.addRoute(),i=e.map((function(t,e){return{x:parseInt(t.x+""),y:parseInt(t.y+""),r:parseInt(t.r+""),t:parseInt(t.t+"")}})),n=[{id:Number(this.roInput.string),line:i,alivetime:e[e.length-1].t}];return this.jsonOutput=n,n}App.alert.show({isRepeat:!1,title:App.getLanguage("90064"),text:"请生成节点",confirmCb:function(t){t&&App.utils.goBackHomeUrl()}})},s.addRoute=function(){for(var t=this.posArr,e=[],i=Number(this.timeInput.string),n=t.length-1,r=0,o=0;o<=n;o++){var s={x:0,y:0,r:0};if(s.x=t[o].x,s.y=t[o].y,o==n)s.r=r;else{var a=t[o+1].x,u=t[o+1].y;r=s.r=this.getAngle(s.x,s.y,a,u)}var l=Number(0==o?0:o==n?i:Math.floor(i/n*o));s.t=l,e.push(s)}return e},s.getAngle=function(t,e,i,n){var r=t-i,o=e-n,s=Math.atan2(o,r)*(180/Math.PI);return r>0?s=180+s:(s=180+s)-this.preAngle>100&&(s-=360),this.preAngle=s,s},s.outData=function(){var t=this.newData();console.log(JSON.stringify(t,null,4))},s.createFish=function(t,e){var i=this,n=b(v.fish,t.classid+"");g.getInstance().getTestFish(n,(function(r){var o;null==(o=r.getComponent(m))||o.init(t,n,e),i.fishBox.addChild(r)}),this)},s.addItem=function(t,e){var i=c(this.toolItem);this.id++,i.getComponent(I).uid=this.id,i.parent=this.itemBox,i.setPosition(t,e)},s.delectItem=function(){dispatch("show_delect",this.curItem)},s.selectHandle=function(t,e){t!=this.curItem&&dispatch("show_cancelSelect",this.curItem),this.curItem=t,this.XInput.string=parseInt(e.x+"")+"",this.YInput.string=parseInt(e.y+"")+""},s.cleanFIsh=function(){this.route=[],this.XInput.string="",this.YInput.string="",this.fishBox.removeAllChildren(),this.itemBox.removeAllChildren()},s.addPoint=function(){this.addItem(0,100)},o(e,[{key:"gameService",get:function(){return App.serviceManager.get(d)}},{key:"data",get:function(){return App.dataCenter.get(f)}}]),e}(p)).prototype,"fishIdInput",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(E.prototype,"roInput",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(E.prototype,"fishBox",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(E.prototype,"showBox",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(E.prototype,"toolBox",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(E.prototype,"toolItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(E.prototype,"itemBox",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(E.prototype,"timeInput",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(E.prototype,"XInput",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(E.prototype,"YInput",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=E))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/fishView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./BaseFish2.ts","./FishFactory2.ts","./EventComponent.ts","./FishEvent2.ts","./GameService.ts","./FishModel2.ts","./SubGameConstants3.ts","./ConfigGetter2.ts","./SpineFish2.ts","./SubGameDefines3.ts"],(function(e){var t,i,n,s,a,o,c,r,u,h,l,p,d,f,g,v,F,S,m,y,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,c=e._decorator,r=e.Node},function(e){u=e.SubGameData},function(e){h=e.BaseFish},function(e){l=e.FishFactory},function(e){p=e.default},function(e){d=e.FishEvent},function(e){f=e.GameService},function(e){g=e.FishModel},function(e){v=e.getConfig,F=e.SubGameConstants},function(e){S=e.getConfigClass,m=e.ConfigType},function(e){y=e.SpineFish},function(e){C=e.EventName}],execute:function(){var _,A,b,w,E;o._RF.push({},"8528ezCVF1HopV320EdHghq","fishView",void 0);var D=c.ccclass,I=c.property;e("FishView",(_=D("FishView"),A=I({type:r}),_((E=t((w=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"shadeView",E,s(t)),t}i(t,e);var o=t.prototype;return o.addEvents=function(){},o.update=function(e){var t=this.gameService.heartTimeNow;if(t)for(var i=g.getInstance().sprites,n=i.length,s=0,a=v().MAX_CREATE_AMOUNT,o=0;o<n;){var c=i[o];if(t>=c.dead_time)i.splice(o,1),--n;else if(t>=c.born_time){if(i.splice(o,1),--n,this.createFish(c),++s>=a)break}else++o}},o.onEnable=function(){},o.createFish=function(e){var t=this;g.getInstance().pushFish(e.uid,e);var i=e.classid;e.fishid>0&&(i=e.fishid);var n=S(m.fish,i+"");n.name&&dispatch(d.DISPATCH_MARQUEE,2,n.name,n.rate),2==n.showComeTip&&1==e.boss_notice&&dispatch(d.DISPATCH_BOSS_COME),1==n.showComeTip&&1==e.boss_notice&&dispatch(d.DISPATCH_SMALL_BOSS,n),l.getInstance().getFish(n,(function(i){var s=null;28==n.type?(s=i.getComponent(y)).init(e,n):(s=i.getComponent(h)).init(e,n);var a=e.uid;g.getInstance().pushFish(a,e),g.getInstance().pushNodeFish(a,i),n&&(t.scheduleOnce((function(){try{var e;if(n&&t.node&&i&&t.node.getChildByName("group"+n.atlas))null==(e=t.node.getChildByName("group"+n.atlas))||e.addChild(i)}catch(e){return void console.log("Error in scheduleOnce callback:",e)}}),0),l.getInstance().getShadeFish(n,t.shadeView,(function(e){s.shade=e})),28==n.type?dispatch(C.PLAY_SOUND,F.AudioSource.Fish_caishengchuchang):26==n.type?dispatch(C.PLAY_SOUND,F.AudioSource.Fish_gesila_voice):27==n.type&&dispatch(C.PLAY_SOUND,F.AudioSource.Fish_eyu_voice))}),this)},o.clickView=function(e){},a(t,[{key:"gameService",get:function(){return App.serviceManager.get(f)}},{key:"data",get:function(){return App.dataCenter.get(u)}}]),t}(p)).prototype,"shadeView",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameEntry3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entry.ts","./Decorators.ts","./MainGameView3.ts","./GameService.ts","./GameHandler3.ts","./SubGameLanguage3.ts"],(function(){var e,n,t,a,o,r,u,i;return{setters:[function(n){e=n.inheritsLoose},function(e){n=e.cclegacy},function(e){t=e.Entry},function(e){a=e.registerEntry},function(e){o=e.default},function(e){r=e.GameService},function(e){u=e.default},function(e){i=e.SubGameLanguage}],execute:function(){var c;n._RF.push({},"dbc6fQJLDpKLpcoHEosPjUM","GameEntry",void 0);a("GameEntry","slot190000101",o)(c=function(n){function t(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))||this).language=new i,e}e(t,n);var a=t.prototype;return a.addNetHandler=function(){App.handlerManager.get(u)},a.removeNetHandler=function(){App.handlerManager.destory(u)},a.loadResources=function(e){App.utils.closeDocumentFrameAnimation(),e()},a.initData=function(){App.serviceManager.get(r,!0)},a.pauseMessageQueue=function(){},a.resumeMessageQueue=function(){},a.openGameView=function(){n.prototype.openGameView.call(this)},a.onUnloadBundle=function(){n.prototype.onUnloadBundle.call(this),App.serviceManager.destory(r)},t}(t));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameHandler3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Handler.ts","./GameService.ts","./SubGameData3.ts","./SocketConst2.ts","./Global.ts","./FishModel2.ts","./FishEvent2.ts","./BatterModel2.ts","./GameSender3.ts","./SubGameDefines3.ts","./SubGameConstants3.ts","./Decorators.ts","./GameLogic3.ts"],(function(e){var s,t,a,i,n,o,c,r,g,h,u,d,f,I,l,p,m,S,_,P,A,T;return{setters:[function(e){s=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy},function(e){c=e.Handler},function(e){r=e.GameService},function(e){g=e.SubGameData},function(e){h=e.getSocketConfig,u=e.FishingCommonProtocolId,d=e.GameProtocolId},function(e){f=e.Global},function(e){I=e.FishModel},function(e){l=e.FishEvent},function(e){p=e.BatterModel},function(e){m=e.GameSender},function(e){S=e.EventName},function(e){_=e.getConfig,P=e.SubGameConstants},function(e){A=e.inject},function(e){T=e.GameLogic}],execute:function(){var C,D,H,v;o._RF.push({},"400a7FSmitHkqbKKKvBcCYq","GameHandler",void 0);e("default",(C=A({type:T,name:"logic"}),(v=function(e){function s(){for(var s,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return s=e.call.apply(e,[this].concat(n))||this,a(s,"logic",H,i(s)),s}t(s,e);var o=s.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),this.onS(h().HIT_SPRITES,this.s2cHitSprites,this),this.onS(h().INCREASE_BOMB,this.s2cincreasebomb,this),this.onS(h().BOMB_HIT,this.s2cbombOtherFish,this),this.onS(h().CHANGE_IMMOB,this.s2cImmob,this),this.onS(h().FIRE,this.s2cFire,this),this.onS(u.USERINFO,this.s2cUserInfo,this),this.onS(h().CHANGE_LOCK,this.s2cChangeLock,this),this.onS(h().BROAD_PLAYER,this.s2cBroadPlayer,this),this.onS(h().DECREASE_SPRIRES,this.s2cHit,this),this.onS(h().ENTER_ROOM,this.s2cEnterRoom,this),this.onS(h().INCREASE_SPRITES,this.s2cIncreaseSprites,this),this.onS(d.LOGIN,this.s2cLogin,this),this.onS(h().CHANGEGUNID,this.changeGun,this),this.onS(u.FISHINFO,this.s2cfishinfo,this),this.onS(h().CHANGE_SCENE,this.s2cChangeMap,this)},o.s2cFire=function(e){Log.d(e)},o.s2cUserInfo=function(e){this.data.money=e.message.money},o.s2cChangeLock=function(e){p.getInstance().setLock(e)},o.s2cBroadPlayer=function(e){if(e&&e.message&&e.succ){var s=function(){var s=e.message.player,t=e.message.type;if(1==t){p.getInstance().inBattle(s);var a=p.getInstance().getTruePosByPos(s.pos);dispatch(l.DISPATCH_UPDATA_BATTLE,a)}else if(2==t)p.getInstance().resetBattle(s);else if(3==t){var i=p.getInstance().getTruePosByPos(s.pos);p.getInstance().updataBattle(s),dispatch(l.DISPATCH_UPDATA_BATTLE,i)}};null==p.getInstance().myPlayerInfo?this.logic.view.help.enterAfterHandle.push(s):s()}else Log.e("s2cBroadPlayer:"+e.errinfo)},o.s2cHit=function(e){},o.s2cHitSprites=function(e){if(e&&e.message&&e.succ){e.message.bulletid;var s=e.message.pos,t=p.getInstance().getTruePosByPos(s),a=e.message.fishes;if(p.getInstance().battleDatas[t]){var i=p.getInstance().battleDatas[t].worldPos;if(a.length>0){var n=p.getInstance().idToPos[f.userId]==t;a.forEach((function(e){var s=I.getInstance().getFish(e.uid);if(s){var a=s.classid;if(s.fishid>0&&(a=s.fishid),24!=a&&25!=a&&(dispatch(l.DISPATCH_ADD_GOLD,{targetPos:i,fish:e,isMe:n}),dispatch(l.DISPATCH_ADD_SCORE,{fish:e,isMe:n}),23==a||26==a||27==a?dispatch(l.DISPATCH_SMALL_BOSS_DIE):(dispatch(l.DISPATCH_BIG_BOOM,{fish:e,isMe:n}),dispatch(l.DISPATCH_SAMLL_BOOM,{fish:e,isMe:n})),dispatch(l.DISPATCH_BIG_WIN,{targetPos:i,fish:e,own:t,isMe:n})),24==a){var o=I.getInstance().getNodeFish(e.uid);if(o){var c=o.getWorldPosition();dispatch(l.DISPATCH_ZHADAN,c,n)}}28==a&&(Log.d("财神的倍率 "+e.rate),dispatch(l.DISPATCH_DRAGON_DIE,{fish:e,isMe:n})),24!=a&&25!=a&&setTimeout((function(){I.getInstance().cleanFish(e.uid,!0)}),0)}}))}}}else Log.e("s2cHitSprites:"+e.errinfo)},o.s2cImmob=function(e){},o.s2cincreasebomb=function(e){var s=e.message.type,t=e.message.bomb,a=e.message.pos;if(1==s){var i=I.getInstance().getNodeFish(t[0].fish_id);if(i){var n=i.getWorldPosition(),o=p.getInstance().getTruePosByPos(a),c=p.getInstance().battleDatas[o].worldPos,r=p.getInstance().idToPos[f.userId]==o;dispatch(l.DISPATCH_ZHADAN,n,t[0].id,r);var g=Number(t[0].rate*t[0].brate);dispatch(l.DISPATCH_BIG_BOOM_SPE,{targetPos:c,fishType:24,score:g,pos:o}),setTimeout((function(){I.getInstance().cleanFish(t[0].fish_id,!0)}),0)}}else if(2==s){var h=p.getInstance().getTruePosByPos(a),u=p.getInstance().battleDatas[h];u.BombVo=t[0];var d,m=t[0].uid;if(f.userId==m+"")u.canShootZhuan=!0,u.isChangePao=!0,dispatch(l.DISPATCH_CANCEL_LOCK_AUTO),null==(d=this.sender)||d.gunChange(3);setTimeout((function(){I.getInstance().cleanFish(t[0].fish_id,!0)}),0)}},o.s2cbombOtherFish=function(e){Log.d("炸弹播放完毕"+e.message.fishes);var s=e.message.pos,t=p.getInstance().getTruePosByPos(s),a=e.message.fishes;if(p.getInstance().battleDatas[t]){var i=p.getInstance().battleDatas[t].worldPos;a.length>0&&(a.forEach((function(e){var s=I.getInstance().getFish(e.uid);if(s){var a=s.classid;if(s.fishid>0&&(a=s.fishid),24!=a&&25!=a){var n=p.getInstance().idToPos[f.userId]==t;dispatch(l.DISPATCH_ADD_GOLD,{targetPos:i,fish:e,isMe:n}),dispatch(l.DISPATCH_ADD_SCORE,{fish:e,isMe:n}),dispatch(l.DISPATCH_BIG_BOOM,{fish:e,isMe:n}),dispatch(l.DISPATCH_SAMLL_BOOM,{fish:e,isMe:n}),dispatch(l.DISPATCH_BIG_WIN,{targetPos:i,fish:e,own:t,isMe:n})}}})),setTimeout((function(){I.getInstance().clearFishs(a,!0)}),0))}},o.s2cLogin=function(e){var s;e&&e.message&&1==e.message.issucc?(f.account=e.message.account,f.currency=e.message.mtype,f.userId=e.message.uid+"",console.log("登录返回:"+e.message),console.log("登录获取到的GlobalUserId :"+f.userId),null==(s=this.sender)||s.c2sUserInfo()):Log.e("s2cLogin:"+e.errinfo)},o.getGmameList=function(e){},o.s2cChangeMap=function(e){if(e&&e.message&&e.succ){var s=e.message.sceneid,t=e.message.state;this.data.mapId=s,this.data.mapState=t,this.data.changeStateTime=e.message.servtime,t==_().MapState.Changing?dispatch(l.DISPATCH_CHANGE_SCENE):t==_().MapState.Normal?dispatch(S.PLAY_MUSIC,"audio/bgm_deep_sea0"+(s+1)):t==_().MapState.FishGroup?dispatch(S.PLAY_MUSIC,P.AudioSource.bgm_fish_wave):t==_().MapState.BossTip&&console.log("展示boss出场动画")}else Log.e("changeScene:"+e.errinfo)},o.s2cfishinfo=function(e){var s;e&&e.message&&e.succ?(Log.d("s2cfishinfo: "+this.data.reqRoomType+" min: "+e.message.betList[0]+" max: "+e.message.betList[e.message.betList.length-1]),p.getInstance().betList=e.message.betList,p.getInstance().defaultBetValue=e.message.defaultBetValue,p.getInstance().coinRate=e.message.coin_rate,null==(s=this.sender)||s.c2squickenterroom(Number(this.data.roomType))):Log.e("s2cfishinfo:"+e.errinfo)},o.changeGun=function(e){if(e&&e.message&&e.succ){var s=e.message;p.getInstance().battleDatas[s.pos].gunid=s.gunid;var t=p.getInstance().getTruePosByPos(s.pos);s.pos=t,dispatch(l.DISPATCH_BATTLE_GUNID,s)}},o.s2cEnterRoom=function(e){var s,t=this;e.succ&&0!=e.message.result?null==(s=this.logic.view.help)||s.clickEnter((function(){App.loading.hide(),t.data.roomData=e,I.getInstance().sprites=[];var s=e.message.players;s.forEach((function(e){e.uid==f.userId&&(p.getInstance().myPlayerInfo=e)})),null!=p.getInstance().myPlayerInfo?p.getInstance().setBattles(s):console.log("没有我的数据!!!!!!!!!!!!!!!!!!"),t.data.mapId=e.message.sceneid,t.data.mapState=e.message.scenestate,dispatch(l.DISPATCH_INIT_BG),t.data.mapState==_().MapState.Normal?dispatch(S.PLAY_MUSIC,"audio/bgm_deep_sea0"+(t.data.mapId+1)):t.data.mapState==_().MapState.FishGroup&&dispatch(S.PLAY_MUSIC,P.AudioSource.bgm_fish_wave);var a=e.message.sprites;a&&a.forEach((function(e){if(1==e.type){var s=e.uid,t=I.getInstance().fishs[s],a=I.getInstance().spriteIds.indexOf(s)>-1;t||a||(I.getInstance().sprites.push(e),I.getInstance().spriteIds.push(s))}}))})):Log.e("s2cEnterRoom:"+e.errinfo)},o.s2cIncreaseSprites=function(e){if(e&&e.message&&e.succ){var s=e.message;s&&s.forEach((function(e){1==e.type?I.getInstance().sprites.push(e):2==e.type?dispatch(l.DISPATCH_SHOOT,e):3==e.type&&dispatch(l.DISPATCH_SHOOT,e,3)}))}else Log.e("s2cIncreaseSprites:"+e.errinfo)},o.errHandle=function(e){40004==e.message.code?dispatch(l.DISPATCH_SHOW_TIP,"He bullet has reached its upper limit"):10002==e.message.code?dispatch(l.DISPATCH_SHOW_TIP,"GOLD SHORTAGE!"):App.alert.show({isRepeat:!1,title:App.getLanguage("90064"),text:e.errinfo,confirmCb:function(e){e&&dispatch(l.DISPATCH_RETURNTOHOME)}})},n(s,[{key:"sender",get:function(){return App.senderManager.get(m)}},{key:"gameService",get:function(){return App.serviceManager.get(r)}},{key:"data",get:function(){return App.dataCenter.get(g)}},{key:"service",get:function(){return App.serviceManager.get(r)}}]),s}(c)).module="Game_190000101",H=s((D=v).prototype,"logic",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logic.ts","./CommonEvent.ts","./GameSender3.ts","./Global.ts","./GameService.ts","./SubGameData3.ts","./SubGameDefines3.ts","./ResourceLoader.ts","./Resource.ts","./SubGameConstants3.ts","./ResourceUtils2.ts","./ResourceConst2.ts","./FishModel2.ts","./BatterModel2.ts","./BulletModel2.ts","./ObjectPool2.ts","./FishEvent2.ts","./HttpClient.ts","./Http.ts","./Config.ts"],(function(e){var u,o,t,n,i,s,l,r,d,a,c,p,h,m,f,y,b,S,g,A,v,_,F,C,E,w,L;return{setters:[function(e){u=e.inheritsLoose,o=e.createClass,t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e.Prefab,l=e.AudioClip},function(e){r=e.Logic},function(e){d=e.CommonEvent},function(e){a=e.GameSender},function(e){c=e.Global},function(e){p=e.GameService},function(e){h=e.SubGameData},function(e){m=e.EventName},function(e){f=e.default},function(e){y=e.Resource},function(e){b=e.SubGameConstants},function(e){S=e.ResourceUtils},function(e){g=e.getResConfig},function(e){A=e.FishModel},function(e){v=e.BatterModel},function(e){_=e.BulletModel},function(e){F=e.ObjectPool},function(e){C=e.FishEvent},function(e){E=e.HttpPackage},function(e){w=e.Http},function(e){L=e.Config}],execute:function(){i._RF.push({},"ea7c4FlbyZKtLSE/UIqeJJg","GameLogic",void 0);e("GameLogic",function(e){function i(){for(var u,o=arguments.length,t=new Array(o),n=0;n<o;n++)t[n]=arguments[n];return(u=e.call.apply(e,[this].concat(t))||this)._view=null,u.loader=new f,u.netCloseHandle=null,u}u(i,e);var r=i.prototype;return r.addEvents=function(){e.prototype.addEvents.call(this),this.onD(d.GAME_SERVICE_CONNECTED,this.onNetConnected),this.onD(d.GAME_SERVICE_CLOSE,this.onNetClose),this.onD(m.LoadDataFinish,this.enterMainGameView),this.onD(m.PLAY_SOUND,this.onPlaySound),this.onD(m.PLAY_MUSIC,this.onPlayMusic),this.onD(m.STOP_EFFECT,this.onStopEffect)},r.onLoad=function(){var u=t(n().mark((function u(o){return n().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return e.prototype.onLoad.call(this,o),this.view.init(),L.isDebugLogin?this.getEntryDebugData():this.getEntryData(),u.next=5,this.loadRouteConfig();case 5:return u.next=7,this.loadResources();case 7:case"end":return u.stop()}}),u,this)})));return function(e){return u.apply(this,arguments)}}(),r.loadResources=function(){var e=t(n().mark((function e(){var u=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loader=new f,this.loader.getLoadResources=function(){var e=[];e.push({url:"prefabs/slotgame/Alert",type:s,bundle:u.module}),e.push({url:b.AudioSource.bgm_deep_sea02,type:l,bundle:u.module}),e.push({url:b.AudioSource.bgm_boss_battle,type:l,bundle:u.module}),e.push({url:b.AudioSource.bgm_deep_sea03,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_shooting,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_Kill,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_win,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_win_Small_Prize,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_Button,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_BOOS_Warning,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_Frenzy,type:l,bundle:u.module}),e.push({url:b.AudioSource.bgm_hall,type:l,bundle:u.module}),e.push({url:b.AudioSource.bgm_fish_wave,type:l,bundle:u.module}),e.push({url:b.AudioSource.bgm_boss,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_suoding,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_baozha,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_shooting03,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_shooting02,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_Upgrade,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_Drill04,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_Drill03,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_Drill02,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_Drill01,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_coin_hit,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_caishengchuchang,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_gesila_voice,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_Boss_attack,type:l,bundle:u.module}),e.push({url:b.AudioBossSource.Fish_shuzilg_1,type:l,bundle:u.module}),e.push({url:b.AudioBossSource.Fish_shuzilg_2,type:l,bundle:u.module}),e.push({url:b.AudioBossSource.Fish_shuzilg_3,type:l,bundle:u.module}),e.push({url:b.AudioBossSource.Fish_shuzilg_4,type:l,bundle:u.module}),e.push({url:b.AudioBossSource.Fish_shuzilg_5,type:l,bundle:u.module}),e.push({url:b.AudioSource.Fish_Boss_baozha,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet1,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet2,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet3,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet4,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet5,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet6,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet7,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet8,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet9,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet10,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet11,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet12,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet13,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet14,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet15,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet16,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet17,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet18,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet19,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet20,type:l,bundle:u.module}),e.push({url:b.AudioBtnSource.bet21,type:l,bundle:u.module}),e.push({url:g().Lock,type:s,bundle:u.module}),e.push({url:g().NET,type:s,bundle:u.module}),e.push({url:g().GoldAni,type:s,bundle:u.module}),e.push({url:g().GoldItem,type:s,bundle:u.module}),e.push({url:g().ScoreItem,type:s,bundle:u.module}),e.push({url:"prefabs/view/RoomView",type:s,bundle:u.module}),e.push({url:"prefabs/view/RoomMenu",type:s,bundle:u.module}),e.push({url:"prefabs/view/TestView",type:s,bundle:u.module});for(var o=1;o<=10;o++)e.push({url:g().FISHES_PREFAB_DIR+"fish"+o+"/fish"+o,type:s,bundle:u.module});return e},this.loader.onLoadComplete=function(e){e==y.LoaderError.SUCCESS&&(u.data.loadFinish=!0,u.enterMainGameView())},this.loader.onLoadProgress=function(e,o){var t=Math.ceil(e/o*100);u.view.updataLoading(t,e,o),App.utils.onDocumentProgress(t)},this.loader.loadResources(),App.utils.clearHtmlTimer();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.startLoad=function(){},r.onDestroy=function(){for(var u,o=arguments.length,t=new Array(o),n=0;n<o;n++)t[n]=arguments[n];(u=e.prototype.onDestroy).call.apply(u,[this].concat(t))},r.onConnect=function(){var e=this.gameService;if(e.isConnected)return Log.d(e.module+" 断开连接中..."),void e.close();Log.d(e.module+" 连接中..."),e.connect()},r.closeSocket=function(){var e=this.gameService;Log.d(e.module+" 断开连接中..."),e.close()},r.onNetConnected=function(e){var u=this;Log.d(e.module+" 连接成功!");var o=App.senderManager.get(a);o&&(console.log("链接成功 游戏ID :"+c.gameId),o.c2sLogin(c.gameId),setTimeout((function(){o.c2sfishinfo(u.data.roomType)}),1e3))},r.onNetClose=function(e){Log.d(e.module+" 断开连接!"),this.netCloseHandle&&this.netCloseHandle(),dispatch("NetIsClose")},r.enterMainGameView=function(){this.data.loadFinish&&this.data.loadDataFinish&&(dispatch(d.NOTIFY_USERINFO_SCORE,this.data.money),this.view.showMain(),this.data.bHasLoadedRes||(this.onAfterGameLoadResources(),this.data.bHasLoadedRes=!0))},r.onAfterGameLoadResources=function(){var e=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loader=new f,this.loader.getLoadResources=function(){return[]},this.loader.onLoadComplete=function(e){y.LoaderError.SUCCESS},this.loader.onLoadProgress=function(e,u){},this.loader.loadResources();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onPlaySound=function(e,u,o){void 0===u&&(u=!1),void 0===o&&(o=!1),o?this.view.audioHelper.playEffectOneShot(e,this.module,!1):this.view.audioHelper.playEffect(e,this.module,u)},r.onStopEffect=function(e){this.view.audioHelper.stopEffect(e,this.module)},r.onPlayMusic=function(e){this.view.audioHelper.playMusic(e,this.module)},r.playAllSound=function(){this.data.openAllSound=!0,this.playMusic(),this.playAudio()},r.stopAllSound=function(){this.data.openAllSound=!1,this.stopMusic(),this.stopAudio()},r.stopMusic=function(){this.data.openMusic=!1,this.view.audioHelper.musicVolume=0},r.playMusic=function(){this.data.openMusic=!0,this.view.audioHelper.musicVolume=1},r.stopAudio=function(){this.data.openAudio=!1,this.view.audioHelper.effectVolume=0},r.playAudio=function(){this.data.openAudio=!0,this.view.audioHelper.effectVolume=1},r.loadRouteConfig=function(){var e=t(n().mark((function e(){var u=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,o){S.getInstance().loadDir("config",(function(o){o&&(o.forEach((function(e){null!==e.json?"fishes"==e.name?u.data._fishesConfig=e.json:"routes"==e.name&&(u.data.routeConfig=e.json):console.warn("JSON file "+e.name+" is null.")})),e())}),u)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.getEntryData=function(){var e=this,u=new E;u.data.url=c.httpSvr+"/api/v1/game/fishRoomTypeInfo?uid="+c.userId+"&gameId=190000101",u.data.isAutoAttachCurrentTime=!1,u.data.type=w.Type.GET,u.data.requestHeader={name:"Content-Type",value:"application/json"},u.send((function(u){var o,t=JSON.parse(u);200==t.code&&null!=t.data&&(e.data.roomTypeInfo=null!=(o=t.data)&&o.roomTypeInfo?t.data.roomTypeInfo:null);dispatch(C.DISPATCH_ENTRY_UPDATE)}),(function(){Log.d("数据错误")}))},r.getEntryDebugData=function(){var e=this,u=new E;u.data.url=c.httpSvr+"/api/v1/game/fishRoomTypeInfo?uid=204700026200255362&gameId=190000101",u.data.isAutoAttachCurrentTime=!1,u.data.type=w.Type.GET,u.data.requestHeader={name:"Content-Type",value:"application/json"},u.send((function(u){var o,t=JSON.parse(u);200==t.code&&null!=t.data&&(e.data.roomTypeInfo=null!=(o=t.data)&&o.roomTypeInfo?t.data.roomTypeInfo:null);dispatch(C.DISPATCH_ENTRY_UPDATE)}),(function(){Log.d("数据错误")}))},r.onEnterBackground=function(){},r.onEnterForgeground=function(){var e;null!=(e=this.view.help)&&e.isInRoom&&(App.loading.show("Enter the fishing ground...",(function(){}),10,"#FFFFFF"),this.onConnect())},r.exitRoom=function(){A.getInstance().destroy(),v.getInstance().reset(),_.getInstance().destroy(),F.getInstance().destroy()},o(i,[{key:"data",get:function(){return App.dataCenter.get(h)}},{key:"gameService",get:function(){return App.serviceManager.get(p)}},{key:"_sender",get:function(){return App.senderManager.get(a)}},{key:"view",get:function(){return this._view}}]),i}(r));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameSender3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sender.ts","./GameService.ts","./Config.ts","./Global.ts","./Protocol4.ts","./SocketConst2.ts"],(function(e){var s,n,t,i,c,o,a,r,u,g;return{setters:[function(e){s=e.inheritsLoose,n=e.createClass},function(e){t=e.cclegacy},function(e){i=e.Sender},function(e){c=e.GameService},function(e){o=e.Config},function(e){a=e.Global},function(e){r=e.Protocol},function(e){u=e.getSocketConfig,g=e.FishingCommonProtocolId}],execute:function(){t._RF.push({},"a5f5eyfe5xBt6189M9X5tLk","GameSender",void 0),e("GameSender",function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var i=t.prototype;return i.c2sLogin=function(e){o.isDebugLogin?this.c2sDebug_login({uid:a.userId,game_id:e,money:Number(a.money),money_type:a.currency}):this.c2sOfficial_login({token:a.token,gameid:e,direct:a.direct_login})},i.c2sDebug_login=function(e){var s,n={type:r.DEBUG_LOGIN,message:e};null==(s=this.service)||s.sendMessage(r.DEBUG_LOGIN,n)},i.c2sOfficial_login=function(e){var s,n={type:r.LOGIN,message:e};null==(s=this.service)||s.sendMessage(r.LOGIN,n)},i.c2sMark=function(e){var s,n={type:r.MARK,message:e};null==(s=this.service)||s.sendMessage(r.MARK,n)},i.sendPack=function(e,s){var n;null==(n=this.service)||n.sendMessage(e,s)},i.c2sFire=function(e){var s={type:u().FIRE,message:{angel:e.angle,bid:e.id,btype:e.btype,x:e.x,y:e.y}};this.sendPack(u().FIRE,s)},i.c2sBomb=function(e){var s={type:u().BOMB_HIT,message:e};this.sendPack(u().BOMB_HIT,s)},i.c2sChangeLocking=function(e){var s={type:u().CHANGE_LOCKING,message:{fishid:e}};this.sendPack(u().CHANGE_LOCKING,s)},i.c2sCancleLocking=function(){var e={type:u().CANCLE_LOCKING,message:{}};this.sendPack(u().CANCLE_LOCKING,e)},i.gunChange=function(e){var s={type:u().CHANGE_GUNID,message:{gunid:e}};this.sendPack(u().CHANGE_GUNID,s)},i.c2sfishinfo=function(e){var s={type:g.FISHINFO,message:{roomtype:e}};this.sendPack(g.FISHINFO,s)},i.c2senterroom=function(e,s){var n={type:u().ENTER_ROOM,message:{roomid:e,pos:s}};this.sendPack(u().ENTER_ROOM,n)},i.c2sUserInfo=function(){var e,s={type:r.USERINFO,message:{}};null==(e=this.service)||e.sendMessage(r.USERINFO,s)},i.c2squickenterroom=function(e){var s={type:g.QUICK_ENTER_ROOM,message:{roomtype:e}};this.sendPack(g.QUICK_ENTER_ROOM,s)},i.c2sChangeRate=function(e){var s={type:g.CHANGE_RATE,message:{rewardrate:e}};this.sendPack(g.CHANGE_RATE,s)},i.c2sHit=function(e){var s={type:u().HIT,message:{fblist:e}};this.sendPack(u().HIT,s)},i.c2sLeaveRoom=function(){var e={type:u().LEAVE_ROOM,message:{}};this.sendPack(u().LEAVE_ROOM,e)},n(t,[{key:"service",get:function(){return App.serviceManager.get(c)}}]),t}(i)).module="Game_190000101",t._RF.pop()}}}));

System.register("chunks:///_virtual/GoldAni2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./GoldItem2.ts","./SubGameConstants3.ts","./SubGameDefines3.ts","./ObjectPool2.ts","./ResourceConst2.ts","./FishModel2.ts"],(function(t){var n,e,i,s,o,u,a,r,c,h,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,s=t.UITransform},function(t){o=t.default},function(t){u=t.GoldItem},function(t){a=t.SubGameConstants},function(t){r=t.EventName},function(t){c=t.ObjectPool},function(t){h=t.getResConfig},function(t){l=t.FishModel}],execute:function(){var d;e._RF.push({},"8f9e0Y9DAlK5I8g4lcitfym","GoldAni",void 0);var m=i.ccclass;t("GoldAni",m("GoldAni")(d=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).isMe=!0,n.currentCount=0,n.curStartPos=null,n.targetPos=null,n.finishCount=0,n.maxNum=8,n.maxJl=20,n}n(e,t);var i=e.prototype;return i.addEvents=function(){},i.onEnable=function(){},i.addGold=function(t,n,e,i){var o=this.node.getComponent(s);this.curStartPos=o.convertToNodeSpaceAR(t);var u=this.node.getComponent(s);this.targetPos=u.convertToNodeSpaceAR(n);var c=l.getInstance().getFish(e.uid);if(c){var h=c.classid;c.fishid>0&&(h=c.fishid),h<10?(this.maxNum=5,this.maxJl=20):h<20?(this.maxNum=8,this.maxJl=30):h<=30&&(this.maxNum=15,this.maxJl=40)}else this.maxNum=5;this.maxNum>=8&&dispatch(r.PLAY_SOUND,a.AudioSource.Fish_Kill),this.isMe=i,this.schedule(this.spawnChild,.1)},i.spawnChild=function(){var t=this;if(this.currentCount>=this.maxNum)this.unschedule(this.spawnChild);else{var n=""+h().GoldItem;c.getInstance().popPrefabNode(n,(function(n){var e;null==(e=n.getComponent(u))||e.init(t.curStartPos,t.targetPos,t.isMe,t.currentCount,t.maxJl,(function(){t.finishCount++,t.finishCount>=t.maxNum&&(t.reset(),c.getInstance().push(t.node))})),t.node.addChild(n)}),this),this.currentCount++}},i.reset=function(){this.finishCount=0,this.currentCount=0,this.node.removeAllChildren(),this.node.removeFromParent(),this.unschedule(this.spawnChild)},e}(o))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/GoldItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool2.ts"],(function(t){var n,o,i,e,s,l,a,r,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,e=t.Animation,s=t.tween,l=t.Vec3,a=t.Tween,r=t.Component},function(t){c=t.ObjectPool}],execute:function(){var u;o._RF.push({},"91fedls0NdJPZ/zOiaWtAF0","GoldItem",void 0);var p=i.ccclass;t("GoldItem",p("GoldItem")(u=function(t){function o(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this).startPosition=new l,n.endPosition=new l,n.isMe=!1,n.callFun=null,n}n(o,t);var i=o.prototype;return i.init=function(t,n,o,i,e,s){void 0===i&&(i=1),this.startPosition=t,this.endPosition=n,this.isMe=o,this.callFun=s;var l=Math.random()*(e- -e)-e;this.startPosition.x+=i*l,this.node.setPosition(this.startPosition)},i.onEnable=function(){this.playAni(this.isMe)},i.playAni=function(t){var n,o=t?"gold":"gold2";null==(n=this.node.getComponent(e))||n.play(o),this.nodeJump(this.node)},i.fly=function(){var t=this,n=this.node;s(n).to(.4,{position:this.endPosition},{easing:"sineInOut"}).call((function(){null==t.callFun||t.callFun(),t.reset(),c.getInstance().push(t.node)})).start()},i.nodeJump=function(t){var n=this;s(t).repeat(2,s().to(.3,{position:new l(t.position.x,t.position.y+60,t.position.z)},{easing:"sineOut"}).to(.3,{position:new l(t.position.x,t.position.y,t.position.z)},{easing:"sineIn"})).call((function(){n.fly()})).start()},i.reset=function(){var t;a.stopAllByTarget(this.node),null==(t=this.node.getComponent(e))||t.stop(),this.callFun=null,this.node.removeFromParent()},o}(r))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/GoldView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent2.ts","./GoldAni2.ts","./ResourceConst2.ts","./ObjectPool2.ts","./FishModel2.ts"],(function(o){var t,e,n,i,r,s,l,a,c,d,u,f,h,p,g;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,s=o._decorator,l=o.Prefab,a=o.Game,c=o.UITransform},function(o){d=o.default},function(o){u=o.FishEvent},function(o){f=o.GoldAni},function(o){h=o.getResConfig},function(o){p=o.ObjectPool},function(o){g=o.FishModel}],execute:function(){var v,P,G,A,E;r._RF.push({},"3e7d7B6OzROaoqoZwLNMcEX","GoldView",void 0);var b=s.ccclass,m=s.property;o("GoldView",(v=b("GoldView"),P=m({type:l}),v((E=t((A=function(o){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t=o.call.apply(o,[this].concat(r))||this,n(t,"goldAniPf",E,i(t)),t.curStartPos=null,t.targetPos=null,t}e(t,o);var r=t.prototype;return r.addEvents=function(){this.onD(u.DISPATCH_ADD_GOLD,this.addGold),this.onG(a.EVENT_HIDE,this.onEnterBackground)},r.onEnable=function(){},r.addGold=function(o){var t=this,e=this.node.getComponent(c),n=g.getInstance().getNodeFish(o.fish.uid);if(n){this.curStartPos=e.convertToNodeSpaceAR(n.getWorldPosition());var i=this.node.getComponent(c);this.targetPos=i.convertToNodeSpaceAR(o.targetPos);var r=""+h().GoldAni;p.getInstance().popPrefabNode(r,(function(e){var i;t.node.addChild(e),null==(i=e.getComponent(f))||i.addGold(n.getWorldPosition(),o.targetPos,o.fish,o.isMe)}),this)}else console.error("播放金币错误"+o.fish)},r.onEnterBackground=function(){this.node.removeAllChildren()},r.onDisable=function(){this.node.removeAllChildren()},t}(d)).prototype,"goldAniPf",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=A))||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/HelpFish2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Fish2.ts"],(function(t){var n,i,o,e,s;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t.Collider2D,e=t.Animation},function(t){s=t.Fish}],execute:function(){i._RF.push({},"eb594Zag01CMoJdKSQpjHYg","HelpFish",void 0);t("HelpFish",function(t){function i(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this).type=0,n}n(i,t);var s=i.prototype;return s.onLoad=function(){t.prototype.onLoad.call(this),this.colliders=[];for(var n=this.node.getComponents(o),i=0;i<n.length;i++)n[i].destroy();var e=this.node.getChildByName("clickNode");e&&this.node.removeChild(e)},s.setType=function(t){this.type=t},s.lateUpdate=function(t){},s.playSwim=function(){this.animationCom||(this.animationCom=this.node.getComponent(e)),this.animationCom.play("fish"+this.type+"Swim")},s.addEvents=function(){},s.update=function(t){},i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/HelpFishBigtable2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./EventComponent.ts","./ConfigGetter2.ts"],(function(t){var e,n,i,a,r,o,l,c,s,u,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,l=t._decorator,c=t.Label},function(t){s=t.SubGameData},function(t){u=t.default},function(t){p=t.getConfigClass,f=t.ConfigType}],execute:function(){var g,h,d,y,b;o._RF.push({},"1c9c5IplglF0ZgJUWJaqA2w","HelpFishBigtable",void 0);var v=l.ccclass,C=l.property;t("HelpFishBigtable",(g=v("HelpFishBigtable"),h=C({type:c}),g((b=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"rate",b,a(e)),e}n(e,t);var o=e.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad.call(this)},o.addEvents=function(){},o.onEnable=function(){this.init()},o.init=function(){var t=p(f.fish,"28").rate;this.rate.getComponent(c).string="X"+t[0]+"-"+t[1]},r(e,[{key:"data",get:function(){return App.dataCenter.get(s)}}]),e}(u)).prototype,"rate",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/HelpFishtable2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./EventComponent.ts","./HelpItem2.ts"],(function(t){var e,n,i,r,a,o,l,u,c,p,s,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,l=t._decorator,u=t.Prefab,c=t.Node,p=t.instantiate},function(t){s=t.SubGameData},function(t){f=t.default},function(t){h=t.HelpItem}],execute:function(){var b,d,m,y,v,g,C,H,w;o._RF.push({},"1ee1cVBQBhOEaWz9+9p7ftf","HelpFishtable",void 0);var z=l.ccclass,F=l.property;t("HelpFishtable",(b=z("HelpFishtable"),d=F({type:u}),m=F({type:c}),y=F({type:c}),b((C=e((g=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"fishItem",C,r(e)),i(e,"itemContent",H,r(e)),i(e,"aniView",w,r(e)),e}n(e,t);var o=e.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad.call(this)},o.addEvents=function(){},o.onEnable=function(){},o.init=function(t){var e=this;this.itemContent.removeAllChildren(),t.forEach((function(t){if(28!=t){var n,i=p(e.fishItem);null==(n=i.getComponent(h))||n.init(t),e.itemContent.addChild(i)}}))},a(e,[{key:"data",get:function(){return App.dataCenter.get(s)}}]),e}(f)).prototype,"fishItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(g.prototype,"itemContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(g.prototype,"aniView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/HelpFishView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./HelpFishtable2.ts"],(function(e){var t,n,i,r,a,l,o,s,u,c,p,g,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Prefab,s=e.Node,u=e.Label,c=e.PageView,p=e.instantiate},function(e){g=e.default},function(e){h=e.HelpFishtable}],execute:function(){var f,d,m,b,v,y,C,F,P,w,H;a._RF.push({},"a336awl2BZBBr2uSac366M3","HelpFishView",void 0);var x=l.ccclass,B=l.property;e("HelpFishView",(f=x("HelpFishView"),d=B({type:o}),m=B({type:s}),b=B({type:o}),v=B({type:u}),f((F=t((C=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"FishTable",F,r(t)),i(t,"itemContent",P,r(t)),i(t,"HelpFishBigtable",w,r(t)),i(t,"pageNum",H,r(t)),t.maxPage=0,t}n(t,e);var a=t.prototype;return a.update=function(e){},a.onLoad=function(){e.prototype.onLoad.call(this),this.createItems()},a.addEvents=function(){},a.onEnable=function(){},a.clickLeft=function(){var e=this.node.getComponent(c);if(e){var t=e.getCurrentPageIndex(),n=e.getPages().length;if(t>0){var i=t-1;e.scrollToPage(i),this.pageNum.string=i+1+"/"+n}}},a.clickRight=function(){var e=this.node.getComponent(c);if(e){var t=e.getCurrentPageIndex(),n=e.getPages().length;if(t<n-1){var i=t+1;e.scrollToPage(i),this.pageNum.string=i+1+"/"+n}}},a.createItems=function(){var e=this,t=Array.from({length:27},(function(e,t){return t+1})),n=t.indexOf(23),i=t.indexOf(24),r=t.splice(n,1)[0];t.splice(i+1,0,r);for(var a=[],l=0;l<t.length;l+=8)a.push(t.slice(l,l+8));this.itemContent.removeAllChildren(),a.forEach((function(t,n){var i,r=p(e.FishTable);null==(i=r.getComponent(h))||i.init(t),e.itemContent.addChild(r)}));var o=p(this.HelpFishBigtable);this.itemContent.addChild(o),this.pageNum.string="1/"+(a.length+1)},a.pageScrollHandle=function(){var e=this.node.getComponent(c),t=e.getCurrentPageIndex(),n=e.getPages().length,i=t;this.pageNum.string=i+1+"/"+n},t}(g)).prototype,"FishTable",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(C.prototype,"itemContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(C.prototype,"HelpFishBigtable",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(C.prototype,"pageNum",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/HelpItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./FishFactory2.ts","./HelpFish2.ts","./ConfigGetter2.ts"],(function(t){var e,n,i,r,o,a,s,c,u,l,p,f,h,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,c=t.Label,u=t.Node,l=t.Component},function(t){p=t.SubGameData},function(t){f=t.FishFactory},function(t){h=t.HelpFish},function(t){y=t.getConfigClass,g=t.ConfigType}],execute:function(){var d,m,b,v,C,F,H;a._RF.push({},"fae3fhknWdBYYpaOEqdrYJw","HelpItem",void 0);var B=s.ccclass,I=s.property;t("HelpItem",(d=B("HelpItem"),m=I({type:c}),b=I({type:u}),d((F=e((C=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"rate",F,r(e)),i(e,"aniBox",H,r(e)),e.type=0,e}n(e,t);var a=e.prototype;return a.update=function(t){},a.onLoad=function(){},a.onEnable=function(){},a.init=function(t){var e=this;this.type=t;var n=y(g.fish,t+"");f.getInstance().getShowFish(n,(function(i){i.addComponent(h).setType(t),e.aniBox.addChild(i),i.setPosition(0,0),23==t&&i.setPosition(15,0);var r=n.capturedScale;i.setScale(r,r)}),this);var i=n.rate;"number"==typeof i?this.rate.getComponent(c).string="X "+i:Array.isArray(i)&&(this.rate.getComponent(c).string="X"+i[0]+"-"+i[1])},a.getAniPos=function(){return this.aniBox.getWorldPosition()},o(e,[{key:"data",get:function(){return App.dataCenter.get(p)}}]),e}(l)).prototype,"rate",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(C.prototype,"aniBox",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=C))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/HelpSpecialFishItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./EventComponent.ts","./ConfigGetter2.ts"],(function(t){var e,n,i,a,r,o,c,l,s,p,u,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,c=t._decorator,l=t.Label},function(t){s=t.SubGameData},function(t){p=t.default},function(t){u=t.getConfigClass,f=t.ConfigType}],execute:function(){var h,d,g,y,m;o._RF.push({},"d3f9cVYmHhFBJiDhhgRtfZ6","HelpSpecialFishItem",void 0);var v=c.ccclass,b=c.property;t("HelpSpecialFishItem",(h=v("HelpSpecialFishItem"),d=b({type:l}),h((m=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"rate",m,a(e)),e}n(e,t);var o=e.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad.call(this)},o.addEvents=function(){},o.onEnable=function(){},o.init=function(t){var e=u(f.fish,"28").rate;this.rate.getComponent(l).string="X"+e[0]+"-"+e[1]},r(e,[{key:"data",get:function(){return App.dataCenter.get(s)}}]),e}(p)).prototype,"rate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/HelpSpecialFishView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./HelpSpecialFishItem2.ts"],(function(e){var t,i,n,a,r,o,l,c,p,u,s,g,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Prefab,c=e.Node,p=e.Label,u=e.PageView,s=e.instantiate},function(e){g=e.default},function(e){f=e.HelpSpecialFishItem}],execute:function(){var h,m,d,v,y,b,C,F,H;r._RF.push({},"056aae1GfhByLV/YHai7CA4","HelpSpecialFishView",void 0);var P=o.ccclass,I=o.property;e("HelpSpecialFishView",(h=P("HelpSpecialFishView"),m=I({type:l}),d=I({type:c}),v=I({type:p}),h((C=t((b=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"HelpSpecialFishItem",C,a(t)),n(t,"itemContent",F,a(t)),n(t,"pageNum",H,a(t)),t.maxPage=0,t}i(t,e);var r=t.prototype;return r.update=function(e){},r.onLoad=function(){e.prototype.onLoad.call(this),this.createItems()},r.addEvents=function(){},r.onEnable=function(){},r.clickLeft=function(){var e=this.node.getComponent(u);if(e){var t=e.getCurrentPageIndex(),i=e.getPages().length;if(t>0){var n=t-1;e.scrollToPage(n),this.pageNum.string=n+1+"/"+i}}},r.clickRight=function(){var e=this.node.getComponent(u);if(e){var t=e.getCurrentPageIndex(),i=e.getPages().length;if(t<i-1){var n=t+1;e.scrollToPage(n),this.pageNum.string=n+1+"/"+i}}},r.createItems=function(){var e=this,t=[30];t.forEach((function(t,i){var n,a=s(e.HelpSpecialFishItem);null==(n=a.getComponent(f))||n.init(t),e.itemContent.addChild(a)})),this.pageNum.string="1/"+t.length},t}(g)).prototype,"HelpSpecialFishItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(b.prototype,"itemContent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(b.prototype,"pageNum",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/HelpView2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,l,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Node,u=t.Component}],execute:function(){var c,p,s,m,f,h,y,b,d,w,_,g,C,v,z;o._RF.push({},"7d624daLn9LwqsTdjGDt+60","HelpView",void 0);var H=l.ccclass,L=l.property;t("HelpView",(c=H("HelpView"),p=L({type:a}),s=L({type:a}),m=L({type:a}),f=L({type:a}),h=L({type:a}),y=L({type:a}),c((w=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"item_1",w,r(e)),n(e,"item_2",_,r(e)),n(e,"item_3",g,r(e)),n(e,"itemContent",C,r(e)),n(e,"itemContent2",v,r(e)),n(e,"itemContent3",z,r(e)),e.items=[],e.contents=[],e}i(e,t);var o=e.prototype;return o.update=function(t){},o.onLoad=function(){this.items=[this.item_1,this.item_2,this.item_3],this.contents=[this.itemContent,this.itemContent2,this.itemContent3]},o.onEnable=function(){this.clickTap(null,1)},o.clickTap=function(t,e){this.items.forEach((function(t,i){t.getChildByName("anniu").active=e-1!=i,t.getChildByName("anniu02").active=e-1==i})),this.contents.forEach((function(t,i){t.active=e-1==i}))},o.closeView=function(){this.node.active=!1},e}(u)).prototype,"item_1",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(d.prototype,"item_2",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(d.prototype,"item_3",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(d.prototype,"itemContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(d.prototype,"itemContent2",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(d.prototype,"itemContent3",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/LineRouteFactory2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton5.ts","./SubGameData3.ts","./LineToolRoute2.ts"],(function(t){var e,n,o,i,u,r,a,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy},function(t){i=t.Singleton},function(t){u=t.SubGameData},function(t){r=t.Spiral,a=t.CustomizedCurve,c=t.BrokenLine}],execute:function(){o._RF.push({},"6b124WYVXdDv4Pd8peSEgNm","LineRouteFactory",void 0);t("RouteFactory",function(t){function o(){return t.call(this)||this}e(o,t);var i=o.prototype;return i.getRoute=function(t,e,n,o,i,u){return 3===t?new r(e,n,o,i):4===t?new a(e,n,o,i):new c(e,t,n,o,i,u)},i.getTestLineById=function(t){return this.data.textRouteConfig[t-1]?this.data.textRouteConfig[t-1].line:(console.log(t),console.log("错误路径ID"),[])},i.getTestLineById2=function(t){return this.data.routeConfig[t-1]?this.data.routeConfig[t-1].line:(console.log(t),console.log("错误路径ID"),[])},n(o,[{key:"data",get:function(){return App.dataCenter.get(u)}}]),o}(i()));o._RF.pop()}}}));

System.register("chunks:///_virtual/LineTooleView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./LineToolItem2.ts","./SubGameData3.ts","./FishFactory2.ts","./TestBaseFish2.ts","./ConfigGetter2.ts"],(function(t){var e,i,n,r,o,a,s,u,l,c,f,p,h,d,g,m,y,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,u=t.Prefab,l=t.Node,c=t.EditBox,f=t.instantiate},function(t){p=t.default},function(t){h=t.LineToolItem},function(t){d=t.SubGameData},function(t){g=t.FishFactory},function(t){m=t.TestBaseFish},function(t){y=t.getConfigClass,b=t.ConfigType}],execute:function(){var I,v,x,w,A,B,F,D,T,z,C,L,_,E,M,N,P;a._RF.push({},"e7ce0dMRiZEz7p5SV9E49mX","LineTooleView",void 0);var S=s.ccclass,R=s.property;t("LineTooleView",(I=S("LineTooleView"),v=R({type:u}),x=R({type:l}),w=R({type:l}),A=R({type:l}),B=R({type:c}),F=R({type:c}),D=R({type:c}),I((C=e((z=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).classid=1,e.routeid=1,n(e,"toolItem",C,r(e)),n(e,"itemBox",L,r(e)),n(e,"textBox",_,r(e)),n(e,"fishBox",E,r(e)),n(e,"fishIdInput",M,r(e)),n(e,"roInput",N,r(e)),n(e,"timeInput",P,r(e)),e.curItem=null,e.id=0,e.posArr=[],e.jsonOutput=[],e.preAngle=0,e}i(e,t);var a=e.prototype;return a.onEnable=function(){},a.addEvents=function(){this.onD("select",this.selectHandle)},a.addItem=function(){var t=f(this.toolItem);this.id++,t.getComponent(h).uid=this.id,t.parent=this.itemBox},a.delectItem=function(){dispatch("delect",this.curItem)},a.selectHandle=function(t){dispatch("cancelSelect",this.curItem),this.curItem=t},a.go=function(){this.preAngle=0;var t=this.newData();this.createFish2(t[0].line)},a.newData=function(){var t=this.itemBox.children;t.forEach((function(t){t.getPosition()})),this.posArr=t.map((function(t){return t.getPosition()}));var e=this.addRoute(),i=e.map((function(t,e){return{x:parseInt(t.x+""),y:parseInt(t.y+""),r:parseInt(t.r+""),t:parseInt(t.t+"")}})),n=[{id:Number(this.roInput.string),line:i,alivetime:e[e.length-1].t}];return this.jsonOutput=n,n},a.outData=function(){var t=this.newData();console.log(JSON.stringify(t,null,4))},a.addRoute=function(){for(var t=this.posArr,e=[],i=Number(this.timeInput.string),n=t.length-1,r=0,o=0;o<=n;o++){var a={x:0,y:0,r:0};if(a.x=t[o].x,a.y=t[o].y,o==n)a.r=r;else{var s=t[o+1].x,u=t[o+1].y;r=a.r=this.getAngle(a.x,a.y,s,u)}var l=Number(0==o?0:o==n?i:Math.floor(i/n*o));a.t=l,e.push(a)}return e},a.getAngle=function(t,e,i,n){var r=t-i,o=e-n,a=Math.atan2(o,r)*(180/Math.PI);return r>0?a=180+a:(a=180+a)-this.preAngle>100&&(a-=360),this.preAngle=a,a},a.getAngle2=function(t,e,i,n){var r=0;if(i-t==0)r=n>e?90:270;else{var o=this.getAngle(t,e,i,n);r=n>e?i>t?o:180-o:i>t?(360-o)%360:270+o}return Math.floor(r)},a.createFish2=function(t){var e={uid:(0,1),type:(0,1),classid:0,fishid:0,born_time:0,routeid:0,offsettype:0,offsetx:0,offsety:0,offsetr:0,dead_time:0};e.classid=Number(this.fishIdInput.string),e.fishid=1,e.born_time=Date.now(),e.offsettype=0,e.offsetx=0,e.offsety=0,e.offsetr=0;var i=t[t.length-1].t;e.dead_time=Date.now()+i,this.createFish(e,t)},a.createFish=function(t,e){var i=this,n=y(b.fish,t.classid+"");g.getInstance().getTestFish(n,(function(r){var o;null==(o=r.getComponent(m))||o.init(t,n,e),i.fishBox.addChild(r)}),this)},o(e,[{key:"data",get:function(){return App.dataCenter.get(d)}}]),e}(p)).prototype,"toolItem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(z.prototype,"itemBox",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(z.prototype,"textBox",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(z.prototype,"fishBox",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(z.prototype,"fishIdInput",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(z.prototype,"roInput",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(z.prototype,"timeInput",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=z))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/LineToolItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(t){var e,n,o,i,s,h,r,c,a,d,l,u,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,h=t._decorator,r=t.Label,c=t.Vec3,a=t.Node,d=t.UITransform,l=t.v3,u=t.Color},function(t){f=t.default}],execute:function(){var T,p,v,g,E;s._RF.push({},"faa0f6v0mxAK4U8L3prsEvb","LineToolItem",void 0);var y=h.ccclass,_=h.property;t("LineToolItem",(T=y("LineToolItem"),p=_({type:r}),T((E=e((g=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),h=0;h<n;h++)s[h]=arguments[h];return(e=t.call.apply(t,[this].concat(s))||this)._isDragging=!1,e._startPos=new c,e._delta=new c,e.uid=0,o(e,"lab",E,i(e)),e}n(e,t);var s=e.prototype;return s.start=function(){this.node.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.addEvents=function(){this.onD("cancelSelect",this.resetHandle),this.onD("delect",this.delectHandle)},s.onEnable=function(){this.lab.string=this.node.getSiblingIndex()+1+""},s.onTouchStart=function(t){this._isDragging=!0;var e=t.getUILocation();this.node.parent.getComponent(d).convertToNodeSpaceAR(l(e.x,e.y),this._startPos),c.subtract(this._delta,this._startPos,this.node.position),dispatch("select",this.uid),this.select()},s.onTouchMove=function(t){if(this._isDragging){var e=t.getUILocation(),n=new c;this.node.parent.getComponent(d).convertToNodeSpaceAR(l(e.x,e.y),n),c.subtract(n,n,this._delta),this.node.setPosition(n)}},s.onTouchEnd=function(t){this._isDragging=!1},s.resetHandle=function(t){this.uid==t&&this.reset()},s.delectHandle=function(t){var e=this;this.uid==t&&this.node?(this.node.removeFromParent(),this.node.destroy()):this.scheduleOnce((function(){e.node&&(e.lab.string=e.node.getSiblingIndex()+1+"")}),.2)},s.select=function(){this.node&&(this.node.setScale(1.5,1.5),this.lab.color=new u("#ffff00"))},s.reset=function(){this.node&&(this.node.setScale(1,1),this.lab.color=new u("#ffffff"))},s.onDestroy=function(){this.node.off(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e}(f)).prototype,"lab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/LineToolRoute2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MathUtils2.ts"],(function(t){var e,i,n,s,r;return{setters:[function(t){e=t.createClass,i=t.inheritsLoose},function(t){n=t.cclegacy,s=t.Vec2},function(t){r=t.MathUtils}],execute:function(){n._RF.push({},"60559aGQ8BHoY3TYMS0OAOs","LineToolRoute",void 0);var o=t("Route",function(){function t(t,e,i,n){this._routeId=void 0,this.offsetX=void 0,this.offsetY=void 0,this.offsetR=void 0,this._routeId=t,this.offsetX=e,this.offsetY=i,this.offsetR=n}return t.prototype.getNextStep=function(t){return{x:0,y:0,r:0}},e(t,[{key:"routeId",get:function(){return this._routeId}}]),t}());t("Spiral",function(t){function e(e,i,n,s){var o;return(o=t.call(this,e,i,n,s)||this)._offsetRadian=void 0,o._offsetRadian=r.getInstance().getRadian(s),o}i(e,t);var n=e.prototype;return n.getNextStep=function(t){var e;if(t>0){var i=this.calcCoordinate(t-1),n=this.calcCoordinate(t),s=r.getInstance().getAngle2(i.x,i.y,n.x,n.y);e={x:n.x,y:n.y,r:s}}else e={x:0,y:0,r:0};return e},n.calcCoordinate=function(t){var e=20*(t/=1e3),i=t%(2*Math.PI)+this._offsetRadian,n=e*Math.cos(i),r=e*Math.sin(i);return new s(n,r)},e}(o)),t("CustomizedCurve",function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.getNextStep=function(t){var e;if(t>0){var i=700,n=90*t/35e3,s=r.getInstance().getRadian(n-90),o=i*Math.cos(s),a=i*Math.sin(s)+i;i=r.getInstance().getDistance(0,0,o,a),s=r.getInstance().getRadian2(0,0,o,a)+r.getInstance().getRadian(this.offsetR),o=i*Math.cos(s),a=i*Math.sin(s),e={x:Math.round(o),y:Math.round(a),r:n+this.offsetR}}else e={x:0,y:0,r:0};return e},e}(o)),t("BrokenLine",function(t){function n(e,i,n,s,r,o){var a;return(a=t.call(this,e,n,s,r)||this)._offsetType=void 0,a._line=void 0,a._index=void 0,a._offsetType=i,a._line=o,a._index=0,a}i(n,t);var s=n.prototype;return s.getNextStep=function(t){var e;if(t>=0){for(var i=this._line.length;this._index<i-1;){var n=this._line[this._index],s=this._line[this._index+1];if(!(s.t<=t)){var r=s.t-n.t;if(r<0)return this.lineError();if(0==r)return s;var o=Math.ceil(t-n.t),a=this.calcTimeOutValue(n.x,s.x,r,o),f=this.calcTimeOutValue(n.y,s.y,r,o),h=this.calcTimeOutValue(n.r,s.r,r,o);return this.handleOffset(a,f,h)}++this._index}e=this._line[this._index]}else e=this._line[0];return this.handleOffset(e.x,e.y,e.r)},s.handleOffset=function(t,e,i){if(1===this._offsetType)t+=this.offsetX,e+=this.offsetY;else if(2===this._offsetType){var n=t-this.offsetX,s=e-this.offsetY,o=r.getInstance().getRadian2(0,0,n,s)+r.getInstance().getRadian(this.offsetR),a=Math.sqrt(n*n+s*s);t=a*Math.cos(o)+this.offsetX,e=a*Math.sin(o)+this.offsetY,i+=this.offsetR}return{x:t,y:e,r:i}},s.calcTimeOutValue=function(t,e,i,n){return Math.round(t+(e-t)/i*n)},s.lineError=function(){Log.e("曲线配置错误，请检查id = "+this.routeId+"的曲线,"+JSON.stringify(this._line));return{x:0,y:0,r:0}},e(n,[{key:"index",get:function(){return this._index}}]),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingView3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./EventComponent.ts"],(function(e){var t,r,n,i,a,o,l,u,s,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,l=e._decorator,u=e.ProgressBar,s=e.Label},function(e){c=e.SubGameData},function(e){p=e.default}],execute:function(){var f,b,g,d,y,h,m,v,w;o._RF.push({},"e61c830zSZKl45EI6wf3ZFa","LoadingView",void 0);var L=l.ccclass,z=l.property;e("LoadingView",(f=L("LoadingView"),b=z({type:u}),g=z({type:s}),d=z({type:s}),f((m=t((h=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"ProgressBar",m,i(t)),n(t,"lab",v,i(t)),n(t,"lab2",w,i(t)),t.items=[],t}r(t,e);var o=t.prototype;return o.addEvents=function(){},o.onEnable=function(){},o.updata=function(e,t,r){this.ProgressBar.progress=e/100,this.lab.string=Number(t/r/100*1e4).toFixed(0)+"%",this.lab2.string="Loding Resources... ["+t+" / "+r+"]"},a(t,[{key:"data",get:function(){return App.dataCenter.get(c)}}]),t}(p)).prototype,"ProgressBar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(h.prototype,"lab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(h.prototype,"lab2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/Lock2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,i,o,e,r,a,c,l;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,c=n.Animation,l=n.Component}],execute:function(){var s,p,u,f,y;r._RF.push({},"fdc02nN9c1MdqDF+TFNTm2P","Lock",void 0);var h=a.ccclass,d=a.property;n("Lock",(s=h("Lock"),p=d({type:c}),s((y=t((f=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,o(t,"ani",y,e(t)),t}i(t,n);var r=t.prototype;return r.playSwim=function(){},r.onEnable=function(){this.ani.play("start")},r.startLoop=function(){this.ani.play("loop")},r.onDisable=function(){this.ani.stop()},t}(l)).prototype,"ani",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=f))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/MainGameHelp2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./ResourceUtils2.ts"],(function(e){var i,t,n,o,r,l,s;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,o=e.find,r=e.instantiate},function(e){l=e.default},function(e){s=e.ResourceUtils}],execute:function(){var a;t._RF.push({},"5b266eB7oNIcbrgGS78yNai","MainGameHelp",void 0);var h=n.ccclass;e("MainGameHelp",h("MainGameHelp")(a=function(e){function t(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(i=e.call.apply(e,[this].concat(n))||this).content=null,i.roomEffView=null,i.roomView=null,i.entryView=null,i.roomMenuView=null,i.helpAlert=null,i.isInRoom=!1,i.handle=null,i.enterAfterHandle=[],i.roomViewed=!1,i.menuEd=!1,i.roomEffEd=!1,i.helpEd=!1,i}i(t,e);var n=t.prototype;return n.onLoad=function(){e.prototype.onLoad.call(this),this.content=o("content",this.node),this.entryView=o("content/EntryView",this.node)},n.update=function(e){},n.clickEnter=function(e){App.loading.show("Loading fishing ground...",(function(){}),20,"#FFFFFF"),this.handle=e,this.canEnter()||(null==this.roomView&&this.addRoomView(!0),null==this.roomMenuView&&this.addMenuView(!0))},n.canEnter=function(){var e=this;return null!=this.roomView&&null!=this.roomMenuView&&(this.roomView.active=!0,this.roomMenuView.active=!0,this.entryView.active=!1,this.roomEffView&&(this.roomEffView.active=!0),App.loading.hide(),this.scheduleOnce((function(){null==e.handle||e.handle(),e.enterAfterHandle&&e.enterAfterHandle.forEach((function(e){e()})),e.isInRoom=!0,e.addRoomEffView(),e.addHelp()}),0),!0)},n.preLoadAdd=function(){null==this.roomView&&this.addRoomView(),null==this.roomMenuView&&this.addMenuView()},n.addRoomView=function(e){var i=this;void 0===e&&(e=!1),this.roomViewed||null==this.roomView&&(this.roomViewed=!0,s.getInstance().parsePrefab("prefabs/view/RoomView",(function(t){var n=r(t);i.roomView=n,i.content.insertChild(n,0),e&&i.canEnter(),console.log("RoomView 加载完成")}),this))},n.addMenuView=function(e){var i=this;void 0===e&&(e=!1),this.menuEd||null==this.roomMenuView&&(this.menuEd=!0,s.getInstance().parsePrefab("prefabs/view/RoomMenu",(function(t){var n=r(t);i.roomMenuView=n,i.content.insertChild(n,1),e&&i.canEnter(),console.log("RoomMenu 加载完成")}),this))},n.addRoomEffView=function(){var e=this;this.roomEffEd||null==this.roomEffView&&(this.roomEffEd=!0,s.getInstance().parsePrefab("prefabs/view/RoomEffView",(function(i){var t=r(i);e.roomEffView=t,e.content.insertChild(t,2),e.roomEffView.active=e.roomView.active,console.log("RoomEffView 加载完成")}),this))},n.addHelp=function(e){var i=this;if(void 0===e&&(e=!1),!this.helpEd)return null==this.helpAlert&&(this.helpEd=!0,s.getInstance().parsePrefab("prefabs/view/HelpView",(function(t){var n=r(t);return i.helpAlert=n,i.content.insertChild(n,4),i.helpAlert.active=e,console.log("HelpView 加载完成"),e&&App.loading.hide(),n}),this)),null},n.openHelp=function(){null==this.helpAlert?this.addHelp(!0):this.helpAlert.active=!0},n.exit=function(){this.roomView&&(this.roomView.active=!1),this.helpAlert&&(this.helpAlert.active=!1),this.roomMenuView&&(this.roomMenuView.active=!1),this.roomEffView&&(this.roomEffView.active=!1),this.entryView&&(this.entryView.active=!0),this.handle=null,this.enterAfterHandle=[],this.isInRoom=!1},n.onDestroy=function(){e.prototype.onDestroy.call(this)},t}(l))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/MainGameView3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameView.ts","./GameLogic3.ts","./Decorators.ts","./LoadingView3.ts","./GameService.ts","./GameHandler3.ts","./MainGameHelp2.ts"],(function(n){var e,t,i,o,a,r,c,l,s,u,g,d,p,f,h,y,m;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized,a=n.createClass},function(n){r=n.cclegacy,c=n._decorator,l=n.Node,s=n.Game,u=n.find},function(n){g=n.default},function(n){d=n.GameLogic},function(n){p=n.inject},function(n){f=n.LoadingView},function(n){h=n.GameService},function(n){y=n.default},function(n){m=n.MainGameHelp}],execute:function(){var w,v,V,E,G,M,b;r._RF.push({},"779bdipNqBN65uKQQUcNytU","MainGameView",void 0);var H=c.ccclass,L=c.property;n("default",(w=p({type:d,name:"logic"}),v=L({type:l}),H(((b=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,i(e,"logic",G,o(e)),i(e,"main",M,o(e)),e.content=null,e.loadingView=null,e}t(e,n),e.getPrefabUrl=function(){return"prefabs/MainGameView"};var r=e.prototype;return r.onLoad=function(){n.prototype.onLoad.call(this)},r.addEvents=function(){n.prototype.addEvents.call(this),this.onG(s.EVENT_HIDE,this.onEnterBackground),this.onG(s.EVENT_SHOW,this.onEnterForgeground)},r.init=function(){var n=this;this.content=u("content",this.node),this.loadingView=u("content/loadingView",this.node),this.setMsgHandle((function(e){var t;null==(t=n.handle)||t.errHandle(e)}))},r.setMsgHandle=function(n){this.service.msgHandle=n},r.showMain=function(){},r.onEnterBackground=function(){console.log("进入后台"),this.logic.onEnterBackground()},r.onEnterForgeground=function(){console.log("进入前台 出现"),this.logic.onEnterForgeground()},r.onShow=function(){n.prototype.onShow.call(this)},r.updataLoading=function(n,e,t){this.loadingView&&(this.loadingView.getComponent(f).updata(n,e,t),n>=100&&(u("content/EntryView",this.node).active=!0,this.loadingView.active=!1))},r.onDestroy=function(){n.prototype.onDestroy.call(this)},a(e,[{key:"service",get:function(){return App.serviceManager.get(h)}},{key:"handle",get:function(){return App.handlerManager.get(y)}},{key:"help",get:function(){return this.node.getComponent(m)}}]),e}(g)).logicType=d,G=e((E=b).prototype,"logic",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(E.prototype,"main",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=E))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/MarqueeManager2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent2.ts","./ConfigGetter2.ts"],(function(e){var t,i,n,a,r,o,s,h,u,c,l,f,d,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.RichText,h=e.UITransform,u=e.tween,c=e.Vec3,l=e.Tween},function(e){f=e.default},function(e){d=e.FishEvent},function(e){g=e.getConfigClass,p=e.ConfigType}],execute:function(){var m,v,M,y,T,q,x;r._RF.push({},"da199gQA3JF9IuEK6RhW8sy","MarqueeManager",void 0);var R=o.ccclass,A=o.property;e("MarqueeManager",(m=R("MarqueeManager"),v=A(s),M=A(Node),m((q=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"marqueeRichText",q,a(t)),n(t,"mask",x,a(t)),t.messageQueue=[],t.isPlaying=!1,t.fishArr=[23,24,25,26,27,28],t}i(t,e);var r=t.prototype;return r.onLoad=function(){this.marqueeRichText.string="",this.marqueeRichText.node.parent.active=!1},r.onEnable=function(){var e=this;this.schedule((function(){var t=e.fishArr.length,i=Math.round(Math.random()*t);i>=t&&(i=t-1);var n=g(p.fish,e.fishArr[i]+""),a=n.name,r=n.rate;e.add(1,a,r)}),60)},r.addEvents=function(){this.onD(d.DISPATCH_MARQUEE,this.add)},r.test=function(){var e=this.fishArr.length,t=Math.round(Math.random()*e),i=g(p.fish,this.fishArr[t]+""),n=i.name,a=i.rate;this.add(1,n,a)},r.add=function(e,t,i){if(1==e){var n=Math.floor(9e3*Math.random())+1e3;if(t){var a=i[0],r=i[i.length-1],o="<color=#01ffff>[****"+n+"]</color> has defeated <color=#5df046> ["+t+"] </color> and obtained <color=#fcff00> ["+(Math.floor(Math.random()*(r-a))+a)+"] </color> rate!";this.addMessage(o)}}else{var s="<color=#5df046>（"+t+"</color> is coming! Defeat it to earn up to<color=#fcff00> "+i[i.length-1]+"x </color>rewards!";this.addMessage(s)}},r.addMessage=function(e){this.messageQueue.push(e),this.isPlaying||(this.marqueeRichText.node.parent.active=!0,this.playNext())},r.playNext=function(){if(0===this.messageQueue.length)return this.isPlaying=!1,void(this.marqueeRichText.node.parent.active=!1);this.isPlaying=!0;var e=this.messageQueue.shift();this.startMarqueeAnimation(e)},r.startMarqueeAnimation=function(e){var t=this,i=this.marqueeRichText.node,n=i.getComponent(h);this.marqueeRichText.string=e;var a=i.parent.getComponent(h).width/2+n.width/2,r=-a;i.setPosition(a,0);var o=5+.1*e.length;u(i).to(o,{position:new c(r,0,0)}).call((function(){t.playNext()})).start()},r.onDisable=function(){this.messageQueue=[],this.isPlaying=!1,this.marqueeRichText.string="",this.marqueeRichText.node.parent.active=!1,l.stopAllByTarget(this.marqueeRichText.node),this.unschedule(this.node)},t}(f)).prototype,"marqueeRichText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(T.prototype,"mask",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=T))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtils2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton5.ts"],(function(t){var n,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.Singleton}],execute:function(){e._RF.push({},"0888dtbocNNdpw/HWKMf/nI","MathUtils",void 0);t("MathUtils",function(t){function e(){return t.call(this)||this}n(e,t);var i=e.prototype;return i.getAngle=function(t){return 180*t/Math.PI},i.getAngle2=function(t,n,e,i){var r=this.getRadian2(t,n,e,i);return this.getAngle(r)},i.getRadian=function(t){return t/180*Math.PI},i.getRadian2=function(t,n,e,i){var r=e-t,u=i-n;return Math.atan2(u,r)},i.getDistance=function(t,n,e,i){var r=e-t,u=i-n,a=r*r+u*u;return Math.sqrt(a)},i.getDistance2=function(t,n){return this.getDistance(t.x,t.y,n.x,n.y)},i.getElasticOut=function(t,n){void 0===n&&(n=-4.5);var e=2*Math.PI,i=.3/e*Math.asin(1);return 1*Math.pow(2,n*t)*Math.sin((t-i)*e/.3)+1},i.getBackOut=function(t,n){return void 0===n&&(n=10),--t*t*((n+1)*t+n)+1},i.getBackIn=function(t,n){return void 0===n&&(n=10),t*t*((n+1)*t-n)},i.getQuart=function(t,n){return void 0===n&&(n=1),n*(t=1-t)*t*t*t},i.getBounceOut=function(t){return t<1/2.75?1-7.5625*(t-=.5/2.75)*t*4:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)},e}(i()));e._RF.pop()}}}));

System.register("chunks:///_virtual/MouseFollower2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,i,n,r,s,l,a,c,u,f,p;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,a=e.view,c=e.input,u=e.Input,f=e.Vec3,p=e.Component}],execute:function(){var h,v,M,w,y;r._RF.push({},"5f885fVcKFJsrkPmIUhPafC","MouseFollower",void 0);var d=s.ccclass,_=s.property;e("MouseFollower",(h=d("MouseFollower"),v=_(l),h((y=o((w=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return o=e.call.apply(e,[this].concat(r))||this,i(o,"followNode",y,n(o)),o._canvasSize=a.getVisibleSize(),o}t(o,e);var r=o.prototype;return r.onLoad=function(){c.on(u.EventType.MOUSE_MOVE,this.onMouseMove,this)},r.onDestroy=function(){c.off(u.EventType.MOUSE_MOVE,this.onMouseMove,this)},r.onMouseMove=function(e){if(this.followNode){var o=e.getLocation(),t=new f(o.x-this._canvasSize.width/2,o.y-this._canvasSize.height/2,0);this.followNode.setPosition(t)}},o}(p)).prototype,"followNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=w))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/NetItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool2.ts"],(function(t){var n,e,i,o,s,r,a,c,l,u,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Sprite,c=t.Vec3,l=t.Animation,u=t.Component},function(t){p=t.ObjectPool}],execute:function(){var h,f,y,m,v;s._RF.push({},"79159tkrulMs5B7kUBEXZUS","NetItem",void 0);var d=r.ccclass,P=r.property;t("NetItem",(h=d("NetItem"),f=P({type:a}),h((v=n((m=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(n=t.call.apply(t,[this].concat(s))||this).startPosition=new c,n.lvs=[],i(n,"skin",v,o(n)),n}e(n,t);var s=n.prototype;return s.init=function(t,n){this.startPosition=t,this.node.setPosition(this.startPosition)},s.onEnable=function(){this.playAni()},s.update=function(t){},s.setType=function(t){this.lvs[t-1]&&(this.skin.spriteFrame=this.lvs[t-1])},s.playAni=function(){var t;null==(t=this.node.getComponent(l))||t.play("net")},s.scaleEnd=function(){this.reset(),p.getInstance().push(this.node)},s.reset=function(){var t;null==(t=this.node.getComponent(l))||t.stop(),this.node.removeFromParent()},s.onDestroy=function(){},n}(u)).prototype,"skin",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/NetView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent2.ts","./NetItem2.ts","./SubGameData3.ts","./ObjectPool2.ts","./ResourceConst2.ts"],(function(t){var n,e,o,i,a,r,s,c,u,d,l,f;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,i=t._decorator,a=t.Game,r=t.UITransform},function(t){s=t.default},function(t){c=t.FishEvent},function(t){u=t.NetItem},function(t){d=t.SubGameData},function(t){l=t.ObjectPool},function(t){f=t.getResConfig}],execute:function(){var p;o._RF.push({},"fd8eat2ePpIU58E4193Pqw6","NetView",void 0);var h=i.ccclass;i.property,t("NetView",h("NetView")(p=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var i=o.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this)},i.addEvents=function(){this.onD(c.DISPATCH_ADD_NET,this.addNet),this.onG(a.EVENT_HIDE,this.onEnterBackground)},i.onEnable=function(){},i.addNet=function(t){var n=this,e=""+f().NET;l.getInstance().popPrefabNode(e,(function(e){var o,i=n.node.getComponent(r).convertToNodeSpaceAR(t.startPosition);null==(o=e.getComponent(u))||o.init(i,t.lv),n.node.addChild(e)}),this)},i.onEnterBackground=function(){this.node.removeAllChildren()},i.onDisable=function(){this.node.removeAllChildren()},e(o,[{key:"data",get:function(){return App.dataCenter.get(d)}}]),o}(s))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectPool2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton5.ts","./ResourceUtils2.ts"],(function(t){var n,e,o,i,c,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t.isValid,i=t.instantiate},function(t){c=t.Singleton},function(t){s=t.ResourceUtils}],execute:function(){e._RF.push({},"06413iIMflIAZyfkM0n4oNd","ObjectPool",void 0);t("ObjectPool",function(t){function e(){var n;return(n=t.call(this)||this)._content=void 0,n._content={},n}n(e,t);var c=e.prototype;return c.popPrefabNode=function(t,n,e){var c=t;this._content[c]||(this._content[c]=[]);var r=this._content[c];if(r.length){var l=r.pop();n.call(e,l)}else s.getInstance().parsePrefab(t,(function(s){if(o(e))if(s){var r=i(s);r.ObjectPoolKey=c,n.call(e,r)}else Log.d("instantiate null prefab",t)}),this)},c.getPoolLen=function(t){return this._content[t].length},c.push=function(t){if(null==t)return!1;var n=t.ObjectPoolKey;return!!this._content[n]&&(this._content[n].push(t),!0)},c.clearPool=function(t){this._content[t]&&(this._content[t]=[])},c.destroy=function(){for(var t in this._content){for(var n=this._content[t];n.length;){var e=n.pop();e&&e.destroy()}delete this._content[t]}this._content={}},e}(c()));e._RF.pop()}}}));

System.register("chunks:///_virtual/pao_Config2.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"90938pOjWlCoIU2LoKQrcvR","pao_Config",void 0),n("pao_Config",function(){function n(){this._config={25:{id:25,score:[500,1e4]},26:{id:26,score:[500,1e4]},27:{id:27,score:[500,1e4]}}}return n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n.prototype.getConfig=function(n){return this._config[n]||null},n}()).instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/PointView2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,n,i,r,s,c,a,u,l,p,f;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,s=o._decorator,c=o.Node,a=o.sys,u=o.NodeEventType,l=o.UITransform,p=o.v3,f=o.Component}],execute:function(){var h,v,y,M,d;r._RF.push({},"ced5beAeUROKaJ9jvI/p+zH","PointView",void 0);var g=s.ccclass,b=s.property;o("FollowMouse",(h=g("FollowMouse"),v=b({type:c}),h((d=e((M=function(o){function e(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=o.call.apply(o,[this].concat(r))||this,n(e,"icon",d,i(e)),e}t(e,o);var r=e.prototype;return r.start=function(){a.isMobile?this.node.active=!1:this.node.on(u.MOUSE_MOVE,this.onMouseMove,this)},r.onMouseMove=function(o){var e=o.getUILocation(),t=this.node.getComponent(l).convertToNodeSpaceAR(p(e.x,e.y));this.icon.setPosition(t.x,t.y)},r.onDestroy=function(){this.node.off(u.MOUSE_MOVE,this.onMouseMove,this)},e}(f)).prototype,"icon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=M))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Protocol4.ts",["cc"],(function(o){var t;return{setters:[function(o){t=o.cclegacy}],execute:function(){t._RF.push({},"35b456i+o9EgqcZjREpWZzW","Protocol",void 0);var e=o("Protocol",(function(){}));e.LOGIN="login",e.LOGOUT="logout",e.USERINFO="userinfo",e.USER_KICK="user_kick",e.ERRORCODE="errorcode",e.MARQUEE="marquee",e.TIPS="tips",e.DEBUG_LOGIN="debug_login",e.MARK="mark",e.SLOTINFO="slot_info",e.SLOTBET="slot",e.ANTASLOTBET="anta_slot",e.LASTMAP="last_map",e.SLOT_TEST="test",e.BUY="buy_free",e.FREESPIN="free_spin",e.GMSLOT="gm_slot",t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceConst2.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){i({destroyResConfig:function(){o&&(o=null)},destroySoundConfig:function(){s&&(s=null)},getResConfig:function(){o||(o=new e);return o},getSoundConfig:function(){s||(s=new u);return s}}),t._RF.push({},"c4c07JjQlZAz7HHagpXM16j","ResourceConst",void 0);var o,e=function(){this.BUNDLE="slot190000101",this.FISHES_PREFAB_DIR="prefabs/item/fishes/",this.NET="prefabs/item/net/net",this.Lock="prefabs/item/lock/Lock",this.GoldAni="prefabs/item/GoldAni",this.GoldItem="prefabs/item/Gold",this.ScoreItem="prefabs/item/ScoreItem",this.EFFECT_PREFAB_DIR="prefabs/effect/"};var s,u=function(){function i(){this.FullFishBGM="audio/bg_fullfish",this.ChangeMutiple="audio/ChangeMutiple",this.LaserShoot="audio/LaserShoot",this.BeforeBomb="audio/BeforeBomb",this.CrocodileAttack="audio/CrocodileAttack",this.HitBoss="audio/HitBoss",this.InScore="audio/InScore",this.Bomb="audio/Bomb",this.ChangeMapWave="audio/ChangeMapWave",this.Fire="audio/BatteryFire",this.HitSame="audio/HitSame",this.JumpScore2="audio/JumpScore2",this.RainbowScore="audio/RainbowScore",this.HitBig="audio/HitBig",this.HitFull="audio/HitFull",this.LaserAppear="audio/LaserAppear",this.HitLaser="audio/HitLaser",this.GetScore="audio/GetScore",this.DragonCross="audio/DragonCross",this.StabSame="audio/StabSame",this.FullScore="audio/FullScore",this.FullCoin="audio/FullCoin",this.OverJump="audio/OverJump",this.Jumping="audio/Jumping",this.FlyingCutter="audio/FlyingCutter"}var t=i.prototype;return t.getBGM=function(i){return"audio/bg_"+i},t.getBossBGM=function(i){return"audio/bg_boss_"+i},i}();t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceUtils2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton5.ts","./ResourceConst2.ts"],(function(n){var t,e,o,s,i,u,a,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n.JsonAsset,s=n.isValid,i=n.Prefab,u=n.SpriteFrame},function(n){a=n.Singleton},function(n){c=n.getResConfig}],execute:function(){e._RF.push({},"c4f95Aa2fRNn6JHLfBxFjrr","ResourceUtils",void 0);n("ResourceUtils",function(n){function e(){var t;return(t=n.call(this)||this)._bundle=null,t}t(e,n);var a=e.prototype;return a.setBundle=function(n){this._bundle=n},a.clearBundle=function(){this._bundle=null},a.parseJsonAsset=function(n,t,e,i){App.asset.load(n,t,o,(function(){}),(function(n){s(i)&&e.call(i,n.data.json)}))},a.parsePrefab=function(n,t,e){App.asset.load(c().BUNDLE,n,i,(function(){}),(function(n){s(e)&&t.call(e,n.data)}))},a.loadDir=function(n,t,e){App.asset.loadDir(c().BUNDLE,n,o,(function(){}),(function(n){s(e)&&t.call(e,n.data)}))},a.parseImage=function(n,t,e){App.asset.load(c().BUNDLE,n,u,(function(){}),(function(n){s(e)&&t.call(e,n.data)}))},a.setSpriteFrame=function(n,t){App.asset.load(c().BUNDLE,t,u,(function(){}),(function(t){s(n)&&(n.spriteFrame=t.data)}))},a.getRes=function(n,t){var e;return null==(e=this._bundle)?void 0:e.get(n,t)},e}(a()));e._RF.pop()}}}));

System.register("chunks:///_virtual/RoomEffView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./EventComponent.ts","./FishEvent2.ts","./SubGameDefines3.ts","./SubGameConstants3.ts","./Decorators.ts","./GameLogic3.ts"],(function(i){var e,t,n,o,a,s,r,l,c,u,p,m,h,f,S,b,g;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,a=i.createClass},function(i){s=i.cclegacy,r=i._decorator,l=i.Node,c=i.Label,u=i.sp},function(i){p=i.SubGameData},function(i){m=i.default},function(i){h=i.FishEvent},function(i){f=i.EventName},function(i){S=i.SubGameConstants},function(i){b=i.inject},function(i){g=i.GameLogic}],execute:function(){var A,d,j,_,C,v,y,E,B,D,k,w,O,L,P,z,G,I,H;s._RF.push({},"1087bKjnwlFkaQS5Mf846B0","RoomEffView",void 0);var R=r.ccclass,F=r.property;i("RoomEffView",(A=R("RoomEffView"),d=b({type:g,name:"logic"}),j=F({type:l}),_=F({type:l}),C=F({type:l}),v=F({type:l}),y=F({type:c}),E=F({type:l,tooltip:"龙来袭动画"}),B=F({type:l}),A((w=e((k=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return e=i.call.apply(i,[this].concat(a))||this,n(e,"logic",w,o(e)),n(e,"bossCome",O,o(e)),n(e,"bossEnd",L,o(e)),n(e,"jinbi_shouji",P,o(e)),n(e,"lianji",z,o(e)),n(e,"lianji_num",G,o(e)),n(e,"bossBoom",I,o(e)),n(e,"bg_changeEff",H,o(e)),e.lianjiArr=[],e.lianjiaArrStep=0,e.musicStep=0,e}t(e,i);var s=e.prototype;return s.update=function(i){},s.addEvents=function(){var i=this;this.onD(h.DISPATCH_BOSS_COME,this.playBossCome),this.onD(h.DISPATCH_DRAGON_DIE,this.playDragonDie),this.onD(h.DISPATCH_CHANGE_SCENE,this.changeScene),this.bg_changeEff.getComponent(u.Skeleton).setCompleteListener((function(){i.bg_changeEff.active=!1})),this.bossCome.getComponent(u.Skeleton).setCompleteListener((function(){i.bossCome.active=!1,i.data.openAllSound&&i.logic.playMusic(),dispatch(f.PLAY_MUSIC,S.AudioSource.bgm_boss)})),this.bossEnd.getComponent(u.Skeleton).setCompleteListener((function(i){var e=i.animation.name;"ani3"==e||"ani1"==e&&dispatch(f.PLAY_SOUND,S.AudioSource.Fish_Boss_attack)})),this.lianji.getComponent(u.Skeleton).setCompleteListener((function(e){var t=e.animation.name;if("disappear"==t)i.lianji.active=!1;else if("loop"==t)if(i.lianji_num.string=""+i.lianjiArr[i.lianjiaArrStep],i.lianjiaArrStep<i.lianjiArr.length-1){if(i.lianjiaArrStep++,i.lianjiaArrStep%2==0){var n=i.getAudioSourceByIndex(!1);dispatch(f.PLAY_SOUND,n)}i.lianjiaArrStep%6==0?i.scheduleOnce((function(){i.lianji.getComponent(u.Skeleton).setAnimation(0,"loop",!1)}),.5):i.lianji.getComponent(u.Skeleton).setAnimation(0,"loop",!1)}else dispatch(h.DISPATCH_SHARE_BG_STOP),i.jinbi_shouji.active=!1,i.lianji_num.string=""+i.lianjiArr[i.lianjiaArrStep],i.lianji.getComponent(u.Skeleton).setAnimation(0,"disappear",!1),i.bossEnd.active=!1,i.bossBoom.active=!0,i.lianjiaArrStep=0,i.lianjiArr=[],i.bossBoom.setScale(3,3),i.bossBoom.getComponent(u.Skeleton).setAnimation(0,"boom",!1),dispatch(f.PLAY_SOUND,S.AudioSource.Fish_Boss_baozha)})),this.bossBoom.getComponent(u.Skeleton).setCompleteListener((function(){i.bossBoom.active=!1,i.bossBoom.setScale(1,1,1)}))},s.onEnable=function(){this.hideAll(),window.RoomEffView=this},s.generateArray=function(i,e){for(var t=[],n=i/e,o=1;o<=e;o++){var a=parseInt(String(o*n));t.push(a)}return t},s.changeScene=function(){this.bg_changeEff.active=!0,this.bg_changeEff.getComponent(u.Skeleton).animation="ani",dispatch(f.PLAY_SOUND,S.AudioSource.Fish_Frenzy)},s.playBossCome=function(){this.logic.stopMusic(),this.bossCome.active=!0,this.bossCome.getComponent(u.Skeleton).animation="animation",dispatch(f.PLAY_SOUND,S.AudioSource.Fish_BOOS_Warning)},s.test=function(){var i=this;this.lianjiArr=[],this.lianjiArr=this.generateArray(450,20),this.lianji_num.string="",this.bossBoom.active=!0,this.bossBoom.setScale(6,6),this.bossBoom.getComponent(u.Skeleton).animation="boom",this.musicStep=0,this.scheduleOnce((function(){i.bossEnd.active=!0,i.bossEnd.getComponent(u.Skeleton).setAnimation(0,"ani2",!0)}),.8),this.scheduleOnce((function(){dispatch(h.DISPATCH_SHARE_BG,!0),i.jinbi_shouji.active=!0,i.jinbi_shouji.getComponent(u.Skeleton).setAnimation(0,"animation",!0),i.lianji.active=!0,i.lianji.getComponent(u.Skeleton).setAnimation(0,"appear",!1),i.lianji.getComponent(u.Skeleton).addAnimation(0,"loop",!1)}),1)},s.playDragonDie=function(i){var e=this,t=i.fish.rate;this.lianjiArr=[],this.lianjiArr=this.generateArray(t,20),this.lianji_num.string="",this.bossBoom.active=!0,this.bossBoom.setScale(6,6),this.bossBoom.getComponent(u.Skeleton).animation="boom",this.musicStep=0,this.scheduleOnce((function(){e.bossEnd.active=!0,e.bossEnd.getComponent(u.Skeleton).addAnimation(0,"ani2",!0)}),.8),this.scheduleOnce((function(){dispatch(h.DISPATCH_SHARE_BG,!0),e.jinbi_shouji.active=!0,e.jinbi_shouji.getComponent(u.Skeleton).setAnimation(0,"animation",!0),e.lianji.active=!0,e.lianji.getComponent(u.Skeleton).setAnimation(0,"appear",!1),e.lianji.getComponent(u.Skeleton).addAnimation(0,"loop",!0)}),1)},s.getAudioSourceByIndex=function(i){var e=Object.keys(S.AudioBossSource);i?(this.musicStep++,this.musicStep>e.length-1&&(this.musicStep=0)):(this.musicStep--,this.musicStep<0&&(this.musicStep=e.length-1));var t=e;return S.AudioBossSource[t[this.musicStep]]},s.hideAll=function(){this.node.children.forEach((function(i){i.active=!1}))},s.onDestroy=function(){},a(e,[{key:"data",get:function(){return App.dataCenter.get(p)}}]),e}(m)).prototype,"logic",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(k.prototype,"bossCome",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(k.prototype,"bossEnd",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(k.prototype,"jinbi_shouji",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(k.prototype,"lianji",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(k.prototype,"lianji_num",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(k.prototype,"bossBoom",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(k.prototype,"bg_changeEff",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=k))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/RoomMenuView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./GameSender3.ts","./FishEvent2.ts","./SubGameDefines3.ts","./SubGameConstants3.ts","./EventComponent.ts","./Decorators.ts","./GameLogic3.ts","./BatterModel2.ts","./FishModel2.ts"],(function(t){var i,n,e,o,s,a,r,c,l,u,h,p,d,m,b,f,g,_,v,y,A,C,B,S;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,r=t._decorator,c=t.Node,l=t.Sprite,u=t.SpriteFrame,h=t.Label,p=t.Game,d=t.Animation},function(t){m=t.SubGameData},function(t){b=t.GameSender},function(t){f=t.FishEvent},function(t){g=t.EventName},function(t){_=t.SubGameConstants,v=t.getConfig},function(t){y=t.default},function(t){A=t.inject},function(t){C=t.GameLogic},function(t){B=t.BatterModel},function(t){S=t.FishModel}],execute:function(){var k,I,D,L,T,w,E,M,H,O,F,P,z,N,x,R,G,U,V,j,K,X,Y,q,J,W,Z,Q,$,tt,it,nt,et,ot,st,at,rt,ct,lt;a._RF.push({},"50a0bOil/lM+I7BX0sF2Jzx","RoomMenuView",void 0);var ut=r.ccclass,ht=r.property;t("RoomMenuView",(k=ut("RoomMenuView"),I=ht({type:c}),D=ht({type:c}),L=ht({type:c}),T=ht({type:c}),w=ht({type:c}),E=ht({type:c}),M=ht({type:l}),H=ht({type:u}),O=ht({type:c}),F=ht({type:c,tooltip:"小boss来袭"}),P=ht({type:c,tooltip:"小boss来袭图标"}),z=ht({type:c,tooltip:"小boss来袭名字"}),N=ht({type:c,tooltip:"小boss来袭倍率"}),x=ht({type:u,tooltip:"小boss来袭图片"}),R=ht({type:u,tooltip:"小boss来袭名字图片"}),G=ht({type:c,tooltip:"提示框"}),U=ht({type:h,tooltip:"提示框文本"}),V=A({type:C,name:"logic"}),k((X=i((K=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,e(i,"menuBtns",X,o(i)),e(i,"moreBtn",Y,o(i)),e(i,"lockBtn",q,o(i)),e(i,"autoBtn",J,o(i)),e(i,"lockBtnEd",W,o(i)),e(i,"autoBtnEd",Z,o(i)),e(i,"musicIcon",Q,o(i)),e(i,"musicSfArr",$,o(i)),e(i,"btnsBox",tt,o(i)),e(i,"miniboss_di",it,o(i)),e(i,"miniboss_di_icon",nt,o(i)),e(i,"miniboss_di_name",et,o(i)),e(i,"miniboss_di_Label",ot,o(i)),e(i,"miniboss_sp_arr",st,o(i)),e(i,"miniboss_name_sp_arr",at,o(i)),e(i,"startTip",rt,o(i)),e(i,"tipText",ct,o(i)),e(i,"logic",lt,o(i)),i.isOpen=!1,i.shootCd=!0,i.type=22,i}n(i,t);var a=i.prototype;return a.addEvents=function(){this.onD(f.DISPATCH_CANCEL_AUTO_LOCK,this.cancel),this.onD(f.DISPATCH_ADD_RATE,this.judgeAutoLock),this.onD(f.DISPATCH_INIT_BATTLE,this.initView),this.onD(f.DISPATCH_CANCEL_LOCK_AUTO,this.cancelAll),this.onD(f.DISPATCH_SMALL_BOSS,this.smallBossShow),this.onD(f.DISPATCH_RETURNTOHOME,this.clickReturn),this.onD(f.DISPATCH_CLOSE_MORE,this.closeMore),this.onD(f.DISPATCH_SHOW_TIP,this.showTip),this.onG(p.EVENT_HIDE,this.onEnterBackground)},a.onEnable=function(){this.showTip("CLICK ON A SHELL TO CHANG IT!");var t=this.data.openMusic?1:0;this.musicIcon.spriteFrame=this.musicSfArr[t],this.test()},a.onDisable=function(){this.data.isAuto=!1,this.data.isLockIng=!1},a.smallBossShow=function(t){this.startTip.active,this.unschedule(this.hideBossDi);var i=t.rate,n=this.miniboss_di_icon.getComponent(l),e=this.miniboss_di_name.getComponent(l),o=i[0],s=i[i.length-1];this.miniboss_di_Label.getComponent(h).string=o+"-"+s,n.spriteFrame=this.miniboss_sp_arr[Number(t.tipImgPathIdx)-1],n.node.setScale(Number(t.capturedScale),Number(t.capturedScale)),e.spriteFrame=this.miniboss_name_sp_arr[Number(t.tipImgPathIdx)-1],this.miniboss_di.active=!0,this.scheduleOnce(this.hideBossDi,2)},a.test=function(){},a.hideBossDi=function(){this.miniboss_di.active=!1},a.shoot=function(t){B.getInstance().getMyNewPos()==t.pos&&this.startTip.active&&(this.startTip.active=!1)},a.showTip=function(t){var i;this.startTip.active=!0,this.tipText.string=t,null==(i=this.startTip.getComponent(d))||i.play()},a.initView=function(){var t;1==(null==(t=this.myData)?void 0:t.posIdx)?this.btnsBox.setPosition(565,-480):this.btnsBox.setPosition(640,-480)},a.clickMore=function(){this.test(),this.isOpen=!this.isOpen,this.menuBtns.active=this.isOpen,dispatch(g.PLAY_SOUND,_.AudioSource.Fish_Button)},a.closeMore=function(){this.menuBtns.active=!1},a.cancelAll=function(){this.lockBtnEd.active=!1,this.lockBtn.active=!0,this.autoBtnEd.active=!1,this.autoBtn.active=!0,this.data.isLockIng=!1,this.data.isAuto=!1},a.clickMenuBtns=function(){},a.clickLock=function(){if(this.canClick()){if(this.data.isLockIng=!this.data.isLockIng,this.lockBtnEd.active=this.data.isLockIng,this.lockBtn.active=!this.data.isLockIng,this.data.isLockIng){var t;null==(t=this.sender)||t.gunChange(2);var i,n=S.getInstance().getMaxRateId();if(null!=n)null==(i=this.sender)||i.c2sChangeLocking(Number(n));this.data.isAuto&&(this.data.isAuto=!1,this.autoBtnEd.active=!1,this.autoBtn.active=!0)}else{var e,o;null==(e=this.sender)||e.c2sCancleLocking(),null==(o=this.sender)||o.gunChange(1)}dispatch(g.PLAY_SOUND,_.AudioSource.Fish_Button)}},a.clickAuto=function(){if(this.canClick()){var t,i;if(this.data.isAuto=!this.data.isAuto,this.autoBtnEd.active=this.data.isAuto,this.autoBtn.active=!this.data.isAuto,this.data.isAuto)this.data.isLockIng=!1,this.lockBtnEd.active=!1,this.lockBtn.active=!0,null==(t=this.sender)||t.c2sCancleLocking(),null==(i=this.sender)||i.gunChange(1);dispatch(f.DISPATCH_CHANGE_AUTO),dispatch(g.PLAY_SOUND,_.AudioSource.Fish_Button)}},a.canClick=function(){var t=this;return!!this.myData&&(this.data.mapState!=v().MapState.Changing&&(!this.myData.canShootZhuan&&(!!this.shootCd&&(this.shootCd=!1,this.scheduleOnce((function(){t.shootCd=!0}),.2),!0))))},a.clickMusic=function(){this.data.openAllSound?(this.logic.stopAllSound(),this.musicIcon.spriteFrame=this.musicSfArr[0]):(this.logic.playAllSound(),this.musicIcon.spriteFrame=this.musicSfArr[1])},a.judgeAutoLock=function(){if(!this.myData)return!1;if(0==this.myData.target_id&&this.data.isLockIng){var t,i=S.getInstance().getMaxRateId()||0;null==(t=this.sender)||t.c2sChangeLocking(Number(i))}},a.reqExit=function(){},a.onEnterBackground=function(){var t,i;this.cancel(),null==(t=this.sender)||t.gunChange(1),null==(i=this.sender)||i.c2sLeaveRoom(),this.logic.exitRoom(),dispatch(f.DISPATCH_EXIT),this.logic.netCloseHandle=function(){},this.logic.closeSocket()},a.clickReturn=function(){var t=this;this.logic.netCloseHandle=function(){var i,n,e;t.cancel(),null==(i=t.sender)||i.gunChange(1),null==(n=t.sender)||n.c2sLeaveRoom(),null==(e=t.logic.view.help)||e.exit(),t.clickMore(),dispatch(f.DISPATCH_EXIT),t.logic.exitRoom(),t.logic.netCloseHandle=function(){}},this.logic.closeSocket()},a.showHelp=function(){var t,i;null==(null==(t=this.logic.view.help)?void 0:t.helpAlert)&&App.loading.show("Loading Help...",(function(){}),20,"#FFFFFF"),null==(i=this.logic.view.help)||i.openHelp(),this.clickMore()},a.cancel=function(){var t;this.data.isAuto=!1,this.data.isLockIng=!1,null==(t=this.sender)||t.c2sCancleLocking(),this.lockBtnEd.active=!1,this.lockBtn.active=!0,this.autoBtnEd.active=!1,this.autoBtn.active=!0},s(i,[{key:"data",get:function(){return App.dataCenter.get(m)}},{key:"sender",get:function(){return App.senderManager.get(b)}},{key:"myData",get:function(){return B.getInstance().getMyData()}}]),i}(y)).prototype,"menuBtns",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(K.prototype,"moreBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(K.prototype,"lockBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(K.prototype,"autoBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(K.prototype,"lockBtnEd",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(K.prototype,"autoBtnEd",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(K.prototype,"musicIcon",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(K.prototype,"musicSfArr",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=i(K.prototype,"btnsBox",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(K.prototype,"miniboss_di",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(K.prototype,"miniboss_di_icon",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(K.prototype,"miniboss_di_name",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(K.prototype,"miniboss_di_Label",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(K.prototype,"miniboss_sp_arr",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=i(K.prototype,"miniboss_name_sp_arr",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=i(K.prototype,"startTip",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i(K.prototype,"tipText",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i(K.prototype,"logic",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=K))||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/RoomView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./SubGameData3.ts","./ObjectPool2.ts"],(function(e){var t,n,o,i,a,f,c;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy,i=e._decorator},function(e){a=e.default},function(e){f=e.SubGameData},function(e){c=e.ObjectPool}],execute:function(){var r;o._RF.push({},"91ff0rIvzZA5pXl7K5R6QgR","RoomView",void 0);var s=i.ccclass;e("RoomView",s("RoomView")(r=function(e){function o(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).effView=null,t.effViewEd=!1,t}t(o,e);var i=o.prototype;return i.addEvents=function(){},i.onLoad=function(){e.prototype.onLoad.call(this),this.addRoomView()},i.onEnable=function(){},i.addRoomView=function(){var e=this;this.effViewEd||null==this.effView&&(this.effViewEd=!0,c.getInstance().popPrefabNode("prefabs/view/EffView",(function(t){e.effView=t,e.node.insertChild(t,8)}),this))},i.onDisable=function(){},n(o,[{key:"data",get:function(){return App.dataCenter.get(f)}}]),o}(a))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/Route2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RouteFactory2.ts","./MathUtils2.ts"],(function(t){var e,i,n,s,r,o;return{setters:[function(t){e=t.createClass,i=t.inheritsLoose},function(t){n=t.cclegacy,s=t.Vec2},function(t){r=t.RouteFactory},function(t){o=t.MathUtils}],execute:function(){n._RF.push({},"f0292Lxg+1I9ai+gfRGVxF5","Route",void 0);var a=t("Route",function(){function t(t,e,i,n){this._routeId=void 0,this.offsetX=void 0,this.offsetY=void 0,this.offsetR=void 0,this._routeId=t,this.offsetX=e,this.offsetY=i,this.offsetR=n}return t.prototype.getNextStep=function(t){return{x:0,y:0,r:0}},e(t,[{key:"routeId",get:function(){return this._routeId}}]),t}());t("Spiral",function(t){function e(e,i,n,s){var r;return(r=t.call(this,e,i,n,s)||this)._offsetRadian=void 0,r._offsetRadian=o.getInstance().getRadian(s),r}i(e,t);var n=e.prototype;return n.getNextStep=function(t){var e;if(t>0){var i=this.calcCoordinate(t-1),n=this.calcCoordinate(t),s=o.getInstance().getAngle2(i.x,i.y,n.x,n.y);e={x:n.x,y:n.y,r:s}}else e={x:0,y:0,r:0};return e},n.calcCoordinate=function(t){var e=20*(t/=1e3),i=t%(2*Math.PI)+this._offsetRadian,n=e*Math.cos(i),r=e*Math.sin(i);return new s(n,r)},e}(a)),t("CustomizedCurve",function(t){function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.getNextStep=function(t){var e;if(t>0){var i=700,n=90*t/35e3,s=o.getInstance().getRadian(n-90),r=i*Math.cos(s),a=i*Math.sin(s)+i;i=o.getInstance().getDistance(0,0,r,a),s=o.getInstance().getRadian2(0,0,r,a)+o.getInstance().getRadian(this.offsetR),r=i*Math.cos(s),a=i*Math.sin(s),e={x:Math.round(r),y:Math.round(a),r:n+this.offsetR}}else e={x:0,y:0,r:0};return e},e}(a)),t("BrokenLine",function(t){function n(e,i,n,s,o){var a;return(a=t.call(this,e,n,s,o)||this)._offsetType=void 0,a._line=void 0,a._index=void 0,a._offsetType=i,a._line=r.getInstance().getLineById(e),a._index=0,a}i(n,t);var s=n.prototype;return s.getNextStep=function(t){var e;if(t>=0){for(var i=this._line.length;this._index<i-1;){var n=this._line[this._index],s=this._line[this._index+1];if(!(s.t<=t)){var r=s.t-n.t;if(r<0)return this.lineError();if(0==r)return s;var o=Math.ceil(t-n.t),a=this.calcTimeOutValue(n.x,s.x,r,o),f=this.calcTimeOutValue(n.y,s.y,r,o),u=this.calcTimeOutValue(n.r,s.r,r,o);return this.handleOffset(a,f,u)}++this._index}e=this._line[this._index]}else e=this._line[0];return e||console.log(this._line),this.handleOffset(e.x,e.y,e.r)},s.handleOffset=function(t,e,i){if(1===this._offsetType)t+=this.offsetX,e+=this.offsetY;else if(2===this._offsetType){var n=t-this.offsetX,s=e-this.offsetY,r=o.getInstance().getRadian2(0,0,n,s)+o.getInstance().getRadian(this.offsetR),a=Math.sqrt(n*n+s*s);t=a*Math.cos(r)+this.offsetX,e=a*Math.sin(r)+this.offsetY,i+=this.offsetR}return{x:t,y:e,r:i}},s.calcTimeOutValue=function(t,e,i,n){return Math.round(t+(e-t)/i*n)},s.lineError=function(){Log.e("曲线配置错误，请检查id = "+this.routeId+"的曲线,"+JSON.stringify(this._line));return{x:0,y:0,r:0}},e(n,[{key:"index",get:function(){return this._index}}]),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/RouteFactory2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Route2.ts","./Singleton5.ts","./SubGameData3.ts"],(function(t){var e,n,o,i,u,r,a,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy},function(t){i=t.Spiral,u=t.CustomizedCurve,r=t.BrokenLine},function(t){a=t.Singleton},function(t){c=t.SubGameData}],execute:function(){o._RF.push({},"6699biflUJDKaiUYo2XuOEb","RouteFactory",void 0);t("RouteFactory",function(t){function o(){return t.call(this)||this}e(o,t);var a=o.prototype;return a.getRoute=function(t,e,n,o,a){return 3===t?new i(e,n,o,a):4===t?new u(e,n,o,a):new r(e,t,n,o,a)},a.getLineById=function(t){return this.data.routeConfig[t-1]?this.data.routeConfig[t-1].line:(console.log(t),console.log("错误路径ID"),[])},a.getTestLineById=function(t){return this.data.textRouteConfig[t-1]?this.data.textRouteConfig[t-1].line:(console.log(t),console.log("错误路径ID"),[])},n(o,[{key:"data",get:function(){return App.dataCenter.get(c)}}]),o}(a()));o._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreItem2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool2.ts"],(function(t){var e,i,n,o,r,s,a,l,c,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Label,l=t.Vec3,c=t.Animation,u=t.Component},function(t){p=t.ObjectPool}],execute:function(){var h,b,f,d,y,v,g;r._RF.push({},"b3e72ucqcJCWKcSNlitUDuT","ScoreItem",void 0);var m=s.ccclass,P=s.property;t("ScoreItem",(h=m("ScoreItem"),b=P({type:a}),f=P({type:a}),h((v=e((y=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"lab",v,o(e)),n(e,"lab1",g,o(e)),e.isMe=!1,e.startPosition=new l,e}i(e,t);var r=e.prototype;return r.init=function(t,e,i){this.startPosition=t,this.isMe=i,this.lab.string="",this.lab1.string="",this.lab.node.active=!1,this.lab1.node.active=!1,this.node.setPosition(this.startPosition),this.isMe?(this.lab.node.active=!0,this.lab.string=""+e):(this.lab1.node.active=!0,this.lab1.string=""+e)},r.onEnable=function(){this.playAni()},r.playAni=function(){var t,e=this.isMe?"score":"score01";null==(t=this.node.getComponent(c))||t.play(e)},r.scaleEnd=function(){this.reset(),p.getInstance().push(this.node)},r.reset=function(){var t;null==(t=this.node.getComponent(c))||t.stop(),this.node.removeFromParent()},e}(u)).prototype,"lab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(y.prototype,"lab1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./FishEvent2.ts","./SubGameData3.ts","./ObjectPool2.ts","./ResourceConst2.ts","./ScoreItem2.ts","./FishModel2.ts","./BatterModel2.ts"],(function(e){var t,n,o,i,r,c,a,s,u,l,d,f,p,h,g,v,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){c=e.cclegacy,a=e._decorator,s=e.Prefab,u=e.UITransform},function(e){l=e.default},function(e){d=e.FishEvent},function(e){f=e.SubGameData},function(e){p=e.ObjectPool},function(e){h=e.getResConfig},function(e){g=e.ScoreItem},function(e){v=e.FishModel},function(e){S=e.BatterModel}],execute:function(){var b,y,m,C,D;c._RF.push({},"a4cb1Sg0wFJh41kG135Lddy","ScoreView",void 0);var P=a.ccclass,I=a.property;e("ScoreView",(b=P("ScoreView"),y=I({type:s}),b((D=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,o(t,"scorePf",D,i(t)),t}n(t,e);var c=t.prototype;return c.onLoad=function(){e.prototype.onLoad.call(this)},c.addEvents=function(){this.onD(d.DISPATCH_ADD_SCORE,this.addScore)},c.onEnable=function(){},c.addScore=function(e){var t=this,n=e.fish,o=""+h().ScoreItem;p.getInstance().popPrefabNode(o,(function(o){var i=t.node.getComponent(u),r=v.getInstance().getNodeFish(n.uid);if(r){var c,a=i.convertToNodeSpaceAR(r.getWorldPosition()),s=n.score*S.getInstance().coinRate/1e6;null==(c=o.getComponent(g))||c.init(a,s,e.isMe),t.node.addChild(o)}}),this)},c.onDisable=function(){this.node.removeAllChildren()},r(t,[{key:"data",get:function(){return App.dataCenter.get(f)}}]),t}(l)).prototype,"scorePf",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=C))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/ShadeFish2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameConstants3.ts"],(function(t){var e,n,o,i,s,r,a,c,h,d;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Animation,s=t.sp,r=t.Sprite,a=t.BoxCollider2D,c=t.UIOpacity,h=t.Component},function(t){d=t.getConfig}],execute:function(){var p;n._RF.push({},"39446nYlQBF26s8rqwz7Z9e","ShadeFish",void 0);var l=o.ccclass;t("ShadeFish",l("ShadeFish")(p=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).type=0,e}e(n,t);var o=n.prototype;return o.addEvents=function(){},o.init=function(t){this.type=t},o.onEnable=function(){this.node.getComponent(i)&&this.node.getComponent(i).play("fish"+this.type+"Swim"),28==this.type?this.node.getComponentInChildren(s.Skeleton).color=d().SHADE:this.node.getChildByName("ani").getComponent(r).color=d().SHADE;var t=this.node.getChildByName("clickNode");t&&(t.removeFromParent(),t.destroy());var e=this.node.getComponent(a);e&&e.destroy(),this.node.addComponent(c).opacity=100},n}(h))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/ShadeView2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubGameData3.ts","./EventComponent.ts","./GameService.ts"],(function(e){var t,n,a,c,i,r,o;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){a=e.cclegacy,c=e._decorator},function(e){i=e.SubGameData},function(e){r=e.default},function(e){o=e.GameService}],execute:function(){var u;a._RF.push({},"0f8cczh1kNEsZc3V/SBPHqB","ShadeView",void 0);var s=c.ccclass;e("ShadeView",s("ShadeView")(u=function(e){function a(){return e.apply(this,arguments)||this}t(a,e);var c=a.prototype;return c.addEvents=function(){},c.update=function(e){},c.onEnable=function(){},c.onDisable=function(){this.node.removeAllChildren()},n(a,[{key:"gameService",get:function(){return App.serviceManager.get(o)}},{key:"data",get:function(){return App.dataCenter.get(i)}}]),a}(r))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton5.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n("Singleton",(function(){var n=function(){function n(){}return n.getInstance=function(){return null==n._instance&&(n._instance=new this),n._instance},n.clearInstance=function(){n._instance=null},n}();return n._instance=null,n})),t._RF.push({},"bd46bdCln9FlYfisDIKD1fD","Singleton",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/slot190000101",["./ConfigGetter2.ts","./fish_Config2.ts","./pao_Config2.ts","./ResourceConst2.ts","./SocketConst2.ts","./MathUtils2.ts","./ObjectPool2.ts","./ResourceUtils2.ts","./Singleton5.ts","./FishEvent2.ts","./SubLanguageComp2.ts","./EaseFun2.ts","./GameEntry3.ts","./SubGameConstants3.ts","./SubGameData3.ts","./SubGameDefines3.ts","./SubGameLanguage3.ts","./FishTestItem2.ts","./FishTestView2.ts","./LineRouteFactory2.ts","./LineToolItem2.ts","./LineToolRoute2.ts","./LineTooleView2.ts","./TestBaseFish2.ts","./TestFish2.ts","./TestSpineFish2.ts","./GameLogic3.ts","./Batter2.ts","./BatterModel2.ts","./BatterScoin2.ts","./BatterScoinGroup2.ts","./BatterScoinList2.ts","./ClickView2.ts","./BullView2.ts","./Bullet2.ts","./BulletModel2.ts","./ZhuangBullet2.ts","./ZhaDan2.ts","./ZhuanBoom2.ts","./BaseCombosFish2.ts","./BaseFish2.ts","./Fish2.ts","./FishFactory2.ts","./FishModel2.ts","./HelpFish2.ts","./Lock2.ts","./Route2.ts","./RouteFactory2.ts","./ShadeFish2.ts","./SpineFish2.ts","./GoldAni2.ts","./GoldItem2.ts","./GoldView2.ts","./NetItem2.ts","./NetView2.ts","./ScoreItem2.ts","./ScoreView2.ts","./GameHandler3.ts","./GameSender3.ts","./Protocol4.ts","./BgView2.ts","./EffView2.ts","./EntryItem2.ts","./EntryView2.ts","./HelpFishBigtable2.ts","./HelpFishView2.ts","./HelpFishtable2.ts","./HelpItem2.ts","./HelpSpecialFishItem2.ts","./HelpSpecialFishView2.ts","./HelpView2.ts","./LoadingView3.ts","./MainGameHelp2.ts","./MainGameView3.ts","./MarqueeManager2.ts","./MouseFollower2.ts","./PointView2.ts","./RoomEffView2.ts","./RoomMenuView2.ts","./RoomView2.ts","./ShadeView2.ts","./fishClick2.ts","./fishView2.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SocketConst2.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t({destroySocketConfig:function(){i&&(i=null)},getSocketConfig:function(){i||(i=new o);return i}}),e._RF.push({},"7b77dgYjf5BMq3Oez0iu467","SocketConst",void 0);var i,o=function(){this.ROOM_LIST="roomlist",this.HEART="heart",this.LOGIN="login",this.FISH_INFO="fishinfo",this.QUICK_ENTER_ROOM="quickenterroom",this.ENTER_ROOM="enterroom",this.CHANGE_GUNID="change_gunid",this.CHANGEGUNID="changegunid",this.INCREASE_SPRITES="increasesprites",this.DECREASE_SPRIRES="decreasesprites",this.FIRE="fire",this.HIT="hit",this.HIT_SPRITES="hitsprites",this.BOMB_HIT="bombhit",this.INCREASE_BOMB="increasebomb",this.ENERGY="energy",this.BROAD_PLAYER="broadplayer",this.CHANGE_SCENE="changescene",this.CHANGE_RATE="changerate",this.LEAVE_ROOM="leaveroom",this.CHANGE_LOCKING="changelocking",this.CANCLE_LOCKING="canclelocking",this.CHANGE_LOCK="changelock",this.CHANGE_IMMOB="changeimmob",this.CHANGE_BACKSTAGE="changbackstage"};var s=t("FishingCommonProtocolId",(function(){}));s.FISHINFO="fishinfo",s.ROOM_LIST="roomlist",s.ROOM_DETAIL="roomdetail",s.QUICK_ENTER_ROOM="quickenterroom",s.CHANGE_RATE="changerate",s.USERINFO="userinfo";var n=t("GameProtocolId",(function(){}));n.HEART="heart",n.LOGIN="login",n.LOGOUT="logout",n.USERINFO="userinfo",n.USER_KICK="user_kick",n.ERRORCODE="errorcode",n.MARQUEE="marquee",n.TIPS="tips",n.GETMAJMIN="getmajmin",n.GETBONUS="getbonus",n.SLOTINFO="slot_info",n.SLOTBET="slot",n.FREESLOT="freeslot",n.PAYOUTBONUS="payoutbonus",n.GETPROGRESSBAR="getprogressbar",n.GET_ACTIVE_BONUS="get_active_bonus",n.ADD_SCORE="addscore",n.HOOK_PROGRAM_INOUT="hook_program_inout",e._RF.pop()}}}));

System.register("chunks:///_virtual/SpineFish2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseFish2.ts","./SubGameConstants3.ts"],(function(t){var n,o,e,i,s,c,l;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Tween,s=t.sp},function(t){c=t.BaseFish},function(t){l=t.getConfig}],execute:function(){var r;o._RF.push({},"d0ed0XBORxIcJ2dldi9BwyW","SpineFish",void 0);var h=e.ccclass;t("SpineFish",h("SpineFish")(r=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).long_ske=null,n}n(o,t);var e=o.prototype;return e.clear=function(){i.stopAllByTarget(this.node),this.setColliderEnable(!0)},e.onLoad=function(){this.long_ske=this.node.getChildByName("long_ske"),t.prototype.onLoad.call(this)},e.addEvents=function(){t.prototype.addEvents.call(this)},e.getAni=function(){},e.getLockPos=function(){return this.node.getWorldPosition()},e.lockChange=function(t){this.sprite&&(this.sprite.uid==t?this.lock():this.unlock())},e.lock=function(){this.lockNode&&(this.lockNode.active=!0)},e.unlock=function(){this.lockNode&&(this.lockNode.active=!1)},e.hit=function(){var t=this;this.long_ske&&(this.long_ske.getComponent(s.Skeleton).color=l().LOCK_COLOR_SPIN,this.scheduleOnce((function(){t.long_ske.getComponent(s.Skeleton).color=l().UNLOCK_COLOR}),.05))},o}(c))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameConstants3.ts",["cc"],(function(i){var s,_;return{setters:[function(i){s=i.cclegacy,_=i.Color}],execute:function(){i("getConfig",(function(){o||(o=new a);return o})),s._RF.push({},"cc634DOQfNCBKro4KSmUorQ","SubGameConstants",void 0);var o,t=function(i){return i.bgm_boss_battle="audio/bgm_boss_battle",i.bgm_deep_sea02="audio/bgm_deep_sea02",i.bgm_deep_sea03="audio/bgm_deep_sea03",i.Fish_shooting="audio/Fish_shooting",i.Fish_Kill="audio/Fish_Kill",i.Fish_win="audio/Fish_win",i.Fish_win_Small_Prize="audio/Fish_win_Small_Prize",i.Fish_Button="audio/Fish_Button",i.Fish_BOOS_Warning="audio/Fish_BOOS_Warning",i.Fish_Frenzy="audio/Fish_Frenzy",i.bgm_hall="audio/bgm_hall",i.Fish_Drill01="audio/Fish_Drill01",i.Fish_Drill02="audio/Fish_Drill02",i.Fish_Drill03="audio/Fish_Drill03",i.Fish_Drill04="audio/Fish_Drill04",i.Fish_Upgrade="audio/Fish_Upgrade",i.Fish_shooting02="audio/Fish_shooting02",i.Fish_shooting03="audio/Fish_shooting03",i.Fish_baozha="audio/Fish_baozha",i.Fish_suoding="audio/Fish_suoding",i.bgm_fish_wave="audio/bgm_fish_wave",i.bgm_boss="audio/bgm_boss",i.Fish_coin_hit="audio/Fish_coin_hit",i.Fish_Boss_attack="audio/Fish_Boss_attack",i.Fish_Boss_baozha="audio/Fish_Boss_baozha",i.Fish_caishengchuchang="audio/Fish_caishengchuchang",i.Fish_gesila_voice="audio/Fish_gesila_voice",i.Fish_eyu_voice="audio/Fish_eyu_voice",i}(t||{}),e=function(i){return i.Fish_shuzilg_1="audio/Fish_shuzilg_1",i.Fish_shuzilg_2="audio/Fish_shuzilg_2",i.Fish_shuzilg_3="audio/Fish_shuzilg_3",i.Fish_shuzilg_4="audio/Fish_shuzilg_4",i.Fish_shuzilg_5="audio/Fish_shuzilg_5",i}(e||{}),h=function(i){return i.bet1="audio/bet1",i.bet2="audio/bet2",i.bet3="audio/bet3",i.bet4="audio/bet4",i.bet5="audio/bet5",i.bet6="audio/bet6",i.bet7="audio/bet7",i.bet8="audio/bet8",i.bet9="audio/bet9",i.bet10="audio/bet10",i.bet11="audio/bet11",i.bet12="audio/bet12",i.bet13="audio/bet13",i.bet14="audio/bet14",i.bet15="audio/bet15",i.bet16="audio/bet16",i.bet17="audio/bet17",i.bet18="audio/bet18",i.bet19="audio/bet19",i.bet20="audio/bet20",i.bet21="audio/bet21",i}(h||{}),a=i("SubGameConstants",(function(){this.BG_SIZE=84,this.LOCK_COLOR=new _("FF7070"),this.LOCK_COLOR_SPIN=new _("FFDFDF"),this.UNLOCK_COLOR=new _("FFFFFF"),this.SHADE=new _("000000"),this.ESCAPE_SPEED=-.5,this.FishState={Alive:1,Killed:2,Idle:3},this.MAP_NUM=3,this.MapState={FishGroup:0,Normal:1,BossTip:2,BossFish:3,Changing:4},this.DIE_ACTION_TIME=2e3,this.GOLD_MAX_COUNT=5,this.Net_MAX_COUNT=20,this.Gold_MAX_COUNT=20,this.BULL_MAX_COUNT=20,this.MAX_BULLET_COUNT=15,this.MAX_CREATE_AMOUNT=20}));a.AudioSource=t,a.AudioBtnSource=h,a.AudioBossSource=e,a.preloadAudio=[t.bgm_boss_battle],s._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameData3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./NodePoolManager.ts","./FishEvent2.ts"],(function(e){var t,n,o,i,a,s;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy},function(e){i=e.GameData},function(e){a=e.NodePoolManager},function(e){s=e.FishEvent}],execute:function(){o._RF.push({},"6fdaaGxFWNA+pkfI/XoZG2t","SubGameData",void 0),e("SubGameData",function(e){function o(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).INITNEWCELL=!1,t.roomData=null,t.loadDataFinish=!1,t.loadFinish=!1,t.bHasLoadedRes=!1,t.nodePoolManager=new a,t.openAllSound=!0,t.openMusic=!0,t.openAudio=!0,t.mapId=0,t.changeStateTime=0,t.mapState=0,t.isHide=!1,t.roomTypeInfo={limit:[{min:1e5,max:1e7,coin_rate:"1",limitBalance:1e5},{min:1e7,max:1e9,coin_rate:"1",limitBalance:1e7},{min:1e9,max:1e10,coin_rate:"1",limitBalance:1e9}]},t.m_money=0,t.m_isLockIng=!1,t.m_isAuto=!1,t.routeConfig=void 0,t.routeConfig2=void 0,t.routeConfig3=void 0,t.routeConfig4=void 0,t.textRouteConfig=void 0,t._fishesConfig=void 0,t.MAX_BULLET_COUNT=15,t.BULLET_SPEED=1,t.BULLET_CONTACT_GROUP=2,t._sprites=[],t.roomType=0,t.reqRoomType=0,t}return t(o,e),n(o,[{key:"money",get:function(){return this.m_money},set:function(e){this.m_money=e}},{key:"isLockIng",get:function(){return this.m_isLockIng},set:function(e){this.m_isLockIng=e,dispatch(s.DISPATCH_CHANGE_LOCK)}},{key:"isAuto",get:function(){return this.m_isAuto},set:function(e){this.m_isAuto=e}},{key:"sprites",get:function(){return this._sprites},set:function(e){this._sprites=e}}]),o}(i)).module="fish10000101",o._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameDefines3.ts",["cc"],(function(E){var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"e89dbG4hZpHhZmupCRNuzcF","SubGameDefines",void 0);E("POOL_PREFAB_URL",["prefabs/symbols/symbol01","prefabs/symbols/symbol02","prefabs/symbols/symbol03","prefabs/symbols/symbol04","prefabs/symbols/symbol05","prefabs/symbols/symbol06","prefabs/symbols/symbol07","prefabs/symbols/symbol08","prefabs/symbols/symbol09","prefabs/symbols/symbol_Multiplier","prefabs/symbols/symbol_Scatter"]),E("EventName",function(E){return E.OnReceiveSlotBet="OnReceiveSlotBet",E.OnReceiveLastMap="OnReceiveLastMap",E.LoadDataFinish="LoadDataFinish",E.PLAY_SOUND="PLAY_SOUND",E.PLAY_MUSIC="PLAY_MUSIC",E.STOP_EFFECT="STOP_EFFECT",E.RESET_TIP_SCORE="RESET_TIP_SCORE",E.ENTER_NORMAL_MODEL="ENTER_NORMAL_MODEL",E.START_FREE_MODEL="START_FREE_MODEL",E.FREE_MODE_SPIN_END="FREE_MODE_SPIN_END",E.REFRESH_TUMBLE_WIN="REFRESH_TUMBLE_WIN",E.REFRESH_TUMBLE_WIN_MULTIPLE="REFRESH_TUMBLE_WIN_MULTIPLE",E.REFRESH_TUMBLE_WIN_FINAL="REFRESH_TUMBLE_WIN_FINAL",E.S2C_FREE_SPIN="S2C_FREE_SPIN",E.FREE_SPINS_LEFT="FREE_SPINS_LEFT",E.SHOW_WIN_SCORE="SHOW_WIN_SCORE",E.SHOW_WIN_MULTIPILER_SCORE="SHOW_WIN_MULTIPILER_SCORE",E.SHOW_MAIN_BOX_EFFCT="SHOW_MAIN_BOX_EFFCT",E.ON_AFTER_TRANS_ANIAMTIONS="ON_AFTER_TRANS_ANIAMTIONS",E.ON_SHOW_FREE_SPINS_LEFT="ON_SHOW_FREE_SPINS_LEFT",E}({})),E("JackpotType",function(E){return E[E.NONE=0]="NONE",E[E.BIG=1]="BIG",E[E.NICE=2]="NICE",E[E.MEGA=3]="MEGA",E[E.SUPER=4]="SUPER",E[E.SENSATIONAL=5]="SENSATIONAL",E}({})),E("beilv_Multiple",[2,3,4,5,6,8,10,12,15,20,25,50,100,250,500]);_._RF.pop()}}}));

System.register("chunks:///_virtual/SubGameLanguage3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageDelegate.ts","./SubGameData3.ts","./Enums.ts"],(function(e){var u,t,n,_,a,i;return{setters:[function(e){u=e.inheritsLoose},function(e){t=e.cclegacy},function(e){n=e.injectLanguageData,_=e.LanguageDelegate},function(e){a=e.SubGameData},function(e){i=e.sys_Language}],execute:function(){var r;t._RF.push({},"e443aVNsWVITaap8NGJyAN7","SubGameLanguage",void 0);var g={language:i.CHINESE,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},o={language:i.ENGLISH,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},l={language:i.Indonesian,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},x={language:i.Malay,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},b={language:i.Portuguese,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},s={language:i.Thai,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}},f={language:i.Vietnamese,data:{buy_feature_1:"texture/ui/language/buy_feature_1_en",buy_feature_2:"texture/ui/language/buy_feature_2_en",bet_1:"texture/ui/language/bet_en",bet_2:"texture/ui/language/bet_en",double_1:"texture/ui/language/double_1_en",double_2:"texture/ui/language/double_2_en",on:"texture/ui/language/on_en",off:"texture/ui/language/off_en",congratualations:"texture/ui/language/congratulations_en",free_spins:"texture/ui/language/free_spins_en",in_spins:"texture/ui/language/in_spins_en",press_continue:"texture/ui/language/press_continue_en",buy_free:"texture/ui/language/buy_free_en",you_won:"/texture/ui/language/you_won_en",intro_bet_1:"texture/ui/language/intro_bet_1_en",intro_bet_2:"texture/ui/language/intro_bet_2_en",win_over_1:"texture/ui/language/intro_win_1_en",win_over_2:"texture/ui/language/intro_win_2_en",intro_time:"texture/ui/language/intro_time_en",intro_volatLity:"texture/ui/language/intro_volatLity_en"}};e("slot3000505_Lan",o),e("SubGameLanguage",n(r=function(e){function t(){for(var u,t=arguments.length,n=new Array(t),_=0;_<t;_++)n[_]=arguments[_];return(u=e.call.apply(e,[this].concat(n))||this).bundle=a.module,u}return u(t,e),t.prototype.init=function(){this.add(g),this.add(o),this.add(l),this.add(x),this.add(b),this.add(s),this.add(f)},t}(_))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/SubLanguageComp2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageComp.ts"],(function(n){var u,e,o,t;return{setters:[function(n){u=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator},function(n){t=n.LanguageComp}],execute:function(){var a;e._RF.push({},"79680cLG69Mwphj86XvGxD5","SubLanguageComp",void 0);var c=o.ccclass;o.property,n("SubLanguageComp",c("SubLanguageComp")(a=function(n){function e(){return n.call(this)||this}return u(e,n),e}(t))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/TestBaseFish2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameService.ts","./EventComponent.ts","./SubGameData3.ts","./FishEvent2.ts","./SubGameConstants3.ts","./FishModel2.ts","./BatterModel2.ts","./LineRouteFactory2.ts"],(function(t){var e,n,i,o,s,a,r,c,l,u,h,d,f,p,g,m,y,C,v,S,b,E;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,o=t._decorator,s=t.Animation,a=t.Collider2D,r=t.Node,c=t.Label,l=t.Color,u=t.Vec3,h=t.UITransform,d=t.UIOpacity,f=t.tween,p=t.Sprite},function(t){g=t.GameService},function(t){m=t.default},function(t){y=t.SubGameData},function(t){C=t.FishEvent},function(t){v=t.getConfig},function(t){S=t.FishModel},function(t){b=t.BatterModel},function(t){E=t.RouteFactory}],execute:function(){var F;i._RF.push({},"f7343xTYrRDNICKvz/uErbT","TestBaseFish",void 0);var T=o.ccclass;o.property,t("TestBaseFish",T("TestBaseFish")(F=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).sprite=null,e.config=null,e.killFishVo=void 0,e.score=0,e.route=null,e.state=null,e._dieActionTime=0,e.lockNode=null,e.labelNode=null,e.speed=0,e.isKeep=!1,e.needClear=!1,e.animationCom=void 0,e.colliders=void 0,e}e(i,t);var o=i.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),this.animationCom=this.getComponent(s),this.colliders=this.getComponents(a)},o.addEvents=function(){this.onD(C.DISPATCH_CHANGE_SCENE,this.changeScene)},o.init=function(t,e,n){if(this.sprite=t,null!=t){this.config=e,this.state=1,this.route=E.getInstance().getRoute(t.offsettype,t.routeid,t.offsetx,t.offsety,t.offsetr,n);var i=Date.now();this.updatePosition(i)}},o.createLabel=function(){var t=new r("DynamicLabel"),e=t.addComponent(c);e.string="Hello, World!",e.fontSize=40,e.color=l.WHITE,e.horizontalAlign=c.HorizontalAlign.CENTER,e.verticalAlign=c.VerticalAlign.CENTER,this.animationCom&&this.animationCom.node.addChild(t),t.setPosition(0,0)},o.onEnable=function(){this.playSwim()},o.update=function(t){var e=Date.now(),n=this.data.mapState==v().MapState.Changing;this.isKeep||this.onFrame(e,n,0)},o.onFrame=function(t,e,n){this.sprite.dead_time<=t?S.getInstance().cleanFish(this.sprite.uid):this.updatePosition(t)},o.updatePosition=function(t){var e=t-this.sprite.born_time;if(e<0)return 0;this.speed>0&&(e+=this.speed,this.speed+=300);var n=this.route.getNextStep(e),i=this.route.getNextStep(e+.001),o=b.getInstance().getMyOldPos();return[3,4].indexOf(o)>-1?(this.node.setPosition(n.x,-n.y,0),this.node.angle=-n.r):(this.node.setPosition(n.x,n.y,0),this.node.angle=n.r),i.x<n.x&&this.node.setScale(1,-1),console.log(n.x),n.x},o.getPositionByDealyTime=function(t){var e=this.gameService.heartTimeNow+t,n=this.route.getNextStep(e-this.sprite.born_time);return new u(n.x,n.y,0)},o.isOut=function(){var t=S.getInstance().getSburvivalPercent(this.sprite.uid),e=this.node.getComponent(h).width,n=this.node.getComponent(h).height,i=this.node.getPosition().x,o=this.node.getPosition().y,s=!1,a=3;return 28==this.sprite.type&&(a=2),(i<=-640-e/a||i>=640+e/a||o>=360+n/a||o<=-360-n/a)&&(s=!0),s&&t>.5},o.changeScene=function(){var t=this;this.sprite?this.scheduleOnce((function(){t.speed=1,t.scheduleOnce((function(){S.getInstance().cleanFish(t.sprite.uid)}),2)}),2.3):this.node&&this.node.destroy()},o.onDestroy=function(){},o.playKill=function(){var t=this;this.isKeep=!0,this.fadeOut(this.node,(function(){t.node&&(t.node.removeFromParent(),t.node.destroy())}))},o.fadeOut=function(t,e){var n=t.getComponent(d);n||t.addComponent(d),n.opacity=255,f(n).to(.5,{opacity:0}).call((function(){e&&e()})).start()},o.killFishes=function(t){},o.beKilled=function(t,e,n){this.killFishVo=t,this.state=v().FishState.Killed,this.sprite.dead_time=e+v().DIE_ACTION_TIME,this.unlock(),this.setColliderEnable(!1)},o.setColliderEnable=function(t){this.colliders.forEach((function(e){e.enabled=t}))},o.playSwim=function(){},o.playSpecialSwim=function(){},o.playDieAnimation=function(){},o.stopDieAnimation=function(){},o.playDieEff=function(){},o.playDieBubble=function(){},o.playSimilarBubble=function(){},o.playDieSound=function(){},o.moveToBattery=function(){},o.showScore=function(){},o.clear=function(){this.state=3,this.unlock(),this.setColliderEnable(!0)},o.unlock=function(){},o.lock=function(t){},o.hit=function(){var t=this;this.getComponent(p)&&(this.getComponent(p).color=v().LOCK_COLOR,this.scheduleOnce((function(){t.getComponent(p).color=v().UNLOCK_COLOR}),.05))},n(i,[{key:"gameService",get:function(){return App.serviceManager.get(g)}},{key:"data",get:function(){return App.dataCenter.get(y)}},{key:"explosionRange",get:function(){return this.config.explosionRange}},{key:"isAlive",get:function(){return 1==this.state}},{key:"fishType",get:function(){return this.sprite.classid}},{key:"kind",get:function(){return this.config.kind}}]),i}(m))||F);i._RF.pop()}}}));

System.register("chunks:///_virtual/TestFish2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TestBaseFish2.ts","./SubGameDefines3.ts","./ResourceConst2.ts"],(function(t){var i,n,o,e,s,a,c,l,u;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,e=t.Animation,s=t.Tween,a=t.Vec3},function(t){c=t.TestBaseFish},function(t){l=t.EventName},function(t){u=t.getSoundConfig}],execute:function(){var h;n._RF.push({},"6614fT/2FFNc53d61UncoEI","TestFish",void 0);var r=o.ccclass;o.property,t("TestFish",r("TestFish")(h=function(t){function n(){for(var i,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(i=t.call.apply(t,[this].concat(o))||this).dieBubble=null,i.similarBubble=null,i.bubbleTime=.5,i}i(n,t);var o=n.prototype;return o.addEvents=function(){t.prototype.addEvents.call(this)},o.playSwim=function(){this.animationCom||(this.animationCom=this.node.getComponent(e)),this.animationCom&&this.animationCom.play("fish"+this.config.subtype+"Swim")},o.playDieAnimation=function(){if(this.animationCom){this.animationCom.stop();var t="fish"+this.config.subtype+"Die";this.animationCom.getState(t)&&this.animationCom.play(t)}},o.stopDieAnimation=function(){this.animationCom&&this.animationCom.stop()},o.playDieSound=function(){dispatch(l.PLAY_SOUND,u().JumpScore2)},o.clear=function(){var i;t.prototype.clear.call(this),s.stopAllByTarget(this.node),this.node.setScale(a.ONE),null==(i=this.animationCom)||i.stop()},o.lockChange=function(t){this.sprite&&(this.sprite.uid==t?this.lock():this.unlock())},o.lock=function(){this.lockNode.active=!0},o.unlock=function(){this.lockNode.active=!1},n}(c))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/TestSpineFish2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TestBaseFish2.ts"],(function(t){var e,i,s,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator},function(t){n=t.TestBaseFish}],execute:function(){var o;i._RF.push({},"ca489L8Iq1Adb9VDuXl0u7q","TestSpineFish",void 0);var r=s.ccclass;s.property,t("TestSpineFish",r("TestSpineFish")(o=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i.prototype.init=function(e,i,s){t.prototype.init.call(this,e,i,s)},i}(n))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/ZhaDan2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FishEvent2.ts","./BaseFish2.ts","./GameSender3.ts"],(function(e){var t,n,i,o,s,r,a,h,l,c,u,d,p,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,a=e._decorator,h=e.Node,l=e.CircleCollider2D,c=e.Contact2DType,u=e.sp,d=e.Component},function(e){p=e.FishEvent},function(e){f=e.BaseFish},function(e){g=e.GameSender}],execute:function(){var m,b,y,C,v,D,_;r._RF.push({},"1c6737O9H5K2bsXoKT4j6Qd","ZhaDan",void 0);var B=a.ccclass,F=a.property;e("ZhaDan",(m=B("ZhaDan"),b=F({type:h}),y=F({type:h}),m((D=t((v=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(t,"collider",D,o(t)),i(t,"ani",_,o(t)),t.isMe=!1,t.bomb_id=0,t.fishs=[],t}n(t,e);var r=t.prototype;return r.start=function(){},r.onLoad=function(){var e=this.collider.getComponent(l);e&&e.on(c.BEGIN_CONTACT,this.onBeginContact,this)},r.init=function(e,t){var n,i=this;this.isMe=e,this.bomb_id=t,this.fishs=[],null==(n=this.ani.getComponent(u.Skeleton))||n.setAnimation(0,"bomb2",!1),this.ani.getComponent(u.Skeleton).setCompleteListener((function(){i.node.removeFromParent(),i.node.destroy()})),dispatch(p.DISPATCH_SHARE_BG),this.scheduleOnce(this.send,.6)},r.sendBoom=function(){Log.d("炸弹播放完毕结束"+this.fishs.length),this.send()},r.send=function(){var e;0!=this.fishs.length&&(null==(e=this.sender)||e.c2sBomb({fishids:this.fishs,bombid:this.bomb_id,angle:1,x:this.node.getWorldPosition().x,y:this.node.getWorldPosition().y}))},r.onBeginContact=function(e,t,n){var i=t.node,o=i.getComponent(f).sprite.uid;-1==this.fishs.indexOf(o)&&(this.fishs.push(o),Log.d("炸弹播放完毕添加鱼: "+o+" 长度: "+this.fishs.length)),i.getComponent(f).hit()},s(t,[{key:"sender",get:function(){return App.senderManager.get(g)}}]),t}(d)).prototype,"collider",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(v.prototype,"ani",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=v))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZhuanBoom2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseFish2.ts","./GameSender3.ts"],(function(e){var t,n,i,o,s,r,l,a,h,c,p,u,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){r=e.cclegacy,l=e._decorator,a=e.Node,h=e.sp,c=e.CircleCollider2D,p=e.Contact2DType,u=e.Component},function(e){d=e.BaseFish},function(e){f=e.GameSender}],execute:function(){var m,g,y,b,C,v,B;r._RF.push({},"51f1cZc9RFLcrBsCJJyBIEb","ZhuanBoom",void 0);var L=l.ccclass,_=l.property;e("ZhuanBoom",(m=L("ZhuanBoom"),g=_({type:a}),y=_({type:a}),m((v=t((C=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(t,"collider",v,o(t)),i(t,"ani",B,o(t)),t.isMe=!1,t.pos=null,t.bomb_id=0,t.type=0,t.fishs=[],t}n(t,e);var r=t.prototype;return r.onLoad=function(){},r.init=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0),this.isMe=t,this.bomb_id=n,this.type=e,this.fishs=[],this.showInit()},r.onEnable=function(){},r.showInit=function(){var e,t=this;if(1==this.type)null==(e=this.ani.getComponent(h.Skeleton))||e.setAnimation(0,"bomb",!1),this.ani.getComponent(h.Skeleton).setCompleteListener((function(){t.node.removeFromParent(),t.node.destroy()}));else if(2==this.type){var n;this.collider.active=!0;var i=this.collider.getComponent(c);i&&i.on(p.BEGIN_CONTACT,this.onBeginContact,this),null==(n=this.ani.getComponent(h.Skeleton))||n.setAnimation(0,"bomb2",!1),this.ani.getComponent(h.Skeleton).setCompleteListener((function(){t.sendBoom(),t.node.removeFromParent(),t.node.destroy()}))}},r.sendBoom=function(){Log.d("炸弹播放完毕结束"+this.fishs.length),this.send()},r.send=function(){var e;0!=this.fishs.length&&this.isMe&&(Log.d("ppp End:"+this.fishs.length),null==(e=this.sender)||e.c2sBomb({fishids:this.fishs,bombid:this.bomb_id,angle:1,x:this.node.getWorldPosition().x,y:this.node.getWorldPosition().y}))},r.onBeginContact=function(e,t,n){var i=t.node,o=i.getComponent(d).sprite.uid;-1==this.fishs.indexOf(o)&&(this.fishs.push(o),Log.d("ppp:"+this.fishs.length)),i.getComponent(d).hit()},s(t,[{key:"sender",get:function(){return App.senderManager.get(f)}}]),t}(u)).prototype,"collider",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(C.prototype,"ani",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=C))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZhuangBullet2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bullet2.ts","./BatterModel2.ts","./Global.ts","./BaseFish2.ts","./FishEvent2.ts","./SubGameDefines3.ts","./SubGameConstants3.ts"],(function(t){var e,i,n,s,o,a,r,u,h,c,l,d,p,f,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,r=t._decorator,u=t.Node,h=t.Animation},function(t){c=t.Bullet},function(t){l=t.BatterModel},function(t){d=t.Global},function(t){p=t.BaseFish},function(t){f=t.FishEvent},function(t){m=t.EventName},function(t){g=t.SubGameConstants}],execute:function(){var b,y,D,B,_;a._RF.push({},"6c17b08nFFC1YXmDXqwo0UN","ZhuangBullet",void 0);var P=r.ccclass,v=r.property;t("ZhuangBullet",(b=P("ZhuangBullet"),y=v({type:u}),b((_=e((B=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"ani",_,s(e)),e.fishs=[],e.turnNum=0,e.maxNum=8,e.bombData={},e.state=1,e.speed=2e3,e.turnType=0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this)},a.onEnable=function(){},a.init=function(e,i,n,s,o){t.prototype.init.call(this,e,i,n,s,o);var a=l.getInstance().battleDatas[this.own];this.bombData=JSON.parse(JSON.stringify(a.BombVo))},a.onBeginContact=function(t,e,i){if(1==this.state){var n=e.node,s=l.getInstance().getTruePos(d.userId),o=this.own==s,a=n.getComponent(p);if(a&&a.sprite){var r=a.sprite.uid;o&&-1==this.fishs.indexOf(r)&&this.fishs.push(r),n.getComponent(p).hit()}}},a.send=function(){var t;if(0!=this.fishs.length){var e=l.getInstance().getMyData();e&&(null==(t=this.sender)||t.c2sBomb({fishids:this.fishs,bombid:e.BombVo.id,angle:1,x:this.node.getWorldPosition().x,y:this.node.getWorldPosition().y}),this.fishs=[],Log.d("砖头发送碰撞:"+this.turnNum))}else this.turnNum--},a.changeTurn=function(t){if(t!=this.turnType)if(this.turnNum++,dispatch(f.DISPATCH_SHARE_BG),dispatch(f.DISPATCH_ZHUANGTOU_BOOM,this.node.getWorldPosition(),1),dispatch(m.PLAY_SOUND,g.AudioSource.Fish_Drill03,!1),this.turnNum<this.maxNum){var e=l.getInstance().getTruePos(d.userId);this.own==e&&this.send()}else this.turnNum==this.maxNum?(this.state=2,this.node.getComponent(h).stop(),this.node.getComponent(h).play("zizhuan")):this.turnNum==this.maxNum+5&&this.playEndAni()},a.playEndAni=function(){var t=l.getInstance().battleDatas[this.own],e=t.BombVo.id,i=l.getInstance().getTruePos(d.userId),n=this.own==i;n&&dispatch(m.PLAY_SOUND,g.AudioSource.Fish_coin_hit),dispatch(f.DISPATCH_ZHUANGTOU_BOOM,this.node.getWorldPosition(),2,n,e),dispatch(f.DISPATCH_SHARE_BG),dispatch(f.DISPATCH_BIG_BOOM_SPE,{targetPos:t.worldPos,fishType:25,score:this.bombData.rate*this.bombData.brate,pos:this.own}),this.state=1,this.bombData={},t.bombIng=!1,this.remove()},a.remove=function(){this.node.destroy(),this.node.removeFromParent(),dispatch(m.STOP_EFFECT,g.AudioSource.Fish_Drill03)},o(e,[{key:"battleData",get:function(){}}]),e}(c)).prototype,"ani",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=B))||D));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/slot190000101', 'chunks:///_virtual/slot190000101'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});